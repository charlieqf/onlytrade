var tH=Object.defineProperty;var rH=(t,e,r)=>e in t?tH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ml=(t,e,r)=>rH(t,typeof e!="symbol"?e+"":e,r);function nH(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function er(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zy={exports:{}},xh={},ex={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rA;function iH(){if(rA)return Tt;rA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function b(G,F,Q){this.props=G,this.context=F,this.refs=x,this.updater=Q||v}b.prototype.isReactComponent={},b.prototype.setState=function(G,F){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,F,"setState")},b.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function S(){}S.prototype=b.prototype;function N(G,F,Q){this.props=G,this.context=F,this.refs=x,this.updater=Q||v}var A=N.prototype=new S;A.constructor=N,y(A,b.prototype),A.isPureReactComponent=!0;var k=Array.isArray,E=Object.prototype.hasOwnProperty,j={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function M(G,F,Q){var le,xe={},be=null,ae=null;if(F!=null)for(le in F.ref!==void 0&&(ae=F.ref),F.key!==void 0&&(be=""+F.key),F)E.call(F,le)&&!T.hasOwnProperty(le)&&(xe[le]=F[le]);var we=arguments.length-2;if(we===1)xe.children=Q;else if(1<we){for(var fe=Array(we),Se=0;Se<we;Se++)fe[Se]=arguments[Se+2];xe.children=fe}if(G&&G.defaultProps)for(le in we=G.defaultProps,we)xe[le]===void 0&&(xe[le]=we[le]);return{$$typeof:t,type:G,key:be,ref:ae,props:xe,_owner:j.current}}function I(G,F){return{$$typeof:t,type:G.type,key:F,ref:G.ref,props:G.props,_owner:G._owner}}function q(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function D(G){var F={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Q){return F[Q]})}var L=/\/+/g;function V(G,F){return typeof G=="object"&&G!==null&&G.key!=null?D(""+G.key):F.toString(36)}function K(G,F,Q,le,xe){var be=typeof G;(be==="undefined"||be==="boolean")&&(G=null);var ae=!1;if(G===null)ae=!0;else switch(be){case"string":case"number":ae=!0;break;case"object":switch(G.$$typeof){case t:case e:ae=!0}}if(ae)return ae=G,xe=xe(ae),G=le===""?"."+V(ae,0):le,k(xe)?(Q="",G!=null&&(Q=G.replace(L,"$&/")+"/"),K(xe,F,Q,"",function(Se){return Se})):xe!=null&&(q(xe)&&(xe=I(xe,Q+(!xe.key||ae&&ae.key===xe.key?"":(""+xe.key).replace(L,"$&/")+"/")+G)),F.push(xe)),1;if(ae=0,le=le===""?".":le+":",k(G))for(var we=0;we<G.length;we++){be=G[we];var fe=le+V(be,we);ae+=K(be,F,Q,fe,xe)}else if(fe=m(G),typeof fe=="function")for(G=fe.call(G),we=0;!(be=G.next()).done;)be=be.value,fe=le+V(be,we++),ae+=K(be,F,Q,fe,xe);else if(be==="object")throw F=String(G),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return ae}function Y(G,F,Q){if(G==null)return G;var le=[],xe=0;return K(G,le,"","",function(be){return F.call(Q,be,xe++)}),le}function J(G){if(G._status===-1){var F=G._result;F=F(),F.then(function(Q){(G._status===0||G._status===-1)&&(G._status=1,G._result=Q)},function(Q){(G._status===0||G._status===-1)&&(G._status=2,G._result=Q)}),G._status===-1&&(G._status=0,G._result=F)}if(G._status===1)return G._result.default;throw G._result}var te={current:null},U={transition:null},X={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:U,ReactCurrentOwner:j};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Tt.Children={map:Y,forEach:function(G,F,Q){Y(G,function(){F.apply(this,arguments)},Q)},count:function(G){var F=0;return Y(G,function(){F++}),F},toArray:function(G){return Y(G,function(F){return F})||[]},only:function(G){if(!q(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Tt.Component=b,Tt.Fragment=r,Tt.Profiler=i,Tt.PureComponent=N,Tt.StrictMode=n,Tt.Suspense=l,Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Tt.act=ie,Tt.cloneElement=function(G,F,Q){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var le=y({},G.props),xe=G.key,be=G.ref,ae=G._owner;if(F!=null){if(F.ref!==void 0&&(be=F.ref,ae=j.current),F.key!==void 0&&(xe=""+F.key),G.type&&G.type.defaultProps)var we=G.type.defaultProps;for(fe in F)E.call(F,fe)&&!T.hasOwnProperty(fe)&&(le[fe]=F[fe]===void 0&&we!==void 0?we[fe]:F[fe])}var fe=arguments.length-2;if(fe===1)le.children=Q;else if(1<fe){we=Array(fe);for(var Se=0;Se<fe;Se++)we[Se]=arguments[Se+2];le.children=we}return{$$typeof:t,type:G.type,key:xe,ref:be,props:le,_owner:ae}},Tt.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Tt.createElement=M,Tt.createFactory=function(G){var F=M.bind(null,G);return F.type=G,F},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(G){return{$$typeof:o,render:G}},Tt.isValidElement=q,Tt.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:J}},Tt.memo=function(G,F){return{$$typeof:u,type:G,compare:F===void 0?null:F}},Tt.startTransition=function(G){var F=U.transition;U.transition={};try{G()}finally{U.transition=F}},Tt.unstable_act=ie,Tt.useCallback=function(G,F){return te.current.useCallback(G,F)},Tt.useContext=function(G){return te.current.useContext(G)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(G){return te.current.useDeferredValue(G)},Tt.useEffect=function(G,F){return te.current.useEffect(G,F)},Tt.useId=function(){return te.current.useId()},Tt.useImperativeHandle=function(G,F,Q){return te.current.useImperativeHandle(G,F,Q)},Tt.useInsertionEffect=function(G,F){return te.current.useInsertionEffect(G,F)},Tt.useLayoutEffect=function(G,F){return te.current.useLayoutEffect(G,F)},Tt.useMemo=function(G,F){return te.current.useMemo(G,F)},Tt.useReducer=function(G,F,Q){return te.current.useReducer(G,F,Q)},Tt.useRef=function(G){return te.current.useRef(G)},Tt.useState=function(G){return te.current.useState(G)},Tt.useSyncExternalStore=function(G,F,Q){return te.current.useSyncExternalStore(G,F,Q)},Tt.useTransition=function(){return te.current.useTransition()},Tt.version="18.3.1",Tt}var nA;function dv(){return nA||(nA=1,ex.exports=iH()),ex.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA;function sH(){if(iA)return xh;iA=1;var t=dv(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,u){var f,p={},m=null,v=null;u!==void 0&&(m=""+u),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(v=l.ref);for(f in l)n.call(l,f)&&!s.hasOwnProperty(f)&&(p[f]=l[f]);if(o&&o.defaultProps)for(f in l=o.defaultProps,l)p[f]===void 0&&(p[f]=l[f]);return{$$typeof:e,type:o,key:m,ref:v,props:p,_owner:i.current}}return xh.Fragment=r,xh.jsx=a,xh.jsxs=a,xh}var sA;function aH(){return sA||(sA=1,Zy.exports=sH()),Zy.exports}var d=aH(),_=dv();const W=er(_),CI=nH({__proto__:null,default:W},[_]);var Pp={},tx={exports:{}},oi={},rx={exports:{}},nx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA;function oH(){return aA||(aA=1,(function(t){function e(U,X){var ie=U.length;U.push(X);e:for(;0<ie;){var G=ie-1>>>1,F=U[G];if(0<i(F,X))U[G]=X,U[ie]=F,ie=G;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var X=U[0],ie=U.pop();if(ie!==X){U[0]=ie;e:for(var G=0,F=U.length,Q=F>>>1;G<Q;){var le=2*(G+1)-1,xe=U[le],be=le+1,ae=U[be];if(0>i(xe,ie))be<F&&0>i(ae,xe)?(U[G]=ae,U[be]=ie,G=be):(U[G]=xe,U[le]=ie,G=le);else if(be<F&&0>i(ae,ie))U[G]=ae,U[be]=ie,G=be;else break e}}return X}function i(U,X){var ie=U.sortIndex-X.sortIndex;return ie!==0?ie:U.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,p=null,m=3,v=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(U){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=U)n(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=r(u)}}function k(U){if(x=!1,A(U),!y)if(r(l)!==null)y=!0,J(E);else{var X=r(u);X!==null&&te(k,X.startTime-U)}}function E(U,X){y=!1,x&&(x=!1,S(M),M=-1),v=!0;var ie=m;try{for(A(X),p=r(l);p!==null&&(!(p.expirationTime>X)||U&&!D());){var G=p.callback;if(typeof G=="function"){p.callback=null,m=p.priorityLevel;var F=G(p.expirationTime<=X);X=t.unstable_now(),typeof F=="function"?p.callback=F:p===r(l)&&n(l),A(X)}else n(l);p=r(l)}if(p!==null)var Q=!0;else{var le=r(u);le!==null&&te(k,le.startTime-X),Q=!1}return Q}finally{p=null,m=ie,v=!1}}var j=!1,T=null,M=-1,I=5,q=-1;function D(){return!(t.unstable_now()-q<I)}function L(){if(T!==null){var U=t.unstable_now();q=U;var X=!0;try{X=T(!0,U)}finally{X?V():(j=!1,T=null)}}else j=!1}var V;if(typeof N=="function")V=function(){N(L)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Y=K.port2;K.port1.onmessage=L,V=function(){Y.postMessage(null)}}else V=function(){b(L,0)};function J(U){T=U,j||(j=!0,V())}function te(U,X){M=b(function(){U(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,J(E))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var ie=m;m=X;try{return U()}finally{m=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ie=m;m=U;try{return X()}finally{m=ie}},t.unstable_scheduleCallback=function(U,X,ie){var G=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?G+ie:G):ie=G,U){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ie+F,U={id:f++,callback:X,priorityLevel:U,startTime:ie,expirationTime:F,sortIndex:-1},ie>G?(U.sortIndex=ie,e(u,U),r(l)===null&&U===r(u)&&(x?(S(M),M=-1):x=!0,te(k,ie-G))):(U.sortIndex=F,e(l,U),y||v||(y=!0,J(E))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var X=m;return function(){var ie=m;m=X;try{return U.apply(this,arguments)}finally{m=ie}}}})(nx)),nx}var oA;function lH(){return oA||(oA=1,rx.exports=oH()),rx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA;function cH(){if(lA)return oi;lA=1;var t=dv(),e=lH();function r(c){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(c,h){a(c,h),a(c+"Capture",h)}function a(c,h){for(i[c]=h,c=0;c<h.length;c++)n.add(h[c])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(c){return l.call(p,c)?!0:l.call(f,c)?!1:u.test(c)?p[c]=!0:(f[c]=!0,!1)}function v(c,h,g,w){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function y(c,h,g,w){if(h===null||typeof h>"u"||v(c,h,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(c,h,g,w,C,O,B){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=w,this.attributeNamespace=C,this.mustUseProperty=g,this.propertyName=c,this.type=h,this.sanitizeURL=O,this.removeEmptyString=B}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){b[c]=new x(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var h=c[0];b[h]=new x(h,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){b[c]=new x(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){b[c]=new x(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){b[c]=new x(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){b[c]=new x(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){b[c]=new x(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){b[c]=new x(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){b[c]=new x(c,5,!1,c.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var h=c.replace(S,N);b[h]=new x(h,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var h=c.replace(S,N);b[h]=new x(h,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var h=c.replace(S,N);b[h]=new x(h,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){b[c]=new x(c,1,!1,c.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){b[c]=new x(c,1,!1,c.toLowerCase(),null,!0,!0)});function A(c,h,g,w){var C=b.hasOwnProperty(h)?b[h]:null;(C!==null?C.type!==0:w||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(y(h,g,C,w)&&(g=null),w||C===null?m(h)&&(g===null?c.removeAttribute(h):c.setAttribute(h,""+g)):C.mustUseProperty?c[C.propertyName]=g===null?C.type===3?!1:"":g:(h=C.attributeName,w=C.attributeNamespace,g===null?c.removeAttribute(h):(C=C.type,g=C===3||C===4&&g===!0?"":""+g,w?c.setAttributeNS(w,h,g):c.setAttribute(h,g))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),j=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),U=Symbol.iterator;function X(c){return c===null||typeof c!="object"?null:(c=U&&c[U]||c["@@iterator"],typeof c=="function"?c:null)}var ie=Object.assign,G;function F(c){if(G===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);G=h&&h[1]||""}return`
`+G+c}var Q=!1;function le(c,h){if(!c||Q)return"";Q=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(_e){var w=_e}Reflect.construct(c,[],h)}else{try{h.call()}catch(_e){w=_e}c.call(h.prototype)}else{try{throw Error()}catch(_e){w=_e}c()}}catch(_e){if(_e&&w&&typeof _e.stack=="string"){for(var C=_e.stack.split(`
`),O=w.stack.split(`
`),B=C.length-1,Z=O.length-1;1<=B&&0<=Z&&C[B]!==O[Z];)Z--;for(;1<=B&&0<=Z;B--,Z--)if(C[B]!==O[Z]){if(B!==1||Z!==1)do if(B--,Z--,0>Z||C[B]!==O[Z]){var oe=`
`+C[B].replace(" at new "," at ");return c.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",c.displayName)),oe}while(1<=B&&0<=Z);break}}}finally{Q=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?F(c):""}function xe(c){switch(c.tag){case 5:return F(c.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return c=le(c.type,!1),c;case 11:return c=le(c.type.render,!1),c;case 1:return c=le(c.type,!0),c;default:return""}}function be(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case T:return"Fragment";case j:return"Portal";case I:return"Profiler";case M:return"StrictMode";case V:return"Suspense";case K:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case D:return(c.displayName||"Context")+".Consumer";case q:return(c._context.displayName||"Context")+".Provider";case L:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Y:return h=c.displayName||null,h!==null?h:be(c.type)||"Memo";case J:h=c._payload,c=c._init;try{return be(c(h))}catch{}}return null}function ae(c){var h=c.type;switch(c.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=h.render,c=c.displayName||c.name||"",h.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(h);case 8:return h===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function we(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function fe(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Se(c){var h=fe(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),w=""+c[h];if(!c.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,O=g.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return C.call(this)},set:function(B){w=""+B,O.call(this,B)}}),Object.defineProperty(c,h,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(B){w=""+B},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Pe(c){c._valueTracker||(c._valueTracker=Se(c))}function he(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var g=h.getValue(),w="";return c&&(w=fe(c)?c.checked?"true":"false":c.value),c=w,c!==g?(h.setValue(c),!0):!1}function Be(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Te(c,h){var g=h.checked;return ie({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??c._wrapperState.initialChecked})}function We(c,h){var g=h.defaultValue==null?"":h.defaultValue,w=h.checked!=null?h.checked:h.defaultChecked;g=we(h.value!=null?h.value:g),c._wrapperState={initialChecked:w,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Me(c,h){h=h.checked,h!=null&&A(c,"checked",h,!1)}function ve(c,h){Me(c,h);var g=we(h.value),w=h.type;if(g!=null)w==="number"?(g===0&&c.value===""||c.value!=g)&&(c.value=""+g):c.value!==""+g&&(c.value=""+g);else if(w==="submit"||w==="reset"){c.removeAttribute("value");return}h.hasOwnProperty("value")?H(c,h.type,g):h.hasOwnProperty("defaultValue")&&H(c,h.type,we(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(c.defaultChecked=!!h.defaultChecked)}function Ae(c,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var w=h.type;if(!(w!=="submit"&&w!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+c._wrapperState.initialValue,g||h===c.value||(c.value=h),c.defaultValue=h}g=c.name,g!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,g!==""&&(c.name=g)}function H(c,h,g){(h!=="number"||Be(c.ownerDocument)!==c)&&(g==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+g&&(c.defaultValue=""+g))}var se=Array.isArray;function me(c,h,g,w){if(c=c.options,h){h={};for(var C=0;C<g.length;C++)h["$"+g[C]]=!0;for(g=0;g<c.length;g++)C=h.hasOwnProperty("$"+c[g].value),c[g].selected!==C&&(c[g].selected=C),C&&w&&(c[g].defaultSelected=!0)}else{for(g=""+we(g),h=null,C=0;C<c.length;C++){if(c[C].value===g){c[C].selected=!0,w&&(c[C].defaultSelected=!0);return}h!==null||c[C].disabled||(h=c[C])}h!==null&&(h.selected=!0)}}function re(c,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},h,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function je(c,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(r(92));if(se(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),g=h}c._wrapperState={initialValue:we(g)}}function Ve(c,h){var g=we(h.value),w=we(h.defaultValue);g!=null&&(g=""+g,g!==c.value&&(c.value=g),h.defaultValue==null&&c.defaultValue!==g&&(c.defaultValue=g)),w!=null&&(c.defaultValue=""+w)}function Xe(c){var h=c.textContent;h===c._wrapperState.initialValue&&h!==""&&h!==null&&(c.value=h)}function vt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(c,h){return c==null||c==="http://www.w3.org/1999/xhtml"?vt(h):c==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var pt,st=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,w,C){MSApp.execUnsafeLocalFunction(function(){return c(h,g,w,C)})}:c})(function(c,h){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=h;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=pt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;h.firstChild;)c.appendChild(h.firstChild)}});function mt(c,h){if(h){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=h;return}}c.textContent=h}var Qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nr=["Webkit","ms","Moz","O"];Object.keys(Qt).forEach(function(c){Nr.forEach(function(h){h=h+c.charAt(0).toUpperCase()+c.substring(1),Qt[h]=Qt[c]})});function Xt(c,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||Qt.hasOwnProperty(c)&&Qt[c]?(""+h).trim():h+"px"}function lr(c,h){c=c.style;for(var g in h)if(h.hasOwnProperty(g)){var w=g.indexOf("--")===0,C=Xt(g,h[g],w);g==="float"&&(g="cssFloat"),w?c.setProperty(g,C):c[g]=C}}var Wr=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mr(c,h){if(h){if(Wr[c]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function An(c,h){if(c.indexOf("-")===-1)return typeof h.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cr=null;function an(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ar=null,En=null,Cn=null;function mn(c){if(c=ih(c)){if(typeof Ar!="function")throw Error(r(280));var h=c.stateNode;h&&(h=V0(h),Ar(c.stateNode,c.type,h))}}function lt(c){En?Cn?Cn.push(c):Cn=[c]:En=c}function ct(){if(En){var c=En,h=Cn;if(Cn=En=null,mn(c),h)for(c=0;c<h.length;c++)mn(h[c])}}function Ot(c,h){return c(h)}function $t(){}var qt=!1;function Hr(c,h,g){if(qt)return c(h,g);qt=!0;try{return Ot(c,h,g)}finally{qt=!1,(En!==null||Cn!==null)&&($t(),ct())}}function Lr(c,h){var g=c.stateNode;if(g===null)return null;var w=V0(g);if(w===null)return null;g=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,h,typeof g));return g}var gn=!1;if(o)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){gn=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{gn=!1}function $n(c,h,g,w,C,O,B,Z,oe){var _e=Array.prototype.slice.call(arguments,3);try{h.apply(g,_e)}catch(Ie){this.onError(Ie)}}var Fs=!1,Bi=null,Rt=!1,$i=null,fo={onError:function(c){Fs=!0,Bi=c}};function kn(c,h,g,w,C,O,B,Z,oe){Fs=!1,Bi=null,$n.apply(fo,arguments)}function po(c,h,g,w,C,O,B,Z,oe){if(kn.apply(this,arguments),Fs){if(Fs){var _e=Bi;Fs=!1,Bi=null}else throw Error(r(198));Rt||(Rt=!0,$i=_e)}}function Ee(c){var h=c,g=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(g=h.return),c=h.return;while(c)}return h.tag===3?g:null}function at(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function Pt(c){if(Ee(c)!==c)throw Error(r(188))}function Ut(c){var h=c.alternate;if(!h){if(h=Ee(c),h===null)throw Error(r(188));return h!==c?null:c}for(var g=c,w=h;;){var C=g.return;if(C===null)break;var O=C.alternate;if(O===null){if(w=C.return,w!==null){g=w;continue}break}if(C.child===O.child){for(O=C.child;O;){if(O===g)return Pt(C),c;if(O===w)return Pt(C),h;O=O.sibling}throw Error(r(188))}if(g.return!==w.return)g=C,w=O;else{for(var B=!1,Z=C.child;Z;){if(Z===g){B=!0,g=C,w=O;break}if(Z===w){B=!0,w=C,g=O;break}Z=Z.sibling}if(!B){for(Z=O.child;Z;){if(Z===g){B=!0,g=O,w=C;break}if(Z===w){B=!0,w=O,g=C;break}Z=Z.sibling}if(!B)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:h}function Zn(c){return c=Ut(c),c!==null?vn(c):null}function vn(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var h=vn(c);if(h!==null)return h;c=c.sibling}return null}var on=e.unstable_scheduleCallback,ln=e.unstable_cancelCallback,jn=e.unstable_shouldYield,Pn=e.unstable_requestPaint,Zt=e.unstable_now,qn=e.unstable_getCurrentPriorityLevel,Bs=e.unstable_ImmediatePriority,Cc=e.unstable_UserBlockingPriority,cs=e.unstable_NormalPriority,kc=e.unstable_LowPriority,$s=e.unstable_IdlePriority,zr=null,pr=null;function $d(c){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(zr,c,void 0,(c.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:fl,jc=Math.log,hl=Math.LN2;function fl(c){return c>>>=0,c===0?32:31-(jc(c)/hl|0)|0}var qs=64,Us=4194304;function us(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Vs(c,h){var g=c.pendingLanes;if(g===0)return 0;var w=0,C=c.suspendedLanes,O=c.pingedLanes,B=g&268435455;if(B!==0){var Z=B&~C;Z!==0?w=us(Z):(O&=B,O!==0&&(w=us(O)))}else B=g&~C,B!==0?w=us(B):O!==0&&(w=us(O));if(w===0)return 0;if(h!==0&&h!==w&&(h&C)===0&&(C=w&-w,O=h&-h,C>=O||C===16&&(O&4194240)!==0))return h;if((w&4)!==0&&(w|=g&16),h=c.entangledLanes,h!==0)for(c=c.entanglements,h&=w;0<h;)g=31-Kr(h),C=1<<g,w|=c[g],h&=~C;return w}function pl(c,h){switch(c){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ml(c,h){for(var g=c.suspendedLanes,w=c.pingedLanes,C=c.expirationTimes,O=c.pendingLanes;0<O;){var B=31-Kr(O),Z=1<<B,oe=C[B];oe===-1?((Z&g)===0||(Z&w)!==0)&&(C[B]=pl(Z,h)):oe<=h&&(c.expiredLanes|=Z),O&=~Z}}function ga(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function mo(){var c=qs;return qs<<=1,(qs&4194240)===0&&(qs=64),c}function va(c){for(var h=[],g=0;31>g;g++)h.push(c);return h}function ds(c,h,g){c.pendingLanes|=h,h!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,h=31-Kr(h),c[h]=g}function gl(c,h){var g=c.pendingLanes&~h;c.pendingLanes=h,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=h,c.mutableReadLanes&=h,c.entangledLanes&=h,h=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<g;){var C=31-Kr(g),O=1<<C;h[C]=0,w[C]=-1,c[C]=-1,g&=~O}}function ya(c,h){var g=c.entangledLanes|=h;for(c=c.entanglements;g;){var w=31-Kr(g),C=1<<w;C&h|c[w]&h&&(c[w]|=h),g&=~C}}var Dt=0;function go(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var vl,Pc,qd,Ud,Vd,Tc=!1,yl=[],hs=null,fs=null,ps=null,vo=new Map,yo=new Map,ms=[],T0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wd(c,h){switch(c){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":vo.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(h.pointerId)}}function Ce(c,h,g,w,C,O){return c===null||c.nativeEvent!==O?(c={blockedOn:h,domEventName:g,eventSystemFlags:w,nativeEvent:O,targetContainers:[C]},h!==null&&(h=ih(h),h!==null&&Pc(h)),c):(c.eventSystemFlags|=w,h=c.targetContainers,C!==null&&h.indexOf(C)===-1&&h.push(C),c)}function Ge(c,h,g,w,C){switch(h){case"focusin":return hs=Ce(hs,c,h,g,w,C),!0;case"dragenter":return fs=Ce(fs,c,h,g,w,C),!0;case"mouseover":return ps=Ce(ps,c,h,g,w,C),!0;case"pointerover":var O=C.pointerId;return vo.set(O,Ce(vo.get(O)||null,c,h,g,w,C)),!0;case"gotpointercapture":return O=C.pointerId,yo.set(O,Ce(yo.get(O)||null,c,h,g,w,C)),!0}return!1}function wt(c){var h=bl(c.target);if(h!==null){var g=Ee(h);if(g!==null){if(h=g.tag,h===13){if(h=at(g),h!==null){c.blockedOn=h,Vd(c.priority,function(){qd(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function St(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var g=E1(c.domEventName,c.eventSystemFlags,h[0],c.nativeEvent);if(g===null){g=c.nativeEvent;var w=new g.constructor(g.type,g);cr=w,g.target.dispatchEvent(w),cr=null}else return h=ih(g),h!==null&&Pc(h),c.blockedOn=g,!1;h.shift()}return!0}function cn(c,h,g){St(c)&&g.delete(h)}function ei(){Tc=!1,hs!==null&&St(hs)&&(hs=null),fs!==null&&St(fs)&&(fs=null),ps!==null&&St(ps)&&(ps=null),vo.forEach(cn),yo.forEach(cn)}function qi(c,h){c.blockedOn===h&&(c.blockedOn=null,Tc||(Tc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ei)))}function Si(c){function h(C){return qi(C,c)}if(0<yl.length){qi(yl[0],c);for(var g=1;g<yl.length;g++){var w=yl[g];w.blockedOn===c&&(w.blockedOn=null)}}for(hs!==null&&qi(hs,c),fs!==null&&qi(fs,c),ps!==null&&qi(ps,c),vo.forEach(h),yo.forEach(h),g=0;g<ms.length;g++)w=ms[g],w.blockedOn===c&&(w.blockedOn=null);for(;0<ms.length&&(g=ms[0],g.blockedOn===null);)wt(g),g.blockedOn===null&&ms.shift()}var ti=k.ReactCurrentBatchConfig,xa=!0;function xl(c,h,g,w){var C=Dt,O=ti.transition;ti.transition=null;try{Dt=1,Hd(c,h,g,w)}finally{Dt=C,ti.transition=O}}function _i(c,h,g,w){var C=Dt,O=ti.transition;ti.transition=null;try{Dt=4,Hd(c,h,g,w)}finally{Dt=C,ti.transition=O}}function Hd(c,h,g,w){if(xa){var C=E1(c,h,g,w);if(C===null)U1(c,h,w,M0,g),Wd(c,w);else if(Ge(C,c,h,g,w))w.stopPropagation();else if(Wd(c,w),h&4&&-1<T0.indexOf(c)){for(;C!==null;){var O=ih(C);if(O!==null&&vl(O),O=E1(c,h,g,w),O===null&&U1(c,h,w,M0,g),O===C)break;C=O}C!==null&&w.stopPropagation()}else U1(c,h,w,null,g)}}var M0=null;function E1(c,h,g,w){if(M0=null,c=an(w),c=bl(c),c!==null)if(h=Ee(c),h===null)c=null;else if(g=h.tag,g===13){if(c=at(h),c!==null)return c;c=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null);return M0=c,null}function q7(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qn()){case Bs:return 1;case Cc:return 4;case cs:case kc:return 16;case $s:return 536870912;default:return 16}default:return 16}}var xo=null,C1=null,O0=null;function U7(){if(O0)return O0;var c,h=C1,g=h.length,w,C="value"in xo?xo.value:xo.textContent,O=C.length;for(c=0;c<g&&h[c]===C[c];c++);var B=g-c;for(w=1;w<=B&&h[g-w]===C[O-w];w++);return O0=C.slice(c,1<w?1-w:void 0)}function R0(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function I0(){return!0}function V7(){return!1}function Ni(c){function h(g,w,C,O,B){this._reactName=g,this._targetInst=C,this.type=w,this.nativeEvent=O,this.target=B,this.currentTarget=null;for(var Z in c)c.hasOwnProperty(Z)&&(g=c[Z],this[Z]=g?g(O):O[Z]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?I0:V7,this.isPropagationStopped=V7,this}return ie(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=I0)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=I0)},persist:function(){},isPersistent:I0}),h}var Mc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k1=Ni(Mc),Kd=ie({},Mc,{view:0,detail:0}),kV=Ni(Kd),j1,P1,Gd,D0=ie({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M1,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Gd&&(Gd&&c.type==="mousemove"?(j1=c.screenX-Gd.screenX,P1=c.screenY-Gd.screenY):P1=j1=0,Gd=c),j1)},movementY:function(c){return"movementY"in c?c.movementY:P1}}),W7=Ni(D0),jV=ie({},D0,{dataTransfer:0}),PV=Ni(jV),TV=ie({},Kd,{relatedTarget:0}),T1=Ni(TV),MV=ie({},Mc,{animationName:0,elapsedTime:0,pseudoElement:0}),OV=Ni(MV),RV=ie({},Mc,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),IV=Ni(RV),DV=ie({},Mc,{data:0}),H7=Ni(DV),LV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BV(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=FV[c])?!!h[c]:!1}function M1(){return BV}var $V=ie({},Kd,{key:function(c){if(c.key){var h=LV[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=R0(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?zV[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M1,charCode:function(c){return c.type==="keypress"?R0(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?R0(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),qV=Ni($V),UV=ie({},D0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K7=Ni(UV),VV=ie({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M1}),WV=Ni(VV),HV=ie({},Mc,{propertyName:0,elapsedTime:0,pseudoElement:0}),KV=Ni(HV),GV=ie({},D0,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),XV=Ni(GV),YV=[9,13,27,32],O1=o&&"CompositionEvent"in window,Xd=null;o&&"documentMode"in document&&(Xd=document.documentMode);var JV=o&&"TextEvent"in window&&!Xd,G7=o&&(!O1||Xd&&8<Xd&&11>=Xd),X7=" ",Y7=!1;function J7(c,h){switch(c){case"keyup":return YV.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q7(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Oc=!1;function QV(c,h){switch(c){case"compositionend":return Q7(h);case"keypress":return h.which!==32?null:(Y7=!0,X7);case"textInput":return c=h.data,c===X7&&Y7?null:c;default:return null}}function ZV(c,h){if(Oc)return c==="compositionend"||!O1&&J7(c,h)?(c=U7(),O0=C1=xo=null,Oc=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return G7&&h.locale!=="ko"?null:h.data;default:return null}}var eW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z7(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!eW[c.type]:h==="textarea"}function e_(c,h,g,w){lt(w),h=$0(h,"onChange"),0<h.length&&(g=new k1("onChange","change",null,g,w),c.push({event:g,listeners:h}))}var Yd=null,Jd=null;function tW(c){y_(c,0)}function L0(c){var h=zc(c);if(he(h))return c}function rW(c,h){if(c==="change")return h}var t_=!1;if(o){var R1;if(o){var I1="oninput"in document;if(!I1){var r_=document.createElement("div");r_.setAttribute("oninput","return;"),I1=typeof r_.oninput=="function"}R1=I1}else R1=!1;t_=R1&&(!document.documentMode||9<document.documentMode)}function n_(){Yd&&(Yd.detachEvent("onpropertychange",i_),Jd=Yd=null)}function i_(c){if(c.propertyName==="value"&&L0(Jd)){var h=[];e_(h,Jd,c,an(c)),Hr(tW,h)}}function nW(c,h,g){c==="focusin"?(n_(),Yd=h,Jd=g,Yd.attachEvent("onpropertychange",i_)):c==="focusout"&&n_()}function iW(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return L0(Jd)}function sW(c,h){if(c==="click")return L0(h)}function aW(c,h){if(c==="input"||c==="change")return L0(h)}function oW(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var gs=typeof Object.is=="function"?Object.is:oW;function Qd(c,h){if(gs(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var g=Object.keys(c),w=Object.keys(h);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var C=g[w];if(!l.call(h,C)||!gs(c[C],h[C]))return!1}return!0}function s_(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function a_(c,h){var g=s_(c);c=0;for(var w;g;){if(g.nodeType===3){if(w=c+g.textContent.length,c<=h&&w>=h)return{node:g,offset:h-c};c=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=s_(g)}}function o_(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?o_(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function l_(){for(var c=window,h=Be();h instanceof c.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)c=h.contentWindow;else break;h=Be(c.document)}return h}function D1(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}function lW(c){var h=l_(),g=c.focusedElem,w=c.selectionRange;if(h!==g&&g&&g.ownerDocument&&o_(g.ownerDocument.documentElement,g)){if(w!==null&&D1(g)){if(h=w.start,c=w.end,c===void 0&&(c=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(c,g.value.length);else if(c=(h=g.ownerDocument||document)&&h.defaultView||window,c.getSelection){c=c.getSelection();var C=g.textContent.length,O=Math.min(w.start,C);w=w.end===void 0?O:Math.min(w.end,C),!c.extend&&O>w&&(C=w,w=O,O=C),C=a_(g,O);var B=a_(g,w);C&&B&&(c.rangeCount!==1||c.anchorNode!==C.node||c.anchorOffset!==C.offset||c.focusNode!==B.node||c.focusOffset!==B.offset)&&(h=h.createRange(),h.setStart(C.node,C.offset),c.removeAllRanges(),O>w?(c.addRange(h),c.extend(B.node,B.offset)):(h.setEnd(B.node,B.offset),c.addRange(h)))}}for(h=[],c=g;c=c.parentNode;)c.nodeType===1&&h.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)c=h[g],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var cW=o&&"documentMode"in document&&11>=document.documentMode,Rc=null,L1=null,Zd=null,z1=!1;function c_(c,h,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;z1||Rc==null||Rc!==Be(w)||(w=Rc,"selectionStart"in w&&D1(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Zd&&Qd(Zd,w)||(Zd=w,w=$0(L1,"onSelect"),0<w.length&&(h=new k1("onSelect","select",null,h,g),c.push({event:h,listeners:w}),h.target=Rc)))}function z0(c,h){var g={};return g[c.toLowerCase()]=h.toLowerCase(),g["Webkit"+c]="webkit"+h,g["Moz"+c]="moz"+h,g}var Ic={animationend:z0("Animation","AnimationEnd"),animationiteration:z0("Animation","AnimationIteration"),animationstart:z0("Animation","AnimationStart"),transitionend:z0("Transition","TransitionEnd")},F1={},u_={};o&&(u_=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function F0(c){if(F1[c])return F1[c];if(!Ic[c])return c;var h=Ic[c],g;for(g in h)if(h.hasOwnProperty(g)&&g in u_)return F1[c]=h[g];return c}var d_=F0("animationend"),h_=F0("animationiteration"),f_=F0("animationstart"),p_=F0("transitionend"),m_=new Map,g_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(c,h){m_.set(c,h),s(h,[c])}for(var B1=0;B1<g_.length;B1++){var $1=g_[B1],uW=$1.toLowerCase(),dW=$1[0].toUpperCase()+$1.slice(1);bo(uW,"on"+dW)}bo(d_,"onAnimationEnd"),bo(h_,"onAnimationIteration"),bo(f_,"onAnimationStart"),bo("dblclick","onDoubleClick"),bo("focusin","onFocus"),bo("focusout","onBlur"),bo(p_,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hW=new Set("cancel close invalid load scroll toggle".split(" ").concat(eh));function v_(c,h,g){var w=c.type||"unknown-event";c.currentTarget=g,po(w,h,void 0,c),c.currentTarget=null}function y_(c,h){h=(h&4)!==0;for(var g=0;g<c.length;g++){var w=c[g],C=w.event;w=w.listeners;e:{var O=void 0;if(h)for(var B=w.length-1;0<=B;B--){var Z=w[B],oe=Z.instance,_e=Z.currentTarget;if(Z=Z.listener,oe!==O&&C.isPropagationStopped())break e;v_(C,Z,_e),O=oe}else for(B=0;B<w.length;B++){if(Z=w[B],oe=Z.instance,_e=Z.currentTarget,Z=Z.listener,oe!==O&&C.isPropagationStopped())break e;v_(C,Z,_e),O=oe}}}if(Rt)throw c=$i,Rt=!1,$i=null,c}function dr(c,h){var g=h[X1];g===void 0&&(g=h[X1]=new Set);var w=c+"__bubble";g.has(w)||(x_(h,c,2,!1),g.add(w))}function q1(c,h,g){var w=0;h&&(w|=4),x_(g,c,w,h)}var B0="_reactListening"+Math.random().toString(36).slice(2);function th(c){if(!c[B0]){c[B0]=!0,n.forEach(function(g){g!=="selectionchange"&&(hW.has(g)||q1(g,!1,c),q1(g,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[B0]||(h[B0]=!0,q1("selectionchange",!1,h))}}function x_(c,h,g,w){switch(q7(h)){case 1:var C=xl;break;case 4:C=_i;break;default:C=Hd}g=C.bind(null,h,g,c),C=void 0,!gn||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(C=!0),w?C!==void 0?c.addEventListener(h,g,{capture:!0,passive:C}):c.addEventListener(h,g,!0):C!==void 0?c.addEventListener(h,g,{passive:C}):c.addEventListener(h,g,!1)}function U1(c,h,g,w,C){var O=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var B=w.tag;if(B===3||B===4){var Z=w.stateNode.containerInfo;if(Z===C||Z.nodeType===8&&Z.parentNode===C)break;if(B===4)for(B=w.return;B!==null;){var oe=B.tag;if((oe===3||oe===4)&&(oe=B.stateNode.containerInfo,oe===C||oe.nodeType===8&&oe.parentNode===C))return;B=B.return}for(;Z!==null;){if(B=bl(Z),B===null)return;if(oe=B.tag,oe===5||oe===6){w=O=B;continue e}Z=Z.parentNode}}w=w.return}Hr(function(){var _e=O,Ie=an(g),ze=[];e:{var Oe=m_.get(c);if(Oe!==void 0){var Je=k1,tt=c;switch(c){case"keypress":if(R0(g)===0)break e;case"keydown":case"keyup":Je=qV;break;case"focusin":tt="focus",Je=T1;break;case"focusout":tt="blur",Je=T1;break;case"beforeblur":case"afterblur":Je=T1;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=W7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=PV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=WV;break;case d_:case h_:case f_:Je=OV;break;case p_:Je=KV;break;case"scroll":Je=kV;break;case"wheel":Je=XV;break;case"copy":case"cut":case"paste":Je=IV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=K7}var it=(h&4)!==0,Or=!it&&c==="scroll",pe=it?Oe!==null?Oe+"Capture":null:Oe;it=[];for(var ue=_e,ye;ue!==null;){ye=ue;var qe=ye.stateNode;if(ye.tag===5&&qe!==null&&(ye=qe,pe!==null&&(qe=Lr(ue,pe),qe!=null&&it.push(rh(ue,qe,ye)))),Or)break;ue=ue.return}0<it.length&&(Oe=new Je(Oe,tt,null,g,Ie),ze.push({event:Oe,listeners:it}))}}if((h&7)===0){e:{if(Oe=c==="mouseover"||c==="pointerover",Je=c==="mouseout"||c==="pointerout",Oe&&g!==cr&&(tt=g.relatedTarget||g.fromElement)&&(bl(tt)||tt[ba]))break e;if((Je||Oe)&&(Oe=Ie.window===Ie?Ie:(Oe=Ie.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Je?(tt=g.relatedTarget||g.toElement,Je=_e,tt=tt?bl(tt):null,tt!==null&&(Or=Ee(tt),tt!==Or||tt.tag!==5&&tt.tag!==6)&&(tt=null)):(Je=null,tt=_e),Je!==tt)){if(it=W7,qe="onMouseLeave",pe="onMouseEnter",ue="mouse",(c==="pointerout"||c==="pointerover")&&(it=K7,qe="onPointerLeave",pe="onPointerEnter",ue="pointer"),Or=Je==null?Oe:zc(Je),ye=tt==null?Oe:zc(tt),Oe=new it(qe,ue+"leave",Je,g,Ie),Oe.target=Or,Oe.relatedTarget=ye,qe=null,bl(Ie)===_e&&(it=new it(pe,ue+"enter",tt,g,Ie),it.target=ye,it.relatedTarget=Or,qe=it),Or=qe,Je&&tt)t:{for(it=Je,pe=tt,ue=0,ye=it;ye;ye=Dc(ye))ue++;for(ye=0,qe=pe;qe;qe=Dc(qe))ye++;for(;0<ue-ye;)it=Dc(it),ue--;for(;0<ye-ue;)pe=Dc(pe),ye--;for(;ue--;){if(it===pe||pe!==null&&it===pe.alternate)break t;it=Dc(it),pe=Dc(pe)}it=null}else it=null;Je!==null&&b_(ze,Oe,Je,it,!1),tt!==null&&Or!==null&&b_(ze,Or,tt,it,!0)}}e:{if(Oe=_e?zc(_e):window,Je=Oe.nodeName&&Oe.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Oe.type==="file")var ot=rW;else if(Z7(Oe))if(t_)ot=aW;else{ot=iW;var ut=nW}else(Je=Oe.nodeName)&&Je.toLowerCase()==="input"&&(Oe.type==="checkbox"||Oe.type==="radio")&&(ot=sW);if(ot&&(ot=ot(c,_e))){e_(ze,ot,g,Ie);break e}ut&&ut(c,Oe,_e),c==="focusout"&&(ut=Oe._wrapperState)&&ut.controlled&&Oe.type==="number"&&H(Oe,"number",Oe.value)}switch(ut=_e?zc(_e):window,c){case"focusin":(Z7(ut)||ut.contentEditable==="true")&&(Rc=ut,L1=_e,Zd=null);break;case"focusout":Zd=L1=Rc=null;break;case"mousedown":z1=!0;break;case"contextmenu":case"mouseup":case"dragend":z1=!1,c_(ze,g,Ie);break;case"selectionchange":if(cW)break;case"keydown":case"keyup":c_(ze,g,Ie)}var dt;if(O1)e:{switch(c){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else Oc?J7(c,g)&&(bt="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(bt="onCompositionStart");bt&&(G7&&g.locale!=="ko"&&(Oc||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Oc&&(dt=U7()):(xo=Ie,C1="value"in xo?xo.value:xo.textContent,Oc=!0)),ut=$0(_e,bt),0<ut.length&&(bt=new H7(bt,c,null,g,Ie),ze.push({event:bt,listeners:ut}),dt?bt.data=dt:(dt=Q7(g),dt!==null&&(bt.data=dt)))),(dt=JV?QV(c,g):ZV(c,g))&&(_e=$0(_e,"onBeforeInput"),0<_e.length&&(Ie=new H7("onBeforeInput","beforeinput",null,g,Ie),ze.push({event:Ie,listeners:_e}),Ie.data=dt))}y_(ze,h)})}function rh(c,h,g){return{instance:c,listener:h,currentTarget:g}}function $0(c,h){for(var g=h+"Capture",w=[];c!==null;){var C=c,O=C.stateNode;C.tag===5&&O!==null&&(C=O,O=Lr(c,g),O!=null&&w.unshift(rh(c,O,C)),O=Lr(c,h),O!=null&&w.push(rh(c,O,C))),c=c.return}return w}function Dc(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function b_(c,h,g,w,C){for(var O=h._reactName,B=[];g!==null&&g!==w;){var Z=g,oe=Z.alternate,_e=Z.stateNode;if(oe!==null&&oe===w)break;Z.tag===5&&_e!==null&&(Z=_e,C?(oe=Lr(g,O),oe!=null&&B.unshift(rh(g,oe,Z))):C||(oe=Lr(g,O),oe!=null&&B.push(rh(g,oe,Z)))),g=g.return}B.length!==0&&c.push({event:h,listeners:B})}var fW=/\r\n?/g,pW=/\u0000|\uFFFD/g;function w_(c){return(typeof c=="string"?c:""+c).replace(fW,`
`).replace(pW,"")}function q0(c,h,g){if(h=w_(h),w_(c)!==h&&g)throw Error(r(425))}function U0(){}var V1=null,W1=null;function H1(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var K1=typeof setTimeout=="function"?setTimeout:void 0,mW=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,gW=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(c){return S_.resolve(null).then(c).catch(vW)}:K1;function vW(c){setTimeout(function(){throw c})}function G1(c,h){var g=h,w=0;do{var C=g.nextSibling;if(c.removeChild(g),C&&C.nodeType===8)if(g=C.data,g==="/$"){if(w===0){c.removeChild(C),Si(h);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=C}while(g);Si(h)}function wo(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return c}function __(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return c;h--}else g==="/$"&&h++}c=c.previousSibling}return null}var Lc=Math.random().toString(36).slice(2),Ws="__reactFiber$"+Lc,nh="__reactProps$"+Lc,ba="__reactContainer$"+Lc,X1="__reactEvents$"+Lc,yW="__reactListeners$"+Lc,xW="__reactHandles$"+Lc;function bl(c){var h=c[Ws];if(h)return h;for(var g=c.parentNode;g;){if(h=g[ba]||g[Ws]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(c=__(c);c!==null;){if(g=c[Ws])return g;c=__(c)}return h}c=g,g=c.parentNode}return null}function ih(c){return c=c[Ws]||c[ba],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function zc(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function V0(c){return c[nh]||null}var Y1=[],Fc=-1;function So(c){return{current:c}}function hr(c){0>Fc||(c.current=Y1[Fc],Y1[Fc]=null,Fc--)}function sr(c,h){Fc++,Y1[Fc]=c.current,c.current=h}var _o={},Tn=So(_o),ri=So(!1),wl=_o;function Bc(c,h){var g=c.type.contextTypes;if(!g)return _o;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var C={},O;for(O in g)C[O]=h[O];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=h,c.__reactInternalMemoizedMaskedChildContext=C),C}function ni(c){return c=c.childContextTypes,c!=null}function W0(){hr(ri),hr(Tn)}function N_(c,h,g){if(Tn.current!==_o)throw Error(r(168));sr(Tn,h),sr(ri,g)}function A_(c,h,g){var w=c.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var C in w)if(!(C in h))throw Error(r(108,ae(c)||"Unknown",C));return ie({},g,w)}function H0(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||_o,wl=Tn.current,sr(Tn,c),sr(ri,ri.current),!0}function E_(c,h,g){var w=c.stateNode;if(!w)throw Error(r(169));g?(c=A_(c,h,wl),w.__reactInternalMemoizedMergedChildContext=c,hr(ri),hr(Tn),sr(Tn,c)):hr(ri),sr(ri,g)}var wa=null,K0=!1,J1=!1;function C_(c){wa===null?wa=[c]:wa.push(c)}function bW(c){K0=!0,C_(c)}function No(){if(!J1&&wa!==null){J1=!0;var c=0,h=Dt;try{var g=wa;for(Dt=1;c<g.length;c++){var w=g[c];do w=w(!0);while(w!==null)}wa=null,K0=!1}catch(C){throw wa!==null&&(wa=wa.slice(c+1)),on(Bs,No),C}finally{Dt=h,J1=!1}}return null}var $c=[],qc=0,G0=null,X0=0,Ui=[],Vi=0,Sl=null,Sa=1,_a="";function _l(c,h){$c[qc++]=X0,$c[qc++]=G0,G0=c,X0=h}function k_(c,h,g){Ui[Vi++]=Sa,Ui[Vi++]=_a,Ui[Vi++]=Sl,Sl=c;var w=Sa;c=_a;var C=32-Kr(w)-1;w&=~(1<<C),g+=1;var O=32-Kr(h)+C;if(30<O){var B=C-C%5;O=(w&(1<<B)-1).toString(32),w>>=B,C-=B,Sa=1<<32-Kr(h)+C|g<<C|w,_a=O+c}else Sa=1<<O|g<<C|w,_a=c}function Q1(c){c.return!==null&&(_l(c,1),k_(c,1,0))}function Z1(c){for(;c===G0;)G0=$c[--qc],$c[qc]=null,X0=$c[--qc],$c[qc]=null;for(;c===Sl;)Sl=Ui[--Vi],Ui[Vi]=null,_a=Ui[--Vi],Ui[Vi]=null,Sa=Ui[--Vi],Ui[Vi]=null}var Ai=null,Ei=null,mr=!1,vs=null;function j_(c,h){var g=Gi(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=c,h=c.deletions,h===null?(c.deletions=[g],c.flags|=16):h.push(g)}function P_(c,h){switch(c.tag){case 5:var g=c.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(c.stateNode=h,Ai=c,Ei=wo(h.firstChild),!0):!1;case 6:return h=c.pendingProps===""||h.nodeType!==3?null:h,h!==null?(c.stateNode=h,Ai=c,Ei=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=Sl!==null?{id:Sa,overflow:_a}:null,c.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=Gi(18,null,null,0),g.stateNode=h,g.return=c,c.child=g,Ai=c,Ei=null,!0):!1;default:return!1}}function ey(c){return(c.mode&1)!==0&&(c.flags&128)===0}function ty(c){if(mr){var h=Ei;if(h){var g=h;if(!P_(c,h)){if(ey(c))throw Error(r(418));h=wo(g.nextSibling);var w=Ai;h&&P_(c,h)?j_(w,g):(c.flags=c.flags&-4097|2,mr=!1,Ai=c)}}else{if(ey(c))throw Error(r(418));c.flags=c.flags&-4097|2,mr=!1,Ai=c}}}function T_(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Ai=c}function Y0(c){if(c!==Ai)return!1;if(!mr)return T_(c),mr=!0,!1;var h;if((h=c.tag!==3)&&!(h=c.tag!==5)&&(h=c.type,h=h!=="head"&&h!=="body"&&!H1(c.type,c.memoizedProps)),h&&(h=Ei)){if(ey(c))throw M_(),Error(r(418));for(;h;)j_(c,h),h=wo(h.nextSibling)}if(T_(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"){if(h===0){Ei=wo(c.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}c=c.nextSibling}Ei=null}}else Ei=Ai?wo(c.stateNode.nextSibling):null;return!0}function M_(){for(var c=Ei;c;)c=wo(c.nextSibling)}function Uc(){Ei=Ai=null,mr=!1}function ry(c){vs===null?vs=[c]:vs.push(c)}var wW=k.ReactCurrentBatchConfig;function sh(c,h,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var w=g.stateNode}if(!w)throw Error(r(147,c));var C=w,O=""+c;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===O?h.ref:(h=function(B){var Z=C.refs;B===null?delete Z[O]:Z[O]=B},h._stringRef=O,h)}if(typeof c!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,c))}return c}function J0(c,h){throw c=Object.prototype.toString.call(h),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c))}function O_(c){var h=c._init;return h(c._payload)}function R_(c){function h(pe,ue){if(c){var ye=pe.deletions;ye===null?(pe.deletions=[ue],pe.flags|=16):ye.push(ue)}}function g(pe,ue){if(!c)return null;for(;ue!==null;)h(pe,ue),ue=ue.sibling;return null}function w(pe,ue){for(pe=new Map;ue!==null;)ue.key!==null?pe.set(ue.key,ue):pe.set(ue.index,ue),ue=ue.sibling;return pe}function C(pe,ue){return pe=Mo(pe,ue),pe.index=0,pe.sibling=null,pe}function O(pe,ue,ye){return pe.index=ye,c?(ye=pe.alternate,ye!==null?(ye=ye.index,ye<ue?(pe.flags|=2,ue):ye):(pe.flags|=2,ue)):(pe.flags|=1048576,ue)}function B(pe){return c&&pe.alternate===null&&(pe.flags|=2),pe}function Z(pe,ue,ye,qe){return ue===null||ue.tag!==6?(ue=Ky(ye,pe.mode,qe),ue.return=pe,ue):(ue=C(ue,ye),ue.return=pe,ue)}function oe(pe,ue,ye,qe){var ot=ye.type;return ot===T?Ie(pe,ue,ye.props.children,qe,ye.key):ue!==null&&(ue.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===J&&O_(ot)===ue.type)?(qe=C(ue,ye.props),qe.ref=sh(pe,ue,ye),qe.return=pe,qe):(qe=wp(ye.type,ye.key,ye.props,null,pe.mode,qe),qe.ref=sh(pe,ue,ye),qe.return=pe,qe)}function _e(pe,ue,ye,qe){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==ye.containerInfo||ue.stateNode.implementation!==ye.implementation?(ue=Gy(ye,pe.mode,qe),ue.return=pe,ue):(ue=C(ue,ye.children||[]),ue.return=pe,ue)}function Ie(pe,ue,ye,qe,ot){return ue===null||ue.tag!==7?(ue=Tl(ye,pe.mode,qe,ot),ue.return=pe,ue):(ue=C(ue,ye),ue.return=pe,ue)}function ze(pe,ue,ye){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=Ky(""+ue,pe.mode,ye),ue.return=pe,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case E:return ye=wp(ue.type,ue.key,ue.props,null,pe.mode,ye),ye.ref=sh(pe,null,ue),ye.return=pe,ye;case j:return ue=Gy(ue,pe.mode,ye),ue.return=pe,ue;case J:var qe=ue._init;return ze(pe,qe(ue._payload),ye)}if(se(ue)||X(ue))return ue=Tl(ue,pe.mode,ye,null),ue.return=pe,ue;J0(pe,ue)}return null}function Oe(pe,ue,ye,qe){var ot=ue!==null?ue.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ot!==null?null:Z(pe,ue,""+ye,qe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case E:return ye.key===ot?oe(pe,ue,ye,qe):null;case j:return ye.key===ot?_e(pe,ue,ye,qe):null;case J:return ot=ye._init,Oe(pe,ue,ot(ye._payload),qe)}if(se(ye)||X(ye))return ot!==null?null:Ie(pe,ue,ye,qe,null);J0(pe,ye)}return null}function Je(pe,ue,ye,qe,ot){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return pe=pe.get(ye)||null,Z(ue,pe,""+qe,ot);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case E:return pe=pe.get(qe.key===null?ye:qe.key)||null,oe(ue,pe,qe,ot);case j:return pe=pe.get(qe.key===null?ye:qe.key)||null,_e(ue,pe,qe,ot);case J:var ut=qe._init;return Je(pe,ue,ye,ut(qe._payload),ot)}if(se(qe)||X(qe))return pe=pe.get(ye)||null,Ie(ue,pe,qe,ot,null);J0(ue,qe)}return null}function tt(pe,ue,ye,qe){for(var ot=null,ut=null,dt=ue,bt=ue=0,hn=null;dt!==null&&bt<ye.length;bt++){dt.index>bt?(hn=dt,dt=null):hn=dt.sibling;var Vt=Oe(pe,dt,ye[bt],qe);if(Vt===null){dt===null&&(dt=hn);break}c&&dt&&Vt.alternate===null&&h(pe,dt),ue=O(Vt,ue,bt),ut===null?ot=Vt:ut.sibling=Vt,ut=Vt,dt=hn}if(bt===ye.length)return g(pe,dt),mr&&_l(pe,bt),ot;if(dt===null){for(;bt<ye.length;bt++)dt=ze(pe,ye[bt],qe),dt!==null&&(ue=O(dt,ue,bt),ut===null?ot=dt:ut.sibling=dt,ut=dt);return mr&&_l(pe,bt),ot}for(dt=w(pe,dt);bt<ye.length;bt++)hn=Je(dt,pe,bt,ye[bt],qe),hn!==null&&(c&&hn.alternate!==null&&dt.delete(hn.key===null?bt:hn.key),ue=O(hn,ue,bt),ut===null?ot=hn:ut.sibling=hn,ut=hn);return c&&dt.forEach(function(Oo){return h(pe,Oo)}),mr&&_l(pe,bt),ot}function it(pe,ue,ye,qe){var ot=X(ye);if(typeof ot!="function")throw Error(r(150));if(ye=ot.call(ye),ye==null)throw Error(r(151));for(var ut=ot=null,dt=ue,bt=ue=0,hn=null,Vt=ye.next();dt!==null&&!Vt.done;bt++,Vt=ye.next()){dt.index>bt?(hn=dt,dt=null):hn=dt.sibling;var Oo=Oe(pe,dt,Vt.value,qe);if(Oo===null){dt===null&&(dt=hn);break}c&&dt&&Oo.alternate===null&&h(pe,dt),ue=O(Oo,ue,bt),ut===null?ot=Oo:ut.sibling=Oo,ut=Oo,dt=hn}if(Vt.done)return g(pe,dt),mr&&_l(pe,bt),ot;if(dt===null){for(;!Vt.done;bt++,Vt=ye.next())Vt=ze(pe,Vt.value,qe),Vt!==null&&(ue=O(Vt,ue,bt),ut===null?ot=Vt:ut.sibling=Vt,ut=Vt);return mr&&_l(pe,bt),ot}for(dt=w(pe,dt);!Vt.done;bt++,Vt=ye.next())Vt=Je(dt,pe,bt,Vt.value,qe),Vt!==null&&(c&&Vt.alternate!==null&&dt.delete(Vt.key===null?bt:Vt.key),ue=O(Vt,ue,bt),ut===null?ot=Vt:ut.sibling=Vt,ut=Vt);return c&&dt.forEach(function(eH){return h(pe,eH)}),mr&&_l(pe,bt),ot}function Or(pe,ue,ye,qe){if(typeof ye=="object"&&ye!==null&&ye.type===T&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case E:e:{for(var ot=ye.key,ut=ue;ut!==null;){if(ut.key===ot){if(ot=ye.type,ot===T){if(ut.tag===7){g(pe,ut.sibling),ue=C(ut,ye.props.children),ue.return=pe,pe=ue;break e}}else if(ut.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===J&&O_(ot)===ut.type){g(pe,ut.sibling),ue=C(ut,ye.props),ue.ref=sh(pe,ut,ye),ue.return=pe,pe=ue;break e}g(pe,ut);break}else h(pe,ut);ut=ut.sibling}ye.type===T?(ue=Tl(ye.props.children,pe.mode,qe,ye.key),ue.return=pe,pe=ue):(qe=wp(ye.type,ye.key,ye.props,null,pe.mode,qe),qe.ref=sh(pe,ue,ye),qe.return=pe,pe=qe)}return B(pe);case j:e:{for(ut=ye.key;ue!==null;){if(ue.key===ut)if(ue.tag===4&&ue.stateNode.containerInfo===ye.containerInfo&&ue.stateNode.implementation===ye.implementation){g(pe,ue.sibling),ue=C(ue,ye.children||[]),ue.return=pe,pe=ue;break e}else{g(pe,ue);break}else h(pe,ue);ue=ue.sibling}ue=Gy(ye,pe.mode,qe),ue.return=pe,pe=ue}return B(pe);case J:return ut=ye._init,Or(pe,ue,ut(ye._payload),qe)}if(se(ye))return tt(pe,ue,ye,qe);if(X(ye))return it(pe,ue,ye,qe);J0(pe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,ue!==null&&ue.tag===6?(g(pe,ue.sibling),ue=C(ue,ye),ue.return=pe,pe=ue):(g(pe,ue),ue=Ky(ye,pe.mode,qe),ue.return=pe,pe=ue),B(pe)):g(pe,ue)}return Or}var Vc=R_(!0),I_=R_(!1),Q0=So(null),Z0=null,Wc=null,ny=null;function iy(){ny=Wc=Z0=null}function sy(c){var h=Q0.current;hr(Q0),c._currentValue=h}function ay(c,h,g){for(;c!==null;){var w=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),c===g)break;c=c.return}}function Hc(c,h){Z0=c,ny=Wc=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&h)!==0&&(ii=!0),c.firstContext=null)}function Wi(c){var h=c._currentValue;if(ny!==c)if(c={context:c,memoizedValue:h,next:null},Wc===null){if(Z0===null)throw Error(r(308));Wc=c,Z0.dependencies={lanes:0,firstContext:c}}else Wc=Wc.next=c;return h}var Nl=null;function oy(c){Nl===null?Nl=[c]:Nl.push(c)}function D_(c,h,g,w){var C=h.interleaved;return C===null?(g.next=g,oy(h)):(g.next=C.next,C.next=g),h.interleaved=g,Na(c,w)}function Na(c,h){c.lanes|=h;var g=c.alternate;for(g!==null&&(g.lanes|=h),g=c,c=c.return;c!==null;)c.childLanes|=h,g=c.alternate,g!==null&&(g.childLanes|=h),g=c,c=c.return;return g.tag===3?g.stateNode:null}var Ao=!1;function ly(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L_(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Aa(c,h){return{eventTime:c,lane:h,tag:0,payload:null,callback:null,next:null}}function Eo(c,h,g){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(zt&2)!==0){var C=w.pending;return C===null?h.next=h:(h.next=C.next,C.next=h),w.pending=h,Na(c,g)}return C=w.interleaved,C===null?(h.next=h,oy(w)):(h.next=C.next,C.next=h),w.interleaved=h,Na(c,g)}function ep(c,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var w=h.lanes;w&=c.pendingLanes,g|=w,h.lanes=g,ya(c,g)}}function z_(c,h){var g=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var C=null,O=null;if(g=g.firstBaseUpdate,g!==null){do{var B={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};O===null?C=O=B:O=O.next=B,g=g.next}while(g!==null);O===null?C=O=h:O=O.next=h}else C=O=h;g={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:O,shared:w.shared,effects:w.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=h:c.next=h,g.lastBaseUpdate=h}function tp(c,h,g,w){var C=c.updateQueue;Ao=!1;var O=C.firstBaseUpdate,B=C.lastBaseUpdate,Z=C.shared.pending;if(Z!==null){C.shared.pending=null;var oe=Z,_e=oe.next;oe.next=null,B===null?O=_e:B.next=_e,B=oe;var Ie=c.alternate;Ie!==null&&(Ie=Ie.updateQueue,Z=Ie.lastBaseUpdate,Z!==B&&(Z===null?Ie.firstBaseUpdate=_e:Z.next=_e,Ie.lastBaseUpdate=oe))}if(O!==null){var ze=C.baseState;B=0,Ie=_e=oe=null,Z=O;do{var Oe=Z.lane,Je=Z.eventTime;if((w&Oe)===Oe){Ie!==null&&(Ie=Ie.next={eventTime:Je,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var tt=c,it=Z;switch(Oe=h,Je=g,it.tag){case 1:if(tt=it.payload,typeof tt=="function"){ze=tt.call(Je,ze,Oe);break e}ze=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=it.payload,Oe=typeof tt=="function"?tt.call(Je,ze,Oe):tt,Oe==null)break e;ze=ie({},ze,Oe);break e;case 2:Ao=!0}}Z.callback!==null&&Z.lane!==0&&(c.flags|=64,Oe=C.effects,Oe===null?C.effects=[Z]:Oe.push(Z))}else Je={eventTime:Je,lane:Oe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ie===null?(_e=Ie=Je,oe=ze):Ie=Ie.next=Je,B|=Oe;if(Z=Z.next,Z===null){if(Z=C.shared.pending,Z===null)break;Oe=Z,Z=Oe.next,Oe.next=null,C.lastBaseUpdate=Oe,C.shared.pending=null}}while(!0);if(Ie===null&&(oe=ze),C.baseState=oe,C.firstBaseUpdate=_e,C.lastBaseUpdate=Ie,h=C.shared.interleaved,h!==null){C=h;do B|=C.lane,C=C.next;while(C!==h)}else O===null&&(C.shared.lanes=0);Cl|=B,c.lanes=B,c.memoizedState=ze}}function F_(c,h,g){if(c=h.effects,h.effects=null,c!==null)for(h=0;h<c.length;h++){var w=c[h],C=w.callback;if(C!==null){if(w.callback=null,w=g,typeof C!="function")throw Error(r(191,C));C.call(w)}}}var ah={},Hs=So(ah),oh=So(ah),lh=So(ah);function Al(c){if(c===ah)throw Error(r(174));return c}function cy(c,h){switch(sr(lh,h),sr(oh,c),sr(Hs,ah),c=h.nodeType,c){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Ct(null,"");break;default:c=c===8?h.parentNode:h,h=c.namespaceURI||null,c=c.tagName,h=Ct(h,c)}hr(Hs),sr(Hs,h)}function Kc(){hr(Hs),hr(oh),hr(lh)}function B_(c){Al(lh.current);var h=Al(Hs.current),g=Ct(h,c.type);h!==g&&(sr(oh,c),sr(Hs,g))}function uy(c){oh.current===c&&(hr(Hs),hr(oh))}var xr=So(0);function rp(c){for(var h=c;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var dy=[];function hy(){for(var c=0;c<dy.length;c++)dy[c]._workInProgressVersionPrimary=null;dy.length=0}var np=k.ReactCurrentDispatcher,fy=k.ReactCurrentBatchConfig,El=0,br=null,Gr=null,un=null,ip=!1,ch=!1,uh=0,SW=0;function Mn(){throw Error(r(321))}function py(c,h){if(h===null)return!1;for(var g=0;g<h.length&&g<c.length;g++)if(!gs(c[g],h[g]))return!1;return!0}function my(c,h,g,w,C,O){if(El=O,br=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,np.current=c===null||c.memoizedState===null?EW:CW,c=g(w,C),ch){O=0;do{if(ch=!1,uh=0,25<=O)throw Error(r(301));O+=1,un=Gr=null,h.updateQueue=null,np.current=kW,c=g(w,C)}while(ch)}if(np.current=op,h=Gr!==null&&Gr.next!==null,El=0,un=Gr=br=null,ip=!1,h)throw Error(r(300));return c}function gy(){var c=uh!==0;return uh=0,c}function Ks(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?br.memoizedState=un=c:un=un.next=c,un}function Hi(){if(Gr===null){var c=br.alternate;c=c!==null?c.memoizedState:null}else c=Gr.next;var h=un===null?br.memoizedState:un.next;if(h!==null)un=h,Gr=c;else{if(c===null)throw Error(r(310));Gr=c,c={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},un===null?br.memoizedState=un=c:un=un.next=c}return un}function dh(c,h){return typeof h=="function"?h(c):h}function vy(c){var h=Hi(),g=h.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=Gr,C=w.baseQueue,O=g.pending;if(O!==null){if(C!==null){var B=C.next;C.next=O.next,O.next=B}w.baseQueue=C=O,g.pending=null}if(C!==null){O=C.next,w=w.baseState;var Z=B=null,oe=null,_e=O;do{var Ie=_e.lane;if((El&Ie)===Ie)oe!==null&&(oe=oe.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),w=_e.hasEagerState?_e.eagerState:c(w,_e.action);else{var ze={lane:Ie,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};oe===null?(Z=oe=ze,B=w):oe=oe.next=ze,br.lanes|=Ie,Cl|=Ie}_e=_e.next}while(_e!==null&&_e!==O);oe===null?B=w:oe.next=Z,gs(w,h.memoizedState)||(ii=!0),h.memoizedState=w,h.baseState=B,h.baseQueue=oe,g.lastRenderedState=w}if(c=g.interleaved,c!==null){C=c;do O=C.lane,br.lanes|=O,Cl|=O,C=C.next;while(C!==c)}else C===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function yy(c){var h=Hi(),g=h.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var w=g.dispatch,C=g.pending,O=h.memoizedState;if(C!==null){g.pending=null;var B=C=C.next;do O=c(O,B.action),B=B.next;while(B!==C);gs(O,h.memoizedState)||(ii=!0),h.memoizedState=O,h.baseQueue===null&&(h.baseState=O),g.lastRenderedState=O}return[O,w]}function $_(){}function q_(c,h){var g=br,w=Hi(),C=h(),O=!gs(w.memoizedState,C);if(O&&(w.memoizedState=C,ii=!0),w=w.queue,xy(W_.bind(null,g,w,c),[c]),w.getSnapshot!==h||O||un!==null&&un.memoizedState.tag&1){if(g.flags|=2048,hh(9,V_.bind(null,g,w,C,h),void 0,null),dn===null)throw Error(r(349));(El&30)!==0||U_(g,h,C)}return C}function U_(c,h,g){c.flags|=16384,c={getSnapshot:h,value:g},h=br.updateQueue,h===null?(h={lastEffect:null,stores:null},br.updateQueue=h,h.stores=[c]):(g=h.stores,g===null?h.stores=[c]:g.push(c))}function V_(c,h,g,w){h.value=g,h.getSnapshot=w,H_(h)&&K_(c)}function W_(c,h,g){return g(function(){H_(h)&&K_(c)})}function H_(c){var h=c.getSnapshot;c=c.value;try{var g=h();return!gs(c,g)}catch{return!0}}function K_(c){var h=Na(c,1);h!==null&&ws(h,c,1,-1)}function G_(c){var h=Ks();return typeof c=="function"&&(c=c()),h.memoizedState=h.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dh,lastRenderedState:c},h.queue=c,c=c.dispatch=AW.bind(null,br,c),[h.memoizedState,c]}function hh(c,h,g,w){return c={tag:c,create:h,destroy:g,deps:w,next:null},h=br.updateQueue,h===null?(h={lastEffect:null,stores:null},br.updateQueue=h,h.lastEffect=c.next=c):(g=h.lastEffect,g===null?h.lastEffect=c.next=c:(w=g.next,g.next=c,c.next=w,h.lastEffect=c)),c}function X_(){return Hi().memoizedState}function sp(c,h,g,w){var C=Ks();br.flags|=c,C.memoizedState=hh(1|h,g,void 0,w===void 0?null:w)}function ap(c,h,g,w){var C=Hi();w=w===void 0?null:w;var O=void 0;if(Gr!==null){var B=Gr.memoizedState;if(O=B.destroy,w!==null&&py(w,B.deps)){C.memoizedState=hh(h,g,O,w);return}}br.flags|=c,C.memoizedState=hh(1|h,g,O,w)}function Y_(c,h){return sp(8390656,8,c,h)}function xy(c,h){return ap(2048,8,c,h)}function J_(c,h){return ap(4,2,c,h)}function Q_(c,h){return ap(4,4,c,h)}function Z_(c,h){if(typeof h=="function")return c=c(),h(c),function(){h(null)};if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function eN(c,h,g){return g=g!=null?g.concat([c]):null,ap(4,4,Z_.bind(null,h,c),g)}function by(){}function tN(c,h){var g=Hi();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&py(h,w[1])?w[0]:(g.memoizedState=[c,h],c)}function rN(c,h){var g=Hi();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&py(h,w[1])?w[0]:(c=c(),g.memoizedState=[c,h],c)}function nN(c,h,g){return(El&21)===0?(c.baseState&&(c.baseState=!1,ii=!0),c.memoizedState=g):(gs(g,h)||(g=mo(),br.lanes|=g,Cl|=g,c.baseState=!0),h)}function _W(c,h){var g=Dt;Dt=g!==0&&4>g?g:4,c(!0);var w=fy.transition;fy.transition={};try{c(!1),h()}finally{Dt=g,fy.transition=w}}function iN(){return Hi().memoizedState}function NW(c,h,g){var w=Po(c);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},sN(c))aN(h,g);else if(g=D_(c,h,g,w),g!==null){var C=Vn();ws(g,c,w,C),oN(g,h,w)}}function AW(c,h,g){var w=Po(c),C={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(sN(c))aN(h,C);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=h.lastRenderedReducer,O!==null))try{var B=h.lastRenderedState,Z=O(B,g);if(C.hasEagerState=!0,C.eagerState=Z,gs(Z,B)){var oe=h.interleaved;oe===null?(C.next=C,oy(h)):(C.next=oe.next,oe.next=C),h.interleaved=C;return}}catch{}finally{}g=D_(c,h,C,w),g!==null&&(C=Vn(),ws(g,c,w,C),oN(g,h,w))}}function sN(c){var h=c.alternate;return c===br||h!==null&&h===br}function aN(c,h){ch=ip=!0;var g=c.pending;g===null?h.next=h:(h.next=g.next,g.next=h),c.pending=h}function oN(c,h,g){if((g&4194240)!==0){var w=h.lanes;w&=c.pendingLanes,g|=w,h.lanes=g,ya(c,g)}}var op={readContext:Wi,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},EW={readContext:Wi,useCallback:function(c,h){return Ks().memoizedState=[c,h===void 0?null:h],c},useContext:Wi,useEffect:Y_,useImperativeHandle:function(c,h,g){return g=g!=null?g.concat([c]):null,sp(4194308,4,Z_.bind(null,h,c),g)},useLayoutEffect:function(c,h){return sp(4194308,4,c,h)},useInsertionEffect:function(c,h){return sp(4,2,c,h)},useMemo:function(c,h){var g=Ks();return h=h===void 0?null:h,c=c(),g.memoizedState=[c,h],c},useReducer:function(c,h,g){var w=Ks();return h=g!==void 0?g(h):h,w.memoizedState=w.baseState=h,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:h},w.queue=c,c=c.dispatch=NW.bind(null,br,c),[w.memoizedState,c]},useRef:function(c){var h=Ks();return c={current:c},h.memoizedState=c},useState:G_,useDebugValue:by,useDeferredValue:function(c){return Ks().memoizedState=c},useTransition:function(){var c=G_(!1),h=c[0];return c=_W.bind(null,c[1]),Ks().memoizedState=c,[h,c]},useMutableSource:function(){},useSyncExternalStore:function(c,h,g){var w=br,C=Ks();if(mr){if(g===void 0)throw Error(r(407));g=g()}else{if(g=h(),dn===null)throw Error(r(349));(El&30)!==0||U_(w,h,g)}C.memoizedState=g;var O={value:g,getSnapshot:h};return C.queue=O,Y_(W_.bind(null,w,O,c),[c]),w.flags|=2048,hh(9,V_.bind(null,w,O,g,h),void 0,null),g},useId:function(){var c=Ks(),h=dn.identifierPrefix;if(mr){var g=_a,w=Sa;g=(w&~(1<<32-Kr(w)-1)).toString(32)+g,h=":"+h+"R"+g,g=uh++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=SW++,h=":"+h+"r"+g.toString(32)+":";return c.memoizedState=h},unstable_isNewReconciler:!1},CW={readContext:Wi,useCallback:tN,useContext:Wi,useEffect:xy,useImperativeHandle:eN,useInsertionEffect:J_,useLayoutEffect:Q_,useMemo:rN,useReducer:vy,useRef:X_,useState:function(){return vy(dh)},useDebugValue:by,useDeferredValue:function(c){var h=Hi();return nN(h,Gr.memoizedState,c)},useTransition:function(){var c=vy(dh)[0],h=Hi().memoizedState;return[c,h]},useMutableSource:$_,useSyncExternalStore:q_,useId:iN,unstable_isNewReconciler:!1},kW={readContext:Wi,useCallback:tN,useContext:Wi,useEffect:xy,useImperativeHandle:eN,useInsertionEffect:J_,useLayoutEffect:Q_,useMemo:rN,useReducer:yy,useRef:X_,useState:function(){return yy(dh)},useDebugValue:by,useDeferredValue:function(c){var h=Hi();return Gr===null?h.memoizedState=c:nN(h,Gr.memoizedState,c)},useTransition:function(){var c=yy(dh)[0],h=Hi().memoizedState;return[c,h]},useMutableSource:$_,useSyncExternalStore:q_,useId:iN,unstable_isNewReconciler:!1};function ys(c,h){if(c&&c.defaultProps){h=ie({},h),c=c.defaultProps;for(var g in c)h[g]===void 0&&(h[g]=c[g]);return h}return h}function wy(c,h,g,w){h=c.memoizedState,g=g(w,h),g=g==null?h:ie({},h,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var lp={isMounted:function(c){return(c=c._reactInternals)?Ee(c)===c:!1},enqueueSetState:function(c,h,g){c=c._reactInternals;var w=Vn(),C=Po(c),O=Aa(w,C);O.payload=h,g!=null&&(O.callback=g),h=Eo(c,O,C),h!==null&&(ws(h,c,C,w),ep(h,c,C))},enqueueReplaceState:function(c,h,g){c=c._reactInternals;var w=Vn(),C=Po(c),O=Aa(w,C);O.tag=1,O.payload=h,g!=null&&(O.callback=g),h=Eo(c,O,C),h!==null&&(ws(h,c,C,w),ep(h,c,C))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var g=Vn(),w=Po(c),C=Aa(g,w);C.tag=2,h!=null&&(C.callback=h),h=Eo(c,C,w),h!==null&&(ws(h,c,w,g),ep(h,c,w))}};function lN(c,h,g,w,C,O,B){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,O,B):h.prototype&&h.prototype.isPureReactComponent?!Qd(g,w)||!Qd(C,O):!0}function cN(c,h,g){var w=!1,C=_o,O=h.contextType;return typeof O=="object"&&O!==null?O=Wi(O):(C=ni(h)?wl:Tn.current,w=h.contextTypes,O=(w=w!=null)?Bc(c,C):_o),h=new h(g,O),c.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=lp,c.stateNode=h,h._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=C,c.__reactInternalMemoizedMaskedChildContext=O),h}function uN(c,h,g,w){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,w),h.state!==c&&lp.enqueueReplaceState(h,h.state,null)}function Sy(c,h,g,w){var C=c.stateNode;C.props=g,C.state=c.memoizedState,C.refs={},ly(c);var O=h.contextType;typeof O=="object"&&O!==null?C.context=Wi(O):(O=ni(h)?wl:Tn.current,C.context=Bc(c,O)),C.state=c.memoizedState,O=h.getDerivedStateFromProps,typeof O=="function"&&(wy(c,h,O,g),C.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(h=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),h!==C.state&&lp.enqueueReplaceState(C,C.state,null),tp(c,g,C,w),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308)}function Gc(c,h){try{var g="",w=h;do g+=xe(w),w=w.return;while(w);var C=g}catch(O){C=`
Error generating stack: `+O.message+`
`+O.stack}return{value:c,source:h,stack:C,digest:null}}function _y(c,h,g){return{value:c,source:null,stack:g??null,digest:h??null}}function Ny(c,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var jW=typeof WeakMap=="function"?WeakMap:Map;function dN(c,h,g){g=Aa(-1,g),g.tag=3,g.payload={element:null};var w=h.value;return g.callback=function(){mp||(mp=!0,Fy=w),Ny(c,h)},g}function hN(c,h,g){g=Aa(-1,g),g.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var C=h.value;g.payload=function(){return w(C)},g.callback=function(){Ny(c,h)}}var O=c.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(g.callback=function(){Ny(c,h),typeof w!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var B=h.stack;this.componentDidCatch(h.value,{componentStack:B!==null?B:""})}),g}function fN(c,h,g){var w=c.pingCache;if(w===null){w=c.pingCache=new jW;var C=new Set;w.set(h,C)}else C=w.get(h),C===void 0&&(C=new Set,w.set(h,C));C.has(g)||(C.add(g),c=UW.bind(null,c,h,g),h.then(c,c))}function pN(c){do{var h;if((h=c.tag===13)&&(h=c.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return c;c=c.return}while(c!==null);return null}function mN(c,h,g,w,C){return(c.mode&1)===0?(c===h?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=Aa(-1,1),h.tag=2,Eo(g,h,1))),g.lanes|=1),c):(c.flags|=65536,c.lanes=C,c)}var PW=k.ReactCurrentOwner,ii=!1;function Un(c,h,g,w){h.child=c===null?I_(h,null,g,w):Vc(h,c.child,g,w)}function gN(c,h,g,w,C){g=g.render;var O=h.ref;return Hc(h,C),w=my(c,h,g,w,O,C),g=gy(),c!==null&&!ii?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~C,Ea(c,h,C)):(mr&&g&&Q1(h),h.flags|=1,Un(c,h,w,C),h.child)}function vN(c,h,g,w,C){if(c===null){var O=g.type;return typeof O=="function"&&!Hy(O)&&O.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=O,yN(c,h,O,w,C)):(c=wp(g.type,null,w,h,h.mode,C),c.ref=h.ref,c.return=h,h.child=c)}if(O=c.child,(c.lanes&C)===0){var B=O.memoizedProps;if(g=g.compare,g=g!==null?g:Qd,g(B,w)&&c.ref===h.ref)return Ea(c,h,C)}return h.flags|=1,c=Mo(O,w),c.ref=h.ref,c.return=h,h.child=c}function yN(c,h,g,w,C){if(c!==null){var O=c.memoizedProps;if(Qd(O,w)&&c.ref===h.ref)if(ii=!1,h.pendingProps=w=O,(c.lanes&C)!==0)(c.flags&131072)!==0&&(ii=!0);else return h.lanes=c.lanes,Ea(c,h,C)}return Ay(c,h,g,w,C)}function xN(c,h,g){var w=h.pendingProps,C=w.children,O=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(Yc,Ci),Ci|=g;else{if((g&1073741824)===0)return c=O!==null?O.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:c,cachePool:null,transitions:null},h.updateQueue=null,sr(Yc,Ci),Ci|=c,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=O!==null?O.baseLanes:g,sr(Yc,Ci),Ci|=w}else O!==null?(w=O.baseLanes|g,h.memoizedState=null):w=g,sr(Yc,Ci),Ci|=w;return Un(c,h,C,g),h.child}function bN(c,h){var g=h.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function Ay(c,h,g,w,C){var O=ni(g)?wl:Tn.current;return O=Bc(h,O),Hc(h,C),g=my(c,h,g,w,O,C),w=gy(),c!==null&&!ii?(h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~C,Ea(c,h,C)):(mr&&w&&Q1(h),h.flags|=1,Un(c,h,g,C),h.child)}function wN(c,h,g,w,C){if(ni(g)){var O=!0;H0(h)}else O=!1;if(Hc(h,C),h.stateNode===null)up(c,h),cN(h,g,w),Sy(h,g,w,C),w=!0;else if(c===null){var B=h.stateNode,Z=h.memoizedProps;B.props=Z;var oe=B.context,_e=g.contextType;typeof _e=="object"&&_e!==null?_e=Wi(_e):(_e=ni(g)?wl:Tn.current,_e=Bc(h,_e));var Ie=g.getDerivedStateFromProps,ze=typeof Ie=="function"||typeof B.getSnapshotBeforeUpdate=="function";ze||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(Z!==w||oe!==_e)&&uN(h,B,w,_e),Ao=!1;var Oe=h.memoizedState;B.state=Oe,tp(h,w,B,C),oe=h.memoizedState,Z!==w||Oe!==oe||ri.current||Ao?(typeof Ie=="function"&&(wy(h,g,Ie,w),oe=h.memoizedState),(Z=Ao||lN(h,g,Z,w,Oe,oe,_e))?(ze||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(h.flags|=4194308)):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=oe),B.props=w,B.state=oe,B.context=_e,w=Z):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{B=h.stateNode,L_(c,h),Z=h.memoizedProps,_e=h.type===h.elementType?Z:ys(h.type,Z),B.props=_e,ze=h.pendingProps,Oe=B.context,oe=g.contextType,typeof oe=="object"&&oe!==null?oe=Wi(oe):(oe=ni(g)?wl:Tn.current,oe=Bc(h,oe));var Je=g.getDerivedStateFromProps;(Ie=typeof Je=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(Z!==ze||Oe!==oe)&&uN(h,B,w,oe),Ao=!1,Oe=h.memoizedState,B.state=Oe,tp(h,w,B,C);var tt=h.memoizedState;Z!==ze||Oe!==tt||ri.current||Ao?(typeof Je=="function"&&(wy(h,g,Je,w),tt=h.memoizedState),(_e=Ao||lN(h,g,_e,w,Oe,tt,oe)||!1)?(Ie||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(w,tt,oe),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(w,tt,oe)),typeof B.componentDidUpdate=="function"&&(h.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof B.componentDidUpdate!="function"||Z===c.memoizedProps&&Oe===c.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&Oe===c.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=tt),B.props=w,B.state=tt,B.context=oe,w=_e):(typeof B.componentDidUpdate!="function"||Z===c.memoizedProps&&Oe===c.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&Oe===c.memoizedState||(h.flags|=1024),w=!1)}return Ey(c,h,g,w,O,C)}function Ey(c,h,g,w,C,O){bN(c,h);var B=(h.flags&128)!==0;if(!w&&!B)return C&&E_(h,g,!1),Ea(c,h,O);w=h.stateNode,PW.current=h;var Z=B&&typeof g.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,c!==null&&B?(h.child=Vc(h,c.child,null,O),h.child=Vc(h,null,Z,O)):Un(c,h,Z,O),h.memoizedState=w.state,C&&E_(h,g,!0),h.child}function SN(c){var h=c.stateNode;h.pendingContext?N_(c,h.pendingContext,h.pendingContext!==h.context):h.context&&N_(c,h.context,!1),cy(c,h.containerInfo)}function _N(c,h,g,w,C){return Uc(),ry(C),h.flags|=256,Un(c,h,g,w),h.child}var Cy={dehydrated:null,treeContext:null,retryLane:0};function ky(c){return{baseLanes:c,cachePool:null,transitions:null}}function NN(c,h,g){var w=h.pendingProps,C=xr.current,O=!1,B=(h.flags&128)!==0,Z;if((Z=B)||(Z=c!==null&&c.memoizedState===null?!1:(C&2)!==0),Z?(O=!0,h.flags&=-129):(c===null||c.memoizedState!==null)&&(C|=1),sr(xr,C&1),c===null)return ty(h),c=h.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((h.mode&1)===0?h.lanes=1:c.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(B=w.children,c=w.fallback,O?(w=h.mode,O=h.child,B={mode:"hidden",children:B},(w&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=B):O=Sp(B,w,0,null),c=Tl(c,w,g,null),O.return=h,c.return=h,O.sibling=c,h.child=O,h.child.memoizedState=ky(g),h.memoizedState=Cy,c):jy(h,B));if(C=c.memoizedState,C!==null&&(Z=C.dehydrated,Z!==null))return TW(c,h,B,w,Z,C,g);if(O){O=w.fallback,B=h.mode,C=c.child,Z=C.sibling;var oe={mode:"hidden",children:w.children};return(B&1)===0&&h.child!==C?(w=h.child,w.childLanes=0,w.pendingProps=oe,h.deletions=null):(w=Mo(C,oe),w.subtreeFlags=C.subtreeFlags&14680064),Z!==null?O=Mo(Z,O):(O=Tl(O,B,g,null),O.flags|=2),O.return=h,w.return=h,w.sibling=O,h.child=w,w=O,O=h.child,B=c.child.memoizedState,B=B===null?ky(g):{baseLanes:B.baseLanes|g,cachePool:null,transitions:B.transitions},O.memoizedState=B,O.childLanes=c.childLanes&~g,h.memoizedState=Cy,w}return O=c.child,c=O.sibling,w=Mo(O,{mode:"visible",children:w.children}),(h.mode&1)===0&&(w.lanes=g),w.return=h,w.sibling=null,c!==null&&(g=h.deletions,g===null?(h.deletions=[c],h.flags|=16):g.push(c)),h.child=w,h.memoizedState=null,w}function jy(c,h){return h=Sp({mode:"visible",children:h},c.mode,0,null),h.return=c,c.child=h}function cp(c,h,g,w){return w!==null&&ry(w),Vc(h,c.child,null,g),c=jy(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function TW(c,h,g,w,C,O,B){if(g)return h.flags&256?(h.flags&=-257,w=_y(Error(r(422))),cp(c,h,B,w)):h.memoizedState!==null?(h.child=c.child,h.flags|=128,null):(O=w.fallback,C=h.mode,w=Sp({mode:"visible",children:w.children},C,0,null),O=Tl(O,C,B,null),O.flags|=2,w.return=h,O.return=h,w.sibling=O,h.child=w,(h.mode&1)!==0&&Vc(h,c.child,null,B),h.child.memoizedState=ky(B),h.memoizedState=Cy,O);if((h.mode&1)===0)return cp(c,h,B,null);if(C.data==="$!"){if(w=C.nextSibling&&C.nextSibling.dataset,w)var Z=w.dgst;return w=Z,O=Error(r(419)),w=_y(O,w,void 0),cp(c,h,B,w)}if(Z=(B&c.childLanes)!==0,ii||Z){if(w=dn,w!==null){switch(B&-B){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(w.suspendedLanes|B))!==0?0:C,C!==0&&C!==O.retryLane&&(O.retryLane=C,Na(c,C),ws(w,c,C,-1))}return Wy(),w=_y(Error(r(421))),cp(c,h,B,w)}return C.data==="$?"?(h.flags|=128,h.child=c.child,h=VW.bind(null,c),C._reactRetry=h,null):(c=O.treeContext,Ei=wo(C.nextSibling),Ai=h,mr=!0,vs=null,c!==null&&(Ui[Vi++]=Sa,Ui[Vi++]=_a,Ui[Vi++]=Sl,Sa=c.id,_a=c.overflow,Sl=h),h=jy(h,w.children),h.flags|=4096,h)}function AN(c,h,g){c.lanes|=h;var w=c.alternate;w!==null&&(w.lanes|=h),ay(c.return,h,g)}function Py(c,h,g,w,C){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:C}:(O.isBackwards=h,O.rendering=null,O.renderingStartTime=0,O.last=w,O.tail=g,O.tailMode=C)}function EN(c,h,g){var w=h.pendingProps,C=w.revealOrder,O=w.tail;if(Un(c,h,w.children,g),w=xr.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&AN(c,g,h);else if(c.tag===19)AN(c,g,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if(sr(xr,w),(h.mode&1)===0)h.memoizedState=null;else switch(C){case"forwards":for(g=h.child,C=null;g!==null;)c=g.alternate,c!==null&&rp(c)===null&&(C=g),g=g.sibling;g=C,g===null?(C=h.child,h.child=null):(C=g.sibling,g.sibling=null),Py(h,!1,C,g,O);break;case"backwards":for(g=null,C=h.child,h.child=null;C!==null;){if(c=C.alternate,c!==null&&rp(c)===null){h.child=C;break}c=C.sibling,C.sibling=g,g=C,C=c}Py(h,!0,g,null,O);break;case"together":Py(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function up(c,h){(h.mode&1)===0&&c!==null&&(c.alternate=null,h.alternate=null,h.flags|=2)}function Ea(c,h,g){if(c!==null&&(h.dependencies=c.dependencies),Cl|=h.lanes,(g&h.childLanes)===0)return null;if(c!==null&&h.child!==c.child)throw Error(r(153));if(h.child!==null){for(c=h.child,g=Mo(c,c.pendingProps),h.child=g,g.return=h;c.sibling!==null;)c=c.sibling,g=g.sibling=Mo(c,c.pendingProps),g.return=h;g.sibling=null}return h.child}function MW(c,h,g){switch(h.tag){case 3:SN(h),Uc();break;case 5:B_(h);break;case 1:ni(h.type)&&H0(h);break;case 4:cy(h,h.stateNode.containerInfo);break;case 10:var w=h.type._context,C=h.memoizedProps.value;sr(Q0,w._currentValue),w._currentValue=C;break;case 13:if(w=h.memoizedState,w!==null)return w.dehydrated!==null?(sr(xr,xr.current&1),h.flags|=128,null):(g&h.child.childLanes)!==0?NN(c,h,g):(sr(xr,xr.current&1),c=Ea(c,h,g),c!==null?c.sibling:null);sr(xr,xr.current&1);break;case 19:if(w=(g&h.childLanes)!==0,(c.flags&128)!==0){if(w)return EN(c,h,g);h.flags|=128}if(C=h.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),sr(xr,xr.current),w)break;return null;case 22:case 23:return h.lanes=0,xN(c,h,g)}return Ea(c,h,g)}var CN,Ty,kN,jN;CN=function(c,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Ty=function(){},kN=function(c,h,g,w){var C=c.memoizedProps;if(C!==w){c=h.stateNode,Al(Hs.current);var O=null;switch(g){case"input":C=Te(c,C),w=Te(c,w),O=[];break;case"select":C=ie({},C,{value:void 0}),w=ie({},w,{value:void 0}),O=[];break;case"textarea":C=re(c,C),w=re(c,w),O=[];break;default:typeof C.onClick!="function"&&typeof w.onClick=="function"&&(c.onclick=U0)}Mr(g,w);var B;g=null;for(_e in C)if(!w.hasOwnProperty(_e)&&C.hasOwnProperty(_e)&&C[_e]!=null)if(_e==="style"){var Z=C[_e];for(B in Z)Z.hasOwnProperty(B)&&(g||(g={}),g[B]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(i.hasOwnProperty(_e)?O||(O=[]):(O=O||[]).push(_e,null));for(_e in w){var oe=w[_e];if(Z=C!=null?C[_e]:void 0,w.hasOwnProperty(_e)&&oe!==Z&&(oe!=null||Z!=null))if(_e==="style")if(Z){for(B in Z)!Z.hasOwnProperty(B)||oe&&oe.hasOwnProperty(B)||(g||(g={}),g[B]="");for(B in oe)oe.hasOwnProperty(B)&&Z[B]!==oe[B]&&(g||(g={}),g[B]=oe[B])}else g||(O||(O=[]),O.push(_e,g)),g=oe;else _e==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,Z=Z?Z.__html:void 0,oe!=null&&Z!==oe&&(O=O||[]).push(_e,oe)):_e==="children"?typeof oe!="string"&&typeof oe!="number"||(O=O||[]).push(_e,""+oe):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(i.hasOwnProperty(_e)?(oe!=null&&_e==="onScroll"&&dr("scroll",c),O||Z===oe||(O=[])):(O=O||[]).push(_e,oe))}g&&(O=O||[]).push("style",g);var _e=O;(h.updateQueue=_e)&&(h.flags|=4)}},jN=function(c,h,g,w){g!==w&&(h.flags|=4)};function fh(c,h){if(!mr)switch(c.tailMode){case"hidden":h=c.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function On(c){var h=c.alternate!==null&&c.alternate.child===c.child,g=0,w=0;if(h)for(var C=c.child;C!==null;)g|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)g|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=w,c.childLanes=g,h}function OW(c,h,g){var w=h.pendingProps;switch(Z1(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(h),null;case 1:return ni(h.type)&&W0(),On(h),null;case 3:return w=h.stateNode,Kc(),hr(ri),hr(Tn),hy(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(Y0(h)?h.flags|=4:c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,vs!==null&&(qy(vs),vs=null))),Ty(c,h),On(h),null;case 5:uy(h);var C=Al(lh.current);if(g=h.type,c!==null&&h.stateNode!=null)kN(c,h,g,w,C),c.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(r(166));return On(h),null}if(c=Al(Hs.current),Y0(h)){w=h.stateNode,g=h.type;var O=h.memoizedProps;switch(w[Ws]=h,w[nh]=O,c=(h.mode&1)!==0,g){case"dialog":dr("cancel",w),dr("close",w);break;case"iframe":case"object":case"embed":dr("load",w);break;case"video":case"audio":for(C=0;C<eh.length;C++)dr(eh[C],w);break;case"source":dr("error",w);break;case"img":case"image":case"link":dr("error",w),dr("load",w);break;case"details":dr("toggle",w);break;case"input":We(w,O),dr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!O.multiple},dr("invalid",w);break;case"textarea":je(w,O),dr("invalid",w)}Mr(g,O),C=null;for(var B in O)if(O.hasOwnProperty(B)){var Z=O[B];B==="children"?typeof Z=="string"?w.textContent!==Z&&(O.suppressHydrationWarning!==!0&&q0(w.textContent,Z,c),C=["children",Z]):typeof Z=="number"&&w.textContent!==""+Z&&(O.suppressHydrationWarning!==!0&&q0(w.textContent,Z,c),C=["children",""+Z]):i.hasOwnProperty(B)&&Z!=null&&B==="onScroll"&&dr("scroll",w)}switch(g){case"input":Pe(w),Ae(w,O,!0);break;case"textarea":Pe(w),Xe(w);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(w.onclick=U0)}w=C,h.updateQueue=w,w!==null&&(h.flags|=4)}else{B=C.nodeType===9?C:C.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=vt(g)),c==="http://www.w3.org/1999/xhtml"?g==="script"?(c=B.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof w.is=="string"?c=B.createElement(g,{is:w.is}):(c=B.createElement(g),g==="select"&&(B=c,w.multiple?B.multiple=!0:w.size&&(B.size=w.size))):c=B.createElementNS(c,g),c[Ws]=h,c[nh]=w,CN(c,h,!1,!1),h.stateNode=c;e:{switch(B=An(g,w),g){case"dialog":dr("cancel",c),dr("close",c),C=w;break;case"iframe":case"object":case"embed":dr("load",c),C=w;break;case"video":case"audio":for(C=0;C<eh.length;C++)dr(eh[C],c);C=w;break;case"source":dr("error",c),C=w;break;case"img":case"image":case"link":dr("error",c),dr("load",c),C=w;break;case"details":dr("toggle",c),C=w;break;case"input":We(c,w),C=Te(c,w),dr("invalid",c);break;case"option":C=w;break;case"select":c._wrapperState={wasMultiple:!!w.multiple},C=ie({},w,{value:void 0}),dr("invalid",c);break;case"textarea":je(c,w),C=re(c,w),dr("invalid",c);break;default:C=w}Mr(g,C),Z=C;for(O in Z)if(Z.hasOwnProperty(O)){var oe=Z[O];O==="style"?lr(c,oe):O==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&st(c,oe)):O==="children"?typeof oe=="string"?(g!=="textarea"||oe!=="")&&mt(c,oe):typeof oe=="number"&&mt(c,""+oe):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?oe!=null&&O==="onScroll"&&dr("scroll",c):oe!=null&&A(c,O,oe,B))}switch(g){case"input":Pe(c),Ae(c,w,!1);break;case"textarea":Pe(c),Xe(c);break;case"option":w.value!=null&&c.setAttribute("value",""+we(w.value));break;case"select":c.multiple=!!w.multiple,O=w.value,O!=null?me(c,!!w.multiple,O,!1):w.defaultValue!=null&&me(c,!!w.multiple,w.defaultValue,!0);break;default:typeof C.onClick=="function"&&(c.onclick=U0)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return On(h),null;case 6:if(c&&h.stateNode!=null)jN(c,h,c.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(r(166));if(g=Al(lh.current),Al(Hs.current),Y0(h)){if(w=h.stateNode,g=h.memoizedProps,w[Ws]=h,(O=w.nodeValue!==g)&&(c=Ai,c!==null))switch(c.tag){case 3:q0(w.nodeValue,g,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&q0(w.nodeValue,g,(c.mode&1)!==0)}O&&(h.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[Ws]=h,h.stateNode=w}return On(h),null;case 13:if(hr(xr),w=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(mr&&Ei!==null&&(h.mode&1)!==0&&(h.flags&128)===0)M_(),Uc(),h.flags|=98560,O=!1;else if(O=Y0(h),w!==null&&w.dehydrated!==null){if(c===null){if(!O)throw Error(r(318));if(O=h.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[Ws]=h}else Uc(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;On(h),O=!1}else vs!==null&&(qy(vs),vs=null),O=!0;if(!O)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=g,h):(w=w!==null,w!==(c!==null&&c.memoizedState!==null)&&w&&(h.child.flags|=8192,(h.mode&1)!==0&&(c===null||(xr.current&1)!==0?Xr===0&&(Xr=3):Wy())),h.updateQueue!==null&&(h.flags|=4),On(h),null);case 4:return Kc(),Ty(c,h),c===null&&th(h.stateNode.containerInfo),On(h),null;case 10:return sy(h.type._context),On(h),null;case 17:return ni(h.type)&&W0(),On(h),null;case 19:if(hr(xr),O=h.memoizedState,O===null)return On(h),null;if(w=(h.flags&128)!==0,B=O.rendering,B===null)if(w)fh(O,!1);else{if(Xr!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(B=rp(c),B!==null){for(h.flags|=128,fh(O,!1),w=B.updateQueue,w!==null&&(h.updateQueue=w,h.flags|=4),h.subtreeFlags=0,w=g,g=h.child;g!==null;)O=g,c=w,O.flags&=14680066,B=O.alternate,B===null?(O.childLanes=0,O.lanes=c,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=B.childLanes,O.lanes=B.lanes,O.child=B.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=B.memoizedProps,O.memoizedState=B.memoizedState,O.updateQueue=B.updateQueue,O.type=B.type,c=B.dependencies,O.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),g=g.sibling;return sr(xr,xr.current&1|2),h.child}c=c.sibling}O.tail!==null&&Zt()>Jc&&(h.flags|=128,w=!0,fh(O,!1),h.lanes=4194304)}else{if(!w)if(c=rp(B),c!==null){if(h.flags|=128,w=!0,g=c.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),fh(O,!0),O.tail===null&&O.tailMode==="hidden"&&!B.alternate&&!mr)return On(h),null}else 2*Zt()-O.renderingStartTime>Jc&&g!==1073741824&&(h.flags|=128,w=!0,fh(O,!1),h.lanes=4194304);O.isBackwards?(B.sibling=h.child,h.child=B):(g=O.last,g!==null?g.sibling=B:h.child=B,O.last=B)}return O.tail!==null?(h=O.tail,O.rendering=h,O.tail=h.sibling,O.renderingStartTime=Zt(),h.sibling=null,g=xr.current,sr(xr,w?g&1|2:g&1),h):(On(h),null);case 22:case 23:return Vy(),w=h.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(h.flags|=8192),w&&(h.mode&1)!==0?(Ci&1073741824)!==0&&(On(h),h.subtreeFlags&6&&(h.flags|=8192)):On(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function RW(c,h){switch(Z1(h),h.tag){case 1:return ni(h.type)&&W0(),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Kc(),hr(ri),hr(Tn),hy(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 5:return uy(h),null;case 13:if(hr(xr),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Uc()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return hr(xr),null;case 4:return Kc(),null;case 10:return sy(h.type._context),null;case 22:case 23:return Vy(),null;case 24:return null;default:return null}}var dp=!1,Rn=!1,IW=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Xc(c,h){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Er(c,h,w)}else g.current=null}function My(c,h,g){try{g()}catch(w){Er(c,h,w)}}var PN=!1;function DW(c,h){if(V1=xa,c=l_(),D1(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var C=w.anchorOffset,O=w.focusNode;w=w.focusOffset;try{g.nodeType,O.nodeType}catch{g=null;break e}var B=0,Z=-1,oe=-1,_e=0,Ie=0,ze=c,Oe=null;t:for(;;){for(var Je;ze!==g||C!==0&&ze.nodeType!==3||(Z=B+C),ze!==O||w!==0&&ze.nodeType!==3||(oe=B+w),ze.nodeType===3&&(B+=ze.nodeValue.length),(Je=ze.firstChild)!==null;)Oe=ze,ze=Je;for(;;){if(ze===c)break t;if(Oe===g&&++_e===C&&(Z=B),Oe===O&&++Ie===w&&(oe=B),(Je=ze.nextSibling)!==null)break;ze=Oe,Oe=ze.parentNode}ze=Je}g=Z===-1||oe===-1?null:{start:Z,end:oe}}else g=null}g=g||{start:0,end:0}}else g=null;for(W1={focusedElem:c,selectionRange:g},xa=!1,Ze=h;Ze!==null;)if(h=Ze,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,Ze=c;else for(;Ze!==null;){h=Ze;try{var tt=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(tt!==null){var it=tt.memoizedProps,Or=tt.memoizedState,pe=h.stateNode,ue=pe.getSnapshotBeforeUpdate(h.elementType===h.type?it:ys(h.type,it),Or);pe.__reactInternalSnapshotBeforeUpdate=ue}break;case 3:var ye=h.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(qe){Er(h,h.return,qe)}if(c=h.sibling,c!==null){c.return=h.return,Ze=c;break}Ze=h.return}return tt=PN,PN=!1,tt}function ph(c,h,g){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&c)===c){var O=C.destroy;C.destroy=void 0,O!==void 0&&My(h,g,O)}C=C.next}while(C!==w)}}function hp(c,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&c)===c){var w=g.create;g.destroy=w()}g=g.next}while(g!==h)}}function Oy(c){var h=c.ref;if(h!==null){var g=c.stateNode;switch(c.tag){case 5:c=g;break;default:c=g}typeof h=="function"?h(c):h.current=c}}function TN(c){var h=c.alternate;h!==null&&(c.alternate=null,TN(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&(delete h[Ws],delete h[nh],delete h[X1],delete h[yW],delete h[xW])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function MN(c){return c.tag===5||c.tag===3||c.tag===4}function ON(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||MN(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Ry(c,h,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(c,h):g.insertBefore(c,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(c,g)):(h=g,h.appendChild(c)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=U0));else if(w!==4&&(c=c.child,c!==null))for(Ry(c,h,g),c=c.sibling;c!==null;)Ry(c,h,g),c=c.sibling}function Iy(c,h,g){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?g.insertBefore(c,h):g.appendChild(c);else if(w!==4&&(c=c.child,c!==null))for(Iy(c,h,g),c=c.sibling;c!==null;)Iy(c,h,g),c=c.sibling}var yn=null,xs=!1;function Co(c,h,g){for(g=g.child;g!==null;)RN(c,h,g),g=g.sibling}function RN(c,h,g){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(zr,g)}catch{}switch(g.tag){case 5:Rn||Xc(g,h);case 6:var w=yn,C=xs;yn=null,Co(c,h,g),yn=w,xs=C,yn!==null&&(xs?(c=yn,g=g.stateNode,c.nodeType===8?c.parentNode.removeChild(g):c.removeChild(g)):yn.removeChild(g.stateNode));break;case 18:yn!==null&&(xs?(c=yn,g=g.stateNode,c.nodeType===8?G1(c.parentNode,g):c.nodeType===1&&G1(c,g),Si(c)):G1(yn,g.stateNode));break;case 4:w=yn,C=xs,yn=g.stateNode.containerInfo,xs=!0,Co(c,h,g),yn=w,xs=C;break;case 0:case 11:case 14:case 15:if(!Rn&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){C=w=w.next;do{var O=C,B=O.destroy;O=O.tag,B!==void 0&&((O&2)!==0||(O&4)!==0)&&My(g,h,B),C=C.next}while(C!==w)}Co(c,h,g);break;case 1:if(!Rn&&(Xc(g,h),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(Z){Er(g,h,Z)}Co(c,h,g);break;case 21:Co(c,h,g);break;case 22:g.mode&1?(Rn=(w=Rn)||g.memoizedState!==null,Co(c,h,g),Rn=w):Co(c,h,g);break;default:Co(c,h,g)}}function IN(c){var h=c.updateQueue;if(h!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new IW),h.forEach(function(w){var C=WW.bind(null,c,w);g.has(w)||(g.add(w),w.then(C,C))})}}function bs(c,h){var g=h.deletions;if(g!==null)for(var w=0;w<g.length;w++){var C=g[w];try{var O=c,B=h,Z=B;e:for(;Z!==null;){switch(Z.tag){case 5:yn=Z.stateNode,xs=!1;break e;case 3:yn=Z.stateNode.containerInfo,xs=!0;break e;case 4:yn=Z.stateNode.containerInfo,xs=!0;break e}Z=Z.return}if(yn===null)throw Error(r(160));RN(O,B,C),yn=null,xs=!1;var oe=C.alternate;oe!==null&&(oe.return=null),C.return=null}catch(_e){Er(C,h,_e)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)DN(h,c),h=h.sibling}function DN(c,h){var g=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(bs(h,c),Gs(c),w&4){try{ph(3,c,c.return),hp(3,c)}catch(it){Er(c,c.return,it)}try{ph(5,c,c.return)}catch(it){Er(c,c.return,it)}}break;case 1:bs(h,c),Gs(c),w&512&&g!==null&&Xc(g,g.return);break;case 5:if(bs(h,c),Gs(c),w&512&&g!==null&&Xc(g,g.return),c.flags&32){var C=c.stateNode;try{mt(C,"")}catch(it){Er(c,c.return,it)}}if(w&4&&(C=c.stateNode,C!=null)){var O=c.memoizedProps,B=g!==null?g.memoizedProps:O,Z=c.type,oe=c.updateQueue;if(c.updateQueue=null,oe!==null)try{Z==="input"&&O.type==="radio"&&O.name!=null&&Me(C,O),An(Z,B);var _e=An(Z,O);for(B=0;B<oe.length;B+=2){var Ie=oe[B],ze=oe[B+1];Ie==="style"?lr(C,ze):Ie==="dangerouslySetInnerHTML"?st(C,ze):Ie==="children"?mt(C,ze):A(C,Ie,ze,_e)}switch(Z){case"input":ve(C,O);break;case"textarea":Ve(C,O);break;case"select":var Oe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!O.multiple;var Je=O.value;Je!=null?me(C,!!O.multiple,Je,!1):Oe!==!!O.multiple&&(O.defaultValue!=null?me(C,!!O.multiple,O.defaultValue,!0):me(C,!!O.multiple,O.multiple?[]:"",!1))}C[nh]=O}catch(it){Er(c,c.return,it)}}break;case 6:if(bs(h,c),Gs(c),w&4){if(c.stateNode===null)throw Error(r(162));C=c.stateNode,O=c.memoizedProps;try{C.nodeValue=O}catch(it){Er(c,c.return,it)}}break;case 3:if(bs(h,c),Gs(c),w&4&&g!==null&&g.memoizedState.isDehydrated)try{Si(h.containerInfo)}catch(it){Er(c,c.return,it)}break;case 4:bs(h,c),Gs(c);break;case 13:bs(h,c),Gs(c),C=c.child,C.flags&8192&&(O=C.memoizedState!==null,C.stateNode.isHidden=O,!O||C.alternate!==null&&C.alternate.memoizedState!==null||(zy=Zt())),w&4&&IN(c);break;case 22:if(Ie=g!==null&&g.memoizedState!==null,c.mode&1?(Rn=(_e=Rn)||Ie,bs(h,c),Rn=_e):bs(h,c),Gs(c),w&8192){if(_e=c.memoizedState!==null,(c.stateNode.isHidden=_e)&&!Ie&&(c.mode&1)!==0)for(Ze=c,Ie=c.child;Ie!==null;){for(ze=Ze=Ie;Ze!==null;){switch(Oe=Ze,Je=Oe.child,Oe.tag){case 0:case 11:case 14:case 15:ph(4,Oe,Oe.return);break;case 1:Xc(Oe,Oe.return);var tt=Oe.stateNode;if(typeof tt.componentWillUnmount=="function"){w=Oe,g=Oe.return;try{h=w,tt.props=h.memoizedProps,tt.state=h.memoizedState,tt.componentWillUnmount()}catch(it){Er(w,g,it)}}break;case 5:Xc(Oe,Oe.return);break;case 22:if(Oe.memoizedState!==null){FN(ze);continue}}Je!==null?(Je.return=Oe,Ze=Je):FN(ze)}Ie=Ie.sibling}e:for(Ie=null,ze=c;;){if(ze.tag===5){if(Ie===null){Ie=ze;try{C=ze.stateNode,_e?(O=C.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(Z=ze.stateNode,oe=ze.memoizedProps.style,B=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,Z.style.display=Xt("display",B))}catch(it){Er(c,c.return,it)}}}else if(ze.tag===6){if(Ie===null)try{ze.stateNode.nodeValue=_e?"":ze.memoizedProps}catch(it){Er(c,c.return,it)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===c)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===c)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===c)break e;Ie===ze&&(Ie=null),ze=ze.return}Ie===ze&&(Ie=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:bs(h,c),Gs(c),w&4&&IN(c);break;case 21:break;default:bs(h,c),Gs(c)}}function Gs(c){var h=c.flags;if(h&2){try{e:{for(var g=c.return;g!==null;){if(MN(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 5:var C=w.stateNode;w.flags&32&&(mt(C,""),w.flags&=-33);var O=ON(c);Iy(c,O,C);break;case 3:case 4:var B=w.stateNode.containerInfo,Z=ON(c);Ry(c,Z,B);break;default:throw Error(r(161))}}catch(oe){Er(c,c.return,oe)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function LW(c,h,g){Ze=c,LN(c)}function LN(c,h,g){for(var w=(c.mode&1)!==0;Ze!==null;){var C=Ze,O=C.child;if(C.tag===22&&w){var B=C.memoizedState!==null||dp;if(!B){var Z=C.alternate,oe=Z!==null&&Z.memoizedState!==null||Rn;Z=dp;var _e=Rn;if(dp=B,(Rn=oe)&&!_e)for(Ze=C;Ze!==null;)B=Ze,oe=B.child,B.tag===22&&B.memoizedState!==null?BN(C):oe!==null?(oe.return=B,Ze=oe):BN(C);for(;O!==null;)Ze=O,LN(O),O=O.sibling;Ze=C,dp=Z,Rn=_e}zN(c)}else(C.subtreeFlags&8772)!==0&&O!==null?(O.return=C,Ze=O):zN(c)}}function zN(c){for(;Ze!==null;){var h=Ze;if((h.flags&8772)!==0){var g=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Rn||hp(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Rn)if(g===null)w.componentDidMount();else{var C=h.elementType===h.type?g.memoizedProps:ys(h.type,g.memoizedProps);w.componentDidUpdate(C,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var O=h.updateQueue;O!==null&&F_(h,O,w);break;case 3:var B=h.updateQueue;if(B!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}F_(h,B,g)}break;case 5:var Z=h.stateNode;if(g===null&&h.flags&4){g=Z;var oe=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&g.focus();break;case"img":oe.src&&(g.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var _e=h.alternate;if(_e!==null){var Ie=_e.memoizedState;if(Ie!==null){var ze=Ie.dehydrated;ze!==null&&Si(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Rn||h.flags&512&&Oy(h)}catch(Oe){Er(h,h.return,Oe)}}if(h===c){Ze=null;break}if(g=h.sibling,g!==null){g.return=h.return,Ze=g;break}Ze=h.return}}function FN(c){for(;Ze!==null;){var h=Ze;if(h===c){Ze=null;break}var g=h.sibling;if(g!==null){g.return=h.return,Ze=g;break}Ze=h.return}}function BN(c){for(;Ze!==null;){var h=Ze;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{hp(4,h)}catch(oe){Er(h,g,oe)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var C=h.return;try{w.componentDidMount()}catch(oe){Er(h,C,oe)}}var O=h.return;try{Oy(h)}catch(oe){Er(h,O,oe)}break;case 5:var B=h.return;try{Oy(h)}catch(oe){Er(h,B,oe)}}}catch(oe){Er(h,h.return,oe)}if(h===c){Ze=null;break}var Z=h.sibling;if(Z!==null){Z.return=h.return,Ze=Z;break}Ze=h.return}}var zW=Math.ceil,fp=k.ReactCurrentDispatcher,Dy=k.ReactCurrentOwner,Ki=k.ReactCurrentBatchConfig,zt=0,dn=null,Fr=null,xn=0,Ci=0,Yc=So(0),Xr=0,mh=null,Cl=0,pp=0,Ly=0,gh=null,si=null,zy=0,Jc=1/0,Ca=null,mp=!1,Fy=null,ko=null,gp=!1,jo=null,vp=0,vh=0,By=null,yp=-1,xp=0;function Vn(){return(zt&6)!==0?Zt():yp!==-1?yp:yp=Zt()}function Po(c){return(c.mode&1)===0?1:(zt&2)!==0&&xn!==0?xn&-xn:wW.transition!==null?(xp===0&&(xp=mo()),xp):(c=Dt,c!==0||(c=window.event,c=c===void 0?16:q7(c.type)),c)}function ws(c,h,g,w){if(50<vh)throw vh=0,By=null,Error(r(185));ds(c,g,w),((zt&2)===0||c!==dn)&&(c===dn&&((zt&2)===0&&(pp|=g),Xr===4&&To(c,xn)),ai(c,w),g===1&&zt===0&&(h.mode&1)===0&&(Jc=Zt()+500,K0&&No()))}function ai(c,h){var g=c.callbackNode;ml(c,h);var w=Vs(c,c===dn?xn:0);if(w===0)g!==null&&ln(g),c.callbackNode=null,c.callbackPriority=0;else if(h=w&-w,c.callbackPriority!==h){if(g!=null&&ln(g),h===1)c.tag===0?bW(qN.bind(null,c)):C_(qN.bind(null,c)),gW(function(){(zt&6)===0&&No()}),g=null;else{switch(go(w)){case 1:g=Bs;break;case 4:g=Cc;break;case 16:g=cs;break;case 536870912:g=$s;break;default:g=cs}g=YN(g,$N.bind(null,c))}c.callbackPriority=h,c.callbackNode=g}}function $N(c,h){if(yp=-1,xp=0,(zt&6)!==0)throw Error(r(327));var g=c.callbackNode;if(Qc()&&c.callbackNode!==g)return null;var w=Vs(c,c===dn?xn:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||h)h=bp(c,w);else{h=w;var C=zt;zt|=2;var O=VN();(dn!==c||xn!==h)&&(Ca=null,Jc=Zt()+500,jl(c,h));do try{$W();break}catch(Z){UN(c,Z)}while(!0);iy(),fp.current=O,zt=C,Fr!==null?h=0:(dn=null,xn=0,h=Xr)}if(h!==0){if(h===2&&(C=ga(c),C!==0&&(w=C,h=$y(c,C))),h===1)throw g=mh,jl(c,0),To(c,w),ai(c,Zt()),g;if(h===6)To(c,w);else{if(C=c.current.alternate,(w&30)===0&&!FW(C)&&(h=bp(c,w),h===2&&(O=ga(c),O!==0&&(w=O,h=$y(c,O))),h===1))throw g=mh,jl(c,0),To(c,w),ai(c,Zt()),g;switch(c.finishedWork=C,c.finishedLanes=w,h){case 0:case 1:throw Error(r(345));case 2:Pl(c,si,Ca);break;case 3:if(To(c,w),(w&130023424)===w&&(h=zy+500-Zt(),10<h)){if(Vs(c,0)!==0)break;if(C=c.suspendedLanes,(C&w)!==w){Vn(),c.pingedLanes|=c.suspendedLanes&C;break}c.timeoutHandle=K1(Pl.bind(null,c,si,Ca),h);break}Pl(c,si,Ca);break;case 4:if(To(c,w),(w&4194240)===w)break;for(h=c.eventTimes,C=-1;0<w;){var B=31-Kr(w);O=1<<B,B=h[B],B>C&&(C=B),w&=~O}if(w=C,w=Zt()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*zW(w/1960))-w,10<w){c.timeoutHandle=K1(Pl.bind(null,c,si,Ca),w);break}Pl(c,si,Ca);break;case 5:Pl(c,si,Ca);break;default:throw Error(r(329))}}}return ai(c,Zt()),c.callbackNode===g?$N.bind(null,c):null}function $y(c,h){var g=gh;return c.current.memoizedState.isDehydrated&&(jl(c,h).flags|=256),c=bp(c,h),c!==2&&(h=si,si=g,h!==null&&qy(h)),c}function qy(c){si===null?si=c:si.push.apply(si,c)}function FW(c){for(var h=c;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var C=g[w],O=C.getSnapshot;C=C.value;try{if(!gs(O(),C))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function To(c,h){for(h&=~Ly,h&=~pp,c.suspendedLanes|=h,c.pingedLanes&=~h,c=c.expirationTimes;0<h;){var g=31-Kr(h),w=1<<g;c[g]=-1,h&=~w}}function qN(c){if((zt&6)!==0)throw Error(r(327));Qc();var h=Vs(c,0);if((h&1)===0)return ai(c,Zt()),null;var g=bp(c,h);if(c.tag!==0&&g===2){var w=ga(c);w!==0&&(h=w,g=$y(c,w))}if(g===1)throw g=mh,jl(c,0),To(c,h),ai(c,Zt()),g;if(g===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=h,Pl(c,si,Ca),ai(c,Zt()),null}function Uy(c,h){var g=zt;zt|=1;try{return c(h)}finally{zt=g,zt===0&&(Jc=Zt()+500,K0&&No())}}function kl(c){jo!==null&&jo.tag===0&&(zt&6)===0&&Qc();var h=zt;zt|=1;var g=Ki.transition,w=Dt;try{if(Ki.transition=null,Dt=1,c)return c()}finally{Dt=w,Ki.transition=g,zt=h,(zt&6)===0&&No()}}function Vy(){Ci=Yc.current,hr(Yc)}function jl(c,h){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==-1&&(c.timeoutHandle=-1,mW(g)),Fr!==null)for(g=Fr.return;g!==null;){var w=g;switch(Z1(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&W0();break;case 3:Kc(),hr(ri),hr(Tn),hy();break;case 5:uy(w);break;case 4:Kc();break;case 13:hr(xr);break;case 19:hr(xr);break;case 10:sy(w.type._context);break;case 22:case 23:Vy()}g=g.return}if(dn=c,Fr=c=Mo(c.current,null),xn=Ci=h,Xr=0,mh=null,Ly=pp=Cl=0,si=gh=null,Nl!==null){for(h=0;h<Nl.length;h++)if(g=Nl[h],w=g.interleaved,w!==null){g.interleaved=null;var C=w.next,O=g.pending;if(O!==null){var B=O.next;O.next=C,w.next=B}g.pending=w}Nl=null}return c}function UN(c,h){do{var g=Fr;try{if(iy(),np.current=op,ip){for(var w=br.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}ip=!1}if(El=0,un=Gr=br=null,ch=!1,uh=0,Dy.current=null,g===null||g.return===null){Xr=1,mh=h,Fr=null;break}e:{var O=c,B=g.return,Z=g,oe=h;if(h=xn,Z.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var _e=oe,Ie=Z,ze=Ie.tag;if((Ie.mode&1)===0&&(ze===0||ze===11||ze===15)){var Oe=Ie.alternate;Oe?(Ie.updateQueue=Oe.updateQueue,Ie.memoizedState=Oe.memoizedState,Ie.lanes=Oe.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var Je=pN(B);if(Je!==null){Je.flags&=-257,mN(Je,B,Z,O,h),Je.mode&1&&fN(O,_e,h),h=Je,oe=_e;var tt=h.updateQueue;if(tt===null){var it=new Set;it.add(oe),h.updateQueue=it}else tt.add(oe);break e}else{if((h&1)===0){fN(O,_e,h),Wy();break e}oe=Error(r(426))}}else if(mr&&Z.mode&1){var Or=pN(B);if(Or!==null){(Or.flags&65536)===0&&(Or.flags|=256),mN(Or,B,Z,O,h),ry(Gc(oe,Z));break e}}O=oe=Gc(oe,Z),Xr!==4&&(Xr=2),gh===null?gh=[O]:gh.push(O),O=B;do{switch(O.tag){case 3:O.flags|=65536,h&=-h,O.lanes|=h;var pe=dN(O,oe,h);z_(O,pe);break e;case 1:Z=oe;var ue=O.type,ye=O.stateNode;if((O.flags&128)===0&&(typeof ue.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(ko===null||!ko.has(ye)))){O.flags|=65536,h&=-h,O.lanes|=h;var qe=hN(O,Z,h);z_(O,qe);break e}}O=O.return}while(O!==null)}HN(g)}catch(ot){h=ot,Fr===g&&g!==null&&(Fr=g=g.return);continue}break}while(!0)}function VN(){var c=fp.current;return fp.current=op,c===null?op:c}function Wy(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),dn===null||(Cl&268435455)===0&&(pp&268435455)===0||To(dn,xn)}function bp(c,h){var g=zt;zt|=2;var w=VN();(dn!==c||xn!==h)&&(Ca=null,jl(c,h));do try{BW();break}catch(C){UN(c,C)}while(!0);if(iy(),zt=g,fp.current=w,Fr!==null)throw Error(r(261));return dn=null,xn=0,Xr}function BW(){for(;Fr!==null;)WN(Fr)}function $W(){for(;Fr!==null&&!jn();)WN(Fr)}function WN(c){var h=XN(c.alternate,c,Ci);c.memoizedProps=c.pendingProps,h===null?HN(c):Fr=h,Dy.current=null}function HN(c){var h=c;do{var g=h.alternate;if(c=h.return,(h.flags&32768)===0){if(g=OW(g,h,Ci),g!==null){Fr=g;return}}else{if(g=RW(g,h),g!==null){g.flags&=32767,Fr=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Xr=6,Fr=null;return}}if(h=h.sibling,h!==null){Fr=h;return}Fr=h=c}while(h!==null);Xr===0&&(Xr=5)}function Pl(c,h,g){var w=Dt,C=Ki.transition;try{Ki.transition=null,Dt=1,qW(c,h,g,w)}finally{Ki.transition=C,Dt=w}return null}function qW(c,h,g,w){do Qc();while(jo!==null);if((zt&6)!==0)throw Error(r(327));g=c.finishedWork;var C=c.finishedLanes;if(g===null)return null;if(c.finishedWork=null,c.finishedLanes=0,g===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var O=g.lanes|g.childLanes;if(gl(c,O),c===dn&&(Fr=dn=null,xn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||gp||(gp=!0,YN(cs,function(){return Qc(),null})),O=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||O){O=Ki.transition,Ki.transition=null;var B=Dt;Dt=1;var Z=zt;zt|=4,Dy.current=null,DW(c,g),DN(g,c),lW(W1),xa=!!V1,W1=V1=null,c.current=g,LW(g),Pn(),zt=Z,Dt=B,Ki.transition=O}else c.current=g;if(gp&&(gp=!1,jo=c,vp=C),O=c.pendingLanes,O===0&&(ko=null),$d(g.stateNode),ai(c,Zt()),h!==null)for(w=c.onRecoverableError,g=0;g<h.length;g++)C=h[g],w(C.value,{componentStack:C.stack,digest:C.digest});if(mp)throw mp=!1,c=Fy,Fy=null,c;return(vp&1)!==0&&c.tag!==0&&Qc(),O=c.pendingLanes,(O&1)!==0?c===By?vh++:(vh=0,By=c):vh=0,No(),null}function Qc(){if(jo!==null){var c=go(vp),h=Ki.transition,g=Dt;try{if(Ki.transition=null,Dt=16>c?16:c,jo===null)var w=!1;else{if(c=jo,jo=null,vp=0,(zt&6)!==0)throw Error(r(331));var C=zt;for(zt|=4,Ze=c.current;Ze!==null;){var O=Ze,B=O.child;if((Ze.flags&16)!==0){var Z=O.deletions;if(Z!==null){for(var oe=0;oe<Z.length;oe++){var _e=Z[oe];for(Ze=_e;Ze!==null;){var Ie=Ze;switch(Ie.tag){case 0:case 11:case 15:ph(8,Ie,O)}var ze=Ie.child;if(ze!==null)ze.return=Ie,Ze=ze;else for(;Ze!==null;){Ie=Ze;var Oe=Ie.sibling,Je=Ie.return;if(TN(Ie),Ie===_e){Ze=null;break}if(Oe!==null){Oe.return=Je,Ze=Oe;break}Ze=Je}}}var tt=O.alternate;if(tt!==null){var it=tt.child;if(it!==null){tt.child=null;do{var Or=it.sibling;it.sibling=null,it=Or}while(it!==null)}}Ze=O}}if((O.subtreeFlags&2064)!==0&&B!==null)B.return=O,Ze=B;else e:for(;Ze!==null;){if(O=Ze,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:ph(9,O,O.return)}var pe=O.sibling;if(pe!==null){pe.return=O.return,Ze=pe;break e}Ze=O.return}}var ue=c.current;for(Ze=ue;Ze!==null;){B=Ze;var ye=B.child;if((B.subtreeFlags&2064)!==0&&ye!==null)ye.return=B,Ze=ye;else e:for(B=ue;Ze!==null;){if(Z=Ze,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:hp(9,Z)}}catch(ot){Er(Z,Z.return,ot)}if(Z===B){Ze=null;break e}var qe=Z.sibling;if(qe!==null){qe.return=Z.return,Ze=qe;break e}Ze=Z.return}}if(zt=C,No(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(zr,c)}catch{}w=!0}return w}finally{Dt=g,Ki.transition=h}}return!1}function KN(c,h,g){h=Gc(g,h),h=dN(c,h,1),c=Eo(c,h,1),h=Vn(),c!==null&&(ds(c,1,h),ai(c,h))}function Er(c,h,g){if(c.tag===3)KN(c,c,g);else for(;h!==null;){if(h.tag===3){KN(h,c,g);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ko===null||!ko.has(w))){c=Gc(g,c),c=hN(h,c,1),h=Eo(h,c,1),c=Vn(),h!==null&&(ds(h,1,c),ai(h,c));break}}h=h.return}}function UW(c,h,g){var w=c.pingCache;w!==null&&w.delete(h),h=Vn(),c.pingedLanes|=c.suspendedLanes&g,dn===c&&(xn&g)===g&&(Xr===4||Xr===3&&(xn&130023424)===xn&&500>Zt()-zy?jl(c,0):Ly|=g),ai(c,h)}function GN(c,h){h===0&&((c.mode&1)===0?h=1:(h=Us,Us<<=1,(Us&130023424)===0&&(Us=4194304)));var g=Vn();c=Na(c,h),c!==null&&(ds(c,h,g),ai(c,g))}function VW(c){var h=c.memoizedState,g=0;h!==null&&(g=h.retryLane),GN(c,g)}function WW(c,h){var g=0;switch(c.tag){case 13:var w=c.stateNode,C=c.memoizedState;C!==null&&(g=C.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(r(314))}w!==null&&w.delete(h),GN(c,g)}var XN;XN=function(c,h,g){if(c!==null)if(c.memoizedProps!==h.pendingProps||ri.current)ii=!0;else{if((c.lanes&g)===0&&(h.flags&128)===0)return ii=!1,MW(c,h,g);ii=(c.flags&131072)!==0}else ii=!1,mr&&(h.flags&1048576)!==0&&k_(h,X0,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;up(c,h),c=h.pendingProps;var C=Bc(h,Tn.current);Hc(h,g),C=my(null,h,w,c,C,g);var O=gy();return h.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ni(w)?(O=!0,H0(h)):O=!1,h.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,ly(h),C.updater=lp,h.stateNode=C,C._reactInternals=h,Sy(h,w,c,g),h=Ey(null,h,w,!0,O,g)):(h.tag=0,mr&&O&&Q1(h),Un(null,h,C,g),h=h.child),h;case 16:w=h.elementType;e:{switch(up(c,h),c=h.pendingProps,C=w._init,w=C(w._payload),h.type=w,C=h.tag=KW(w),c=ys(w,c),C){case 0:h=Ay(null,h,w,c,g);break e;case 1:h=wN(null,h,w,c,g);break e;case 11:h=gN(null,h,w,c,g);break e;case 14:h=vN(null,h,w,ys(w.type,c),g);break e}throw Error(r(306,w,""))}return h;case 0:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:ys(w,C),Ay(c,h,w,C,g);case 1:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:ys(w,C),wN(c,h,w,C,g);case 3:e:{if(SN(h),c===null)throw Error(r(387));w=h.pendingProps,O=h.memoizedState,C=O.element,L_(c,h),tp(h,w,null,g);var B=h.memoizedState;if(w=B.element,O.isDehydrated)if(O={element:w,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},h.updateQueue.baseState=O,h.memoizedState=O,h.flags&256){C=Gc(Error(r(423)),h),h=_N(c,h,w,g,C);break e}else if(w!==C){C=Gc(Error(r(424)),h),h=_N(c,h,w,g,C);break e}else for(Ei=wo(h.stateNode.containerInfo.firstChild),Ai=h,mr=!0,vs=null,g=I_(h,null,w,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Uc(),w===C){h=Ea(c,h,g);break e}Un(c,h,w,g)}h=h.child}return h;case 5:return B_(h),c===null&&ty(h),w=h.type,C=h.pendingProps,O=c!==null?c.memoizedProps:null,B=C.children,H1(w,C)?B=null:O!==null&&H1(w,O)&&(h.flags|=32),bN(c,h),Un(c,h,B,g),h.child;case 6:return c===null&&ty(h),null;case 13:return NN(c,h,g);case 4:return cy(h,h.stateNode.containerInfo),w=h.pendingProps,c===null?h.child=Vc(h,null,w,g):Un(c,h,w,g),h.child;case 11:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:ys(w,C),gN(c,h,w,C,g);case 7:return Un(c,h,h.pendingProps,g),h.child;case 8:return Un(c,h,h.pendingProps.children,g),h.child;case 12:return Un(c,h,h.pendingProps.children,g),h.child;case 10:e:{if(w=h.type._context,C=h.pendingProps,O=h.memoizedProps,B=C.value,sr(Q0,w._currentValue),w._currentValue=B,O!==null)if(gs(O.value,B)){if(O.children===C.children&&!ri.current){h=Ea(c,h,g);break e}}else for(O=h.child,O!==null&&(O.return=h);O!==null;){var Z=O.dependencies;if(Z!==null){B=O.child;for(var oe=Z.firstContext;oe!==null;){if(oe.context===w){if(O.tag===1){oe=Aa(-1,g&-g),oe.tag=2;var _e=O.updateQueue;if(_e!==null){_e=_e.shared;var Ie=_e.pending;Ie===null?oe.next=oe:(oe.next=Ie.next,Ie.next=oe),_e.pending=oe}}O.lanes|=g,oe=O.alternate,oe!==null&&(oe.lanes|=g),ay(O.return,g,h),Z.lanes|=g;break}oe=oe.next}}else if(O.tag===10)B=O.type===h.type?null:O.child;else if(O.tag===18){if(B=O.return,B===null)throw Error(r(341));B.lanes|=g,Z=B.alternate,Z!==null&&(Z.lanes|=g),ay(B,g,h),B=O.sibling}else B=O.child;if(B!==null)B.return=O;else for(B=O;B!==null;){if(B===h){B=null;break}if(O=B.sibling,O!==null){O.return=B.return,B=O;break}B=B.return}O=B}Un(c,h,C.children,g),h=h.child}return h;case 9:return C=h.type,w=h.pendingProps.children,Hc(h,g),C=Wi(C),w=w(C),h.flags|=1,Un(c,h,w,g),h.child;case 14:return w=h.type,C=ys(w,h.pendingProps),C=ys(w.type,C),vN(c,h,w,C,g);case 15:return yN(c,h,h.type,h.pendingProps,g);case 17:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:ys(w,C),up(c,h),h.tag=1,ni(w)?(c=!0,H0(h)):c=!1,Hc(h,g),cN(h,w,C),Sy(h,w,C,g),Ey(null,h,w,!0,c,g);case 19:return EN(c,h,g);case 22:return xN(c,h,g)}throw Error(r(156,h.tag))};function YN(c,h){return on(c,h)}function HW(c,h,g,w){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(c,h,g,w){return new HW(c,h,g,w)}function Hy(c){return c=c.prototype,!(!c||!c.isReactComponent)}function KW(c){if(typeof c=="function")return Hy(c)?1:0;if(c!=null){if(c=c.$$typeof,c===L)return 11;if(c===Y)return 14}return 2}function Mo(c,h){var g=c.alternate;return g===null?(g=Gi(c.tag,h,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=h,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,h=c.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function wp(c,h,g,w,C,O){var B=2;if(w=c,typeof c=="function")Hy(c)&&(B=1);else if(typeof c=="string")B=5;else e:switch(c){case T:return Tl(g.children,C,O,h);case M:B=8,C|=8;break;case I:return c=Gi(12,g,h,C|2),c.elementType=I,c.lanes=O,c;case V:return c=Gi(13,g,h,C),c.elementType=V,c.lanes=O,c;case K:return c=Gi(19,g,h,C),c.elementType=K,c.lanes=O,c;case te:return Sp(g,C,O,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case q:B=10;break e;case D:B=9;break e;case L:B=11;break e;case Y:B=14;break e;case J:B=16,w=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return h=Gi(B,g,h,C),h.elementType=c,h.type=w,h.lanes=O,h}function Tl(c,h,g,w){return c=Gi(7,c,w,h),c.lanes=g,c}function Sp(c,h,g,w){return c=Gi(22,c,w,h),c.elementType=te,c.lanes=g,c.stateNode={isHidden:!1},c}function Ky(c,h,g){return c=Gi(6,c,null,h),c.lanes=g,c}function Gy(c,h,g){return h=Gi(4,c.children!==null?c.children:[],c.key,h),h.lanes=g,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function GW(c,h,g,w,C){this.tag=h,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=w,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Xy(c,h,g,w,C,O,B,Z,oe){return c=new GW(c,h,g,Z,oe),h===1?(h=1,O===!0&&(h|=8)):h=0,O=Gi(3,null,null,h),c.current=O,O.stateNode=c,O.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},ly(O),c}function XW(c,h,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:w==null?null:""+w,children:c,containerInfo:h,implementation:g}}function JN(c){if(!c)return _o;c=c._reactInternals;e:{if(Ee(c)!==c||c.tag!==1)throw Error(r(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ni(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(c.tag===1){var g=c.type;if(ni(g))return A_(c,g,h)}return h}function QN(c,h,g,w,C,O,B,Z,oe){return c=Xy(g,w,!0,c,C,O,B,Z,oe),c.context=JN(null),g=c.current,w=Vn(),C=Po(g),O=Aa(w,C),O.callback=h??null,Eo(g,O,C),c.current.lanes=C,ds(c,C,w),ai(c,w),c}function _p(c,h,g,w){var C=h.current,O=Vn(),B=Po(C);return g=JN(g),h.context===null?h.context=g:h.pendingContext=g,h=Aa(O,B),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=Eo(C,h,B),c!==null&&(ws(c,C,B,O),ep(c,C,B)),B}function Np(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function ZN(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<h?g:h}}function Yy(c,h){ZN(c,h),(c=c.alternate)&&ZN(c,h)}function YW(){return null}var eA=typeof reportError=="function"?reportError:function(c){console.error(c)};function Jy(c){this._internalRoot=c}Ap.prototype.render=Jy.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(r(409));_p(c,h,null,null)},Ap.prototype.unmount=Jy.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;kl(function(){_p(null,c,null,null)}),h[ba]=null}};function Ap(c){this._internalRoot=c}Ap.prototype.unstable_scheduleHydration=function(c){if(c){var h=Ud();c={blockedOn:null,target:c,priority:h};for(var g=0;g<ms.length&&h!==0&&h<ms[g].priority;g++);ms.splice(g,0,c),g===0&&wt(c)}};function Qy(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Ep(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function tA(){}function JW(c,h,g,w,C){if(C){if(typeof w=="function"){var O=w;w=function(){var _e=Np(B);O.call(_e)}}var B=QN(h,w,c,0,null,!1,!1,"",tA);return c._reactRootContainer=B,c[ba]=B.current,th(c.nodeType===8?c.parentNode:c),kl(),B}for(;C=c.lastChild;)c.removeChild(C);if(typeof w=="function"){var Z=w;w=function(){var _e=Np(oe);Z.call(_e)}}var oe=Xy(c,0,!1,null,null,!1,!1,"",tA);return c._reactRootContainer=oe,c[ba]=oe.current,th(c.nodeType===8?c.parentNode:c),kl(function(){_p(h,oe,g,w)}),oe}function Cp(c,h,g,w,C){var O=g._reactRootContainer;if(O){var B=O;if(typeof C=="function"){var Z=C;C=function(){var oe=Np(B);Z.call(oe)}}_p(h,B,c,C)}else B=JW(g,h,c,C,w);return Np(B)}vl=function(c){switch(c.tag){case 3:var h=c.stateNode;if(h.current.memoizedState.isDehydrated){var g=us(h.pendingLanes);g!==0&&(ya(h,g|1),ai(h,Zt()),(zt&6)===0&&(Jc=Zt()+500,No()))}break;case 13:kl(function(){var w=Na(c,1);if(w!==null){var C=Vn();ws(w,c,1,C)}}),Yy(c,1)}},Pc=function(c){if(c.tag===13){var h=Na(c,134217728);if(h!==null){var g=Vn();ws(h,c,134217728,g)}Yy(c,134217728)}},qd=function(c){if(c.tag===13){var h=Po(c),g=Na(c,h);if(g!==null){var w=Vn();ws(g,c,h,w)}Yy(c,h)}},Ud=function(){return Dt},Vd=function(c,h){var g=Dt;try{return Dt=c,h()}finally{Dt=g}},Ar=function(c,h,g){switch(h){case"input":if(ve(c,g),h=g.name,g.type==="radio"&&h!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var w=g[h];if(w!==c&&w.form===c.form){var C=V0(w);if(!C)throw Error(r(90));he(w),ve(w,C)}}}break;case"textarea":Ve(c,g);break;case"select":h=g.value,h!=null&&me(c,!!g.multiple,h,!1)}},Ot=Uy,$t=kl;var QW={usingClientEntryPoint:!1,Events:[ih,zc,V0,lt,ct,Uy]},yh={findFiberByHostInstance:bl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZW={bundleType:yh.bundleType,version:yh.version,rendererPackageName:yh.rendererPackageName,rendererConfig:yh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Zn(c),c===null?null:c.stateNode},findFiberByHostInstance:yh.findFiberByHostInstance||YW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kp.isDisabled&&kp.supportsFiber)try{zr=kp.inject(ZW),pr=kp}catch{}}return oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QW,oi.createPortal=function(c,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(h))throw Error(r(200));return XW(c,h,null,g)},oi.createRoot=function(c,h){if(!Qy(c))throw Error(r(299));var g=!1,w="",C=eA;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(C=h.onRecoverableError)),h=Xy(c,1,!1,null,null,g,!1,w,C),c[ba]=h.current,th(c.nodeType===8?c.parentNode:c),new Jy(h)},oi.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Zn(h),c=c===null?null:c.stateNode,c},oi.flushSync=function(c){return kl(c)},oi.hydrate=function(c,h,g){if(!Ep(h))throw Error(r(200));return Cp(null,c,h,!0,g)},oi.hydrateRoot=function(c,h,g){if(!Qy(c))throw Error(r(405));var w=g!=null&&g.hydratedSources||null,C=!1,O="",B=eA;if(g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onRecoverableError!==void 0&&(B=g.onRecoverableError)),h=QN(h,null,c,1,g??null,C,!1,O,B),c[ba]=h.current,th(c),w)for(c=0;c<w.length;c++)g=w[c],C=g._getVersion,C=C(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,C]:h.mutableSourceEagerHydrationData.push(g,C);return new Ap(h)},oi.render=function(c,h,g){if(!Ep(h))throw Error(r(200));return Cp(null,c,h,!1,g)},oi.unmountComponentAtNode=function(c){if(!Ep(c))throw Error(r(40));return c._reactRootContainer?(kl(function(){Cp(null,null,c,!1,function(){c._reactRootContainer=null,c[ba]=null})}),!0):!1},oi.unstable_batchedUpdates=Uy,oi.unstable_renderSubtreeIntoContainer=function(c,h,g,w){if(!Ep(g))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return Cp(c,h,g,!1,w)},oi.version="18.3.1-next-f1338f8080-20240426",oi}var cA;function kI(){if(cA)return tx.exports;cA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tx.exports=cH(),tx.exports}var uA;function uH(){if(uA)return Pp;uA=1;var t=kI();return Pp.createRoot=t.createRoot,Pp.hydrateRoot=t.hydrateRoot,Pp}var dH=uH();const hH=er(dH);function gd(){_.useEffect(()=>{const t=document.createElement("style");return t.setAttribute("data-fullscreen-lock",""),t.textContent=`
      html, body, #root {
        height: 100dvh !important;
        max-height: 100dvh !important;
        min-height: 0 !important;
        overflow: hidden !important;
        margin: 0 !important;
        padding: 0 !important;
      }
    `,document.head.appendChild(t),()=>{t.remove()}},[])}const fH=[{id:"room-loop-track",title:"",src:"/audio/bgm/room_loop.mp3"},{id:"bgm-track-1",title:"BGM 1",src:"/audio/bgm/1.mp3"},{id:"bgm-track-2",title:"BGM 2",src:"/audio/bgm/2.mp3"},{id:"bgm-track-3",title:"BGM 3",src:"/audio/bgm/3.mp3"}],dA=.14,pH=.05,mH=.35,gH=.08,vH=.3;function yH(){if(typeof window>"u")return"";const t=String(window.location.pathname||"");return t==="/onlytrade"||t.startsWith("/onlytrade/")?"/onlytrade":""}function Hm(t){return Number.isFinite(t)?Math.max(0,Math.min(t,1)):0}function hA(){var e;if(typeof window>"u")return!1;const t=String(((e=window.navigator)==null?void 0:e.userAgent)||"").toLowerCase();return t?t.includes("wxwork")||t.includes("wxworklocal")||t.includes("micromessenger"):!1}function fA({bgmVolume:t,ducking:e,isWeCom:r}){const n=Hm(t),i=r?n*vH:n;return Hm((e?r?gH:mH:1)*i)}function xH(t){if(!String(t||"").trim().toLowerCase())return[];const r=yH();return fH.map(n=>({...n,src:`${r}${n.src}`}))}function a0({roomId:t,ducking:e=!1}){const r=_.useMemo(()=>xH(t),[t]),n=_.useMemo(()=>hA(),[]),[i,s]=_.useState(()=>{if(typeof window>"u")return!0;const y=window.localStorage.getItem("stream_bgm_enabled");return y==null?!0:y!=="false"}),[a,o]=_.useState(()=>{if(typeof window>"u")return dA;const y=Number(window.localStorage.getItem("stream_bgm_volume")||"");return Number.isFinite(y)?Hm(y):hA()?pH:dA}),[l,u]=_.useState(""),[f,p]=_.useState(""),m=_.useRef(null),v=_.useRef(0);return _.useEffect(()=>{typeof window>"u"||window.localStorage.setItem("stream_bgm_enabled",String(i))},[i]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem("stream_bgm_volume",String(Hm(a)))},[a]),_.useEffect(()=>{const y=m.current;if(!y)return;const x=fA({bgmVolume:a,ducking:e,isWeCom:n});y.volume=x},[a,e,n]),_.useEffect(()=>{if(typeof window>"u"||!i||r.length===0)return;const y=()=>{const x=m.current;x&&x.src&&x.paused&&x.play().then(()=>{u(""),window.removeEventListener("pointerdown",y),window.removeEventListener("keydown",y),window.removeEventListener("touchstart",y)}).catch(b=>{const S=String(b instanceof Error?b.message:"bgm_resume_failed");/NotAllowedError|play\(\) failed|AbortError|interrupted/i.test(S)||u(S)})};return window.addEventListener("pointerdown",y),window.addEventListener("keydown",y),window.addEventListener("touchstart",y),()=>{window.removeEventListener("pointerdown",y),window.removeEventListener("keydown",y),window.removeEventListener("touchstart",y)}},[i,r]),_.useEffect(()=>{if(r.length===0){p(""),u("");return}const y=m.current||new Audio;m.current=y,y.preload="auto";const x=async N=>{if(!i||r.length===0)return;const A=Math.max(0,Math.min(N,r.length-1)),k=r[A];v.current=A,p(k.title),y.src=k.src,y.loop=!1,y.volume=fA({bgmVolume:a,ducking:e,isWeCom:n});try{await y.play(),u("")}catch(E){const j=String(E instanceof Error?E.message:"bgm_play_failed");if(/NotAllowedError|play\(\) failed|AbortError|interrupted/i.test(j)){u("");return}u(j)}},b=()=>{if(!i||r.length===0)return;let N=v.current+1;N>=r.length&&(N=0),x(N)},S=()=>{if(!i){u("");return}y.networkState===y.NETWORK_NO_SOURCE&&u("bgm_file_missing_or_blocked")};return y.addEventListener("ended",b),y.addEventListener("error",S),i?x(0):y.pause(),()=>{y.removeEventListener("ended",b),y.removeEventListener("error",S),y.pause(),y.currentTime=0}},[t,r,i,a,e,n]),_.useEffect(()=>()=>{m.current&&(m.current.pause(),m.current.src="",m.current=null)},[]),{bgmAvailable:r.length>0,bgmEnabled:i,setBgmEnabled:s,bgmVolume:a,setBgmVolume:o,bgmTrackTitle:f,bgmError:l}}function rr(t){var e=t.width,r=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(r<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:r}}function Ql(t,e){return t.width===e.width&&t.height===e.height}var bH=(function(){function t(e){var r=this;this._resolutionListener=function(){return r._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var r=this,n={next:e};return this._observers.push(n),{unsubscribe:function(){r._observers=r._observers.filter(function(i){return i!==n})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(r){return r.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t})();function wH(t){return new bH(t)}var SH=(function(){function t(e,r,n){var i;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=rr({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=r??(function(s){return s}),this._allowResizeObserver=(i=n==null?void 0:n.allowResizeObserver)!==null&&i!==void 0?i:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,r;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(r=this._devicePixelRatioObservable)===null||r===void 0||r.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return rr({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=rr(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(r){return r!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(r){return r!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var r=this.bitmapSize;Ql(r,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(r,e))},t.prototype._emitBitmapSizeChanged=function(e,r){var n=this;this._bitmapSizeChangedListeners.forEach(function(i){return i.call(n,e,r)})},t.prototype._suggestNewBitmapSize=function(e){var r=this._suggestedBitmapSize,n=rr(this._transformBitmapSize(e,this._canvasElementClientSize)),i=Ql(this.bitmapSize,n)?null:n;r===null&&i===null||r!==null&&i!==null&&Ql(r,i)||(this._suggestedBitmapSize=i,this._emitSuggestedBitmapSizeChanged(r,i))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,r){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(i){return i.call(n,e,r)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}NH().then(function(r){return r?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var r=pA(this._canvasElement);if(r===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=wH(r),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,r;if(this._canvasElement!==null){var n=pA(this._canvasElement);if(n!==null){var i=(r=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&r!==void 0?r:n.devicePixelRatio,s=this._canvasElement.getClientRects(),a=s[0]!==void 0?AH(s[0],i):rr({width:this._canvasElementClientSize.width*i,height:this._canvasElementClientSize.height*i});this._suggestNewBitmapSize(a)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(r){var n=r.find(function(a){return a.target===e._canvasElement});if(!(!n||!n.devicePixelContentBoxSize||!n.devicePixelContentBoxSize[0])){var i=n.devicePixelContentBoxSize[0],s=rr({width:i.inlineSize,height:i.blockSize});e._suggestNewBitmapSize(s)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t})();function _H(t,e){return new SH(t,e.transform,e.options)}function pA(t){return t.ownerDocument.defaultView}function NH(){return new Promise(function(t){var e=new ResizeObserver(function(r){t(r.every(function(n){return"devicePixelContentBoxSize"in n})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function AH(t,e){return rr({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var EH=(function(){function t(e,r,n){if(r.width===0||r.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=r,n.width===0||n.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t})();function ac(t,e){var r=t.canvasElementClientSize;if(r.width===0||r.height===0)return null;var n=t.bitmapSize;if(n.width===0||n.height===0)return null;var i=t.canvasElement.getContext("2d",e);return i===null?null:new EH(i,r,n)}/*!
 * @license
 * TradingView Lightweight Charts v5.1.0
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const jI={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var mA,gA;function oc(t,e){const r={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(r)}function PI(t,e,r,n){t.beginPath();const i=t.lineWidth%2?.5:0;t.moveTo(r,e+i),t.lineTo(n,e+i),t.stroke()}function Sn(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function yi(t){if(t===void 0)throw new Error("Value is undefined");return t}function Le(t){if(t===null)throw new Error("Value is null");return t}function Uo(t){return Le(yi(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(mA||(mA={})),(function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"})(gA||(gA={}));class Dr{constructor(){this.t=[]}i(e,r,n){const i={h:e,l:r,o:n===!0};this.t.push(i)}_(e){const r=this.t.findIndex((n=>e===n.h));r>-1&&this.t.splice(r,1)}u(e){this.t=this.t.filter((r=>r.l!==e))}p(e,r,n){const i=[...this.t];this.t=this.t.filter((s=>!s.o)),i.forEach((s=>s.h(e,r,n)))}v(){return this.t.length>0}m(){this.t=[]}}function Li(t,...e){for(const r of e)for(const n in r)r[n]!==void 0&&Object.prototype.hasOwnProperty.call(r,n)&&!["__proto__","constructor","prototype"].includes(n)&&(typeof r[n]!="object"||t[n]===void 0||Array.isArray(r[n])?t[n]=r[n]:Li(t[n],r[n]));return t}function lc(t){return typeof t=="number"&&isFinite(t)}function af(t){return typeof t=="number"&&t%1==0}function o0(t){return typeof t=="string"}function Tp(t){return typeof t=="boolean"}function Ra(t){const e=t;if(!e||typeof e!="object")return e;let r,n,i;for(n in r=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(i=e[n],r[n]=i&&typeof i=="object"?Ra(i):i);return r}function vA(t){return t!==null}function of(t){return t===null?void 0:t}const TI="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function lf(t,e,r){return e===void 0&&(e=TI),`${r=r!==void 0?`${r} `:""}${t}px ${e}`}class CH{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,r=this.F(),n=this.W();return e.k===r&&e.T===n||(e.k=r,e.T=n,e.P=lf(r,n),e.A=2.5/12*r,e.I=e.A,e.V=r/12*e.C,e.B=r/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function ix(t){return t<0?0:t>255?255:Math.round(t)||0}function yA(t){return .199*t[0]+.687*t[1]+.114*t[2]}let kH=class{constructor(e,r){this.q=new Map,this.j=e,r&&(this.q=r)}Y(e,r){if(e==="transparent")return e;const n=this.K(e),i=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${r*i})`}Z(e){const r=this.K(e);return{G:`rgb(${r[0]}, ${r[1]}, ${r[2]})`,X:yA(r)>160?"black":"white"}}J(e){return yA(this.K(e))}tt(e,r,n){const[i,s,a,o]=this.K(e),[l,u,f,p]=this.K(r),m=[ix(i+n*(l-i)),ix(s+n*(u-s)),ix(a+n*(f-a)),(v=o+n*(p-o),v<=0||v>1?Math.min(Math.max(v,0),1):Math.round(1e4*v)/1e4)];var v;return`rgba(${m[0]}, ${m[1]}, ${m[2]}, ${m[3]})`}K(e){const r=this.q.get(e);if(r)return r;const n=(function(a){const o=document.createElement("div");o.style.display="none",document.body.appendChild(o),o.style.color=a;const l=window.getComputedStyle(o).color;return document.body.removeChild(o),l})(e),i=n.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!i){if(this.j.length)for(const a of this.j){const o=a(e);if(o)return this.q.set(e,o),o}throw new Error(`Failed to parse color: ${e}`)}const s=[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),i[4]?parseFloat(i[4]):1];return this.q.set(e,s),s}},jH=class{constructor(){this.it=[]}st(e){this.it=e}nt(e,r,n){this.it.forEach((i=>{i.nt(e,r,n)}))}};class tl{nt(e,r,n){e.useBitmapCoordinateSpace((i=>this.et(i,r,n)))}}let PH=class extends tl{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:n}){if(this.rt===null||this.rt.lt===null)return;const i=this.rt.lt,s=this.rt,a=Math.max(1,Math.floor(r))%2/2,o=l=>{e.beginPath();for(let u=i.to-1;u>=i.from;--u){const f=s.ot[u],p=Math.round(f._t*r)+a,m=f.ut*n,v=l*n+a;e.moveTo(p,m),e.arc(p,m,v,0,2*Math.PI)}e.fill()};s.ct>0&&(e.fillStyle=s.dt,o(s.ft+s.ct)),e.fillStyle=s.vt,o(s.ft)}};function TH(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const MH={from:0,to:1};class OH{constructor(e,r,n){this.Mt=new jH,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=r,this.yt=n,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(TH),this.bt=this.St.map((r=>{const n=new PH;return n.ht(r),n})),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),r=this.yt.Vt(),n=this.Ct.Bt(),i=this.O.Et();this.Pt(),r.forEach(((s,a)=>{const o=this.St[a],l=s.At(n),u=s.Lt();!e&&l!==null&&s.It()&&u!==null?(o.vt=l.zt,o.ft=l.ft,o.ct=l.Ot,o.ot[0].gt=l.gt,o.ot[0].ut=s.Ft().Nt(l.gt,u.Wt),o.dt=l.Ht??this.O.Ut(o.ot[0].ut/s.Ft().$t()),o.ot[0].wt=n,o.ot[0]._t=i.qt(n),o.lt=MH):o.lt=null}))}}class RH extends tl{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.jt===null)return;const s=this.jt.Yt.It,a=this.jt.Kt.It;if(!s&&!a)return;const o=Math.round(this.jt._t*n),l=Math.round(this.jt.ut*i);e.lineCap="butt",s&&o>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*n),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,oc(e,this.jt.Yt.Zt),(function(u,f,p,m){u.beginPath();const v=u.lineWidth%2?.5:0;u.moveTo(f+v,p),u.lineTo(f+v,m),u.stroke()})(e,o,0,r.height)),a&&l>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*i),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,oc(e,this.jt.Kt.Zt),PI(e,l,0,r.width))}}class IH{constructor(e,r){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new RH(this.Gt),this.Jt=e,this.yt=r}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),r=this.yt.Qt().N().crosshair,n=this.Gt;if(r.mode===2)return n.Kt.It=!1,void(n.Yt.It=!1);n.Kt.It=e&&this.Jt.ti(this.yt),n.Yt.It=e&&this.Jt.ii(),n.Kt.ct=r.horzLine.width,n.Kt.Zt=r.horzLine.style,n.Kt.R=r.horzLine.color,n.Yt.ct=r.vertLine.width,n.Yt.Zt=r.vertLine.style,n.Yt.R=r.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}}function DH(t,e,r,n,i,s){t.fillRect(e+s,r,n-2*s,s),t.fillRect(e+s,r+i-s,n-2*s,s),t.fillRect(e,r,s,i),t.fillRect(e+n-s,r,s,i)}function hv(t,e,r,n,i,s){t.save(),t.globalCompositeOperation="copy",t.fillStyle=s,t.fillRect(e,r,n,i),t.restore()}function xA(t,e,r,n,i,s){t.beginPath(),t.roundRect?t.roundRect(e,r,n,i,s):(t.lineTo(e+n-s[1],r),s[1]!==0&&t.arcTo(e+n,r,e+n,r+s[1],s[1]),t.lineTo(e+n,r+i-s[2]),s[2]!==0&&t.arcTo(e+n,r+i,e+n-s[2],r+i,s[2]),t.lineTo(e+s[3],r+i),s[3]!==0&&t.arcTo(e,r+i,e,r+i-s[3],s[3]),t.lineTo(e,r+s[0]),s[0]!==0&&t.arcTo(e,r,e+s[0],r,s[0]))}function bA(t,e,r,n,i,s,a=0,o=[0,0,0,0],l=""){if(t.save(),!a||!l||l===s)return xA(t,e,r,n,i,o),t.fillStyle=s,t.fill(),void t.restore();const u=a/2;var f;xA(t,e+u,r+u,n-a,i-a,(f=-u,o.map((p=>p===0?p:p+f)))),s!=="transparent"&&(t.fillStyle=s,t.fill()),l!=="transparent"&&(t.lineWidth=a,t.strokeStyle=l,t.closePath(),t.stroke()),t.restore()}function MI(t,e,r,n,i,s,a){t.save(),t.globalCompositeOperation="copy";const o=t.createLinearGradient(0,0,0,i);o.addColorStop(0,s),o.addColorStop(1,a),t.fillStyle=o,t.fillRect(e,r,n,i),t.restore()}class wA{constructor(e,r){this.ht(e,r)}ht(e,r){this.jt=e,this.ei=r}$t(e,r){return this.jt.It?e.k+e.A+e.I:0}nt(e,r,n,i){if(!this.jt.It||this.jt.ri.length===0)return;const s=this.jt.R,a=this.ei.G,o=e.useBitmapCoordinateSpace((l=>{const u=l.context;u.font=r.P;const f=this.hi(l,r,n,i),p=f.ai;return f.li?bA(u,p.oi,p._i,p.ui,p.ci,a,p.di,[p.ft,0,0,p.ft],a):bA(u,p.fi,p._i,p.ui,p.ci,a,p.di,[0,p.ft,p.ft,0],a),this.jt.pi&&(u.fillStyle=s,u.fillRect(p.fi,p.mi,p.wi-p.fi,p.gi)),this.jt.Mi&&(u.fillStyle=r.D,u.fillRect(f.li?p.bi-p.di:0,p._i,p.di,p.Si-p._i)),f}));e.useMediaCoordinateSpace((({context:l})=>{const u=o.xi;l.font=r.P,l.textAlign=o.li?"right":"left",l.textBaseline="middle",l.fillStyle=s,l.fillText(this.jt.ri,u.Ci,(u._i+u.Si)/2+u.yi)}))}hi(e,r,n,i){const{context:s,bitmapSize:a,mediaSize:o,horizontalPixelRatio:l,verticalPixelRatio:u}=e,f=this.jt.pi||!this.jt.ki?r.C:0,p=this.jt.Pi?r.S:0,m=r.A+this.ei.Ti,v=r.I+this.ei.Ri,y=r.V,x=r.B,b=this.jt.ri,S=r.k,N=n.Di(s,b),A=Math.ceil(n.Ii(s,b)),k=S+m+v,E=r.S+y+x+A+f,j=Math.max(1,Math.floor(u));let T=Math.round(k*u);T%2!=j%2&&(T+=1);const M=p>0?Math.max(1,Math.floor(p*l)):0,I=Math.round(E*l),q=Math.round(f*l),D=this.ei.Vi??this.ei.Bi??this.ei.Ei,L=Math.round(D*u)-Math.floor(.5*u),V=Math.floor(L+j/2-T/2),K=V+T,Y=i==="right",J=Y?o.width-p:p,te=Y?a.width-M:M;let U,X,ie;return Y?(U=te-I,X=te-q,ie=J-f-y-p):(U=te+I,X=te+q,ie=J+f+y),{li:Y,ai:{_i:V,mi:L,Si:K,ui:I,ci:T,ft:2*l,di:M,oi:U,fi:te,wi:X,gi:j,bi:a.width},xi:{_i:V/u,Si:K/u,Ci:ie,yi:N}}}}class fv{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||wA)(this.Li,this.Ai),this.Ni=new(e||wA)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,r=!1){return Math.max(this.Oi.$t(e,r),this.Ni.$t(e,r))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class LH extends fv{constructor(e,r,n){super(),this.Jt=e,this.Ki=r,this.Zi=n}Yi(e,r,n){if(e.It=!1,this.Jt.N().mode===2)return;const i=this.Jt.N().horzLine;if(!i.labelVisible)return;const s=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||s===null)return;const a=this.Ki.Xi().Z(i.labelBackgroundColor);n.G=a.G,e.R=a.X;const o=2/12*this.Ki.k();n.Ti=o,n.Ri=o;const l=this.Zi(this.Ki);n.Ei=l.Ei,e.ri=this.Ki.Ji(l.gt,s),e.It=!0}}const zH=/[1-9]/g;class OI{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,r){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const n=e.useMediaCoordinateSpace((({context:m})=>(m.font=r.P,Math.round(r.Qi.Ii(m,Le(this.jt).ri,zH)))));if(n<=0)return;const i=r.ts,s=n+2*i,a=s/2,o=this.jt.ss;let l=this.jt.Ei,u=Math.floor(l-a)+.5;u<0?(l+=Math.abs(0-u),u=Math.floor(l-a)+.5):u+s>o&&(l-=Math.abs(o-(u+s)),u=Math.floor(l-a)+.5);const f=u+s,p=Math.ceil(0+r.S+r.C+r.A+r.k+r.I);e.useBitmapCoordinateSpace((({context:m,horizontalPixelRatio:v,verticalPixelRatio:y})=>{const x=Le(this.jt);m.fillStyle=x.G;const b=Math.round(u*v),S=Math.round(0*y),N=Math.round(f*v),A=Math.round(p*y),k=Math.round(2*v);if(m.beginPath(),m.moveTo(b,S),m.lineTo(b,A-k),m.arcTo(b,A,b+k,A,k),m.lineTo(N-k,A),m.arcTo(N,A,N,A-k,k),m.lineTo(N,S),m.fill(),x.pi){const E=Math.round(x.Ei*v),j=S,T=Math.round((j+r.C)*y);m.fillStyle=x.R;const M=Math.max(1,Math.floor(v)),I=Math.floor(.5*v);m.fillRect(E-I,j,M,T-j)}})),e.useMediaCoordinateSpace((({context:m})=>{const v=Le(this.jt),y=0+r.S+r.C+r.A+r.k/2;m.font=r.P,m.textAlign="left",m.textBaseline="middle",m.fillStyle=v.R;const x=r.Qi.Di(m,"Apr0");m.translate(u+i,y+x),m.fillText(v.ri,0,0)}))}}class FH{constructor(e,r,n){this.xt=!0,this.Xt=new OI,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=r,this.Zi=n}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const r=this.Ct.N().vertLine;if(!r.labelVisible)return;const n=this.ns.Et();if(n.Gi())return;e.ss=n.ss();const i=this.Zi();if(i===null)return;e.Ei=i.Ei;const s=n.es(this.Ct.Bt());e.ri=n.rs(Le(s)),e.It=!0;const a=this.ns.Xi().Z(r.labelBackgroundColor);e.G=a.G,e.R=a.X,e.pi=n.N().ticksVisible}}class RI{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var SA;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"})(SA||(SA={}));class BH extends RI{constructor(e,r){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=r,this.Ts=((i,s)=>a=>{const o=s(),l=i();if(a===Le(this.yt).Rs())return{gt:l,Ei:o};{const u=Le(a.Lt());return{gt:a.Ds(o,u),Ei:o}}})((()=>this.ps),(()=>this.Cs));const n=((i,s)=>()=>{const a=this.ns.Et().Is(i()),o=s();return a&&Number.isFinite(o)?{wt:a,Ei:o}:null})((()=>this.vs),(()=>this.si()));this.Vs=new FH(this,e,n)}N(){return this.Ps}Bs(e,r){this.ys=e,this.ks=r}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,r,n){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,r,n)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const r=this.ns,n=r.Et();let i=null,s=null;for(const u of r.Us()){const f=u.qs().$s(e,-1);if(f){if(f.js===e)return e;(i===null||f.js>i)&&(i=f.js)}const p=u.qs().$s(e,1);if(p){if(p.js===e)return e;(s===null||p.js<s)&&(s=p.js)}}const a=[i,s].filter(vA);if(a.length===0)return e;const o=n.qt(e),l=a.map((u=>Math.abs(o-n.qt(u))));return a[l.indexOf(Math.min(...l))]}Ys(e){let r=this.bs.get(e);r||(r=new IH(this,e),this.bs.set(e,r));let n=this.Ss.get(e);return n||(n=new OH(this.ns,this,e),this.Ss.set(e,n)),[r,n]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,r){this.ws&&this.yt===e||this.gs.clear();const n=[];return this.yt===e&&n.push(this.Zs(this.gs,r,this.Ts)),n}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach((e=>{var r,n;(r=this.bs.get(e))==null||r.kt(),(n=this.Ss.get(e))==null||n.kt()})),this.gs.forEach((e=>e.kt())),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,r,n){this.Qs(e,r,n)&&this.Ws()}Qs(e,r,n){const i=this.xs,s=this.Cs,a=this.ps,o=this.vs,l=this.yt,u=this.Js(n);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=n;const f=u!==null?u.Lt():null;return u!==null&&f!==null?(this.ps=r,this.Cs=u.Nt(r,f)):(this.ps=NaN,this.Cs=NaN),i!==this.xs||s!==this.Cs||o!==this.vs||a!==this.ps||l!==this.yt}Fs(){const e=this.ns.tn().map((n=>n.qs().sn())).filter(vA),r=e.length===0?null:Math.max(...e);this.vs=r!==null?r:NaN}Zs(e,r,n){let i=e.get(r);return i===void 0&&(i=new LH(this,r,n),e.set(r,i)),i}}function pv(t){return t==="left"||t==="right"}let ci=class M5{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,r){const n=(function(i,s){return i===void 0?s:{an:Math.max(i.an,s.an),ln:i.ln||s.ln}})(this.nn.get(e),r);this.nn.set(e,n)}_n(){return this.rn}un(e){const r=this.nn.get(e);return r===void 0?{an:this.rn}:{an:Math.max(this.rn,r.an),ln:r.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const r of e.en)this.xn(r);this.rn=Math.max(this.rn,e.rn),e.nn.forEach(((r,n)=>{this.hn(n,r)}))}static Cn(){return new M5(2)}static yn(){return new M5(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex((r=>r.fn===5));e!==-1&&this.en.splice(e,1)}};class II{formatTickmarks(e){return e.map((r=>this.format(r)))}}const _A=".";function Ia(t,e){if(!lc(t))return"n/a";if(!af(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class mv extends II{constructor(e,r){if(super(),r||(r=1),lc(e)&&af(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=r,this.Pn()}format(e){const r=e<0?"":"";return e=Math.abs(e),r+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const r=this.Ki/this.kn;let n=Math.floor(e),i="";const s=this.Rn!==void 0?this.Rn:NaN;if(r>1){let a=+(Math.round(e*r)-n*r).toFixed(this.Rn);a>=r&&(a-=r,n+=1),i=_A+Ia(+a.toFixed(this.Rn)*this.kn,s)}else n=Math.round(n*r)/r,s>0&&(i=_A+Ia(0,s));return n.toFixed(0)+i}}class DI extends mv{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class $H extends II{constructor(e){super(),this.Dn=e}format(e){let r="";return e<0&&(r="-",e=-e),e<995?r+this.In(e):e<999995?r+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),r+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),r+this.In(e/1e9)+"B")}In(e){let r;const n=Math.pow(10,this.Dn);return r=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),r.replace(/(\.[1-9]*)0+$/,((i,s)=>s))}}const qH=/[2-9]/g;class cf{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,r,n){return this.Nn(e,r,n).width}Di(e,r,n){const i=this.Nn(e,r,n);return((i.actualBoundingBoxAscent||0)-(i.actualBoundingBoxDescent||0))/2}Nn(e,r,n){const i=n||qH,s=String(r).replace(i,"0");if(this.Ln.has(s))return yi(this.Ln.get(s)).Fn;if(this.Vn===this.zn){const o=this.An[this.En];delete this.An[this.En],this.Ln.delete(o),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const a=e.measureText(s);return e.restore(),a.width===0&&r.length||(this.Ln.set(s,{Fn:a,Wn:this.Bn}),this.An[this.Bn]=s,this.Vn++,this.Bn++),a}}class UH{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,r,n){this.Hn=e,this.M=r,this.Un=n}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class LI{constructor(e,r,n){this.jn=e,this.$n=new cf(50),this.Yn=r,this.O=n,this.F=-1,this.Xt=new UH(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const r=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(r===null)return null;const n=e.Xn(r);if(n==="overlay")return null;const i=this.O.Jn();return i.k!==this.F&&(this.F=i.k,this.$n.On()),this.Xt.qn(this.jn.ji(),i,n),this.Xt}}class VH extends tl{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,r){var a;if(!((a=this.jt)!=null&&a.It))return null;const{ut:n,ct:i,te:s}=this.jt;return r>=n-i-7&&r<=n+i+7?{ie:this.jt,te:s}:null}et({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.jt===null||this.jt.It===!1)return;const s=Math.round(this.jt.ut*i);s<0||s>r.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*n),oc(e,this.jt.Zt),PI(e,s,0,r.width))}}class s6{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new VH,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}let WH=class extends s6{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),r=e.ae().ae;if(r!==2&&r!==3)return;const n=this.ee.N();if(!n.baseLineVisible||!this.ee.It())return;const i=this.ee.Lt();i!==null&&(this.se.It=!0,this.se.ut=e.Nt(i.Wt,i.Wt),this.se.R=n.baseLineColor,this.se.ct=n.baseLineWidth,this.se.Zt=n.baseLineStyle)}};class HH extends tl{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:n}){const i=this.jt;if(i===null)return;const s=Math.max(1,Math.floor(r)),a=s%2/2,o=Math.round(i.oe.x*r)+a,l=i.oe.y*n;e.fillStyle=i._e,e.beginPath();const u=Math.max(2,1.5*i.ue)*r;e.arc(o,l,u,0,2*Math.PI,!1),e.fill(),e.fillStyle=i.ce,e.beginPath(),e.arc(o,l,i.ft*r,0,2*Math.PI,!1),e.fill(),e.lineWidth=s,e.strokeStyle=i.de,e.beginPath(),e.arc(o,l,i.ft*r+s/2,0,2*Math.PI,!1),e.stroke()}}const KH=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class GH{constructor(e){this.Xt=new HH,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),r=this.Ce-e;if(r>0)return void(r<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),r=e.Ie(),n=this.ye.Lt();if(r===null||n===null)return;const i=this.ye.Ve(!0);if(i.Be||!r.Ee(i.js))return;const s={x:e.qt(i.js),y:this.ye.Ft().Nt(i.gt,n.Wt)},a=i.R,o=this.ye.N().lineWidth,l=this.Ae(this.Le(),a);this.Xt.ht({_e:a,ue:o,ce:l.ce,de:l.de,ft:l.ft,oe:s})}De(){const e=this.Xt.le();if(e!==null){const r=this.Ae(this.Le(),e._e);e.ce=r.ce,e.de=r.de,e.ft=r.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,r,n,i){const s=n+(i-n)*r;return this.ye.Qt().Xi().Y(e,s)}Ae(e,r){const n=e%2600/2600;let i;for(const u of KH)if(n>=u.fe&&n<=u.pe){i=u;break}Sn(i!==void 0,"Last price animation internal logic error");const s=(n-i.fe)/(i.pe-i.fe);return{ce:this.ze(r,s,i.we,i.ge),de:this.ze(r,s,i.Me,i.be),ft:(a=s,o=i.ve,l=i.me,o+(l-o)*a)};var a,o,l}}class XH extends s6{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const r=this.ee.N();if(!r.priceLineVisible||!this.ee.It())return;const n=this.ee.Ve(r.priceLineSource===0);n.Be||(e.It=!0,e.ut=n.Ei,e.R=this.ee.Oe(n.R),e.ct=r.priceLineWidth,e.Zt=r.priceLineStyle)}}class YH extends fv{constructor(e){super(),this.Jt=e}Yi(e,r,n){e.It=!1,r.It=!1;const i=this.Jt;if(!i.It())return;const s=i.N(),a=s.lastValueVisible,o=i.Ne()!=="",l=s.seriesLastValueMode===0,u=i.Ve(!1);if(u.Be)return;a&&(e.ri=this.Fe(u,a,l),e.It=e.ri.length!==0),(o||l)&&(r.ri=this.We(u,a,o,l),r.It=r.ri.length>0);const f=i.Oe(u.R),p=this.Jt.Qt().Xi().Z(f);n.G=p.G,n.Ei=u.Ei,r.Ht=i.Qt().Ut(u.Ei/i.Ft().$t()),e.Ht=f,e.R=p.X,r.R=p.X}We(e,r,n,i){let s="";const a=this.Jt.Ne();return n&&a.length!==0&&(s+=`${a} `),r&&i&&(s+=this.Jt.Ft().He()?e.Ue:e.$e),s.trim()}Fe(e,r,n){return r?n?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}}function NA(t,e,r,n){const i=Number.isFinite(e),s=Number.isFinite(r);return i&&s?t(e,r):i||s?i?e:r:n}class Jn{constructor(e,r){this.qe=e,this.je=r}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new Jn(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new Jn(NA(Math.min,this.Ze(),e.Ze(),-1/0),NA(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!lc(e)||this.je-this.qe===0)return;const r=.5*(this.je+this.qe);let n=this.je-r,i=this.qe-r;n*=e,i*=e,this.je=r+n,this.qe=r+i}Qe(e){lc(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new Jn(e.minValue,e.maxValue)}}let AA=class zI{constructor(e,r){this.sr=e,this.nr=r||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new zI(Jn.ir(e.priceRange),e.margins)}};const JH=[2,4,8,16,32,64,128,256,512],QH="Custom series with conflation reducer must have a priceValueBuilder method";let ZH=class extends s6{constructor(e,r){super(e),this.hr=r}he(){const e=this.se;e.It=!1;const r=this.hr.N();if(!this.ee.It()||!r.lineVisible)return;const n=this.hr.ar();n!==null&&(e.It=!0,e.ut=n,e.R=r.color,e.ct=r.lineWidth,e.Zt=r.lineStyle,e.te=this.hr.N().id)}};class eK extends fv{constructor(e,r){super(),this.ye=e,this.hr=r}Yi(e,r,n){e.It=!1,r.It=!1;const i=this.hr.N(),s=i.axisLabelVisible,a=i.title!=="",o=this.ye;if(!s||!o.It())return;const l=this.hr.ar();if(l===null)return;a&&(r.ri=i.title,r.It=!0),r.Ht=o.Qt().Ut(l/o.Ft().$t()),e.ri=this.lr(i.price),e.It=!0;const u=this.ye.Qt().Xi().Z(i.axisLabelColor||i.color);n.G=u.G;const f=i.axisLabelTextColor||u.X;e.R=f,r.R=f,n.Ei=l}lr(e){const r=this.ye.Lt();return r===null?"":this.ye.Ft().Ji(e,r.Wt)}}class tK{constructor(e,r){this.ye=e,this.Ps=r,this._r=new ZH(e,this),this.jn=new eK(e,this),this.ur=new LI(this.jn,e,e.Qt())}cr(e){Li(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,r=e.Ft();if(e.Qt().Et().Gi()||r.Gi())return null;const n=e.Lt();return n===null?null:r.Nt(this.Ps.price,n.Wt)}}class rK{constructor(){this.wr=new WeakMap}gr(e,r,n){const i=1/r*n;if(e>=i)return 1;const s=i/e,a=Math.pow(2,Math.floor(Math.log2(s)));return Math.min(a,512)}Mr(e,r,n,i=!1,s){if(e.length===0||r<=1)return e;const a=this.br(r);if(a<=1)return e;const o=this.Sr(e);let l=o.Cr.get(a);return l!==void 0||(l=this.yr(e,a,n,i,s,o.Cr),o.Cr.set(a,l)),l}kr(e,r,n,i,s=!1,a){if(n<1||e.length===0)return e;const o=this.Sr(e),l=o.Cr.get(n);if(!l)return this.Mr(e,n,i,s,a);const u=this.Pr(e,r,n,l,s,i,a);return o.Cr.set(n,u),u}br(e){if(e<=2)return 2;for(const r of JH)if(e<=r)return r;return 512}Tr(e){if(e.length===0)return 0;const r=e[0],n=e[e.length-1];return 31*e.length+17*r.js+13*n.js}yr(e,r,n,i=!1,s,a=new Map){if(r===2)return this.Rr(e,2,n,i,s);const o=r/2;let l=a.get(o);return l||(l=this.yr(e,o,n,i,s,a),a.set(o,l)),this.Dr(l,n,i,s)}Rr(e,r,n,i=!1,s){const a=this.Ir(e,r,n,i,s);return this.Vr(a,i)}Dr(e,r,n=!1,i){const s=this.Ir(e,2,r,n,i);return this.Vr(s,n)}Ir(e,r,n,i=!1,s){const a=[];for(let o=0;o<e.length;o+=r)if(e.length-o>=r){const l=this.Br(e[o],e[o+1],n,i,s);l.Er=!1,a.push(l)}else if(a.length===0)a.push(this.Ar(e[o],!0));else{const l=a[a.length-1];a[a.length-1]=this.Lr(l,e[o],n,i,s)}return a}zr(e,r){return(e??1)+(r??1)}Br(e,r,n,i=!1,s){if(!i||!n||!s){const u=e.Wt[1]>r.Wt[1]?e.Wt[1]:r.Wt[1],f=e.Wt[2]<r.Wt[2]?e.Wt[2]:r.Wt[2];return{Or:e.js,Nr:r.js,Fr:e.wt,Wr:r.wt,Hr:e.Wt[0],Ur:u,$r:f,qr:r.Wt[3],jr:this.zr(e.jr,r.jr),Yr:void 0,Er:!1}}const a=n(this.Kr(e,s),this.Kr(r,s)),o=s(a),l=o.length?o[o.length-1]:0;return{Or:e.js,Nr:r.js,Fr:e.wt,Wr:r.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],l),$r:Math.min(e.Wt[2],l),qr:l,jr:this.zr(e.jr,r.jr),Yr:a,Er:!1}}Lr(e,r,n,i=!1,s){if(!i||!n||!s)return{Or:e.Or,Nr:r.js,Fr:e.Fr,Wr:r.wt,Hr:e.Hr,Ur:e.Ur>r.Wt[1]?e.Ur:r.Wt[1],$r:e.$r<r.Wt[2]?e.$r:r.Wt[2],qr:r.Wt[3],jr:e.jr+(r.jr??1),Yr:e.Yr,Er:!1};const a=e.Yr,o=this.Kr(r,s),l=a?{data:a,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:s(a)}:null,u=l?n(l,o):o.data,f=l?s(u):o.priceValues,p=f.length?f[f.length-1]:0;return{Or:e.Or,Nr:r.js,Fr:e.Fr,Wr:r.wt,Hr:e.Hr,Ur:Math.max(e.Ur,p),$r:Math.min(e.$r,p),qr:p,jr:e.jr+(r.jr??1),Yr:u,Er:!1}}Zr(e,r,n,i,s,a,o=!1,l){const u=r===i?s:e[r];if(n-r==1)return this.Ar(u,!0);const f=r+1===i?s:e[r+1];let p=this.Br(u,f,a,o,l);for(let m=r+2;m<n;m++){const v=m===i?s:e[m];p=this.Lr(p,v,a,o,l)}return p}Kr(e,r){const n=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:r(n)}}Xr(e,r=!1){const n=r===!0,i=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[n?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:n?i?e.Yr:{wt:e.Fr}:void 0}}Vr(e,r=!1){return e.map((n=>this.Xr(n,r)))}Pr(e,r,n,i,s=!1,a,o){if(i.length===0)return i;const l=e.length-1,u=Math.floor(l/n)*n;if(Math.min(u+n,e.length)-u<n&&e.length>n){const f=e.slice();return f[f.length-1]=r,this.Mr(f,n,a,s,o)}if(Math.floor((l-1)/n)===Math.floor(l/n)||i.length===1){const f=Math.min(u+n,e.length),p=f-u;if(p<=0)return i;const m=p===1?this.Ar(u===l?r:e[u],!0):this.Zr(e,u,f,l,r,a,s,o);return i[i.length-1]=this.Xr(m,s),i}{const f=e.slice();return f[f.length-1]=r,this.Mr(f,n,a,s,o)}}Ar(e,r=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:r}}Sr(e){const r=this.Jr(e),n=this.Tr(e);return r.Qr!==n&&(r.Cr.clear(),r.Qr=n),r}Jr(e){let r=this.wr.get(e);return r===void 0&&(r={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,r)),r}}let nK=class extends RI{constructor(e){super(),this.ns=e}Qt(){return this.ns}};const iK={Bar:(t,e,r,n)=>{const i=e.upColor,s=e.downColor,a=Le(t(r,n)),o=Uo(a.Wt[0])<=Uo(a.Wt[3]);return{th:a.R??(o?i:s)}},Candlestick:(t,e,r,n)=>{const i=e.upColor,s=e.downColor,a=e.borderUpColor,o=e.borderDownColor,l=e.wickUpColor,u=e.wickDownColor,f=Le(t(r,n)),p=Uo(f.Wt[0])<=Uo(f.Wt[3]);return{th:f.R??(p?i:s),ih:f.Ht??(p?a:o),sh:f.nh??(p?l:u)}},Custom:(t,e,r,n)=>({th:Le(t(r,n)).R??e.color}),Area:(t,e,r,n)=>{const i=Le(t(r,n));return{th:i.vt??e.lineColor,vt:i.vt??e.lineColor,eh:i.eh??e.topColor,rh:i.rh??e.bottomColor}},Baseline:(t,e,r,n)=>{const i=Le(t(r,n));return{th:i.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:i.hh??e.topLineColor,ah:i.ah??e.bottomLineColor,oh:i.oh??e.topFillColor1,_h:i._h??e.topFillColor2,uh:i.uh??e.bottomFillColor1,dh:i.dh??e.bottomFillColor2}},Line:(t,e,r,n)=>{const i=Le(t(r,n));return{th:i.R??e.color,vt:i.R??e.color}},Histogram:(t,e,r,n)=>({th:Le(t(r,n)).R??e.color})};class sK{constructor(e){this.fh=(r,n)=>n!==void 0?n.Wt:this.ye.qs().ph(r),this.ye=e,this.mh=iK[e.wh()]}gh(e,r){return this.mh(this.fh,this.ye.N(),e,r)}}function FI(t,e,r,n,i=0,s=e.length){let a=s-i;for(;0<a;){const o=a>>1,l=i+o;n(e[l],r)===t?(i=l+1,a-=o+1):a=o}return i}const Du=FI.bind(null,!0),BI=FI.bind(null,!1);var EA;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(EA||(EA={}));const Ro=30;class aK{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,r=0){const n=this.Th(e,r);return n===null?null:{...this.Rh(n),js:this.Ph(n)}}Dh(){return this.Mh}Ih(e,r,n){if(this.Gi())return null;let i=null;for(const s of n)i=Mp(i,this.Vh(e,r,s));return i}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map((r=>r.js))}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,r){const n=this.Eh(e);if(n===null&&r!==0)switch(r){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return n}Ah(e){let r=this.zh(e);return r>0&&(r-=1),r!==this.Mh.length&&this.Ph(r)<e?r:null}Lh(e){const r=this.Oh(e);return r!==this.Mh.length&&e<this.Ph(r)?r:null}Eh(e){const r=this.zh(e);return r===this.Mh.length||e<this.Mh[r].js?null:r}zh(e){return Du(this.Mh,e,((r,n)=>r.js<n))}Oh(e){return BI(this.Mh,e,((r,n)=>r.js>n))}Nh(e,r,n){let i=null;for(let s=e;s<r;s++){const a=this.Mh[s].Wt[n];Number.isNaN(a)||(i===null?i={Fh:a,Wh:a}:(a<i.Fh&&(i.Fh=a),a>i.Wh&&(i.Wh=a)))}return i}Vh(e,r,n){if(this.Gi())return null;let i=null;const s=Le(this.kh()),a=Le(this.sn()),o=Math.max(e,s),l=Math.min(r,a),u=Math.ceil(o/Ro)*Ro,f=Math.max(u,Math.floor(l/Ro)*Ro);{const m=this.zh(o),v=this.Oh(Math.min(l,u,r));i=Mp(i,this.Nh(m,v,n))}let p=this.bh.get(n);p===void 0&&(p=new Map,this.bh.set(n,p));for(let m=Math.max(u+1,o);m<f;m+=Ro){const v=Math.floor(m/Ro);let y=p.get(v);if(y===void 0){const x=this.zh(v*Ro),b=this.Oh((v+1)*Ro-1);y=this.Nh(x,b,n),p.set(v,y)}i=Mp(i,y)}{const m=this.zh(f),v=this.Oh(l);i=Mp(i,this.Nh(m,v,n))}return i}}function Mp(t,e){return t===null?e:e===null?t:{Fh:Math.min(t.Fh,e.Fh),Wh:Math.max(t.Wh,e.Wh)}}function sx(){return new aK}const Km={setLineStyle:oc};class oK{constructor(e){this.Hh=e}nt(e,r,n){this.Hh.draw(e,Km)}Uh(e,r,n){var i,s;(s=(i=this.Hh).drawBackground)==null||s.call(i,e,Km)}}let lK=class{constructor(e){this.Ln=null,this.$h=e}Tt(){var n;const e=this.$h.renderer();if(e===null)return null;if(((n=this.Ln)==null?void 0:n.qh)===e)return this.Ln.jh;const r=new oK(e);return this.Ln={qh:e,jh:r},r}Yh(){var e,r;return((r=(e=this.$h).zOrder)==null?void 0:r.call(e))??"normal"}};class $I{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){var e,r;(r=(e=this.Zh).updateAllViews)==null||r.call(e)}Ys(){var n,i,s;const e=((i=(n=this.Zh).paneViews)==null?void 0:i.call(n))??[];if(((s=this.Kh)==null?void 0:s.qh)===e)return this.Kh.jh;const r=e.map((a=>new lK(a)));return this.Kh={qh:e,jh:r},r}Qn(e,r){var n,i;return((i=(n=this.Zh).hitTest)==null?void 0:i.call(n,e,r))??null}}let cK=class extends $I{ds(){return[]}},uK=class{constructor(e){this.Hh=e}nt(e,r,n){this.Hh.draw(e,Km)}Uh(e,r,n){var i,s;(s=(i=this.Hh).drawBackground)==null||s.call(i,e,Km)}};class CA{constructor(e){this.Ln=null,this.$h=e}Tt(){var n;const e=this.$h.renderer();if(e===null)return null;if(((n=this.Ln)==null?void 0:n.qh)===e)return this.Ln.jh;const r=new uK(e);return this.Ln={qh:e,jh:r},r}Yh(){var e,r;return((r=(e=this.$h).zOrder)==null?void 0:r.call(e))??"normal"}}function qI(t){var e,r,n;return{ri:t.text(),Ei:t.coordinate(),Vi:(e=t.fixedCoordinate)==null?void 0:e.call(t),R:t.textColor(),G:t.backColor(),It:((r=t.visible)==null?void 0:r.call(t))??!0,pi:((n=t.tickVisible)==null?void 0:n.call(t))??!0}}class dK{constructor(e,r){this.Xt=new OI,this.Xh=e,this.Jh=r}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...qI(this.Xh)}),this.Xt}}class hK extends fv{constructor(e,r){super(),this.Xh=e,this.Ki=r}Yi(e,r,n){const i=qI(this.Xh);n.G=i.G,e.R=i.R;const s=2/12*this.Ki.k();n.Ti=s,n.Ri=s,n.Ei=i.Ei,n.Vi=i.Vi,e.ri=i.ri,e.It=i.It,e.pi=i.pi}}let fK=class extends $I{constructor(e,r){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=r}fs(){var i,s,a;const e=((s=(i=this.Zh).timeAxisViews)==null?void 0:s.call(i))??[];if(((a=this.Qh)==null?void 0:a.qh)===e)return this.Qh.jh;const r=this.ye.Qt().Et(),n=e.map((o=>new dK(o,r)));return this.Qh={qh:e,jh:n},n}Ks(){var i,s,a;const e=((s=(i=this.Zh).priceAxisViews)==null?void 0:s.call(i))??[];if(((a=this.ta)==null?void 0:a.qh)===e)return this.ta.jh;const r=this.ye.Ft(),n=e.map((o=>new hK(o,r)));return this.ta={qh:e,jh:n},n}na(){var n,i,s;const e=((i=(n=this.Zh).priceAxisPaneViews)==null?void 0:i.call(n))??[];if(((s=this.ia)==null?void 0:s.qh)===e)return this.ia.jh;const r=e.map((a=>new CA(a)));return this.ia={qh:e,jh:r},r}ea(){var n,i,s;const e=((i=(n=this.Zh).timeAxisPaneViews)==null?void 0:i.call(n))??[];if(((s=this.sa)==null?void 0:s.qh)===e)return this.sa.jh;const r=e.map((a=>new CA(a)));return this.sa={qh:e,jh:r},r}ra(e,r){var n,i;return((i=(n=this.Zh).autoscaleInfo)==null?void 0:i.call(n,e,r))??null}};function ax(t,e,r,n){t.forEach((i=>{e(i).forEach((s=>{s.Yh()===r&&n.push(s)}))}))}function ox(t){return t.Ys()}function pK(t){return t.na()}function mK(t){return t.ea()}const gK=["Area","Line","Baseline"];class gv extends nK{constructor(e,r,n,i,s){super(e),this.jt=sx(),this._r=new XH(this),this.ha=[],this.aa=new WH(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new rK,this.da=new Map,this.fa=null,this.Ps=n,this.pa=r;const a=new YH(this);if(this.gs=[a],this.ur=new LI(a,this,e),gK.includes(this.pa)&&(this.la=new GH(this)),this.va(),this.$h=i(this,this.Qt(),s),this.pa==="Custom"){const o=this.$h;o.ma&&this.wa(o.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const r={Be:!0},n=this.Ft();if(this.Qt().Et().Gi()||n.Gi()||this.jt.Gi())return r;const i=this.Qt().Et().Ie(),s=this.Lt();if(i===null||s===null)return r;let a,o;if(e){const p=this.jt.Ch();if(p===null)return r;a=p,o=p.js}else{const p=this.jt.$s(i.bi(),-1);if(p===null||(a=this.jt.ph(p.js),a===null))return r;o=p.js}const l=a.Wt[3],u=this.ga().gh(o,{Wt:a}),f=n.Nt(l,s.Wt);return{Be:!1,gt:l,ri:n.Ji(l,s.Wt),Ue:n.Ma(l),$e:n.ba(l,s.Wt),R:u.th,Ei:f,js:o}}ga(){return this.oa!==null||(this.oa=new sK(this)),this.oa}N(){return this.Ps}cr(e){const r=this.Qt(),{priceScaleId:n,visible:i,priceFormat:s}=e;n!==void 0&&n!==this.Ps.priceScaleId&&r.Sa(this,n),i!==void 0&&i!==this.Ps.visible&&r.xa();const a=e.conflationThresholdFactor!==void 0;Li(this.Ps,e),a&&(this.da.clear(),this.Qt().dr()),s!==void 0&&(this.va(),r.Ca()),r.ya(this),r.ka(),this.$h.kt("options")}ht(e,r){this.jt.ht(e),this.da.clear();const n=this.Qt().Et().N();n.enableConflation&&n.precomputeConflationOnInit&&this.Pa(n.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(r&&r.Ta?this.la.Pe():e.length===0&&this.la.ke());const i=this.Qt().Kn(this);this.Qt().Ra(i),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const r=new tK(this,e);return this.ha.push(r),this.Qt().ya(this),r}Ia(e){const r=this.ha.indexOf(e);r!==-1&&this.ha.splice(r,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const r=e.Aa();return this.jt.$s(r,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const r=this.za();if(!this.da.has(r))return;const n=this.pa==="Custom",i=n&&this.fa||void 0,s=n&&this.$h.Oa?l=>{const u=l,f=this.$h.Oa(u);return Array.isArray(f)?f:[typeof f=="number"?f:0]}:void 0,a=this.ca.kr(this.jt.Dh(),e,r,i,n,s),o=sx();o.ht(a),this.da.set(r,o)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const r=this.za(),n=this.da.get(r);return n||(this.Fa(r),this.da.get(r)??this.jt)}Wa(e){const r=this.jt.ph(e);return r===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:r.Wt[0],Ur:r.Wt[1],$r:r.Wt[2],qr:r.Wt[3]}:r.Wt[3]}Ha(e){const r=[];ax(this.ua,ox,"top",r);const n=this.la;return n!==null&&n.It()&&(this._a===null&&n.Re()&&(this._a=setTimeout((()=>{this._a=null,this.Qt().Ua()}),0)),n.Te(),r.unshift(n)),r}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const r=this.ha.map((n=>n.pr()));return e.push(...r),ax(this.ua,ox,"normal",e),e}qa(){return this.ja(ox,"bottom")}Ya(e){return this.ja(pK,e)}Ka(e){return this.ja(mK,e)}Za(e,r){return this.ua.map((n=>n.Qn(e,r))).filter((n=>n!==null))}ds(){return[this.ur,...this.ha.map((e=>e.vr()))]}Ks(e,r){if(r!==this.hs&&!this.$a())return[];const n=[...this.gs];for(const i of this.ha)n.push(i.mr());return this.ua.forEach((i=>{n.push(...i.Ks())})),n}fs(){const e=[];return this.ua.forEach((r=>{e.push(...r.fs())})),e}ra(e,r){if(this.Ps.autoscaleInfoProvider!==void 0){const n=this.Ps.autoscaleInfoProvider((()=>{const i=this.Ga(e,r);return i===null?null:i.tr()}));return AA.ir(n)}return this.Ga(e,r)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){var e;this.$h.kt();for(const r of this.gs)r.kt();for(const r of this.ha)r.kt();this._r.kt(),this.aa.kt(),(e=this.la)==null||e.kt(),this.ua.forEach((r=>r.Ws()))}Ft(){return Le(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const r=this.jt.ph(e);return r===null?null:{gt:r.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new fK(e,this))}el(e){this.ua=this.ua.filter((r=>r.Gh()!==e))}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!pv(this.Ft().ol())}Ga(e,r){if(!af(e)||!af(r)||this.jt.Gi())return null;const n=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],i=this.jt.Ih(e,r,n);let s=i!==null?new Jn(i.Fh,i.Wh):null,a=null;if(this.wh()==="Histogram"){const o=this.Ps.base,l=new Jn(o,o);s=s!==null?s.Sn(l):l}return this.ua.forEach((o=>{const l=o.ra(e,r);if(l!=null&&l.priceRange){const u=new Jn(l.priceRange.minValue,l.priceRange.maxValue);s=s!==null?s.Sn(u):u}l!=null&&l.margins&&(a=l.margins)})),new AA(s,a)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const r=this.Ps.crosshairMarkerBackgroundColor;if(r.length!==0)return r}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(r=>r.map(e))};break}case"volume":this.Ja=new $H(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new DI(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new mv(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,r){const n=[];return ax(this.ua,e,r,n),n}za(){const{ul:e,cl:r,dl:n}=this.fl();return this.ca.gr(e,r,n)}fl(){const e=this.Qt().Et(),r=e.ul(),n=window.devicePixelRatio||1,i=e.N().conflationThresholdFactor;return{ul:r,cl:n,dl:this.Ps.conflationThresholdFactor??i??1}}pl(e){const r=this.jt.Dh();let n;if(this.pa==="Custom"&&this.fa!==null){const s=this.rl();if(!s)throw new Error(QH);n=this.ca.Mr(r,e,this.fa,!0,(a=>s(a)))}else n=this.ca.Mr(r,e);const i=sx();return i.ht(n),i}Fa(e){const r=this.pl(e);this.da.set(e,r)}Pa(e){var n;if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const r=this.Qt().Et().vl();for(const i of r){const s=()=>{this.ml(i)},a=typeof window=="object"&&window||typeof self=="object"&&self;(n=a==null?void 0:a.gl)!=null&&n.wl?a.gl.wl((()=>{s()}),{Ml:e}):Promise.resolve().then((()=>s()))}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const r=this.pl(e);this.da.set(e,r)}}const vK=[3],yK=[0,1,2,3];class xK{constructor(e){this.Ps=e}bl(e,r,n){let i=e;if(this.Ps.mode===0)return i;const s=n.Rs(),a=s.Lt();if(a===null)return i;const o=s.Nt(e,a),l=n.Sl().filter((f=>f instanceof gv)).reduce(((f,p)=>{if(n.Zn(p)||!p.It())return f;const m=p.Ft(),v=p.qs();if(m.Gi()||!v.Ee(r))return f;const y=v.ph(r);if(y===null)return f;const x=Uo(p.Lt()),b=this.Ps.mode===3?yK:vK;return f.concat(b.map((S=>m.Nt(y.Wt[S],x.Wt))))}),[]);if(l.length===0)return i;l.sort(((f,p)=>Math.abs(f-o)-Math.abs(p-o)));const u=l[0];return i=s.Ds(u,a),i}}function qh(t,e,r){return Math.min(Math.max(t,e),r)}function Op(t,e,r){return e-t<=r}function a6(t){const e=Math.ceil(t);return e%2==0?e-1:e}class bK extends tl{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(this.jt===null)return;const s=Math.max(1,Math.floor(n));e.lineWidth=s,(function(a,o){a.save(),a.lineWidth%2&&a.translate(.5,.5),o(),a.restore()})(e,(()=>{const a=Le(this.jt);if(a.xl){e.strokeStyle=a.Cl,oc(e,a.yl),e.beginPath();for(const o of a.kl){const l=Math.round(o.Pl*n);e.moveTo(l,-s),e.lineTo(l,r.height+s)}e.stroke()}if(a.Tl){e.strokeStyle=a.Rl,oc(e,a.Dl),e.beginPath();for(const o of a.Il){const l=Math.round(o.Pl*i);e.moveTo(-s,l),e.lineTo(r.width+s,l)}e.stroke()}}))}}class wK{constructor(e){this.Xt=new bK,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,r={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map((n=>({Pl:n.coord})))};this.Xt.ht(r),this.xt=!1}return this.Xt}}class SK{constructor(e){this.$h=new wK(e)}pr(){return this.$h}}const lx={Bl:4,El:1e-4};function fu(t,e){const r=100*(t-e)/e;return e<0?-r:r}function _K(t,e){const r=fu(t.Ze(),e),n=fu(t.Ge(),e);return new Jn(r,n)}function Uh(t,e){const r=100*(t-e)/e+100;return e<0?-r:r}function NK(t,e){const r=Uh(t.Ze(),e),n=Uh(t.Ge(),e);return new Jn(r,n)}function Gm(t,e){const r=Math.abs(t);if(r<1e-15)return 0;const n=Math.log10(r+e.El)+e.Bl;return t<0?-n:n}function Vh(t,e){const r=Math.abs(t);if(r<1e-15)return 0;const n=Math.pow(10,r-e.Bl)-e.El;return t<0?-n:n}function bh(t,e){if(t===null)return null;const r=Gm(t.Ze(),e),n=Gm(t.Ge(),e);return new Jn(r,n)}function pu(t,e){if(t===null)return null;const r=Vh(t.Ze(),e),n=Vh(t.Ge(),e);return new Jn(r,n)}function cx(t){if(t===null)return lx;const e=Math.abs(t.Ge()-t.Ze());if(e>=1||e<1e-15)return lx;const r=Math.ceil(Math.abs(Math.log10(e))),n=lx.Bl+r;return{Bl:n,El:1/Math.pow(10,n)}}class ux{constructor(e,r){if(this.Al=e,this.Ll=r,(function(n){if(n<0)return!1;if(n>1e18)return!0;for(let i=n;i>1;i/=10)if(i%10!=0)return!1;return!0})(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let n=this.Al;n!==1;){if(n%2==0)this.zl.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),n/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,r,n){const i=this.Al===0?0:1/this.Al;let s=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-r)))),a=0,o=this.Ll[0];for(;;){const p=Op(s,i,1e-14)&&s>i+1e-14,m=Op(s,n*o,1e-14),v=Op(s,1,1e-14);if(!(p&&m&&v))break;s/=o,o=this.Ll[++a%this.Ll.length]}if(s<=i+1e-14&&(s=i),s=Math.max(1,s),this.zl.length>0&&(l=s,u=1,f=1e-14,Math.abs(l-u)<f))for(a=0,o=this.zl[0];Op(s,n*o,1e-14)&&s>i+1e-14;)s/=o,o=this.zl[++a%this.zl.length];var l,u,f;return s}}class kA{constructor(e,r,n,i){this.Nl=[],this.Ki=e,this.Al=r,this.Fl=n,this.Wl=i}Ol(e,r){if(e<r)throw new Error("high < low");const n=this.Ki.$t(),i=(e-r)*this.Hl()/n,s=new ux(this.Al,[2,2.5,2]),a=new ux(this.Al,[2,2,2.5]),o=new ux(this.Al,[2.5,2,2]),l=[];return l.push(s.Ol(e,r,i),a.Ol(e,r,i),o.Ol(e,r,i)),(function(u){if(u.length<1)throw Error("array is empty");let f=u[0];for(let p=1;p<u.length;++p)u[p]<f&&(f=u[p]);return f})(l)}Ul(){const e=this.Ki,r=e.Lt();if(r===null)return void(this.Nl=[]);const n=e.$t(),i=this.Fl(n-1,r),s=this.Fl(0,r),a=this.Ki.N().entireTextOnly?this.$l()/2:0,o=a,l=n-1-a,u=Math.max(i,s),f=Math.min(i,s);if(u===f)return void(this.Nl=[]);const p=this.Ol(u,f);if(this.ql(r,p,u,f,o,l),e.jl()&&this.Yl(p,f,u)){const y=this.Ki.Kl();this.Zl(r,p,o,l,y,2*y)}const m=this.Nl.map((y=>y.Gl)),v=this.Ki.Xl(m);for(let y=0;y<this.Nl.length;y++)this.Nl[y].Jl=v[y]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,r,n,i,s,a){const o=this.Nl,l=this.Ki;let u=n%r;u+=u<0?r:0;const f=n>=i?1:-1;let p=null,m=0;for(let v=n-u;v>i;v-=r){const y=this.Wl(v,e,!0);p!==null&&Math.abs(y-p)<this.Hl()||y<s||y>a||(m<o.length?(o[m].Pl=y,o[m].Jl=l.Ql(v),o[m].Gl=v):o.push({Pl:y,Jl:l.Ql(v),Gl:v}),m++,p=y,l.io()&&(r=this.Ol(v*f,i)))}o.length=m}Zl(e,r,n,i,s,a){const o=this.Nl,l=this.so(e,n,s,a),u=this.so(e,i,-a,-s),f=this.Wl(0,e,!0)-this.Wl(r,e,!0);o.length>0&&o[0].Pl-l.Pl<f/2&&o.shift(),o.length>0&&u.Pl-o[o.length-1].Pl<f/2&&o.pop(),o.unshift(l),o.push(u)}so(e,r,n,i){const s=(n+i)/2,a=this.Fl(r+n,e),o=this.Fl(r+i,e),l=Math.min(a,o),u=Math.max(a,o),f=Math.max(.1,this.Ol(u,l)),p=this.Fl(r+s,e),m=p-p%f,v=this.Wl(m,e,!0);return{Jl:this.Ki.Ql(m),Pl:v,Gl:m}}Yl(e,r,n){let i=Uo(this.Ki.er());return this.Ki.io()&&(i=pu(i,this.Ki.no())),i.Ze()-r<e&&n-i.Ge()<e}}function UI(t){return t.slice().sort(((e,r)=>Le(e._s())-Le(r._s())))}var jA;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(jA||(jA={}));const PA=new DI,TA=new mv(100,1);class AK{constructor(e,r,n,i,s){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new Dr,this.fo=new Dr,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=TA,this.So=cx(null),this.xo=e,this.Ps=r,this.Co=n,this.yo=i,this.ko=s,this.Po=new kA(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(Li(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const r=yi(e.scaleMargins.top),n=yi(e.scaleMargins.bottom);if(r<0||r>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${r}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(r+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${r+n}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const r=this.ae();let n=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),r.ae===1&&e.ae!==r.ae&&((function(s,a){if(s===null)return!1;const o=Vh(s.Ze(),a),l=Vh(s.Ge(),a);return isFinite(o)&&isFinite(l)})(this.sr,this.So)?(n=pu(this.sr,this.So),n!==null&&this.Lo(n)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==r.ae&&(n=bh(this.sr,this.So),n!==null&&this.Lo(n));const i=r.ae!==this.Ps.mode;i&&(r.ae===2||this.He())&&this._l(),i&&(r.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&r.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(r,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,r){const n=this.sr;(r||n===null&&e!==null||n!==null&&!n.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,r){return this.He()?e=fu(e,r):this.Eo()&&(e=Uh(e,r)),this.Ro(e,r)}Yo(e,r,n){this.Uo();const i=this.Ho(),s=Le(this.er()),a=s.Ze(),o=s.Ge(),l=this.Fo()-1,u=this.Ao(),f=l/(o-a),p=n===void 0?0:n.from,m=n===void 0?e.length:n.to,v=this.Ko();for(let y=p;y<m;y++){const x=e[y],b=x.gt;if(isNaN(b))continue;let S=b;v!==null&&(S=v(x.gt,r));const N=i+f*(S-a),A=u?N:this.eo-1-N;x.ut=A}}Zo(e,r,n){this.Uo();const i=this.Ho(),s=Le(this.er()),a=s.Ze(),o=s.Ge(),l=this.Fo()-1,u=this.Ao(),f=l/(o-a),p=n===void 0?0:n.from,m=n===void 0?e.length:n.to,v=this.Ko();for(let y=p;y<m;y++){const x=e[y];let b=x.Hr,S=x.Ur,N=x.$r,A=x.qr;v!==null&&(b=v(x.Hr,r),S=v(x.Ur,r),N=v(x.$r,r),A=v(x.qr,r));let k=i+f*(b-a),E=u?k:this.eo-1-k;x.Go=E,k=i+f*(S-a),E=u?k:this.eo-1-k,x.Xo=E,k=i+f*(N-a),E=u?k:this.eo-1-k,x.Jo=E,k=i+f*(A-a),E=u?k:this.eo-1-k,x.Qo=E}}Ds(e,r){const n=this.To(e,r);return this.t_(n,r)}t_(e,r){let n=e;return this.He()?n=(function(i,s){return s<0&&(i=-i),i/100*s+s})(n,r):this.Eo()&&(n=(function(i,s){return i-=100,s<0&&(i=-i),i/100*s+s})(n,r)),n}Sl(){return this.po}Dt(){return this.mo||(this.mo=UI(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const r=this.po.indexOf(e);if(r===-1)throw new Error("source is not attached to scale");this.po.splice(r,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const r of this.po){const n=r.Lt();n!==null&&(e===null||n.Ea<e.Ea)&&(e=n)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const r=this.Po.Vl();return this.wo={Vl:r,e_:e},this.do.p(),r}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=Le(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let r=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const n=Le(this.ho).Ke();r=Math.max(r,.1),n.Je(r),this.Lo(n)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=Le(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const r=Le(this.er()).Xe()/(this.Fo()-1);let n=e-this.bo;this.Ao()&&(n*=-1);const i=n*r,s=Le(this.ho).Ke();s.Qe(i),this.Lo(s,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,r){switch(this.Ps.mode){case 2:return this.c_(fu(e,r));case 3:return this.Xa().format(Uh(e,r));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,Le(this.vo).Xa())}ba(e,r){return e=fu(e,r),this.c_(e,PA)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach((e=>e.Ws()))}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const n of this.po)n._s()<e&&(e=n._s(),this.vo=n);let r=100;this.vo!==null&&(r=Math.round(this.vo.qh())),this.Ja=TA,this.He()?(this.Ja=PA,r=100):this.Eo()?(this.Ja=new mv(100,1),r=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new kA(this,r,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,r){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?Gm(e,this.So):e;const n=Le(this.er()),i=this.Ho()+(this.Fo()-1)*(e-n.Ze())/n.Xe();return this.jo(i)}To(e,r){if(this.Uo(),this.Gi())return 0;const n=this.jo(e),i=Le(this.er()),s=i.Ze()+i.Xe()*((n-this.Ho())/(this.Fo()-1));return this.io()?Vh(s,this.So):s}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let r=null;const n=this.p_();let i=0,s=0;for(const l of n){if(!l.It())continue;const u=l.Lt();if(u===null)continue;const f=l.ra(e.Aa(),e.bi());let p=f&&f.er();if(p!==null){switch(this.Ps.mode){case 1:p=bh(p,this.So);break;case 2:p=_K(p,u.Wt);break;case 3:p=NK(p,u.Wt)}if(r=r===null?p:r.Sn(Le(p)),f!==null){const m=f.rr();m!==null&&(i=Math.max(i,m.above),s=Math.max(s,m.below))}}}if(this.jl()&&(i=Math.max(i,this.Kl()),s=Math.max(s,this.Kl())),i===this.uo&&s===this.co||(this.uo=i,this.co=s,this.wo=null,this.Io()),r!==null){if(r.Ze()===r.Ge()){const l=5*this.m_();this.io()&&(r=pu(r,this.So)),r=new Jn(r.Ze()-l,r.Ge()+l),this.io()&&(r=bh(r,this.So))}if(this.io()){const l=pu(r,this.So),u=cx(l);if(a=u,o=this.So,a.Bl!==o.Bl||a.El!==o.El){const f=this.ho!==null?pu(this.ho,this.So):null;this.So=u,r=bh(l,u),f!==null&&(this.ho=bh(f,u))}}this.Lo(r)}else this.sr===null&&(this.Lo(new Jn(-.5,.5)),this.So=cx(null));var a,o}Ko(){return this.He()?fu:this.Eo()?Uh:this.io()?e=>Gm(e,this.So):null}g_(e,r,n){return r===void 0?(n===void 0&&(n=this.Xa()),n.format(e)):r(e)}M_(e,r,n){return r===void 0?(n===void 0&&(n=this.Xa()),n.formatTickmarks(e)):r(e)}lr(e,r){return this.g_(e,this.yo.priceFormatter,r)}f_(e,r){const n=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(n?i=>i.map(n):void 0),r)}c_(e,r){return this.g_(e,this.yo.percentageFormatter,r)}d_(e,r){const n=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(n?i=>i.map(n):void 0),r)}}function MA(t){return t instanceof gv}class OA{constructor(e,r){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new Dr,this.ua=[],this.Jh=e,this.ns=r,this.k_=new SK(this);const n=r.N();this.P_=this.T_("left",n.leftPriceScale),this.R_=this.T_("right",n.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(n)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const r=Array.from(this.b_.values());for(const n of r){const i=Le(n[0].Ft());i.cr(e.overlayPriceScales),e.localization&&i._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?yi(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach((e=>{e.m&&e.m()})),this.ua=this.ua.filter((e=>{const r=e.Gh();return r.detached&&r.detached(),!1})),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach((r=>{if(this.Zn(r)){const n=r.Ft();n!==null&&n.No(e)}})),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(MA)}Sl(){return this.po}Zn(e){const r=e.Ft();return r===null||this.P_!==r&&this.R_!==r}i_(e,r,n){this.W_(e,r,n?e._s():this.po.length)}n_(e,r){const n=this.po.indexOf(e);Sn(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1),r||this.po.forEach(((a,o)=>a.us(o)));const i=Le(e.Ft()).ol();if(this.b_.has(i)){const a=yi(this.b_.get(i)),o=a.indexOf(e);o!==-1&&(a.splice(o,1),a.length===0&&this.b_.delete(i))}const s=e.Ft();s&&s.Sl().indexOf(e)>=0&&(s.n_(e),this.H_(s)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,r){e.h_(r)}Y_(e,r){e.a_(r),this.z_()}K_(e){e.l_()}Z_(e,r){e.o_(r)}G_(e,r){e.__(r),this.z_()}X_(e){e.u_()}z_(){this.po.forEach((e=>{e.Ws()}))}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const r=this.Jh.Ie();e.Do({ln:!0}),r!==null&&e.v_(r),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach((e=>{this.Zn(e)&&this.H_(e.Ft())})),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=UI(this.po)),this.mo}su(e,r){r=qh(r,0,this.po.length-1);const n=this.po.indexOf(e);Sn(n!==-1,"setSeriesOrder: invalid data source"),this.po.splice(n,1),this.po.splice(r,0,e),this.po.forEach(((i,s)=>i.us(s))),this.mo=null;for(const i of[this.P_,this.R_])i.s_(),i._l();this.ns.dr()}Vt(){return this.Dt().filter(MA)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new cK(e))}el(e){this.ua=this.ua.filter((r=>r.Gh()!==e)),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,r){return this.ua.map((n=>n.Qn(e,r))).filter((n=>n!==null))}J_(e){const r=e.p_();if(r&&r.length>0&&!this.Jh.Gi()){const n=this.Jh.Ie();n!==null&&e.v_(n)}e.Ws()}W_(e,r,n){let i=this.V_(r);if(i===null&&(i=this.T_(r,this.ns.N().overlayPriceScales)),this.po.splice(n,0,e),!pv(r)){const s=this.b_.get(r)||[];s.push(e),this.b_.set(r,s)}e.us(n),i.i_(e),e.cs(i),this.H_(i),this.mo=null}D_(e,r,n){r.ae!==n.ae&&this.J_(e)}T_(e,r){const n={visible:!0,autoScale:!0,...Ra(r)},i=new AK(e,n,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return i.No(this.$t()),i}}function Rp(t){return{hu:t.hu,au:{te:t.lu.externalId},ou:t.lu.cursorStyle}}function EK(t,e,r,n){for(const i of t){const s=i.Tt(n);if(s!==null&&s.Qn){const a=s.Qn(e,r);if(a!==null)return{_u:i,au:a}}}return null}function CK(t){return t.Ys!==void 0}function VI(t,e,r){const n=[t,...t.Dt()],i=(function(s,a,o){var m;let l,u;for(const v of s){const y=((m=v.Za)==null?void 0:m.call(v,a,o))??[];for(const x of y)f=x.zOrder,p=l==null?void 0:l.zOrder,(!p||f==="top"&&p!=="top"||f==="normal"&&p==="bottom")&&(l=x,u=v)}var f,p;return l&&u?{lu:l,hu:u}:null})(n,e,r);if((i==null?void 0:i.lu.zOrder)==="top")return Rp(i);for(const s of n){if(i&&i.hu===s&&i.lu.zOrder!=="bottom"&&!i.lu.isBackground)return Rp(i);if(CK(s)){const a=EK(s.Ys(t),e,r,t);if(a!==null)return{hu:s,_u:a._u,au:a.au}}if(i&&i.hu===s&&i.lu.zOrder!=="bottom"&&i.lu.isBackground)return Rp(i)}return i!=null&&i.lu?Rp(i):null}class kK{constructor(e,r,n=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=r,this.zn=n}du(e){const r=e.time,n=this.cu.cacheKey(r),i=this.Ln.get(n);if(i!==void 0)return i.fu;if(this.Vn===this.zn){const a=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(yi(a)),this.En++,this.Vn--}const s=this.uu(e);return this.Ln.set(n,{fu:s,Wn:this.Bn}),this.An.set(this.Bn,n),this.Vn++,this.Bn++,s}}class Au{constructor(e,r){Sn(e<=r,"right should be >= left"),this.pu=e,this.vu=r}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function RA(t,e){return t===null||e===null?t===e:t.Ye(e)}class jK{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,r){this.Su(r),this.Ln=null;for(let n=r;n<e.length;++n){const i=e[n];let s=this.wu.get(i.timeWeight);s===void 0&&(s=[],this.wu.set(i.timeWeight,s)),s.push({index:n,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}xu(e,r,n,i,s){const a=Math.ceil(r/e);return this.Ln!==null&&this.Ln.Cu===a&&s===this.Ln.yu&&n===this.Ln.ku||(this.Ln={yu:s,ku:n,Vl:this.Pu(a,n,i),Cu:a}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const r=[];this.wu.forEach(((n,i)=>{e<=n[0].index?r.push(i):n.splice(Du(n,e,(s=>s.index<e)),1/0)}));for(const n of r)this.wu.delete(n)}Pu(e,r,n){let i=[];const s=a=>!r||n.has(a.index);for(const a of Array.from(this.wu.keys()).sort(((o,l)=>l-o))){if(!this.wu.get(a))continue;const o=i;i=[];const l=o.length;let u=0;const f=yi(this.wu.get(a)),p=f.length;let m=1/0,v=-1/0;for(let y=0;y<p;y++){const x=f[y],b=x.index;for(;u<l;){const S=o[u],N=S.index;if(!(N<b&&s(S))){m=N;break}u++,i.push(S),v=N,m=1/0}if(m-b>=e&&b-v>=e&&s(x))i.push(x),v=b;else if(this.gu)return o}for(;u<l;u++)s(o[u])&&i.push(o[u])}return i}}class Eu{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new Au(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new Eu(null)}}function PK(t,e){return t.weight>e.weight?t:e}class TK{constructor(e,r,n,i){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new jK,this.Au=new Map,this.Lu=Eu.Iu(),this.zu=!0,this.Ou=new Dr,this.Nu=new Dr,this.Fu=new Dr,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=r,this.yo=n,this.Yu=r.rightOffset,this.Ku=r.barSpacing,this.ns=e,this.Zu(r),this.cu=i,this.Gu(),this.Eu.Mu(r.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){Li(this.yo,e),this.tc(),this.Gu()}cr(e,r){Li(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){var r;return((r=this.Bu[e])==null?void 0:r.time)??null}es(e){return this.Bu[e]??null}ec(e,r){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return r?this.Bu.length-1:null;const n=Du(this.Bu,this.cu.key(e),((i,s)=>this.cu.key(i.time)<s));return this.cu.key(e)<this.cu.key(this.Bu[n].time)?r?n:null:n}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const r={from:e.Aa(),to:e.bi()};return this.oc(r)}oc(e){const r=Math.round(e.from),n=Math.round(e.to),i=Le(this._c()),s=Le(this.uc());return{from:Le(this.es(Math.max(i,r))),to:Le(this.es(Math.min(s,n)))}}cc(e){return{from:Le(this.ec(e.from,!0)),to:Le(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const r=this.ac(),n=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&n!==0){const i=this.Ku*e/n;this.Ku=i}if(this.Ps.fixLeftEdge&&r!==null&&r.Aa()<=0){const i=n-e;this.Yu-=Math.round(i/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!af(e))return 0;const r=this.vc()+this.Yu-e;return this.S_-(r+.5)*this.Ku-1}mc(e,r){const n=this.vc(),i=r===void 0?0:r.from,s=r===void 0?e.length:r.to;for(let a=i;a<s;a++){const o=e[a].wt,l=n+this.Yu-o,u=this.S_-(l+.5)*this.Ku-1;e[a]._t=u}}wc(e,r){const n=Math.ceil(this.gc(e));return r&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(n)?this.bc(n):n}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const r=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&r!==0){const n=this.Yu*r/this.Ku;this.Yu=n}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,r=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(r/e),i=Le(this.Ie()),s=Math.max(i.Aa(),i.Aa()-n),a=Math.max(i.bi(),i.bi()-n),o=this.Eu.xu(e,r,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),l=this._c()+n,u=this.uc()-n,f=this.yc(),p=this.Ps.fixLeftEdge||f,m=this.Ps.fixRightEdge||f;let v=0;for(const y of o){if(!(s<=y.index&&y.index<=a))continue;let x;v<this.qu.length?(x=this.qu[v],x.coord=this.qt(y.index),x.label=this.kc(y),x.weight=y.weight):(x={needAlignCoordinate:!1,coord:this.qt(y.index),label:this.kc(y),weight:y.weight},this.qu.push(x)),this.Ku>r/2&&!f?x.needAlignCoordinate=!1:x.needAlignCoordinate=p&&y.index<=l||m&&y.index>=u,v++}return this.qu.length=v,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,r){const n=this.gc(e),i=this.ul(),s=i+r*(i/10);this.gn(s),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(n-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const r=qh(this.S_-e,0,this.S_),n=qh(this.S_-Le(this.Mo),0,this.S_);r!==0&&n!==0&&this.gn(this.Wu.ul*r/n)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const r=(this.bo-e)/this.ul();this.Yu=Le(this.Wu).Cc+r,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,r=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(r)||r<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.Yu,i=performance.now();this.ns.vn({Ec:s=>(s-i)/r>=1,Ac:s=>{const a=(s-i)/r;return a>=1?e:n+(e-n)*a}})}kt(e,r){this.zu=!0,this.Bu=e,this.Eu.bu(e,r),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,r){const n=e.mu(),i=r&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-i)/n),this.Yu=e.bi()-this.vc(),r&&(this.Yu=i?i/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),r=this.uc();if(e===null||r===null)return;const n=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new Au(e,r+n),!0)}Wc(e){const r=new Au(e.from,e.to);this.Nc(r)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const r of e)for(const n of r.ll())this.Uu.set(n,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),r=this.Ps.minBarSpacing;if(r>=e)return[1];const n=[1];let i=2;for(;i<=512;)r<e/i&&n.push(i),i*=2;return n}yc(){const e=this.ns.N().handleScroll,r=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||r.axisDoubleClickReset.time||r.axisPressedMouseMove.time||r.mouseWheel||r.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const r=this.Uc(e),n=this.vc()+this.Yu-r;return Math.round(1e6*n)/1e6}xc(e){const r=this.Ku;this.Ku=e,this.dc(),r!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(Eu.Iu());const e=this.vc(),r=this.S_/this.Ku,n=this.Yu+e,i=new Au(n-r+1,n);this.qc(new Eu(i))}dc(){const e=qh(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const r=e/this.Ku,n=Math.pow(2,Math.floor(Math.log2(r)));this.ju=Math.min(n,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const r=this.Zc();this.Yu>r&&(this.Yu=r,this.zu=!0)}Kc(){const e=this._c(),r=this.Vu;return e===null||r===null?null:e-r-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let r=this.Au.get(e.weight);return r===void 0&&(r=new kK((n=>this.Gc(n)),this.cu),this.Au.set(e.weight,r)),r.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const r=this.Lu;this.Lu=e,RA(r.Ru(),this.Lu.Ru())||this.Ou.p(),RA(r.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const r=this.Ie();if(r===null)return;const n=r.Aa()-e;if(n<0){const i=this.Yu-n-1;this.Mn(i)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const r=(function*(i){const s=Math.round(i),a=s<i;let o=1;for(;;)a?(yield s+o,yield s-o):(yield s-o,yield s+o),o++})(e),n=this.uc();for(;n;){const i=r.next().value;if(this.Uu.get(i))return i;if(i<0||i>n)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const r=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(r)}}}var IA,DA,LA,zA,FA;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(IA||(IA={}));class MK{constructor(e,r,n){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new Dr,this.nd=new Dr,this.ed=null,this.rd=e,this.Ps=r,this.cu=n,this.ko=new kH(this.Ps.layout.colorParsers),this.hd=new CH(this),this.Jh=new TK(this,r.timeScale,this.Ps.localization,n),this.Ct=new BH(this,r.crosshair),this.ad=new xK(r.crosshair),r.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(ci.yn())}dr(){this.dd(ci.Cn())}Ua(){this.dd(new ci(1))}ya(e){const r=this.fd(e);this.dd(r)}pd(){return this.td}vd(e){var n,i,s,a;if(((n=this.td)==null?void 0:n.hu)===(e==null?void 0:e.hu)&&((s=(i=this.td)==null?void 0:i.au)==null?void 0:s.te)===((a=e==null?void 0:e.au)==null?void 0:a.te))return;const r=this.td;this.td=e,r!==null&&this.ya(r.hu),e!==null&&e.hu!==(r==null?void 0:r.hu)&&this.ya(e.hu)}N(){return this.Ps}cr(e){Li(this.Ps,e),this.Xc.forEach((r=>r.I_(e))),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,r,n=0){const i=this.Xc[n];if(i===void 0)return;if(e==="left")return Li(this.Ps,{leftPriceScale:r}),i.I_({leftPriceScale:r}),this.sd.p(),void this.Ca();if(e==="right")return Li(this.Ps,{rightPriceScale:r}),i.I_({rightPriceScale:r}),this.sd.p(),void this.Ca();const s=this.wd(e,n);s!==null&&(s.Ft.cr(r),this.sd.p())}wd(e,r){const n=this.Xc[r];if(n===void 0)return null;const i=n.V_(e);return i!==null?{Gs:n,Ft:i}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,r){e.No(r),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach((r=>r.L_(e))),this.Sc()}Sd(e){this.Xc.length!==1&&(Sn(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,r){if(this.Xc.length<2)return;Sn(e>=0&&e<this.Xc.length,"Invalid pane index");const n=this.Xc[e],i=this.Xc.reduce(((p,m)=>p+m.E_()),0),s=this.Xc.reduce(((p,m)=>p+m.$t()),0),a=s-30*(this.Xc.length-1);r=Math.min(a,Math.max(30,r));const o=i/s,l=n.$t();n.A_(r*o);let u=r-l,f=this.Xc.length-1;for(const p of this.Xc)if(p!==n){const m=Math.min(a,Math.max(30,p.$t()-u/f));u-=p.$t()-m,f-=1;const v=m*o;p.A_(v)}this.Ca()}Cd(e,r){Sn(e>=0&&e<this.Xc.length&&r>=0&&r<this.Xc.length,"Invalid pane index");const n=this.Xc[e],i=this.Xc[r];this.Xc[e]=i,this.Xc[r]=n,this.Ca()}yd(e,r){if(Sn(e>=0&&e<this.Xc.length&&r>=0&&r<this.Xc.length,"Invalid pane index"),e===r)return;const[n]=this.Xc.splice(e,1);this.Xc.splice(r,0,n),this.Ca()}j_(e,r,n){e.j_(r,n)}Y_(e,r,n){e.Y_(r,n),this.ka(),this.dd(this.kd(e,2))}K_(e,r){e.K_(r),this.dd(this.kd(e,2))}Z_(e,r,n){r.Vo()||e.Z_(r,n)}G_(e,r,n){r.Vo()||(e.G_(r,n),this.ka(),this.dd(this.kd(e,2)))}X_(e,r){r.Vo()||(e.X_(r),this.dd(this.kd(e,2)))}Q_(e,r){e.Q_(r),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,r){const n=this.Et();if(n.Gi()||r===0)return;const i=n.ss();e=Math.max(1,Math.min(e,i)),n.Rc(e,r),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter((e=>e.It()))),this.Qc}xa(){this.Qc=null}Ad(e,r,n,i,s){this.Ct.Bs(e,r);let a=NaN,o=this.Jh.wc(e,!0);const l=this.Jh.Ie();l!==null&&(o=Math.min(Math.max(l.Aa(),o),l.bi())),o=this.Ct.Hs(o);const u=i.Rs(),f=u.Lt();if(f!==null&&(a=u.Ds(r,f)),a=this.ad.bl(a,o,i),this.Ct.zs(o,a,i),this.Ua(),!s){const p=VI(i,e,r);this.vd(p&&{hu:p.hu,au:p.au,ou:p.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:r},n)}}Ld(e,r,n){const i=n.Rs(),s=i.Lt(),a=i.Nt(e,Le(s)),o=this.Jh.ec(r,!0),l=this.Jh.qt(Le(o));this.Ad(l,a,null,n,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const r=this.Ct.As(),n=this.Ct.Ls();this.Ad(r,n,null,e)}this.Ct.Ws()}Od(e,r,n){const i=this.Jh.Is(0);r!==void 0&&n!==void 0&&this.Jh.kt(r,n);const s=this.Jh.Is(0),a=this.Jh.vc(),o=this.Jh.Ie();if(o!==null&&i!==null&&s!==null){const l=o.Ee(a),u=this.cu.key(i)>this.cu.key(s),f=e!==null&&e>a&&!u,p=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,m=l&&(n!==void 0||p)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(f&&!m){const v=e-a;this.Jh.Mn(this.Jh.Cc()-v)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if((function(n){return n instanceof OA})(e))return e;const r=this.Xc.find((n=>n.Dt().includes(e)));return r===void 0?null:r}Sc(){this.Xc.forEach((e=>e.iu())),this.ka()}m(){this.Xc.forEach((e=>e.m())),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,r){const n=this.ld(r);this.Wd(e,n),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const r=this.Kn(e),n=this.Jc.indexOf(e);Sn(n!==-1,"Series not found");const i=Le(r);this.Jc.splice(n,1),i.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(i)}Sa(e,r){const n=Le(this.Kn(e));n.n_(e,!0),n.i_(e,r,!0)}Fc(){const e=ci.Cn();e.cn(),this.dd(e)}$d(e){const r=ci.Cn();r.pn(e),this.dd(r)}wn(){const e=ci.Cn();e.wn(),this.dd(e)}gn(e){const r=ci.Cn();r.gn(e),this.dd(r)}Mn(e){const r=ci.Cn();r.Mn(e),this.dd(r)}vn(e){const r=ci.Cn();r.vn(e),this.dd(r)}dn(){const e=ci.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,r){if(Sn(r>=0,"Index should be greater or equal to 0"),r===this.Yd(e))return;const n=Le(this.Kn(e));n.n_(e);const i=this.ld(r);this.Wd(e,i),n.Sl().length===0&&this.Ud(n),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const r=this.ud,n=this.od;if(r===n)return r;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==n||this.ed.rh!==r)this.ed={eh:n,rh:r,Zd:new Map};else{const s=this.ed.Zd.get(e);if(s!==void 0)return s}const i=this.ko.tt(n,r,e/100);return this.ed.Zd.set(e,i),i}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const r=new OA(this.Jh,this);this.Xc.push(r);const n=e??this.Xc.length-1,i=ci.yn();return i.hn(n,{an:0,ln:!0}),this.dd(i),r}ld(e){return Sn(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex((r=>r.F_().includes(e)))}kd(e,r){const n=new ci(r);if(e!==null){const i=this.Xc.indexOf(e);n.hn(i,{an:r})}return n}fd(e,r){return r===void 0&&(r=2),this.kd(this.Kn(e),r)}dd(e){this.rd&&this.rd(e),this.Xc.forEach((r=>r.eu().pr().kt()))}Wd(e,r){const n=e.N().priceScaleId,i=n!==void 0?n:this.qd();r.i_(e,i),pv(i)||e.cr(e.N())}_d(e){const r=this.Ps.layout;return r.background.type==="gradient"?e===0?r.background.topColor:r.background.bottomColor:r.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function WI(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const r=Math.round(t);if(Math.abs(r-t)<1e-8)return e;t*=10}return e}function O5(t){return!lc(t)&&!o0(t)}function HI(t){return lc(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(DA||(DA={})),(function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"})(LA||(LA={})),(function(t){t.Solid="solid",t.VerticalGradient="gradient"})(zA||(zA={})),(function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"})(FA||(FA={}));const BA=t=>t.getUTCFullYear();function OK(t,e,r){return e.replace(/yyyy/g,(n=>Ia(BA(n),4))(t)).replace(/yy/g,(n=>Ia(BA(n)%100,2))(t)).replace(/MMMM/g,((n,i)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(i,{month:"long"}))(t,r)).replace(/MMM/g,((n,i)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(i,{month:"short"}))(t,r)).replace(/MM/g,(n=>Ia((i=>i.getUTCMonth()+1)(n),2))(t)).replace(/dd/g,(n=>Ia((i=>i.getUTCDate())(n),2))(t))}class KI{constructor(e="yyyy-MM-dd",r="default"){this.Qd=e,this.tf=r}du(e){return OK(e,this.Qd,this.tf)}}class RK{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",Ia(e.getUTCHours(),2)).replace("%m",Ia(e.getUTCMinutes(),2)).replace("%s",Ia(e.getUTCSeconds(),2))}}const IK={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class DK{constructor(e={}){const r={...IK,...e};this.hf=new KI(r.sf,r.rf),this.af=new RK(r.nf),this.lf=r.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function Ip(t){return 60*t*60*1e3}function dx(t){return 60*t*1e3}const Dp=[{_f:($A=1,1e3*$A),uf:10},{_f:dx(1),uf:20},{_f:dx(5),uf:21},{_f:dx(30),uf:22},{_f:Ip(1),uf:30},{_f:Ip(3),uf:31},{_f:Ip(6),uf:32},{_f:Ip(12),uf:33}];var $A;function qA(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let r=Dp.length-1;r>=0;--r)if(Math.floor(e.getTime()/Dp[r]._f)!==Math.floor(t.getTime()/Dp[r]._f))return Dp[r].uf;return 0}function hx(t){let e=t;if(o0(t)&&(e=o6(t)),!O5(e))throw new Error("time must be of type BusinessDay");const r=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(r.getTime()/1e3),df:e}}function UA(t){if(!HI(t))throw new Error("time must be of type isUTCTimestamp");return{cf:t}}function o6(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function VA(t){o0(t.time)&&(t.time=o6(t.time))}class WA{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?(function(r){r.forEach(VA)})(e):VA(e)}createConverterToInternalObj(e){return Le((function(r){return r.length===0?null:O5(r[0].time)||o0(r[0].time)?hx:UA})(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const r=e;return r.df===void 0?new Date(1e3*r.cf).getTime():new Date(Date.UTC(r.df.year,r.df.month-1,r.df.day)).getTime()}convertHorzItemToInternal(e){return HI(r=e)?UA(r):O5(r)?hx(r):hx(o6(r));var r}updateFormatter(e){if(!this.Ps)return;const r=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new DK({sf:r,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new KI(r,e.locale)}formatHorzItem(e){const r=e;return this.ff.du(new Date(1e3*r.cf))}formatTickmark(e,r){const n=(function(s,a,o){switch(s){case 0:case 10:return a?o?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return a?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),i=this.Ps.timeScale;if(i.tickMarkFormatter!==void 0){const s=i.tickMarkFormatter(e.originalTime,n,r.locale);if(s!==null)return s}return(function(s,a,o){const l={};switch(a){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const u=s.df===void 0?new Date(1e3*s.cf):new Date(Date.UTC(s.df.year,s.df.month-1,s.df.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(o,l)})(e.time,n,r.locale)}maxTickMarkWeight(e){let r=e.reduce(PK,e[0]).weight;return r>30&&r<50&&(r=30),r}fillWeightsForPoints(e,r){(function(n,i=0){if(n.length===0)return;let s=i===0?null:n[i-1].time.cf,a=s!==null?new Date(1e3*s):null,o=0;for(let l=i;l<n.length;++l){const u=n[l],f=new Date(1e3*u.time.cf);a!==null&&(u.timeWeight=qA(f,a)),o+=u.time.cf-(s||u.time.cf),s=u.time.cf,a=f}if(i===0&&n.length>1){const l=Math.ceil(o/(n.length-1)),u=new Date(1e3*(n[0].time.cf-l));n[0].timeWeight=qA(new Date(1e3*n[0].time.cf),u)}})(e,r)}static pf(e){return Li({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Lu=typeof window<"u";function HA(){return!!Lu&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function fx(){return!!Lu&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function R5(t){return t+t%2}function LK(t){Lu&&window.chrome!==void 0&&t.addEventListener("mousedown",(e=>{if(e.button===1)return e.preventDefault(),!1}))}class vv{constructor(e,r,n){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!fx(),this.Uf=i=>{this.$f(i)},this.qf=i=>{if(this.jf(i)){const s=this.Yf(i);if(++this.gf,this.Mf&&this.gf>1){const{Kf:a}=this.Zf(Xs(i),this.bf);a<30&&!this.Tf&&this.Gf(s,this.Jf.Xf),this.Qf()}}else{const s=this.Yf(i);if(++this.vf,this.mf&&this.vf>1){const{Kf:a}=this.Zf(Xs(i),this.wf);a<5&&!this.Pf&&this.tp(s,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=r,this.Ps=n,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const r=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",r)},this.np.addEventListener("mousemove",r),this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const r=this.Yf(e);this.tp(r,this.Jf.op),this.Hf=!0}_p(e){const r=px(e.changedTouches,Le(this.Wf));if(r===null||(this.Ff=Lp(e),this.Af!==null)||this.Of)return;this.zf=!0;const n=this.Zf(Xs(r),Le(this.yf)),{up:i,cp:s,Kf:a}=n;if(this.kf||!(a<5)){if(!this.kf){const o=.5*i,l=s>=o&&!this.Ps.dp(),u=o>s&&!this.Ps.fp();l||u||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const o=this.Yf(e,r);this.Gf(o,this.Jf.pp),Zc(e)}}}vp(e){if(e.button!==0)return;const r=this.Zf(Xs(e),Le(this.Cf)),{Kf:n}=r;if(n>=5&&(this.Pf=!0,this.sp()),this.Pf){const i=this.Yf(e);this.tp(i,this.Jf.mp)}}Zf(e,r){const n=Math.abs(r._t-e._t),i=Math.abs(r.ut-e.ut);return{up:n,cp:i,Kf:n+i}}wp(e){let r=px(e.changedTouches,Le(this.Wf));if(r===null&&e.touches.length===0&&(r=e.changedTouches[0]),r===null)return;this.Wf=null,this.Ff=Lp(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const n=this.Yf(e,r);if(this.Gf(n,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:i}=this.Zf(Xs(r),this.bf);i<30&&!this.Tf&&this.Gf(n,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(n,this.Jf.Mp),this.Jf.Mp&&Zc(e));this.gf===0&&Zc(e),e.touches.length===0&&this.xf&&(this.xf=!1,Zc(e))}$f(e){if(e.button!==0)return;const r=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),HA()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(r,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:n}=this.Zf(Xs(e),this.wf);n<5&&!this.Pf&&this.tp(r,this.Jf.ip),this.sp()}else this.Pf||this.tp(r,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const r=e.changedTouches[0];this.Wf=r.identifier,this.Ff=Lp(e);const n=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=Xs(r),this.Ef&&(this.Ef(),this.Ef=null);{const s=this._p.bind(this),a=this.wp.bind(this);this.Ef=()=>{n.removeEventListener("touchmove",s),n.removeEventListener("touchend",a)},n.addEventListener("touchmove",s,{passive:!1}),n.addEventListener("touchend",a,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const i=this.Yf(e,r);this.Gf(i,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=Xs(r))}kp(e){if(e.button!==0)return;const r=this.np.ownerDocument.documentElement;HA()&&r.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=Xs(e),this.Bf&&(this.Bf(),this.Bf=null);{const i=this.vp.bind(this),s=this.$f.bind(this);this.Bf=()=>{r.removeEventListener("mousemove",i),r.removeEventListener("mouseup",s)},r.addEventListener("mousemove",i),r.addEventListener("mouseup",s)}if(this.Nf=!0,this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=Xs(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,r=n=>{this.Jf.Tp&&(n.composed&&this.np.contains(n.composedPath()[0])||n.target&&this.np.contains(n.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",r)},this.Rf=()=>{e.removeEventListener("mousedown",r)},e.addEventListener("mousedown",r),e.addEventListener("touchstart",r,{passive:!0})}fx()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),LK(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",(()=>{}),{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",(e=>this.Ep(e.touches)),{passive:!0}),this.np.addEventListener("touchmove",(e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const r=KA(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,r),Zc(e)}}),{passive:!1}),this.np.addEventListener("touchend",(e=>{this.Ep(e.touches)})))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const r=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-r.left+(e[1].clientX-r.left))/2,ut:(e[0].clientY-r.top+(e[1].clientY-r.top))/2},this.Lf=KA(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const r=this.Yf(e);this.tp(r,this.Jf.zp),this.Hf=!fx()}Cp(e){const r=px(e.touches,Le(this.Wf));if(r===null)return;const n=this.Yf(e,r);this.Gf(n,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Lp(e)<this.Ff+500}Gf(e,r){r&&r.call(this.Jf,e)}tp(e,r){r&&r.call(this.Jf,e)}Yf(e,r){const n=r||e,i=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-i.left,localY:n.clientY-i.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:n.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&Zc(e)}}}}function KA(t,e){const r=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(r*r+n*n)}function Zc(t){t.cancelable&&t.preventDefault()}function Xs(t){return{_t:t.pageX,ut:t.pageY}}function Lp(t){return t.timeStamp||performance.now()}function px(t,e){for(let r=0;r<t.length;++r)if(t[r].identifier===e)return t[r];return null}class zK{constructor(e,r,n){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[r],this.Gp=e.Zp()[n],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return rr({width:this.Kp.sv().width,height:1})}nv(){return rr({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,r,n){const i=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(r,n,i.width,i.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),r=e.style;r.position="fixed",r.display="none",r.zIndex="49",r.top="0",r.left="0",r.width="100%",r.height="100%",r.cursor="row-resize",this.Jp.appendChild(e);const n=document.createElement("div"),i=n.style;i.position="absolute",i.zIndex="50",i.top="-4px",i.height="9px",i.width="100%",i.backgroundColor="",i.cursor="row-resize",this.Jp.appendChild(n);const s={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new vv(n,s,{dp:()=>!1,fp:()=>!0}),this.Up={hv:n,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const r=this.Kp.cv().E_()+this.Gp.cv().E_(),n=r/(this.Kp.sv().height+this.Gp.sv().height),i=30*n;r<=2*i||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:r-i,vv:r,mv:n,wv:i},this.Up.rv.style.display="block")}_v(e){const r=this.jp;if(r===null)return;const n=(e.pageY-r.dv)*r.mv,i=qh(r.fv+n,r.wv,r.pv);this.Kp.cv().A_(i),this.Gp.cv().A_(r.vv-i),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function mx(t,e){return t.gv-e.gv}function gx(t,e,r){const n=(t.gv-e.gv)/(t.wt-e.wt);return Math.sign(n)*Math.min(Math.abs(n),r)}class FK{constructor(e,r,n,i){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=r,this.Rv=n,this.kn=i}Dv(e,r){if(this.Mv!==null){if(this.Mv.wt===r)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:r,gv:e}}fe(e,r){if(this.Mv===null||this.bv===null||r-this.Mv.wt>50)return;let n=0;const i=gx(this.Mv,this.bv,this.Tv),s=mx(this.Mv,this.bv),a=[i],o=[s];if(n+=s,this.Sv!==null){const u=gx(this.bv,this.Sv,this.Tv);if(Math.sign(u)===Math.sign(i)){const f=mx(this.bv,this.Sv);if(a.push(u),o.push(f),n+=f,this.xv!==null){const p=gx(this.Sv,this.xv,this.Tv);if(Math.sign(p)===Math.sign(i)){const m=mx(this.Sv,this.xv);a.push(p),o.push(m),n+=m}}}}let l=0;for(let u=0;u<a.length;++u)l+=o[u]/n*a[u];Math.abs(l)<this.Pv||(this.Cv={gv:e,wt:r},this.kv=l,this.yv=(function(u,f){const p=Math.log(f);return Math.log(1*p/-u)/p})(Math.abs(l),this.Rv))}Ac(e){const r=Le(this.Cv),n=e-r.wt;return r.gv+this.kv*(Math.pow(this.Rv,n)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const r=e-Le(this.Cv).wt;return Math.min(r,this.yv)}}class BK{constructor(e,r){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=r,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function cc(t,e){const r=Le(t.ownerDocument).createElement("canvas");t.appendChild(r);const n=_H(r,{options:{allowResizeObserver:!0},transform:(i,s)=>({width:Math.max(i.width,s.width),height:Math.max(i.height,s.height)})});return n.resizeCanvasElement(e),n}function uc(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))==null||e.clearRect(0,0,1,1)}function I5(t,e,r,n){t.Uh&&t.Uh(e,r,n)}function km(t,e,r,n){t.nt(e,r,n)}function D5(t,e,r,n){const i=t(r,n);for(const s of i){const a=s.Tt(n);a!==null&&e(a)}}function vx(t,e){return r=>{var n,i;return(function(s){return s.Ft!==void 0})(r)?(((n=r.Ft())==null?void 0:n.ol())??"")!==e?[]:((i=r.Ya)==null?void 0:i.call(r,t))??[]:[]}}function GA(t,e,r,n){if(!t.length)return;let i=0;const s=t[0].$t(n,!0);let a=e===1?r/2-(t[0].Hi()-s/2):t[0].Hi()-s/2-r/2;a=Math.max(0,a);for(let o=1;o<t.length;o++){const l=t[o],u=t[o-1],f=u.$t(n,!1),p=l.Hi(),m=u.Hi();if(e===1?p>m-f:p<m+f){const v=m-f*e;l.Ui(v);const y=v-e*f/2;if((e===1?y<0:y>r)&&a>0){const x=e===1?-1-y:y-r,b=Math.min(x,a);for(let S=i;S<t.length;S++)t[S].Ui(t[S].Hi()+e*b);a-=b}}else i=o,a=e===1?m-f-p:p-(m+f)}}class XA{constructor(e,r,n,i){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new cf(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=r,this.Co=r.layout,this.hd=n,this.Jv=i==="left",this.Qv=vx("normal",i),this.tm=vx("top",i),this.im=vx("bottom",i),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=cc(this.Jp,rr({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const s=this.sm.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.nm=cc(this.Jp,rr({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const a=this.nm.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";const o={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new vv(this.nm.canvasElement,o,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),uc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),uc(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const r=this.lm(),n=Le(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));n.save();const i=this.Ki.Vl();n.font=this._m(),i.length>0&&(e=Math.max(this.qv.Ii(n,i[0].Jl),this.qv.Ii(n,i[i.length-1].Jl)));const s=this.um();for(let u=s.length;u--;){const f=this.qv.Ii(n,s[u].ri());f>e&&(e=f)}const a=this.Ki.Lt();if(a!==null&&this.Uv!==null&&(o=this.Ps.crosshair).mode!==2&&o.horzLine.visible&&o.horzLine.labelVisible){const u=this.Ki.Ds(1,a),f=this.Ki.Ds(this.Uv.height-2,a);e=Math.max(e,this.qv.Ii(n,this.Ki.Ji(Math.floor(Math.min(u,f))+.11111111111111,a)),this.qv.Ii(n,this.Ki.Ji(Math.ceil(Math.max(u,f))-.11111111111111,a)))}var o;n.restore();const l=e||34;return R5(Math.ceil(r.S+r.C+r.V+r.B+5+l))}dm(e){this.Uv!==null&&Ql(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return Le(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,Le(this.Ft()))}pm(e){if(this.Uv===null)return;const r={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const i=ac(this.sm,r);i!==null&&(i.useBitmapCoordinateSpace((s=>{this.wm(s),this.gm(s)})),this.yt.Mm(i,this.im),this.bm(i),this.yt.Mm(i,this.Qv),this.Sm(i))}this.nm.applySuggestedBitmapSize();const n=ac(this.nm,r);n!==null&&(n.useBitmapCoordinateSpace((({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)})),this.xm(n),this.yt.Mm(n,this.tm))}nv(){return this.sm.bitmapSize}ev(e,r,n,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,r,n),i)){const a=this.nm.canvasElement;e.drawImage(a,r,n)}}kt(){var e;(e=this.Ki)==null||e.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!0,r.j_(n,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.yt.Gv().Qt(),n=this.yt.cv(),i=this.Ki;r.Y_(n,i,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),r=this.yt.cv(),n=this.Ki;this.$v&&(this.$v=!1,e.K_(r,n))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const r=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!1,r.K_(n,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],r=this.Ki===null?void 0:this.Ki;return(n=>{for(let i=0;i<n.length;++i){const s=n[i].Ks(this.yt.cv(),r);for(let a=0;a<s.length;a++)e.push(s[a])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:r}){const{width:n,height:i}=r,s=this.yt.cv().Qt(),a=s.$(),o=s.Kd();a===o?hv(e,0,0,n,i,a):MI(e,0,0,n,i,a,o)}gm({context:e,bitmapSize:r,horizontalPixelRatio:n}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const i=Math.max(1,Math.floor(this.lm().S*n));let s;s=this.Jv?r.width-i:0,e.fillRect(s,0,i,r.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const r=this.Ki.Vl(),n=this.Ki.N(),i=this.lm(),s=this.Jv?this.Uv.width-i.C:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace((({context:a,horizontalPixelRatio:o,verticalPixelRatio:l})=>{a.fillStyle=n.borderColor;const u=Math.max(1,Math.floor(l)),f=Math.floor(.5*l),p=Math.round(i.C*o);a.beginPath();for(const m of r)a.rect(Math.floor(s*o),Math.round(m.Pl*l)-f,p,u);a.fill()})),e.useMediaCoordinateSpace((({context:a})=>{a.font=this._m(),a.fillStyle=n.textColor??this.Co.textColor,a.textAlign=this.Jv?"right":"left",a.textBaseline="middle";const o=this.Jv?Math.round(s-i.V):Math.round(s+i.C+i.V),l=r.map((u=>this.qv.Di(a,u.Jl)));for(let u=r.length;u--;){const f=r[u];a.fillText(f.Jl,o,f.Pl+l[u])}}))}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const r=[],n=this.Ki.Dt().slice(),i=this.yt.cv(),s=this.lm();this.Ki===i.Gn()&&this.yt.cv().Dt().forEach((l=>{i.Zn(l)&&n.push(l)}));const a=this.Ki.Sl()[0],o=this.Ki;n.forEach((l=>{const u=l.Ks(i,o);u.forEach((f=>{f.$i()&&f.Wi()===null&&(f.Ui(null),r.push(f))})),a===l&&u.length>0&&(e=u[0].Ei())})),this.Ki.N().alignLabels&&this.ym(r,s,e)}ym(e,r,n){if(this.Uv===null)return;const i=e.filter((a=>a.Ei()<=n)),s=e.filter((a=>a.Ei()>n));i.sort(((a,o)=>o.Ei()-a.Ei())),i.length&&s.length&&s.push(i[0]),s.sort(((a,o)=>a.Ei()-o.Ei()));for(const a of e){const o=Math.floor(a.$t(r)/2),l=a.Ei();l>-o&&l<o&&a.Ui(o),l>this.Uv.height-o&&l<this.Uv.height+o&&a.Ui(this.Uv.height-o)}GA(i,1,this.Uv.height,r),GA(s,-1,this.Uv.height,r)}Sm(e){if(this.Uv===null)return;const r=this.um(),n=this.lm(),i=this.Jv?"right":"left";r.forEach((s=>{s.qi()&&s.Tt(Le(this.Ki)).nt(e,n,this.qv,i)}))}xm(e){if(this.Uv===null||this.Ki===null)return;const r=this.yt.Gv().Qt(),n=[],i=this.yt.cv(),s=r.gd().Ks(i,this.Ki);s.length&&n.push(s);const a=this.lm(),o=this.Jv?"right":"left";n.forEach((l=>{l.forEach((u=>{u.Tt(Le(this.Ki)).nt(e,a,this.qv,o)}))}))}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return lf(this.Co.fontSize,this.Co.fontFamily)}}function $K(t,e){var r;return((r=t.qa)==null?void 0:r.call(t,e))??[]}function YA(t,e){var r;return((r=t.Ys)==null?void 0:r.call(t,e))??[]}function JA(t,e){var r;return((r=t.ds)==null?void 0:r.call(t,e))??[]}function qK(t,e){var r;return((r=t.Ha)==null?void 0:r.call(t,e))??[]}class l6{constructor(e,r){this.Uv=rr({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new Dr,this.Vm=new Dr,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=r,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(n),this.sm=cc(n,rr({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const i=this.sm.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.nm=cc(n,rr({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const s=this.nm.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new vv(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),uc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),uc(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return Le(this.Nm)}qm(e){var r;this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(l6.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new BK(this.Wm,this.Lv),this.Tm.kt()):((r=this.Tm)==null||r.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(Le(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(Le(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const r=e.localX,n=e.localY;this.Zm(r,n,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const r=e.localX,n=e.localY;this.Zm(r,n,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const r={x:e.localX,y:e.localY};this.iw(r,r,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,r){if(!this.Lv.N().handleScale.pinch)return;const n=5*(r-this.Bm);this.Bm=r,this.ns().Td(e._t,n)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const r=this.ns().gd();this.Am!==null&&r.It()&&(this.zm={x:r.si(),y:r.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const r=e.localX,n=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const i=Le(this.zm),s=i.x+(r-this.Am.x),a=i.y+(n-this.Am.y);this.Zm(s,a,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,r){const n=this.Nm;return n===null?null:VI(n,e,r)}hw(e,r){Le(r==="left"?this.km:this.Pm).dm(rr({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){Ql(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=Le(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const r of e.Sl())if(e.Zn(r)){const n=r.Ft();n!==null&&e.H_(n),r.Ws()}for(const r of e.ru())r.Ws()}nv(){return this.sm.bitmapSize}ev(e,r,n,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,r,n),i)){const a=this.nm.canvasElement;e!==null&&e.drawImage(a,r,n)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const r={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=ac(this.sm,r);i!==null&&(i.useBitmapCoordinateSpace((s=>{this.wm(s)})),this.Nm&&(this.lw(i,$K),this.ow(i),this.lw(i,YA),this.lw(i,JA)))}this.nm.applySuggestedBitmapSize();const n=ac(this.nm,r);n!==null&&(n.useBitmapCoordinateSpace((({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)})),this._w(n),this.lw(n,qK),this.lw(n,JA))}uw(){return this.km}cw(){return this.Pm}Mm(e,r){this.lw(e,r)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,r){const n=r.localX,i=r.localY;e.v()&&e.p(this.ns().Et().wc(n),{x:n,y:i},r)}wm({context:e,bitmapSize:r}){const{width:n,height:i}=r,s=this.ns(),a=s.$(),o=s.Kd();a===o?hv(e,0,0,n,i,o):MI(e,0,0,n,i,a,o)}ow(e){const r=Le(this.Nm),n=r.eu().pr().Tt(r);n!==null&&n.nt(e,!1)}_w(e){this.dw(e,YA,km,this.ns().gd())}lw(e,r){const n=Le(this.Nm),i=n.Dt(),s=n.ru();for(const a of s)this.dw(e,r,I5,a);for(const a of i)this.dw(e,r,I5,a);for(const a of s)this.dw(e,r,km,a);for(const a of i)this.dw(e,r,km,a)}dw(e,r,n,i){const s=Le(this.Nm),a=s.Qt().pd(),o=a!==null&&a.hu===i,l=a!==null&&o&&a.au!==void 0?a.au.ie:void 0;D5(r,(u=>n(u,e,o,l)),i,s)}jm(){if(this.Nm===null)return;const e=this.Lv,r=this.Nm.U_().N().visible,n=this.Nm.q_().N().visible;r||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),n||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const i=e.Qt().Nd();r&&this.km===null&&(this.km=new XA(this,e.N(),i,"left"),this.Hm.appendChild(this.km.iv())),n&&this.Pm===null&&(this.Pm=new XA(this,e.N(),i,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,r,n){e=Math.max(0,Math.min(e,this.Uv.width-1)),r=Math.max(0,Math.min(r,this.Uv.height-1)),this.ns().Ad(e,r,n,Le(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,r,n){this.Am=e,this.Lm=!1,this.Zm(r.x,r.y,n);const i=this.ns().gd();this.zm={x:i.si(),y:i.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const r=this.ns(),n=this.cv();if(r.X_(n,n.Rs()),this.Rm=null,this.Dm=!1,r.Vd(),this.Om!==null){const i=performance.now(),s=r.Et();this.Om.fe(s.Cc(),i),this.Om.Ec(i)||r.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Le(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const r=this.ns(),n=r.Et();if(n.Gi())return;const i=this.Lv.N(),s=i.handleScroll,a=i.kineticScroll;if((!s.pressedMouseMove||e.Np)&&(!s.horzTouchDrag&&!s.vertTouchDrag||!e.Np))return;const o=this.Nm.Rs(),l=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:l,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&a.touch||!e.Np&&a.mouse){const u=n.ul();this.Om=new FK(.2/u,7/u,.997,15/u),this.Om.Dv(n.Cc(),this.Rm.cf)}else this.Om=null;o.Gi()||r.Z_(this.Nm,o,e.localY),r.Dd(e.localX),this.Dm=!0}this.Dm&&(o.Gi()||r.G_(this.Nm,o,e.localY),r.Id(e.localX),this.Om!==null&&this.Om.Dv(n.Cc(),l))}}class QA{constructor(e,r,n,i,s){this.xt=!0,this.Uv=rr({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=n.Nd,this.Ps=r,this.ww=i,this.gw=s,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=cc(this.Jp,rr({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),uc(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){Ql(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const r=ac(this.sm,{colorSpace:this.Ps.layout.colorSpace});r!==null&&r.useBitmapCoordinateSpace((n=>{this.wm(n),this.gm(n)}))}nv(){return this.sm.bitmapSize}ev(e,r,n){const i=this.nv();i.width>0&&i.height>0&&e.drawImage(this.sm.canvasElement,r,n)}gm({context:e,bitmapSize:r,horizontalPixelRatio:n,verticalPixelRatio:i}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const s=Math.floor(this.hd.N().S*n),a=Math.floor(this.hd.N().S*i),o=this.Jv?r.width-s:0;e.fillRect(o,0,s,a)}wm({context:e,bitmapSize:r}){hv(e,0,0,r.width,r.height,this.gw())}}function c6(t){return e=>{var r;return((r=e.Ka)==null?void 0:r.call(e,t))??[]}}const UK=c6("normal"),VK=c6("top"),WK=c6("bottom");class HK{constructor(e,r){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=rr({width:0,height:0}),this.xw=new Dr,this.qv=new cf(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=r,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=cc(this.kw,rr({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const n=this.sm.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.nm=cc(this.kw,rr({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const i=this.nm.canvasElement;i.style.position="absolute",i.style.zIndex="2",i.style.left="0",i.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new vv(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),uc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),uc(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const r=this.Lv.Qt();!r.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&r.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const r=this.Lv.Qt();!r.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&r.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,r,n){Ql(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(rr({width:r,height:e.height})),this.bw!==null&&this.bw.dm(rr({width:n,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,r,n,i){const s=this.nv();if(s.width>0&&s.height>0&&(e.drawImage(this.sm.canvasElement,r,n),i)){const a=this.nm.canvasElement;e.drawImage(a,r,n)}}pm(e){if(e===0)return;const r={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const i=ac(this.sm,r);i!==null&&(i.useBitmapCoordinateSpace((s=>{this.wm(s),this.gm(s),this.Aw(i,WK)})),this.bm(i),this.Aw(i,UK)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const n=ac(this.nm,r);n!==null&&(n.useBitmapCoordinateSpace((({context:i,bitmapSize:s})=>{i.clearRect(0,0,s.width,s.height)})),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],n),this.Aw(n,VK))}Aw(e,r){const n=this.Lv.Qt().tn();for(const i of n)D5(r,(s=>I5(s,e,!1,void 0)),i,void 0);for(const i of n)D5(r,(s=>km(s,e,!1,void 0)),i,void 0)}wm({context:e,bitmapSize:r}){hv(e,0,0,r.width,r.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:r,verticalPixelRatio:n}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const i=Math.max(1,Math.floor(this.Bw().S*n));e.fillRect(0,0,r.width,i)}}bm(e){const r=this.Lv.Qt().Et(),n=r.Vl();if(!n||n.length===0)return;const i=this.cu.maxTickMarkWeight(n),s=this.Bw(),a=r.N();a.borderVisible&&a.ticksVisible&&e.useBitmapCoordinateSpace((({context:o,horizontalPixelRatio:l,verticalPixelRatio:u})=>{o.strokeStyle=this.zw(),o.fillStyle=this.zw();const f=Math.max(1,Math.floor(l)),p=Math.floor(.5*l);o.beginPath();const m=Math.round(s.C*u);for(let v=n.length;v--;){const y=Math.round(n[v].coord*l);o.rect(y-p,0,f,m)}o.fill()})),e.useMediaCoordinateSpace((({context:o})=>{const l=s.S+s.C+s.A+s.k/2;o.textAlign="center",o.textBaseline="middle",o.fillStyle=this.H(),o.font=this._m();for(const u of n)if(u.weight<i){const f=u.needAlignCoordinate?this.Ow(o,u.coord,u.label):u.coord;o.fillText(u.label,f,l)}this.Lv.N().timeScale.allowBoldLabels&&(o.font=this.Nw());for(const u of n)if(u.weight>=i){const f=u.needAlignCoordinate?this.Ow(o,u.coord,u.label):u.coord;o.fillText(u.label,f,l)}}))}Ow(e,r,n){const i=this.qv.Ii(e,n),s=i/2,a=Math.floor(r-s)+.5;return a<0?r+=Math.abs(0-a):a+i>this.Uv.width&&(r-=Math.abs(this.Uv.width-(a+i))),r}Lw(e,r){const n=this.Bw();for(const i of e)for(const s of i.fs())s.Tt().nt(r,n)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return lf(this.F(),this.Ps.fontFamily)}Nw(){return lf(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new cf,Ew:0});const e=this.M,r=this._m();if(e.P!==r){const n=this.F();e.k=n,e.P=r,e.A=3*n/12,e.I=3*n/12,e.ts=9*n/12,e.L=0,e.Ew=4*n/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),r=e.N();r.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),r.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const n={Nd:this.Lv.Qt().Nd()},i=()=>r.leftPriceScale.borderVisible&&e.Et().N().borderVisible,s=()=>e.Kd();r.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new QA("left",r,n,i,s),this.Cw.appendChild(this.Mw.iv())),r.rightPriceScale.visible&&this.bw===null&&(this.bw=new QA("right",r,n,i,s),this.yw.appendChild(this.bw.iv()))}}var EI;const KK=!!Lu&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((t=>t.brand.includes("Chromium")))&&!!Lu&&((EI=navigator==null?void 0:navigator.userAgentData)!=null&&EI.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class GK{constructor(e,r,n){var i;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new Dr,this.Vm=new Dr,this.nd=new Dr,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=r,this.cu=n,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(i=this.Vv).style.userSelect="none",i.style.webkitUserSelect="none",i.style.msUserSelect="none",i.style.MozUserSelect="none",i.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),yx(this.Ps)&&this.Jw(!0),this.ns=new MK(this.rd.bind(this),this.Ps,n),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new HK(this,this.cu),this.Zw.appendChild(this.tg.iv());const s=r.autoSize&&this.ig();let a=this.Ps.width,o=this.Ps.height;if(s||a===0||o===0){const l=e.getBoundingClientRect();a=a||l.width,o=o||l.height}this.sg(a,o),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],Le(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,r,n=!1){if(this.eo===r&&this.S_===e)return;const i=(function(o){const l=Math.floor(o.width),u=Math.floor(o.height);return rr({width:l-l%2,height:u-u%2})})(rr({width:e,height:r}));this.eo=i.height,this.S_=i.width;const s=this.eo+"px",a=this.S_+"px";Le(this.Vv).style.height=s,Le(this.Vv).style.width=a,this.Zw.style.height=s,this.Zw.style.width=a,n?this.lg(ci.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=ci.yn());for(let r=0;r<this.Fw.length;r++)this.Fw[r].pm(e.un(r).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){var i;const r=yx(this.Ps);this.ns.cr(e);const n=yx(this.Ps);n!==r&&this.Jw(n),(i=e.layout)!=null&&i.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const r=this.cg(null),n=document.createElement("canvas");n.width=r.width,n.height=r.height;const i=Le(n.getContext("2d"));return this.cg(i,e),n}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:Le(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return yi(this.Fw[e]).sv()}og(){this.Ww.forEach((e=>{e.kt()}))}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,r){let n=0,i=0;const s=this.Fw[0],a=(l,u)=>{let f=0;for(let p=0;p<this.Fw.length;p++){const m=this.Fw[p],v=Le(l==="left"?m.uw():m.cw()),y=v.nv();if(e!==null&&v.ev(e,u,f,r),f+=y.height,p<this.Fw.length-1){const x=this.Ww[p],b=x.nv();e!==null&&x.ev(e,u,f),f+=b.height}}};this.fg()&&(a("left",0),n+=Le(s.uw()).nv().width);for(let l=0;l<this.Fw.length;l++){const u=this.Fw[l],f=u.nv();if(e!==null&&u.ev(e,n,i,r),i+=f.height,l<this.Fw.length-1){const p=this.Ww[l],m=p.nv();e!==null&&p.ev(e,n,i),i+=m.height}}n+=s.nv().width,this.pg()&&(a("right",n),n+=Le(s.cw()).nv().width);const o=(l,u,f)=>{Le(l==="left"?this.tg.Tw():this.tg.Rw()).ev(Le(e),u,f)};if(this.Ps.timeScale.visible){const l=this.tg.nv();if(e!==null){let u=0;this.fg()&&(o("left",u,i),u=Le(s.uw()).nv().width),this.tg.ev(e,u,i,r),u+=l.width,this.pg()&&o("right",u,i)}i+=l.height}return rr({width:n,height:i})}Mg(){let e=0,r=0,n=0;for(const b of this.Fw)this.fg()&&(r=Math.max(r,Le(b.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(n=Math.max(n,Le(b.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=b.E_();r=R5(r),n=R5(n);const i=this.S_,s=this.eo,a=Math.max(i-r-n,0),o=1*this.Ww.length,l=this.Ps.timeScale.visible;let u=l?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var f;u=(f=u)+f%2;const p=o+u,m=s<p?0:s-p,v=m/e;let y=0;const x=window.devicePixelRatio||1;for(let b=0;b<this.Fw.length;++b){const S=this.Fw[b];S.qm(this.ns.Xs()[b]);let N=0,A=0;A=b===this.Fw.length-1?Math.ceil((m-y)*x)/x:Math.round(S.E_()*v*x)/x,N=Math.max(A,2),y+=N,S.dm(rr({width:a,height:N})),this.fg()&&S.hw(r,"left"),this.pg()&&S.hw(n,"right"),S.cv()&&this.ns.bd(S.cv(),N)}this.tg.Iw(rr({width:l?a:0,height:u}),l?r:0,l?n:0),this.ns.L_(a),this.Uw!==r&&(this.Uw=r),this.$w!==n&&(this.$w=n)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return KK?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const r=this.bg(e),n=r*e.deltaX/100,i=-r*e.deltaY/100;if(e.cancelable&&e.preventDefault(),i!==0&&this.Ps.handleScale.mouseWheel){const s=Math.sign(i)*Math.min(1,Math.abs(i)),a=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(a,s)}n!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*n)}lg(e,r){var i;const n=e._n();n===3&&this.Sg(),n!==3&&n!==2||(this.xg(e),this.Cg(e,r),this.tg.kt(),this.Fw.forEach((s=>{s.Ym()})),((i=this.qw)==null?void 0:i._n())===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,r),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,r){for(const n of e.bn())this.xn(n,r)}xg(e){const r=this.ns.Xs();for(let n=0;n<r.length;n++)e.un(n).ln&&r[n].tu()}xn(e,r){const n=this.ns.Et();switch(e.fn){case 0:n.Fc();break;case 1:n.Wc(e.Wt);break;case 2:n.gn(e.Wt);break;case 3:n.Mn(e.Wt);break;case 4:n.Pc();break;case 5:e.Wt.Ec(r)||n.Mn(e.Wt.Ac(r))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame((r=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const n=this.qw;this.qw=null,this.lg(n,r);for(const i of n.bn())if(i.fn===5&&!i.Wt.Ec(r)){this.Qt().vn(i.Wt);break}}})))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),r=e.length,n=this.Fw.length;for(let i=r;i<n;i++){const s=yi(this.Fw.pop());this.Zw.removeChild(s.iv()),s.nw().u(this),s.ew().u(this),s.m();const a=this.Ww.pop();a!==void 0&&this.hg(a)}for(let i=n;i<r;i++){const s=new l6(this,e[i]);if(s.nw().i(this.yg.bind(this,s),this),s.ew().i(this.kg.bind(this,s),this),this.Fw.push(s),i>0){const a=new zK(this,i-1,i);this.Ww.push(a),this.Zw.insertBefore(a.iv(),this.tg.iv())}this.Zw.insertBefore(s.iv(),this.tg.iv())}for(let i=0;i<r;i++){const s=e[i],a=this.Fw[i];a.cv()!==s?a.qm(s):a.$m()}this.eg(),this.Mg()}Pg(e,r,n,i){var p;const s=new Map;e!==null&&this.ns.tn().forEach((m=>{const v=m.qs().$s(e);v!==null&&s.set(m,v)}));let a;if(e!==null){const m=(p=this.ns.Et().es(e))==null?void 0:p.originalTime;m!==void 0&&(a=m)}const o=this.Qt().pd(),l=o!==null&&o.hu instanceof gv?o.hu:void 0,u=o!==null&&o.au!==void 0?o.au.te:void 0,f=this.Tg(i);return{Gr:a,js:e??void 0,Rg:r??void 0,Dg:f!==-1?f:void 0,Ig:l,Vg:s,Bg:u,Eg:n??void 0}}Tg(e){let r=-1;if(e)r=this.Fw.indexOf(e);else{const n=this.Qt().gd().Gs();n!==null&&(r=this.Qt().Xs().indexOf(n))}return r}yg(e,r,n,i){this.Im.p((()=>this.Pg(r,n,i,e)))}kg(e,r,n,i){this.Vm.p((()=>this.Pg(r,n,i,e)))}Qw(e,r,n){var i;this.mg(((i=this.Qt().pd())==null?void 0:i.ou)??null),this.nd.p((()=>this.Pg(e,r,n)))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver((e=>{const r=e[e.length-1];r&&this.sg(r.contentRect.width,r.contentRect.height)})),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function yx(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function XK(t){return t.open===void 0&&t.value===void 0}function YK(t){return(function(e){return e.open!==void 0})(t)||(function(e){return e.value!==void 0})(t)}function ZA(t,e,r,n){const i=r.value,s={js:e,wt:t,Wt:[i,i,i,i],Gr:n};return r.color!==void 0&&(s.R=r.color),s}function JK(t,e,r,n){const i=r.value,s={js:e,wt:t,Wt:[i,i,i,i],Gr:n};return r.lineColor!==void 0&&(s.vt=r.lineColor),r.topColor!==void 0&&(s.eh=r.topColor),r.bottomColor!==void 0&&(s.rh=r.bottomColor),s}function QK(t,e,r,n){const i=r.value,s={js:e,wt:t,Wt:[i,i,i,i],Gr:n};return r.topLineColor!==void 0&&(s.hh=r.topLineColor),r.bottomLineColor!==void 0&&(s.ah=r.bottomLineColor),r.topFillColor1!==void 0&&(s.oh=r.topFillColor1),r.topFillColor2!==void 0&&(s._h=r.topFillColor2),r.bottomFillColor1!==void 0&&(s.uh=r.bottomFillColor1),r.bottomFillColor2!==void 0&&(s.dh=r.bottomFillColor2),s}function ZK(t,e,r,n){const i={js:e,wt:t,Wt:[r.open,r.high,r.low,r.close],Gr:n};return r.color!==void 0&&(i.R=r.color),i}function eG(t,e,r,n){const i={js:e,wt:t,Wt:[r.open,r.high,r.low,r.close],Gr:n};return r.color!==void 0&&(i.R=r.color),r.borderColor!==void 0&&(i.Ht=r.borderColor),r.wickColor!==void 0&&(i.nh=r.wickColor),i}function tG(t,e,r,n,i){const s=yi(i)(r),a=Math.max(...s),o=Math.min(...s),l=s[s.length-1],u=[l,a,o,l],{time:f,color:p,...m}=r;return{js:e,wt:t,Wt:u,Gr:n,le:m,R:p}}function eu(t){return t.Wt!==void 0}function eE(t,e){return e.customValues!==void 0&&(t.Ag=e.customValues),t}function Ol(t){return(e,r,n,i,s,a)=>(function(o,l){return l?l(o):XK(o)})(n,a)?eE({wt:e,js:r,Gr:i},n):eE(t(e,r,n,i,s),n)}function tE(t){return{Candlestick:Ol(eG),Bar:Ol(ZK),Area:Ol(JK),Baseline:Ol(QK),Histogram:Ol(ZA),Line:Ol(ZA),Custom:Ol(tG)}[t]}function rE(t){return{js:0,Lg:new Map,Ea:t}}function nE(t,e){if(t!==void 0&&t.length!==0)return{zg:e.key(t[0].wt),Og:e.key(t[t.length-1].wt)}}function iE(t){let e;return t.forEach((r=>{e===void 0&&(e=r.Gr)})),yi(e)}class rG{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,r){let n=this.Ng.size!==0,i=!1;const s=this.Fg.get(e);if(s!==void 0)if(this.Fg.size===1)n=!1,i=!0,this.Ng.clear();else for(const l of this.Hg)l.pointData.Lg.delete(e)&&(i=!0);let a=[];if(r.length!==0){const l=r.map((v=>v.time)),u=this.cu.createConverterToInternalObj(r),f=tE(e.wh()),p=e.rl(),m=e.hl();a=r.map(((v,y)=>{const x=u(v.time),b=this.cu.key(x);let S=this.Ng.get(b);S===void 0&&(S=rE(x),this.Ng.set(b,S),i=!0);const N=f(x,S.js,v,l[y],p,m);return S.Lg.set(e,N),N}))}n&&this.$g(),this.qg(e,a);let o=-1;if(i){const l=[];this.Ng.forEach((u=>{l.push({timeWeight:0,time:u.Ea,pointData:u,originalTime:iE(u.Lg)})})),l.sort(((u,f)=>this.cu.key(u.time)-this.cu.key(f.time))),o=this.jg(l)}return this.Yg(e,o,(function(l,u,f){const p=nE(l,f),m=nE(u,f);if(p!==void 0&&m!==void 0)return{Kg:!1,Ta:p.Og>=m.Og&&p.zg>=m.zg}})(this.Fg.get(e),s,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,r,n){if(n&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const i=r;(function(S){S.Gr===void 0&&(S.Gr=S.time)})(i),this.cu.preprocessData(r);const s=this.cu.createConverterToInternalObj([r])(r.time),a=this.Wg.get(e);if(!n&&a!==void 0&&this.cu.key(s)<this.cu.key(a))throw new Error(`Cannot update oldest data, last time=${a}, new time=${s}`);let o=this.Ng.get(this.cu.key(s));if(n&&o===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=o===void 0;o===void 0&&(o=rE(s),this.Ng.set(this.cu.key(s),o));const u=tE(e.wh()),f=e.rl(),p=e.hl(),m=u(s,o.js,r,i.Gr,f,p),v=!n&&!l&&a!==void 0&&this.cu.key(s)===this.cu.key(a);o.Lg.set(e,m),n?this.Gg(e,m,o.js):v&&e.La()&&eu(m)?(e.kr(m),this.Xg(e,m)):this.Xg(e,m);const y={Ta:eu(m),Kg:n};if(!l)return this.Yg(e,-1,y);const x={timeWeight:0,time:o.Ea,pointData:o,originalTime:iE(o.Lg)},b=Du(this.Hg,this.cu.key(x.time),((S,N)=>this.cu.key(S.time)<N));this.Hg.splice(b,0,x);for(let S=b;S<this.Hg.length;++S)zp(this.Hg[S].pointData,S);return this.cu.fillWeightsForPoints(this.Hg,b),this.Yg(e,b,y)}Jg(e,r){const n=this.Fg.get(e);if(n===void 0||r<=0)return[[],this.Qg()];r=Math.min(r,n.length);const i=n.splice(-r).reverse();n.length===0?this.Wg.delete(e):this.Wg.set(e,n[n.length-1].wt);for(const s of i){const a=this.Ng.get(this.cu.key(s.wt));if(a&&(a.Lg.delete(e),a.Lg.size===0)){this.Ng.delete(this.cu.key(a.Ea)),this.Hg.splice(a.js,1);for(let o=a.js;o<this.Hg.length;++o)zp(this.Hg[o].pointData,o)}}return[i,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,r){let n=this.Fg.get(e);n===void 0&&(n=[],this.Fg.set(e,n));const i=n.length!==0?n[n.length-1]:null;i===null||this.cu.key(r.wt)>this.cu.key(i.wt)?eu(r)&&n.push(r):eu(r)?n[n.length-1]=r:n.splice(-1,1),this.Wg.set(e,r.wt)}Gg(e,r,n){const i=this.Fg.get(e);if(i===void 0)return;const s=Du(i,n,((a,o)=>a.js<o));eu(r)?i[s]=r:i.splice(s,1)}qg(e,r){r.length!==0?(this.Fg.set(e,r.filter(eu)),this.Wg.set(e,r[r.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let r=-1;for(let n=0;n<this.Hg.length&&n<e.length;++n){const i=this.Hg[n],s=e[n];if(this.cu.key(i.time)!==this.cu.key(s.time)){r=n;break}s.timeWeight=i.timeWeight,zp(s.pointData,n)}if(r===-1&&this.Hg.length!==e.length&&(r=Math.min(this.Hg.length,e.length)),r===-1)return-1;for(let n=r;n<e.length;++n)zp(e[n].pointData,n);return this.cu.fillWeightsForPoints(e,r),this.Hg=e,r}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach((r=>{r.length!==0&&(e=Math.max(e,r[r.length-1].js))})),e}Yg(e,r,n){const i=this.Qg();if(r!==-1)this.Fg.forEach(((s,a)=>{i.F_.set(a,{le:s,iM:a===e?n:void 0})})),this.Fg.has(e)||i.F_.set(e,{le:[],iM:n}),i.Et.sM=this.Hg,i.Et.nM=r;else{const s=this.Fg.get(e);i.F_.set(e,{le:s||[],iM:n})}return i}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function zp(t,e){t.js=e,t.Lg.forEach((r=>{r.js=e}))}function nG(t,e){return t.wt<e}function iG(t,e){return e<t.wt}function GI(t,e,r){const n=e.Aa(),i=e.bi(),s=Du(t,n,nG),a=BI(t,i,iG);if(!r)return{from:s,to:a};let o=s,l=a;return s>0&&s<t.length&&t[s].wt>=n&&(o=s-1),a>0&&a<t.length&&t[a-1].wt<=i&&(l=a+1),{from:o,to:l}}class u6{constructor(e,r,n){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=r,this._M=n}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map((e=>({...e,...this.ee.ga().gh(e.wt)})))}fM(){this.lM=null}uM(){const e=this.re.Et(),r=e.N().enableConflation?e.Hc():0;r!==this.oM&&(this.rM=!0,this.oM=r),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),r=this.re.Et();if(this.fM(),r.Gi()||e.Gi())return;const n=r.Ie();if(n===null||this.ee.qs().yh()===0)return;const i=this.ee.Lt();i!==null&&(this.lM=GI(this.aM,n,this._M),this.mM(e,r,i.Wt),this.wM())}}class sG{constructor(e,r){this.gM=e,this.Ki=r}nt(e,r,n){this.gM.draw(e,this.Ki,r,n)}}class aG extends u6{constructor(e,r,n){super(e,r,!1),this.$h=n,this.cM=new sG(this.$h.renderer(),(i=>{const s=e.Lt();return s===null?null:e.Ft().Nt(i,s.Wt)}))}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((r=>({wt:r.js,_t:NaN,...e.gh(r.js),MM:r.le})))}mM(e,r){r.mc(this.aM,of(this.lM))}wM(){this.$h.update({bars:this.aM.map(oG),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function oG(t){return{x:t._t,time:t.wt,originalData:t.MM,barColor:t.th}}const lG={color:"#2196f3"},cG=(t,e,r)=>{const n=Uo(r);return new aG(t,e,n)};function d6(t){const e={value:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function sE(t){const e=d6(t);return t.R!==void 0&&(e.color=t.R),e}function uG(t){const e=d6(t);return t.vt!==void 0&&(e.lineColor=t.vt),t.eh!==void 0&&(e.topColor=t.eh),t.rh!==void 0&&(e.bottomColor=t.rh),e}function dG(t){const e=d6(t);return t.hh!==void 0&&(e.topLineColor=t.hh),t.ah!==void 0&&(e.bottomLineColor=t.ah),t.oh!==void 0&&(e.topFillColor1=t.oh),t._h!==void 0&&(e.topFillColor2=t._h),t.uh!==void 0&&(e.bottomFillColor1=t.uh),t.dh!==void 0&&(e.bottomFillColor2=t.dh),e}function XI(t){const e={open:t.Wt[0],high:t.Wt[1],low:t.Wt[2],close:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function hG(t){const e=XI(t);return t.R!==void 0&&(e.color=t.R),e}function fG(t){const e=XI(t),{R:r,Ht:n,nh:i}=t;return r!==void 0&&(e.color=r),n!==void 0&&(e.borderColor=n),i!==void 0&&(e.wickColor=i),e}function jm(t){return{Area:uG,Line:sE,Baseline:dG,Histogram:sE,Bar:hG,Candlestick:fG,Custom:pG}[t]}function pG(t){const e=t.Gr;return{...t.le,time:e}}const mG={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},gG={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},vG={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:TI,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},xx={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},yG={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function aE(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:vG,crosshair:mG,grid:gG,overlayPriceScales:{...xx},leftPriceScale:{...xx,visible:!1},rightPriceScale:{...xx,visible:!0},timeScale:yG,localization:{locale:Lu?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class YI{constructor(e,r,n){this.Yp=e,this.bM=r,this.SM=n??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return pv(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new Jn(e.from,e.to))}getVisibleRange(){let e,r,n=this.Ki().er();if(n===null)return null;if(this.Ki().io()){const i=this.Ki().m_(),s=WI(i);n=pu(n,this.Ki().no()),e=Number((Math.round(n.Ze()/i)*i).toFixed(s)),r=Number((Math.round(n.Ge()/i)*i).toFixed(s))}else e=n.Ze(),r=n.Ge();return{from:e,to:r}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return Le(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class xG{constructor(e,r,n,i){this.Yp=e,this.yt=n,this.xM=r,this.CM=i}getHeight(){return this.yt.$t()}setHeight(e){const r=this.Yp.Qt(),n=r.Gd(this.yt);r.xd(n,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const r=this.paneIndex();r!==e&&(Sn(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(r,e))}getSeries(){return this.yt.F_().map((e=>this.xM(e)))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new YI(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,r={},n=0){return this.CM.addCustomSeries(e,r,n)}addSeries(e,r={}){return this.CM.addSeries(e,r,this.paneIndex())}}const bG={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class oE{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class wG{constructor(e,r,n,i,s,a){this.kM=new Dr,this.ee=e,this.PM=r,this.TM=n,this.cu=s,this.CM=i,this.RM=a}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const r=this.ee.Lt();return r===null?null:this.ee.Ft().Nt(e,r.Wt)}coordinateToPrice(e){const r=this.ee.Lt();return r===null?null:this.ee.Ft().Ds(e,r.Wt)}barsInLogicalRange(e){if(e===null)return null;const r=new Eu(new Au(e.from,e.to)).Ru(),n=this.ee.qs();if(n.Gi())return null;const i=n.$s(r.Aa(),1),s=n.$s(r.bi(),-1),a=Le(n.kh()),o=Le(n.sn());if(i!==null&&s!==null&&i.js>s.js)return{barsBefore:e.from-a,barsAfter:o-e.to};const l={barsBefore:i===null||i.js===a?e.from-a:i.js-a,barsAfter:s===null||s.js===o?o-e.to:o-s.js};return i!==null&&s!==null&&(l.from=i.Gr,l.to=s.Gr),l}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,r=!1){this.ee.wh(),this.PM.VM(this.ee,e,r),this.IM("update")}pop(e=1){const r=this.PM.BM(this.ee,e);r.length!==0&&this.IM("update");const n=jm(this.seriesType());return r.map((i=>n(i)))}dataByIndex(e,r){const n=this.ee.qs().$s(e,r);return n===null?null:jm(this.seriesType())(n)}data(){const e=jm(this.seriesType());return this.ee.qs().Dh().map((r=>e(r)))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return Ra(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const r=Li(Ra(bG),e),n=this.ee.Da(r);return new oE(n)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map((e=>new oE(e)))}seriesType(){return this.ee.wh()}lastValueData(e){const r=this.ee.Ve(e);return r.Be?{noData:!0}:{noData:!1,price:r.gt,color:r.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,r=Le(this.ee.Qt().Kn(e));return this.RM(r)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const r=this.ee.Qt().Kn(this.ee);r!==null&&r.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class SG{constructor(e,r,n){this.EM=new Dr,this.Nu=new Dr,this.xw=new Dr,this.ns=e,this.Jh=e.Et(),this.tg=r,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=n}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,r){r?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const r={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},n=this.Jh.cc(r);this.ns.$d(n)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){Sn(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const r=this.ns.Et();return r.Gi()?null:r.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,r){const n=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(n,r)}timeToCoordinate(e){const r=this.timeToIndex(e,!1);return r===null?null:this.Jh.qt(r)}coordinateToTime(e){const r=this.ns.Et(),n=r.wc(e),i=r.es(n);return i===null?null:i.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...Ra(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function lE(t){return(function(e){if(Tp(e.handleScale)){const n=e.handleScale;e.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:n,axisDoubleClickReset:i}=e.handleScale;Tp(n)&&(e.handleScale.axisPressedMouseMove={time:n,price:n}),Tp(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const r=e.handleScroll;Tp(r)&&(e.handleScroll={horzTouchDrag:r,vertTouchDrag:r,mouseWheel:r,pressedMouseMove:r})})(t),t}class _G{constructor(e,r,n){this.OM=new Map,this.NM=new Map,this.FM=new Dr,this.WM=new Dr,this.HM=new Dr,this.Xc=new WeakMap,this.UM=new rG(r);const i=n===void 0?Ra(aE()):Li(Ra(aE()),lE(n));this.$M=r,this.Yp=new GK(e,i,r),this.Yp.nw().i((a=>{this.FM.v()&&this.FM.p(this.qM(a()))}),this),this.Yp.ew().i((a=>{this.WM.v()&&this.WM.p(this.qM(a()))}),this),this.Yp.Md().i((a=>{this.HM.v()&&this.HM.p(this.qM(a()))}),this);const s=this.Yp.Qt();this.jM=new SG(s,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,r,n){this.autoSizeActive()||this.Yp.sg(e,r,n)}addCustomSeries(e,r={},n=0){const i=(s=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...lG,...s.defaultOptions()},YM:cG,KM:s}))(Uo(e));return this.ZM(i,r,n)}addSeries(e,r={},n=0){return this.ZM(e,r,n)}removeSeries(e){const r=yi(this.OM.get(e)),n=this.UM.Hd(r);this.Yp.Qt().Hd(r),this.GM(n),this.OM.delete(e),this.NM.delete(r)}DM(e,r){this.GM(this.UM.Ug(e,r))}VM(e,r,n){this.GM(this.UM.Zg(e,r,n))}BM(e,r){const[n,i]=this.UM.Jg(e,r);return n.length!==0&&this.GM(i),n}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,r=0){return new YI(this.Yp,e,r)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(lE(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,r=!1){let n,i;try{r||(n=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),i=this.Yp.ug(e)}finally{r||n===void 0||this.Yp.Qt().cr({crosshair:{mode:n}})}return i}addPane(e=!1){const r=this.Yp.Qt().Xd();return r.O_(e),this.XM(r)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,r){this.Yp.Qt().Cd(e,r)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map((e=>this.XM(e)))}paneSize(e=0){const r=this.Yp.gg(e);return{height:r.height,width:r.width}}setCrosshairPosition(e,r,n){const i=this.OM.get(n);if(i===void 0)return;const s=this.Yp.Qt().Kn(i);s!==null&&this.Yp.Qt().Ld(e,r,s)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,r={},n=0){Sn(e.YM!==void 0),(function(l){if(l===void 0||l.type==="custom")return;const u=l;u.minMove!==void 0&&u.precision===void 0&&(u.precision=WI(u.minMove))})(r.priceFormat),e.type==="Candlestick"&&(function(l){l.borderColor!==void 0&&(l.borderUpColor=l.borderColor,l.borderDownColor=l.borderColor),l.wickColor!==void 0&&(l.wickUpColor=l.wickColor,l.wickDownColor=l.wickColor)})(r);const i=Li(Ra(jI),Ra(e.defaultOptions),r),s=e.YM,a=new gv(this.Yp.Qt(),e.type,i,s,e.KM);this.Yp.Qt().Fd(a,n);const o=new wG(a,this,this,this,this.$M,(l=>this.XM(l)));return this.OM.set(o,a),this.NM.set(a,o),o}GM(e){const r=this.Yp.Qt();r.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach(((n,i)=>i.ht(n.le,n.iM))),r.Et().Ju(),r.Sc()}JM(e){return yi(this.NM.get(e))}qM(e){const r=new Map;e.Vg.forEach(((i,s)=>{const a=s.wh(),o=jm(a)(i);if(a!=="Custom")Sn(YK(o));else{const l=s.hl();Sn(!l||l(o)===!1)}r.set(this.JM(s),o)}));const n=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:n,hoveredObjectId:e.Bg,seriesData:r,sourceEvent:e.Eg}}XM(e){let r=this.Xc.get(e);return r||(r=new xG(this.Yp,(n=>this.JM(n)),e,this),this.Xc.set(e,r)),r}}function NG(t){if(o0(t)){const e=document.getElementById(t);return Sn(e!==null,`Cannot find element in DOM with id=${t}`),e}return t}function AG(t,e,r){const n=NG(t),i=new _G(n,e,r);return e.setOptions(i.options()),i}function JI(t,e){return AG(t,new WA,WA.pf(e))}class QI extends u6{constructor(e,r){super(e,r,!0)}mM(e,r,n){r.mc(this.aM,of(this.lM)),e.Yo(this.aM,n,of(this.lM))}QM(e,r){return{wt:e,gt:r,_t:NaN,ut:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((r=>{let n;if((r.jr??1)>1){const i=r.Wt[1],s=r.Wt[2],a=r.Wt[3];n=Math.abs(i-a)>Math.abs(s-a)?i:s}else n=r.Wt[3];return this.tb(r.js,n,e)}))}}function EG(t,e,r,n,i,s,a){if(e.length===0||n.from>=e.length||n.to<=0)return;const{context:o,horizontalPixelRatio:l,verticalPixelRatio:u}=t,f=e[n.from];let p=s(t,f),m=f;if(n.to-n.from<2){const v=i/2;o.beginPath();const y={_t:f._t-v,ut:f.ut},x={_t:f._t+v,ut:f.ut};o.moveTo(y._t*l,y.ut*u),o.lineTo(x._t*l,x.ut*u),a(t,p,y,x)}else{const v=(x,b)=>{a(t,p,m,b),o.beginPath(),p=x,m=b};let y=m;o.beginPath(),o.moveTo(f._t*l,f.ut*u);for(let x=n.from+1;x<n.to;++x){y=e[x];const b=s(t,y);switch(r){case 0:o.lineTo(y._t*l,y.ut*u);break;case 1:o.lineTo(y._t*l,e[x-1].ut*u),b!==p&&(v(b,y),o.lineTo(y._t*l,e[x-1].ut*u)),o.lineTo(y._t*l,y.ut*u);break;case 2:{const[S,N]=CG(e,x-1,x);o.bezierCurveTo(S._t*l,S.ut*u,N._t*l,N.ut*u,y._t*l,y.ut*u);break}}r!==1&&b!==p&&(v(b,y),o.moveTo(y._t*l,y.ut*u))}(m!==y||m===y&&r===1)&&a(t,p,m,y)}}const cE=6;function bx(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function uE(t,e){return{_t:t._t/e,ut:t.ut/e}}function CG(t,e,r){const n=Math.max(0,e-1),i=Math.min(t.length-1,r+1);var s,a;return[(s=t[e],a=uE(bx(t[r],t[n]),cE),{_t:s._t+a._t,ut:s.ut+a.ut}),bx(t[r],uE(bx(t[i],t[e]),cE))]}function kG(t,e){const r=t.context;r.strokeStyle=e,r.stroke()}let jG=class extends tl{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:r,lt:n,ib:i,sb:s,ct:a,Zt:o,nb:l}=this.rt;if(n===null)return;const u=e.context;u.lineCap="butt",u.lineWidth=a*e.verticalPixelRatio,oc(u,o),u.lineJoin="round";const f=this.eb.bind(this);s!==void 0&&EG(e,r,s,n,i,f,kG),l&&(function(p,m,v,y,x){if(y.to-y.from<=0)return;const{horizontalPixelRatio:b,verticalPixelRatio:S,context:N}=p;let A=null;const k=Math.max(1,Math.floor(b))%2/2,E=v*S+k;for(let j=y.to-1;j>=y.from;--j){const T=m[j];if(T){const M=x(p,T);M!==A&&(N.beginPath(),A!==null&&N.fill(),N.fillStyle=M,A=M);const I=Math.round(T._t*b)+k,q=T.ut*S;N.moveTo(I,q),N.arc(I,q,E,0,2*Math.PI)}}N.fill()})(e,r,l,n,f)}},PG=class extends jG{eb(e,r){return r.vt}},TG=class extends QI{constructor(){super(...arguments),this.cM=new PG}tb(e,r,n){return{...this.QM(e,r),...n.gh(e)}}wM(){const e=this.ee.N(),r={ot:this.aM,Zt:e.lineStyle,sb:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(r)}};const wh={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(t,e)=>new TG(t,e)};class MG extends u6{constructor(e,r){super(e,r,!1)}mM(e,r,n){r.mc(this.aM,of(this.lM)),e.Zo(this.aM,n,of(this.lM))}Lb(e,r,n){return{wt:e,Hr:r.Wt[0],Ur:r.Wt[1],$r:r.Wt[2],qr:r.Wt[3],_t:NaN,Go:NaN,Xo:NaN,Jo:NaN,Qo:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((r=>this.tb(r.js,r,e)))}}class OG extends tl{constructor(){super(...arguments),this.jt=null,this.Ib=0}ht(e){this.jt=e}et(e){if(this.jt===null||this.jt.qs.length===0||this.jt.lt===null)return;const{horizontalPixelRatio:r}=e;this.Ib=(function(s,a){if(s>=2.5&&s<=4)return Math.floor(3*a);const o=1-.2*Math.atan(Math.max(4,s)-4)/(.5*Math.PI),l=Math.floor(s*o*a),u=Math.floor(s*a),f=Math.min(l,u);return Math.max(Math.floor(a),f)})(this.jt.ul,r),this.Ib>=2&&Math.floor(r)%2!=this.Ib%2&&this.Ib--;const n=this.jt.qs;this.jt.zb&&this.Ob(e,n,this.jt.lt),this.jt.Mi&&this.gm(e,n,this.jt.lt);const i=this.Nb(r);(!this.jt.Mi||this.Ib>2*i)&&this.Fb(e,n,this.jt.lt)}Ob(e,r,n){if(this.jt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:a}=e;let o="",l=Math.min(Math.floor(s),Math.floor(this.jt.ul*s));l=Math.max(Math.floor(s),Math.min(l,this.Ib));const u=Math.floor(.5*l);let f=null;for(let p=n.from;p<n.to;p++){const m=r[p];m.sh!==o&&(i.fillStyle=m.sh,o=m.sh);const v=Math.round(Math.min(m.Go,m.Qo)*a),y=Math.round(Math.max(m.Go,m.Qo)*a),x=Math.round(m.Xo*a),b=Math.round(m.Jo*a);let S=Math.round(s*m._t)-u;const N=S+l-1;f!==null&&(S=Math.max(f+1,S),S=Math.min(S,N));const A=N-S+1;i.fillRect(S,x,A,v-x),i.fillRect(S,y+1,A,b-y),f=N}}Nb(e){let r=Math.floor(1*e);this.Ib<=2*r&&(r=Math.floor(.5*(this.Ib-1)));const n=Math.max(Math.floor(e),r);return this.Ib<=2*n?Math.max(Math.floor(e),Math.floor(1*e)):n}gm(e,r,n){if(this.jt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:a}=e;let o="";const l=this.Nb(s);let u=null;for(let f=n.from;f<n.to;f++){const p=r[f];p.ih!==o&&(i.fillStyle=p.ih,o=p.ih);let m=Math.round(p._t*s)-Math.floor(.5*this.Ib);const v=m+this.Ib-1,y=Math.round(Math.min(p.Go,p.Qo)*a),x=Math.round(Math.max(p.Go,p.Qo)*a);if(u!==null&&(m=Math.max(u+1,m),m=Math.min(m,v)),this.jt.ul*s>2*l)DH(i,m,y,v-m+1,x-y+1,l);else{const b=v-m+1;i.fillRect(m,y,b,x-y+1)}u=v}}Fb(e,r,n){if(this.jt===null)return;const{context:i,horizontalPixelRatio:s,verticalPixelRatio:a}=e;let o="";const l=this.Nb(s);for(let u=n.from;u<n.to;u++){const f=r[u];let p=Math.round(Math.min(f.Go,f.Qo)*a),m=Math.round(Math.max(f.Go,f.Qo)*a),v=Math.round(f._t*s)-Math.floor(.5*this.Ib),y=v+this.Ib-1;if(f.th!==o){const x=f.th;i.fillStyle=x,o=x}this.jt.Mi&&(v+=l,p+=l,y-=l,m-=l),p>m||i.fillRect(v,p,y-v+1,m-p+1)}}}let RG=class extends MG{constructor(){super(...arguments),this.cM=new OG}tb(e,r,n){return{...this.Lb(e,r,n),...n.gh(e)}}wM(){const e=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),zb:e.wickVisible,Mi:e.borderVisible,lt:this.lM})}};const ZI={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},YM:(t,e)=>new RG(t,e)};class IG extends tl{constructor(){super(...arguments),this.jt=null,this.Wb=[]}ht(e){this.jt=e,this.Wb=[]}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:n}){if(this.jt===null||this.jt.ot.length===0||this.jt.lt===null)return;this.Wb.length||this.Hb(r);const i=Math.max(1,Math.floor(n)),s=Math.round(this.jt.Ub*n)-Math.floor(i/2),a=s+i;for(let o=this.jt.lt.from;o<this.jt.lt.to;o++){const l=this.jt.ot[o],u=this.Wb[o-this.jt.lt.from],f=Math.round(l.ut*n);let p,m;e.fillStyle=l.th,f<=s?(p=f,m=a):(p=s,m=f-Math.floor(i/2)+i),e.fillRect(u.Aa,p,u.bi-u.Aa+1,m-p)}}Hb(e){if(this.jt===null||this.jt.ot.length===0||this.jt.lt===null)return void(this.Wb=[]);const r=Math.ceil(this.jt.ul*e)<=1?0:Math.max(1,Math.floor(e)),n=Math.round(this.jt.ul*e)-r;this.Wb=new Array(this.jt.lt.to-this.jt.lt.from);for(let s=this.jt.lt.from;s<this.jt.lt.to;s++){const a=this.jt.ot[s],o=Math.round(a._t*e);let l,u;if(n%2){const f=(n-1)/2;l=o-f,u=o+f}else{const f=n/2;l=o-f,u=o+f-1}this.Wb[s-this.jt.lt.from]={Aa:l,bi:u,$b:o,oe:a._t*e,wt:a.wt}}for(let s=this.jt.lt.from+1;s<this.jt.lt.to;s++){const a=this.Wb[s-this.jt.lt.from],o=this.Wb[s-this.jt.lt.from-1];a.wt===o.wt+1&&a.Aa-o.bi!==r+1&&(o.$b>o.oe?o.bi=a.Aa-r-1:a.Aa=o.bi+r+1)}let i=Math.ceil(this.jt.ul*e);for(let s=this.jt.lt.from;s<this.jt.lt.to;s++){const a=this.Wb[s-this.jt.lt.from];a.bi<a.Aa&&(a.bi=a.Aa);const o=a.bi-a.Aa+1;i=Math.min(o,i)}if(r>0&&i<4)for(let s=this.jt.lt.from;s<this.jt.lt.to;s++){const a=this.Wb[s-this.jt.lt.from];a.bi-a.Aa+1>i&&(a.$b>a.oe?a.bi-=1:a.Aa+=1)}}}class DG extends QI{constructor(){super(...arguments),this.cM=new IG}tb(e,r,n){return{...this.QM(e,r),...n.gh(e)}}wM(){const e={ot:this.aM,ul:this.re.Et().ul(),lt:this.lM,Ub:this.ee.Ft().Nt(this.ee.N().base,Le(this.ee.Lt()).Wt)};this.cM.ht(e)}}const eD={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},YM:(t,e)=>new DG(t,e)};class LG{constructor(e,r){this.ee=e,this.Zh=r,this.jb()}detach(){this.ee.detachPrimitive(this.Zh)}getSeries(){return this.ee}applyOptions(e){this.Zh&&this.Zh.cr&&this.Zh.cr(e)}jb(){this.ee.attachPrimitive(this.Zh)}}const zG={autoScale:!0,zOrder:"normal"};function Wh(t,e){return a6(Math.min(Math.max(t,12),30)*e)}function zu(t,e){switch(t){case"arrowDown":case"arrowUp":return Wh(e,1);case"circle":return Wh(e,.8);case"square":return Wh(e,.7)}}function tD(t){return(function(e){const r=Math.ceil(e);return r%2!=0?r-1:r})(Wh(t,1))}function rD(t){return Math.max(Wh(t,.1),3)}function dE(t,e,r){return e?t:r?Math.ceil(t/2):0}function hE(t,e,r,n){const i=(zu("arrowUp",n)-1)/2*r.pS,s=(a6(n/2)-1)/2*r.pS;e.beginPath(),t?(e.moveTo(r._t-i,r.ut),e.lineTo(r._t,r.ut-i),e.lineTo(r._t+i,r.ut),e.lineTo(r._t+s,r.ut),e.lineTo(r._t+s,r.ut+i),e.lineTo(r._t-s,r.ut+i),e.lineTo(r._t-s,r.ut)):(e.moveTo(r._t-i,r.ut),e.lineTo(r._t,r.ut+i),e.lineTo(r._t+i,r.ut),e.lineTo(r._t+s,r.ut),e.lineTo(r._t+s,r.ut-i),e.lineTo(r._t-s,r.ut-i),e.lineTo(r._t-s,r.ut)),e.fill()}function fE(t,e,r,n,i,s){const a=(zu("arrowUp",n)-1)/2,o=(a6(n/2)-1)/2;return i>=e-o-2&&i<=e+o+2&&s>=(t?r:r-a)-2&&s<=(t?r+a:r)+2?!0:(()=>{if(i<e-a-3||i>e+a+3||s<(t?r-a-3:r)||s>(t?r:r+a+3))return!1;const l=Math.abs(i-e);return Math.abs(s-r)+3>=l/2})()}class FG{constructor(){this.jt=null,this.$n=new cf,this.F=-1,this.W="",this.jv="",this.vS="normal"}ht(e){this.jt=e}qn(e,r,n){this.F===e&&this.W===r||(this.F=e,this.W=r,this.jv=lf(e,r),this.$n.On()),this.vS=n}Qn(e,r){if(this.jt===null||this.jt.lt===null)return null;for(let n=this.jt.lt.from;n<this.jt.lt.to;n++){const i=this.jt.ot[n];if(i&&$G(i,e,r))return{zOrder:"normal",externalId:i.te??""}}return null}draw(e){this.vS!=="aboveSeries"&&e.useBitmapCoordinateSpace((r=>{this.et(r)}))}drawBackground(e){this.vS==="aboveSeries"&&e.useBitmapCoordinateSpace((r=>{this.et(r)}))}et({context:e,horizontalPixelRatio:r,verticalPixelRatio:n}){if(this.jt!==null&&this.jt.lt!==null){e.textBaseline="middle",e.font=this.jv;for(let i=this.jt.lt.from;i<this.jt.lt.to;i++){const s=this.jt.ot[i];s.ri!==void 0&&(s.ri.ss=this.$n.Ii(e,s.ri.mS),s.ri.$t=this.F,s.ri._t=s._t-s.ri.ss/2),BG(s,e,r,n)}}}}function BG(t,e,r,n){e.fillStyle=t.R,t.ri!==void 0&&(function(i,s,a,o,l,u){i.save(),i.scale(l,u),i.fillText(s,a,o),i.restore()})(e,t.ri.mS,t.ri._t,t.ri.ut,r,n),(function(i,s,a){if(i.yh!==0){switch(i.wS){case"arrowDown":return void hE(!1,s,a,i.yh);case"arrowUp":return void hE(!0,s,a,i.yh);case"circle":return void(function(o,l,u){const f=(zu("circle",u)-1)/2;o.beginPath(),o.arc(l._t,l.ut,f*l.pS,0,2*Math.PI,!1),o.fill()})(s,a,i.yh);case"square":return void(function(o,l,u){const f=zu("square",u),p=(f-1)*l.pS/2,m=l._t-p,v=l.ut-p;o.fillRect(m,v,f*l.pS,f*l.pS)})(s,a,i.yh)}i.wS}})(t,e,(function(i,s,a){const o=Math.max(1,Math.floor(s))%2/2;return{_t:Math.round(i._t*s)+o,ut:i.ut*a,pS:s}})(t,r,n))}function $G(t,e,r){return!(t.ri===void 0||!(function(n,i,s,a,o,l){const u=a/2;return o>=n&&o<=n+s&&l>=i-u&&l<=i+u})(t.ri._t,t.ri.ut,t.ri.ss,t.ri.$t,e,r))||(function(n,i,s){if(n.yh===0)return!1;switch(n.wS){case"arrowDown":return fE(!0,n._t,n.ut,n.yh,i,s);case"arrowUp":return fE(!1,n._t,n.ut,n.yh,i,s);case"circle":return(function(a,o,l,u,f){const p=2+zu("circle",l)/2,m=a-u,v=o-f;return Math.sqrt(m*m+v*v)<=p})(n._t,n.ut,n.yh,i,s);case"square":return(function(a,o,l,u,f){const p=zu("square",l),m=(p-1)/2,v=a-m,y=o-m;return u>=v&&u<=v+p&&f>=y&&f<=y+p})(n._t,n.ut,n.yh,i,s)}})(t,e,r)}function pE(t){return t==="atPriceTop"||t==="atPriceBottom"||t==="atPriceMiddle"}function qG(t,e,r,n,i,s,a,o){const l=(function(y,x,b){if(pE(x.position)&&x.price!==void 0)return x.price;if("value"in(S=y)&&typeof S.value=="number")return y.value;var S;if((function(N){return"open"in N&&"high"in N&&"low"in N&&"close"in N})(y)){if(x.position==="inBar")return y.close;if(x.position==="aboveBar")return b?y.low:y.high;if(x.position==="belowBar")return b?y.high:y.low}})(r,e,a.priceScale().options().invertScale);if(l===void 0)return;const u=pE(e.position),f=o.timeScale(),p=lc(e.size)?Math.max(e.size,0):1,m=tD(f.options().barSpacing)*p,v=m/2;switch(t.yh=m,e.position){case"inBar":case"atPriceMiddle":return t.ut=Le(a.priceToCoordinate(l)),void(t.ri!==void 0&&(t.ri.ut=t.ut+v+s+.6*i));case"aboveBar":case"atPriceTop":{const y=u?0:n.gS;return t.ut=Le(a.priceToCoordinate(l))-v-y,t.ri!==void 0&&(t.ri.ut=t.ut-v-.6*i,n.gS+=1.2*i),void(u||(n.gS+=m+s))}case"belowBar":case"atPriceBottom":{const y=u?0:n.MS;return t.ut=Le(a.priceToCoordinate(l))+v+y,t.ri!==void 0&&(t.ri.ut=t.ut+v+s+.6*i,n.MS+=1.2*i),void(u||(n.MS+=m+s))}}}class UG{constructor(e,r,n){this.bS=[],this.xt=!0,this.SS=!0,this.Xt=new FG,this.ye=e,this.Lv=r,this.jt={ot:[],lt:null},this.Ps=n}renderer(){if(!this.ye.options().visible)return null;this.xt&&this.xS();const e=this.Lv.options().layout;return this.Xt.qn(e.fontSize,e.fontFamily,this.Ps.zOrder),this.Xt.ht(this.jt),this.Xt}CS(e){this.bS=e,this.kt("data")}kt(e){this.xt=!0,e==="data"&&(this.SS=!0)}yS(e){this.xt=!0,this.Ps=e}zOrder(){return this.Ps.zOrder==="aboveSeries"?"top":this.Ps.zOrder}xS(){const e=this.Lv.timeScale(),r=this.bS;this.SS&&(this.jt.ot=r.map((u=>({wt:u.time,_t:0,ut:0,yh:0,wS:u.shape,R:u.color,te:u.id,kS:u.kS,ri:void 0}))),this.SS=!1);const n=this.Lv.options().layout;this.jt.lt=null;const i=e.getVisibleLogicalRange();if(i===null)return;const s=new Au(Math.floor(i.from),Math.ceil(i.to));if(this.ye.data()[0]===null||this.jt.ot.length===0)return;let a=NaN;const o=rD(e.options().barSpacing),l={gS:o,MS:o};this.jt.lt=GI(this.jt.ot,s,!0);for(let u=this.jt.lt.from;u<this.jt.lt.to;u++){const f=r[u];f.time!==a&&(l.gS=o,l.MS=o,a=f.time);const p=this.jt.ot[u];p._t=Le(e.logicalToCoordinate(f.time)),f.text!==void 0&&f.text.length>0&&(p.ri={mS:f.text,_t:0,ut:0,ss:0,$t:0});const m=this.ye.dataByIndex(f.time,0);m!==null&&qG(p,f,m,l,n.fontSize,o,this.ye,this.Lv)}this.xt=!1}}function mE(t){return{...zG,...t}}class VG{constructor(e){this.$h=null,this.bS=[],this.PS=[],this.TS=null,this.ye=null,this.Lv=null,this.RS=!0,this.DS=null,this.IS=null,this.VS=null,this.BS=!0,this.Ps=mE(e)}attached(e){this.ES(),this.Lv=e.chart,this.ye=e.series,this.$h=new UG(this.ye,Le(this.Lv),this.Ps),this.dS=e.requestUpdate,this.ye.subscribeDataChanged((r=>this.IM(r))),this.BS=!0,this.Jb()}Jb(){this.dS&&this.dS()}detached(){this.ye&&this.TS&&this.ye.unsubscribeDataChanged(this.TS),this.Lv=null,this.ye=null,this.$h=null,this.TS=null}CS(e){this.BS=!0,this.bS=e,this.ES(),this.RS=!0,this.IS=null,this.Jb()}AS(){return this.bS}paneViews(){return this.$h?[this.$h]:[]}updateAllViews(){this.LS()}hitTest(e,r){var n;return this.$h?((n=this.$h.renderer())==null?void 0:n.Qn(e,r))??null:null}autoscaleInfo(e,r){if(this.Ps.autoScale&&this.$h){const n=this.zS();if(n)return{priceRange:null,margins:n}}return null}cr(e){this.Ps=mE({...this.Ps,...e}),this.Jb&&this.Jb()}zS(){const e=Le(this.Lv).timeScale().options().barSpacing;if(this.RS||e!==this.VS){if(this.VS=e,this.bS.length>0){const r=rD(e),n=1.5*tD(e)+2*r,i=this.OS();this.DS={above:dE(n,i.aboveBar,i.inBar),below:dE(n,i.belowBar,i.inBar)}}else this.DS=null;this.RS=!1}return this.DS}OS(){return this.IS===null&&(this.IS=this.bS.reduce(((e,r)=>(e[r.position]||(e[r.position]=!0),e)),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.IS}ES(){var i;if(!this.BS||!this.Lv||!this.ye)return;const e=this.Lv.timeScale(),r=(i=this.ye)==null?void 0:i.data();if(e.getVisibleLogicalRange()==null||!this.ye||r.length===0)return void(this.PS=[]);const n=e.timeToIndex(Le(r[0].time),!0);this.PS=this.bS.map(((s,a)=>{const o=e.timeToIndex(s.time,!0),l=o<n?1:-1,u=Le(this.ye).dataByIndex(o,l),f={time:e.timeToIndex(Le(u).time,!1),position:s.position,shape:s.shape,color:s.color,id:s.id,kS:a,text:s.text,size:s.size,price:s.price,Gr:s.time};if(s.position==="atPriceTop"||s.position==="atPriceBottom"||s.position==="atPriceMiddle"){if(s.price===void 0)throw new Error(`Price is required for position ${s.position}`);return{...f,position:s.position,price:s.price}}return{...f,position:s.position,price:s.price}})),this.BS=!1}LS(e){this.$h&&(this.ES(),this.$h.CS(this.PS),this.$h.yS(this.Ps),this.$h.kt(e))}IM(e){this.BS=!0,this.Jb()}}class WG extends LG{constructor(e,r,n){super(e,r),n&&this.setMarkers(n)}setMarkers(e){this.Zh.CS(e)}markers(){return this.Zh.AS()}}function HG(t,e,r){const n=new WG(t,new VG({}));return e&&n.setMarkers(e),n}({...jI});function tu(t){const e=Number(t);return Number.isFinite(e)?e:0}function gE(t,e){const r=t&&typeof t=="object"&&"data"in t?t.data:t,n=Array.isArray(r==null?void 0:r.frames)?r.frames:[];if(!n.length)return[];const i=String(e||"").toUpperCase(),s=n.filter(a=>{var l;return String(a.symbol||((l=a.instrument)==null?void 0:l.symbol)||"").toUpperCase()===i});return s.length?s:n}function KG(t){const e=t.map(r=>{var n,i,s,a,o,l;return{time:Math.floor(tu((n=r.window)==null?void 0:n.start_ts_ms)/1e3),open:tu((i=r.bar)==null?void 0:i.open),high:tu((s=r.bar)==null?void 0:s.high),low:tu((a=r.bar)==null?void 0:a.low),close:tu((o=r.bar)==null?void 0:o.close),volume:tu((l=r.bar)==null?void 0:l.volume_shares)}}).filter(r=>Number(r.time)>0&&r.open>0&&r.high>0&&r.low>0&&r.close>0);return e.sort((r,n)=>Number(r.time)-Number(n.time)),e.filter((r,n)=>n===0||r.time!==e[n-1].time)}function l0({symbol:t,symbolName:e,interval:r="1m",intervalHint:n,limit:i=240,height:s="100%",refreshMs:a=12e3}){const o=_.useRef(null),l=_.useRef(null),u=_.useRef(null),f=_.useRef(null),[p,m]=_.useState("loading");_.useEffect(()=>{const y=o.current;if(!y)return;const x=JI(y,{width:y.clientWidth,height:y.clientHeight,layout:{background:{color:"#0B0E11"},textColor:"#B7BDC6",fontSize:10},grid:{vertLines:{color:"rgba(43,49,57,0.25)",visible:!0},horzLines:{color:"rgba(43,49,57,0.25)",visible:!0}},rightPriceScale:{borderColor:"#2B3139",borderVisible:!1,scaleMargins:{top:.06,bottom:.3}},leftPriceScale:{visible:!1,borderVisible:!1},timeScale:{borderVisible:!1,timeVisible:!0,secondsVisible:!1,rightOffset:2,barSpacing:5},handleScale:!1,handleScroll:!1,crosshair:{mode:0}});l.current=x,u.current=x.addSeries(ZI,{upColor:"#FF4444",downColor:"#00B070",borderUpColor:"#FF4444",borderDownColor:"#00B070",wickUpColor:"#FF4444",wickDownColor:"#00B070",priceFormat:{type:"price",precision:2,minMove:.01}}),f.current=x.addSeries(eD,{priceFormat:{type:"volume"},priceScaleId:"left",lastValueVisible:!1,priceLineVisible:!1}),x.priceScale("left").applyOptions({visible:!1,borderVisible:!1,scaleMargins:{top:.72,bottom:0}});const b=new ResizeObserver(S=>{if(!S[0])return;const{width:N,height:A}=S[0].contentRect;x.applyOptions({width:N,height:A})});return b.observe(y),()=>{b.disconnect(),x.remove(),l.current=null,u.current=null,f.current=null}},[]);const v=_.useCallback(async()=>{var k,E,j;const y=String(t||"").trim();if(!y)return;const x=String(r||"1m"),b=x==="1d"?20:80,S=x==="1d"?365:800,N=x==="1d"?30:240,A=Math.max(b,Math.min(Number(i)||N,S));try{m(D=>D==="ready"?D:"loading");const M=await(await fetch(`/api/market/frames?symbol=${encodeURIComponent(y)}&interval=${encodeURIComponent(x)}&limit=${encodeURIComponent(String(A))}`)).json();let I=gE(M,y);if(!I.length){const L=await(await fetch("/replay/cn-a/latest/frames.1m.json")).json();I=gE(L,y)}const q=KG(I).slice(-A);if(!q.length)throw new Error("no_candles");(k=u.current)==null||k.setData(q),(E=f.current)==null||E.setData(q.map(D=>({time:D.time,value:D.volume,color:D.close>=D.open?"rgba(255,68,68,0.35)":"rgba(0,176,112,0.35)"}))),(j=l.current)==null||j.timeScale().fitContent(),m("ready")}catch{m("error")}},[t,r,i]);return _.useEffect(()=>{v();const y=window.setInterval(v,Math.max(3e3,a));return()=>window.clearInterval(y)},[v,a]),d.jsxs("div",{style:{height:s,position:"relative",background:"#0B0E11"},children:[d.jsxs("div",{className:"absolute left-2 top-1 z-10 inline-flex items-center gap-1 rounded border border-white/10 bg-black/40 px-1.5 py-0.5",children:[d.jsx("span",{className:"text-[12px] font-bold tracking-wide text-nofx-text-main",children:t}),e?d.jsx("span",{className:"text-[12px] font-bold text-white/90",children:e}):null,d.jsx("span",{className:"text-[10px] font-bold text-nofx-text-muted",children:n||r})]}),d.jsx("div",{ref:o,style:{width:"100%",height:"100%"}}),p==="loading"&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-mono text-nofx-text-muted",children:"loading chart..."}),p==="error"&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-mono text-red-400",children:"chart unavailable"})]})}var wx={exports:{}},Sx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function GG(){if(vE)return Sx;vE=1;var t=dv();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(p,m){var v=m(),y=n({inst:{value:v,getSnapshot:m}}),x=y[0].inst,b=y[1];return s(function(){x.value=v,x.getSnapshot=m,l(x)&&b({inst:x})},[p,v,m]),i(function(){return l(x)&&b({inst:x}),p(function(){l(x)&&b({inst:x})})},[p]),a(v),v}function l(p){var m=p.getSnapshot;p=p.value;try{var v=m();return!r(p,v)}catch{return!0}}function u(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return Sx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Sx}var yE;function XG(){return yE||(yE=1,wx.exports=GG()),wx.exports}var xE=XG();const nD=0,iD=1,sD=2,bE=3;var wE=Object.prototype.hasOwnProperty;function L5(t,e){var r,n;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&L5(t[n],e[n]););return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(wE.call(t,r)&&++n&&!wE.call(e,r)||!(r in e)||!L5(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}const Oa=new WeakMap,Da=()=>{},Dn=Da(),z5=Object,Ft=t=>t===Dn,Zs=t=>typeof t=="function",Xo=(t,e)=>({...t,...e}),aD=t=>Zs(t.then),_x={},Fp={},h6="undefined",c0=typeof window!=h6,F5=typeof document!=h6,YG=c0&&"Deno"in window,JG=()=>c0&&typeof window.requestAnimationFrame!=h6,oD=(t,e)=>{const r=Oa.get(t);return[()=>!Ft(e)&&t.get(e)||_x,n=>{if(!Ft(e)){const i=t.get(e);e in Fp||(Fp[e]=i),r[5](e,Xo(i,n),i||_x)}},r[6],()=>!Ft(e)&&e in Fp?Fp[e]:!Ft(e)&&t.get(e)||_x]};let B5=!0;const QG=()=>B5,[$5,q5]=c0&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Da,Da],ZG=()=>{const t=F5&&document.visibilityState;return Ft(t)||t!=="hidden"},eX=t=>(F5&&document.addEventListener("visibilitychange",t),$5("focus",t),()=>{F5&&document.removeEventListener("visibilitychange",t),q5("focus",t)}),tX=t=>{const e=()=>{B5=!0,t()},r=()=>{B5=!1};return $5("online",e),$5("offline",r),()=>{q5("online",e),q5("offline",r)}},rX={isOnline:QG,isVisible:ZG},nX={initFocus:eX,initReconnect:tX},SE=!W.useId,Cu=!c0||YG,iX=t=>JG()?window.requestAnimationFrame(t):setTimeout(t,1),Nx=Cu?_.useEffect:_.useLayoutEffect,Ax=typeof navigator<"u"&&navigator.connection,_E=!Cu&&Ax&&(["slow-2g","2g"].includes(Ax.effectiveType)||Ax.saveData),Bp=new WeakMap,sX=t=>z5.prototype.toString.call(t),Ex=(t,e)=>t===`[object ${e}]`;let aX=0;const U5=t=>{const e=typeof t,r=sX(t),n=Ex(r,"Date"),i=Ex(r,"RegExp"),s=Ex(r,"Object");let a,o;if(z5(t)===t&&!n&&!i){if(a=Bp.get(t),a)return a;if(a=++aX+"~",Bp.set(t,a),Array.isArray(t)){for(a="@",o=0;o<t.length;o++)a+=U5(t[o])+",";Bp.set(t,a)}if(s){a="#";const l=z5.keys(t).sort();for(;!Ft(o=l.pop());)Ft(t[o])||(a+=o+":"+U5(t[o])+",");Bp.set(t,a)}}else a=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return a},f6=t=>{if(Zs(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?U5(t):"",[t,e]};let oX=0;const V5=()=>++oX;async function lD(...t){const[e,r,n,i]=t,s=Xo({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let a=s.populateCache;const o=s.rollbackOnError;let l=s.optimisticData;const u=m=>typeof o=="function"?o(m):o!==!1,f=s.throwOnError;if(Zs(r)){const m=r,v=[],y=e.keys();for(const x of y)!/^\$(inf|sub)\$/.test(x)&&m(e.get(x)._k)&&v.push(x);return Promise.all(v.map(p))}return p(r);async function p(m){const[v]=f6(m);if(!v)return;const[y,x]=oD(e,v),[b,S,N,A]=Oa.get(e),k=()=>{const K=b[v];return(Zs(s.revalidate)?s.revalidate(y().data,m):s.revalidate!==!1)&&(delete N[v],delete A[v],K&&K[0])?K[0](sD).then(()=>y().data):y().data};if(t.length<3)return k();let E=n,j,T=!1;const M=V5();S[v]=[M,0];const I=!Ft(l),q=y(),D=q.data,L=q._c,V=Ft(L)?D:L;if(I&&(l=Zs(l)?l(V,D):l,x({data:l,_c:V})),Zs(E))try{E=E(V)}catch(K){j=K,T=!0}if(E&&aD(E))if(E=await E.catch(K=>{j=K,T=!0}),M!==S[v][0]){if(T)throw j;return E}else T&&I&&u(j)&&(a=!0,x({data:V,_c:Dn}));if(a&&!T)if(Zs(a)){const K=a(E,V);x({data:K,error:Dn,_c:Dn})}else x({data:E,error:Dn,_c:Dn});if(S[v][1]=V5(),Promise.resolve(k()).then(()=>{x({_c:Dn})}),T){if(f)throw j;return}return E}}const NE=(t,e)=>{for(const r in t)t[r][0]&&t[r][0](e)},lX=(t,e)=>{if(!Oa.has(t)){const r=Xo(nX,e),n=Object.create(null),i=lD.bind(Dn,t);let s=Da;const a=Object.create(null),o=(f,p)=>{const m=a[f]||[];return a[f]=m,m.push(p),()=>m.splice(m.indexOf(p),1)},l=(f,p,m)=>{t.set(f,p);const v=a[f];if(v)for(const y of v)y(p,m)},u=()=>{if(!Oa.has(t)&&(Oa.set(t,[n,Object.create(null),Object.create(null),Object.create(null),i,l,o]),!Cu)){const f=r.initFocus(setTimeout.bind(Dn,NE.bind(Dn,n,nD))),p=r.initReconnect(setTimeout.bind(Dn,NE.bind(Dn,n,iD)));s=()=>{f&&f(),p&&p(),Oa.delete(t)}}};return u(),[t,i,u,s]}return[t,Oa.get(t)[4]]},cX=(t,e,r,n,i)=>{const s=r.errorRetryCount,a=i.retryCount,o=~~((Math.random()+.5)*(1<<(a<8?a:8)))*r.errorRetryInterval;!Ft(s)&&a>s||setTimeout(n,o,i)},uX=L5,[cD,dX]=lX(new Map),hX=Xo({onLoadingSlow:Da,onSuccess:Da,onError:Da,onErrorRetry:cX,onDiscarded:Da,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:_E?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:_E?5e3:3e3,compare:uX,isPaused:()=>!1,cache:cD,mutate:dX,fallback:{}},rX),fX=(t,e)=>{const r=Xo(t,e);if(e){const{use:n,fallback:i}=t,{use:s,fallback:a}=e;n&&s&&(r.use=n.concat(s)),i&&a&&(r.fallback=Xo(i,a))}return r},pX=_.createContext({}),mX="$inf$",uD=c0&&window.__SWR_DEVTOOLS_USE__,gX=uD?window.__SWR_DEVTOOLS_USE__:[],vX=()=>{uD&&(window.__SWR_DEVTOOLS_REACT__=W)},yX=t=>Zs(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],dD=()=>{const t=_.useContext(pX);return _.useMemo(()=>Xo(hX,t),[t])},xX=t=>(e,r,n)=>t(e,r&&((...s)=>{const[a]=f6(e),[,,,o]=Oa.get(cD);if(a.startsWith(mX))return r(...s);const l=o[a];return Ft(l)?r(...s):(delete o[a],l)}),n),bX=gX.concat(xX),wX=t=>function(...r){const n=dD(),[i,s,a]=yX(r),o=fX(n,a);let l=t;const{use:u}=o,f=(u||[]).concat(bX);for(let p=f.length;p--;)l=f[p](l);return l(i,s||o.fetcher||null,o)},SX=(t,e,r)=>{const n=e[t]||(e[t]=[]);return n.push(r),()=>{const i=n.indexOf(r);i>=0&&(n[i]=n[n.length-1],n.pop())}};vX();const Cx=W.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),kx={dedupe:!0},AE=Promise.resolve(Dn),_X=(t,e,r)=>{const{cache:n,compare:i,suspense:s,fallbackData:a,revalidateOnMount:o,revalidateIfStale:l,refreshInterval:u,refreshWhenHidden:f,refreshWhenOffline:p,keepPreviousData:m,strictServerPrefetchWarning:v}=r,[y,x,b,S]=Oa.get(n),[N,A]=f6(t),k=_.useRef(!1),E=_.useRef(!1),j=_.useRef(N),T=_.useRef(e),M=_.useRef(r),I=()=>M.current,q=()=>I().isVisible()&&I().isOnline(),[D,L,V,K]=oD(n,N),Y=_.useRef({}).current,J=Ft(a)?Ft(r.fallback)?Dn:r.fallback[N]:a,te=(Me,ve)=>{for(const Ae in Y){const H=Ae;if(H==="data"){if(!i(Me[H],ve[H])&&(!Ft(Me[H])||!i(be,ve[H])))return!1}else if(ve[H]!==Me[H])return!1}return!0},U=_.useMemo(()=>{const Me=!N||!e?!1:Ft(o)?I().isPaused()||s?!1:l!==!1:o,ve=je=>{const Ve=Xo(je);return delete Ve._k,Me?{isValidating:!0,isLoading:!0,...Ve}:Ve},Ae=D(),H=K(),se=ve(Ae),me=Ae===H?se:ve(H);let re=se;return[()=>{const je=ve(D());return te(je,re)?(re.data=je.data,re.isLoading=je.isLoading,re.isValidating=je.isValidating,re.error=je.error,re):(re=je,je)},()=>me]},[n,N]),X=xE.useSyncExternalStore(_.useCallback(Me=>V(N,(ve,Ae)=>{te(Ae,ve)||Me()}),[n,N]),U[0],U[1]),ie=!k.current,G=y[N]&&y[N].length>0,F=X.data,Q=Ft(F)?J&&aD(J)?Cx(J):J:F,le=X.error,xe=_.useRef(Q),be=m?Ft(F)?Ft(xe.current)?Q:xe.current:F:Q,ae=N&&Ft(Q),we=!Cu&&xE.useSyncExternalStore(()=>Da,()=>!1,()=>!0);v&&we&&!s&&ae&&console.warn(`Missing pre-initiated data for serialized key "${N}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);const fe=G&&!Ft(le)?!1:ie&&!Ft(o)?o:I().isPaused()?!1:s?Ft(Q)?!1:l:Ft(Q)||l,Se=!!(N&&e&&ie&&fe),Pe=Ft(X.isValidating)?Se:X.isValidating,he=Ft(X.isLoading)?Se:X.isLoading,Be=_.useCallback(async Me=>{const ve=T.current;if(!N||!ve||E.current||I().isPaused())return!1;let Ae,H,se=!0;const me=Me||{},re=!b[N]||!me.dedupe,je=()=>SE?!E.current&&N===j.current&&k.current:N===j.current,Ve={isValidating:!1,isLoading:!1},Xe=()=>{L(Ve)},vt=()=>{const pt=b[N];pt&&pt[1]===H&&delete b[N]},Ct={isValidating:!0};Ft(D().data)&&(Ct.isLoading=!0);try{if(re&&(L(Ct),r.loadingTimeout&&Ft(D().data)&&setTimeout(()=>{se&&je()&&I().onLoadingSlow(N,r)},r.loadingTimeout),b[N]=[ve(A),V5()]),[Ae,H]=b[N],Ae=await Ae,re&&setTimeout(vt,r.dedupingInterval),!b[N]||b[N][1]!==H)return re&&je()&&I().onDiscarded(N),!1;Ve.error=Dn;const pt=x[N];if(!Ft(pt)&&(H<=pt[0]||H<=pt[1]||pt[1]===0))return Xe(),re&&je()&&I().onDiscarded(N),!1;const st=D().data;Ve.data=i(st,Ae)?st:Ae,re&&je()&&I().onSuccess(Ae,N,r)}catch(pt){vt();const st=I(),{shouldRetryOnError:mt}=st;st.isPaused()||(Ve.error=pt,re&&je()&&(st.onError(pt,N,st),(mt===!0||Zs(mt)&&mt(pt))&&(!I().revalidateOnFocus||!I().revalidateOnReconnect||q())&&st.onErrorRetry(pt,N,st,Qt=>{const Nr=y[N];Nr&&Nr[0]&&Nr[0](bE,Qt)},{retryCount:(me.retryCount||0)+1,dedupe:!0})))}return se=!1,Xe(),!0},[N,n]),Te=_.useCallback((...Me)=>lD(n,j.current,...Me),[]);if(Nx(()=>{T.current=e,M.current=r,Ft(F)||(xe.current=F)}),Nx(()=>{if(!N)return;const Me=Be.bind(Dn,kx);let ve=0;I().revalidateOnFocus&&(ve=Date.now()+I().focusThrottleInterval);const H=SX(N,y,(se,me={})=>{if(se==nD){const re=Date.now();I().revalidateOnFocus&&re>ve&&q()&&(ve=re+I().focusThrottleInterval,Me())}else if(se==iD)I().revalidateOnReconnect&&q()&&Me();else{if(se==sD)return Be();if(se==bE)return Be(me)}});return E.current=!1,j.current=N,k.current=!0,L({_k:A}),fe&&(b[N]||(Ft(Q)||Cu?Me():iX(Me))),()=>{E.current=!0,H()}},[N]),Nx(()=>{let Me;function ve(){const H=Zs(u)?u(D().data):u;H&&Me!==-1&&(Me=setTimeout(Ae,H))}function Ae(){!D().error&&(f||I().isVisible())&&(p||I().isOnline())?Be(kx).then(ve):ve()}return ve(),()=>{Me&&(clearTimeout(Me),Me=-1)}},[u,f,p,N]),_.useDebugValue(be),s){if(!SE&&Cu&&ae)throw new Error("Fallback data is required when using Suspense in SSR.");ae&&(T.current=e,M.current=r,E.current=!1);const Me=S[N],ve=!Ft(Me)&&ae?Te(Me):AE;if(Cx(ve),!Ft(le)&&ae)throw le;const Ae=ae?Be(kx):AE;!Ft(be)&&ae&&(Ae.status="fulfilled",Ae.value=!0),Cx(Ae)}return{mutate:Te,get data(){return Y.data=!0,be},get error(){return Y.error=!0,le},get isValidating(){return Y.isValidating=!0,Pe},get isLoading(){return Y.isLoading=!0,he}}},qr=wX(_X);class Kn{static get transportEncryption(){return this._transportEncryption===!0}static async initialize(e){this.publicKey&&this.publicKeyPEM===e||(this.publicKeyPEM=e,this.publicKey=await this.importPublicKey(e))}static async fetchCryptoConfig(){const e=await fetch("/api/crypto/config");if(!e.ok)throw new Error(`Failed to fetch crypto config: ${e.statusText}`);const r=await e.json();return this._transportEncryption=r.transport_encryption,r}static async importPublicKey(e){const r="-----BEGIN PUBLIC KEY-----",n="-----END PUBLIC KEY-----",i=e.indexOf(r),s=e.indexOf(n);if(i===-1||s===-1||i>=s)throw new Error("Invalid PEM formatted public key");const a=e.substring(i+r.length,s).replace(/\s+/g,""),o=atob(a),l=new Uint8Array(o.length);for(let u=0;u<o.length;u++)l[u]=o.charCodeAt(u);return crypto.subtle.importKey("spki",l,{name:"RSA-OAEP",hash:"SHA-256"},!1,["encrypt"])}static async encryptSensitiveData(e,r,n){if(!this.publicKey)throw new Error("Crypto service not initialized. Call initialize() first.");const i=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt"]),s=crypto.getRandomValues(new Uint8Array(12)),a=Math.floor(Date.now()/1e3),l=JSON.stringify({userId:r||"",sessionId:n||"",ts:a,purpose:"sensitive_data_encryption"}),u=new TextEncoder().encode(l),f=new TextEncoder().encode(e),p=await crypto.subtle.encrypt({name:"AES-GCM",iv:s,additionalData:u,tagLength:128},i,f),m=await crypto.subtle.exportKey("raw",i),v=await crypto.subtle.encrypt({name:"RSA-OAEP"},this.publicKey,m);return{wrappedKey:this.arrayBufferToBase64Url(v),iv:this.arrayBufferToBase64Url(s.buffer),ciphertext:this.arrayBufferToBase64Url(p),aad:this.arrayBufferToBase64Url(u.buffer),ts:a}}static arrayBufferToBase64Url(e){const r=new Uint8Array(e);let n="";for(let i=0;i<r.length;i++)n+=String.fromCharCode(r[i]);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}static async fetchPublicKey(){const e=await fetch("/api/crypto/public-key");if(!e.ok)throw new Error(`Failed to fetch public key: ${e.statusText}`);const r=await e.json();return typeof r.transport_encryption=="boolean"&&(this._transportEncryption=r.transport_encryption),r.public_key||""}static async decryptSensitiveData(e){const r=await fetch("/api/crypto/decrypt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw new Error(`Decryption failed: ${r.statusText}`);return(await r.json()).plaintext}}Ml(Kn,"publicKey",null),Ml(Kn,"publicKeyPEM",null),Ml(Kn,"_transportEncryption",null);function hD(t,e){return function(){return t.apply(e,arguments)}}const{toString:NX}=Object.prototype,{getPrototypeOf:p6}=Object,{iterator:yv,toStringTag:fD}=Symbol,xv=(t=>e=>{const r=NX.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Is=t=>(t=t.toLowerCase(),e=>xv(e)===t),bv=t=>e=>typeof e===t,{isArray:vd}=Array,Fu=bv("undefined");function u0(t){return t!==null&&!Fu(t)&&t.constructor!==null&&!Fu(t.constructor)&&mi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pD=Is("ArrayBuffer");function AX(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&pD(t.buffer),e}const EX=bv("string"),mi=bv("function"),mD=bv("number"),d0=t=>t!==null&&typeof t=="object",CX=t=>t===!0||t===!1,Pm=t=>{if(xv(t)!=="object")return!1;const e=p6(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(fD in t)&&!(yv in t)},kX=t=>{if(!d0(t)||u0(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},jX=Is("Date"),PX=Is("File"),TX=Is("Blob"),MX=Is("FileList"),OX=t=>d0(t)&&mi(t.pipe),RX=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mi(t.append)&&((e=xv(t))==="formdata"||e==="object"&&mi(t.toString)&&t.toString()==="[object FormData]"))},IX=Is("URLSearchParams"),[DX,LX,zX,FX]=["ReadableStream","Request","Response","Headers"].map(Is),BX=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function h0(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),vd(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(u0(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function gD(t,e){if(u0(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Vl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vD=t=>!Fu(t)&&t!==Vl;function W5(){const{caseless:t,skipUndefined:e}=vD(this)&&this||{},r={},n=(i,s)=>{const a=t&&gD(r,s)||s;Pm(r[a])&&Pm(i)?r[a]=W5(r[a],i):Pm(i)?r[a]=W5({},i):vd(i)?r[a]=i.slice():(!e||!Fu(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&h0(arguments[i],n);return r}const $X=(t,e,r,{allOwnKeys:n}={})=>(h0(e,(i,s)=>{r&&mi(i)?t[s]=hD(i,r):t[s]=i},{allOwnKeys:n}),t),qX=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),UX=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},VX=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&p6(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},WX=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},HX=t=>{if(!t)return null;if(vd(t))return t;let e=t.length;if(!mD(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},KX=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&p6(Uint8Array)),GX=(t,e)=>{const n=(t&&t[yv]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},XX=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},YX=Is("HTMLFormElement"),JX=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),EE=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),QX=Is("RegExp"),yD=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};h0(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},ZX=t=>{yD(t,(e,r)=>{if(mi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(mi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},eY=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return vd(t)?n(t):n(String(t).split(e)),r},tY=()=>{},rY=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function nY(t){return!!(t&&mi(t.append)&&t[fD]==="FormData"&&t[yv])}const iY=t=>{const e=new Array(10),r=(n,i)=>{if(d0(n)){if(e.indexOf(n)>=0)return;if(u0(n))return n;if(!("toJSON"in n)){e[i]=n;const s=vd(n)?[]:{};return h0(n,(a,o)=>{const l=r(a,i+1);!Fu(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},sY=Is("AsyncFunction"),aY=t=>t&&(d0(t)||mi(t))&&mi(t.then)&&mi(t.catch),xD=((t,e)=>t?setImmediate:e?((r,n)=>(Vl.addEventListener("message",({source:i,data:s})=>{i===Vl&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Vl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",mi(Vl.postMessage)),oY=typeof queueMicrotask<"u"?queueMicrotask.bind(Vl):typeof process<"u"&&process.nextTick||xD,lY=t=>t!=null&&mi(t[yv]),Ne={isArray:vd,isArrayBuffer:pD,isBuffer:u0,isFormData:RX,isArrayBufferView:AX,isString:EX,isNumber:mD,isBoolean:CX,isObject:d0,isPlainObject:Pm,isEmptyObject:kX,isReadableStream:DX,isRequest:LX,isResponse:zX,isHeaders:FX,isUndefined:Fu,isDate:jX,isFile:PX,isBlob:TX,isRegExp:QX,isFunction:mi,isStream:OX,isURLSearchParams:IX,isTypedArray:KX,isFileList:MX,forEach:h0,merge:W5,extend:$X,trim:BX,stripBOM:qX,inherits:UX,toFlatObject:VX,kindOf:xv,kindOfTest:Is,endsWith:WX,toArray:HX,forEachEntry:GX,matchAll:XX,isHTMLForm:YX,hasOwnProperty:EE,hasOwnProp:EE,reduceDescriptors:yD,freezeMethods:ZX,toObjectSet:eY,toCamelCase:JX,noop:tY,toFiniteNumber:rY,findKey:gD,global:Vl,isContextDefined:vD,isSpecCompliantForm:nY,toJSONObject:iY,isAsyncFn:sY,isThenable:aY,setImmediate:xD,asap:oY,isIterable:lY};function Et(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Ne.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ne.toJSONObject(this.config),code:this.code,status:this.status}}});const bD=Et.prototype,wD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{wD[t]={value:t}});Object.defineProperties(Et,wD);Object.defineProperty(bD,"isAxiosError",{value:!0});Et.from=(t,e,r,n,i,s)=>{const a=Object.create(bD);Ne.toFlatObject(t,a,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Et.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const cY=null;function H5(t){return Ne.isPlainObject(t)||Ne.isArray(t)}function SD(t){return Ne.endsWith(t,"[]")?t.slice(0,-2):t}function CE(t,e,r){return t?t.concat(e).map(function(i,s){return i=SD(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function uY(t){return Ne.isArray(t)&&!t.some(H5)}const dY=Ne.toFlatObject(Ne,{},null,function(e){return/^is[A-Z]/.test(e)});function wv(t,e,r){if(!Ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ne.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!Ne.isUndefined(b[x])});const n=r.metaTokens,i=r.visitor||f,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Ne.isSpecCompliantForm(e);if(!Ne.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(Ne.isDate(y))return y.toISOString();if(Ne.isBoolean(y))return y.toString();if(!l&&Ne.isBlob(y))throw new Et("Blob is not supported. Use a Buffer instead.");return Ne.isArrayBuffer(y)||Ne.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,x,b){let S=y;if(y&&!b&&typeof y=="object"){if(Ne.endsWith(x,"{}"))x=n?x:x.slice(0,-2),y=JSON.stringify(y);else if(Ne.isArray(y)&&uY(y)||(Ne.isFileList(y)||Ne.endsWith(x,"[]"))&&(S=Ne.toArray(y)))return x=SD(x),S.forEach(function(A,k){!(Ne.isUndefined(A)||A===null)&&e.append(a===!0?CE([x],k,s):a===null?x:x+"[]",u(A))}),!1}return H5(y)?!0:(e.append(CE(b,x,s),u(y)),!1)}const p=[],m=Object.assign(dY,{defaultVisitor:f,convertValue:u,isVisitable:H5});function v(y,x){if(!Ne.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(y),Ne.forEach(y,function(S,N){(!(Ne.isUndefined(S)||S===null)&&i.call(e,S,Ne.isString(N)?N.trim():N,x,m))===!0&&v(S,x?x.concat(N):[N])}),p.pop()}}if(!Ne.isObject(t))throw new TypeError("data must be an object");return v(t),e}function kE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function m6(t,e){this._pairs=[],t&&wv(t,this,e)}const _D=m6.prototype;_D.append=function(e,r){this._pairs.push([e,r])};_D.toString=function(e){const r=e?function(n){return e.call(this,n,kE)}:kE;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function hY(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ND(t,e,r){if(!e)return t;const n=r&&r.encode||hY;Ne.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=Ne.isURLSearchParams(e)?e.toString():new m6(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class jE{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ne.forEach(this.handlers,function(n){n!==null&&e(n)})}}const AD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fY=typeof URLSearchParams<"u"?URLSearchParams:m6,pY=typeof FormData<"u"?FormData:null,mY=typeof Blob<"u"?Blob:null,gY={isBrowser:!0,classes:{URLSearchParams:fY,FormData:pY,Blob:mY},protocols:["http","https","file","blob","url","data"]},g6=typeof window<"u"&&typeof document<"u",K5=typeof navigator=="object"&&navigator||void 0,vY=g6&&(!K5||["ReactNative","NativeScript","NS"].indexOf(K5.product)<0),yY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xY=g6&&window.location.href||"http://localhost",bY=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:g6,hasStandardBrowserEnv:vY,hasStandardBrowserWebWorkerEnv:yY,navigator:K5,origin:xY},Symbol.toStringTag,{value:"Module"})),Fn={...bY,...gY};function wY(t,e){return wv(t,new Fn.classes.URLSearchParams,{visitor:function(r,n,i,s){return Fn.isNode&&Ne.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function SY(t){return Ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _Y(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function ED(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&Ne.isArray(i)?i.length:a,l?(Ne.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!Ne.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&Ne.isArray(i[a])&&(i[a]=_Y(i[a])),!o)}if(Ne.isFormData(t)&&Ne.isFunction(t.entries)){const r={};return Ne.forEachEntry(t,(n,i)=>{e(SY(n),i,r,0)}),r}return null}function NY(t,e,r){if(Ne.isString(t))try{return(e||JSON.parse)(t),Ne.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const f0={transitional:AD,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=Ne.isObject(e);if(s&&Ne.isHTMLForm(e)&&(e=new FormData(e)),Ne.isFormData(e))return i?JSON.stringify(ED(e)):e;if(Ne.isArrayBuffer(e)||Ne.isBuffer(e)||Ne.isStream(e)||Ne.isFile(e)||Ne.isBlob(e)||Ne.isReadableStream(e))return e;if(Ne.isArrayBufferView(e))return e.buffer;if(Ne.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return wY(e,this.formSerializer).toString();if((o=Ne.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return wv(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),NY(e)):e}],transformResponse:[function(e){const r=this.transitional||f0.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ne.isResponse(e)||Ne.isReadableStream(e))return e;if(e&&Ne.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Et.from(o,Et.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fn.classes.FormData,Blob:Fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ne.forEach(["delete","get","head","post","put","patch"],t=>{f0.headers[t]={}});const AY=Ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),EY=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&AY[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},PE=Symbol("internals");function Sh(t){return t&&String(t).trim().toLowerCase()}function Tm(t){return t===!1||t==null?t:Ne.isArray(t)?t.map(Tm):String(t)}function CY(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const kY=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jx(t,e,r,n,i){if(Ne.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Ne.isString(e)){if(Ne.isString(n))return e.indexOf(n)!==-1;if(Ne.isRegExp(n))return n.test(e)}}function jY(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function PY(t,e){const r=Ne.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let gi=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,u){const f=Sh(l);if(!f)throw new Error("header name must be a non-empty string");const p=Ne.findKey(i,f);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||l]=Tm(o))}const a=(o,l)=>Ne.forEach(o,(u,f)=>s(u,f,l));if(Ne.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(Ne.isString(e)&&(e=e.trim())&&!kY(e))a(EY(e),r);else if(Ne.isObject(e)&&Ne.isIterable(e)){let o={},l,u;for(const f of e){if(!Ne.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[u=f[0]]=(l=o[u])?Ne.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Sh(e),e){const n=Ne.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return CY(i);if(Ne.isFunction(r))return r.call(this,i,n);if(Ne.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Sh(e),e){const n=Ne.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||jx(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Sh(a),a){const o=Ne.findKey(n,a);o&&(!r||jx(n,n[o],o,r))&&(delete n[o],i=!0)}}return Ne.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||jx(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return Ne.forEach(this,(i,s)=>{const a=Ne.findKey(n,s);if(a){r[a]=Tm(i),delete r[s];return}const o=e?jY(s):String(s).trim();o!==s&&delete r[s],r[o]=Tm(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ne.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Ne.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[PE]=this[PE]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Sh(a);n[o]||(PY(i,a),n[o]=!0)}return Ne.isArray(e)?e.forEach(s):s(e),this}};gi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ne.reduceDescriptors(gi.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Ne.freezeMethods(gi);function Px(t,e){const r=this||f0,n=e||r,i=gi.from(n.headers);let s=n.data;return Ne.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function CD(t){return!!(t&&t.__CANCEL__)}function yd(t,e,r){Et.call(this,t??"canceled",Et.ERR_CANCELED,e,r),this.name="CanceledError"}Ne.inherits(yd,Et,{__CANCEL__:!0});function kD(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Et("Request failed with status code "+r.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function TY(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function MY(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=n[s];a||(a=u),r[i]=l,n[i]=u;let p=s,m=0;for(;p!==i;)m+=r[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const v=f&&u-f;return v?Math.round(m*1e3/v):void 0}}function OY(t,e){let r=0,n=1e3/e,i,s;const a=(u,f=Date.now())=>{r=f,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const f=Date.now(),p=f-r;p>=n?a(u,f):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},n-p)))},()=>i&&a(i)]}const Xm=(t,e,r=3)=>{let n=0;const i=MY(50,250);return OY(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,u=i(l),f=a<=o;n=a;const p={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&f?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(p)},r)},TE=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},ME=t=>(...e)=>Ne.asap(()=>t(...e)),RY=Fn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Fn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Fn.origin),Fn.navigator&&/(msie|trident)/i.test(Fn.navigator.userAgent)):()=>!0,IY=Fn.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];Ne.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),Ne.isString(n)&&o.push(`path=${n}`),Ne.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),Ne.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function DY(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function LY(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function jD(t,e,r){let n=!DY(e);return t&&(n||r==!1)?LY(t,e):e}const OE=t=>t instanceof gi?{...t}:t;function dc(t,e){e=e||{};const r={};function n(u,f,p,m){return Ne.isPlainObject(u)&&Ne.isPlainObject(f)?Ne.merge.call({caseless:m},u,f):Ne.isPlainObject(f)?Ne.merge({},f):Ne.isArray(f)?f.slice():f}function i(u,f,p,m){if(Ne.isUndefined(f)){if(!Ne.isUndefined(u))return n(void 0,u,p,m)}else return n(u,f,p,m)}function s(u,f){if(!Ne.isUndefined(f))return n(void 0,f)}function a(u,f){if(Ne.isUndefined(f)){if(!Ne.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function o(u,f,p){if(p in e)return n(u,f);if(p in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,f,p)=>i(OE(u),OE(f),p,!0)};return Ne.forEach(Object.keys({...t,...e}),function(f){const p=l[f]||i,m=p(t[f],e[f],f);Ne.isUndefined(m)&&p!==o||(r[f]=m)}),r}const PD=t=>{const e=dc({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=gi.from(a),e.url=ND(jD(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Ne.isFormData(r)){if(Fn.hasStandardBrowserEnv||Fn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Ne.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([f,p])=>{u.includes(f.toLowerCase())&&a.set(f,p)})}}if(Fn.hasStandardBrowserEnv&&(n&&Ne.isFunction(n)&&(n=n(e)),n||n!==!1&&RY(e.url))){const l=i&&s&&IY.read(s);l&&a.set(i,l)}return e},zY=typeof XMLHttpRequest<"u",FY=zY&&function(t){return new Promise(function(r,n){const i=PD(t);let s=i.data;const a=gi.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,f,p,m,v,y;function x(){v&&v(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function S(){if(!b)return;const A=gi.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:A,config:t,request:b};kD(function(T){r(T),x()},function(T){n(T),x()},E),b=null}"onloadend"in b?b.onloadend=S:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(S)},b.onabort=function(){b&&(n(new Et("Request aborted",Et.ECONNABORTED,t,b)),b=null)},b.onerror=function(k){const E=k&&k.message?k.message:"Network Error",j=new Et(E,Et.ERR_NETWORK,t,b);j.event=k||null,n(j),b=null},b.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||AD;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),n(new Et(k,E.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&Ne.forEach(a.toJSON(),function(k,E){b.setRequestHeader(E,k)}),Ne.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),u&&([m,y]=Xm(u,!0),b.addEventListener("progress",m)),l&&b.upload&&([p,v]=Xm(l),b.upload.addEventListener("progress",p),b.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(f=A=>{b&&(n(!A||A.type?new yd(null,t,b):A),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const N=TY(i.url);if(N&&Fn.protocols.indexOf(N)===-1){n(new Et("Unsupported protocol "+N+":",Et.ERR_BAD_REQUEST,t));return}b.send(s||null)})},BY=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,o();const f=u instanceof Error?u:this.reason;n.abort(f instanceof Et?f:new yd(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,s(new Et(`timeout ${e} of ms exceeded`,Et.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>Ne.asap(o),l}},$Y=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},qY=async function*(t,e){for await(const r of UY(t))yield*$Y(r,e)},UY=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},RE=(t,e,r,n)=>{const i=qY(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await i.next();if(u){o(),l.close();return}let p=f.byteLength;if(r){let m=s+=p;r(m)}l.enqueue(new Uint8Array(f))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},IE=64*1024,{isFunction:$p}=Ne,VY=(({Request:t,Response:e})=>({Request:t,Response:e}))(Ne.global),{ReadableStream:DE,TextEncoder:LE}=Ne.global,zE=(t,...e)=>{try{return!!t(...e)}catch{return!1}},WY=t=>{t=Ne.merge.call({skipUndefined:!0},VY,t);const{fetch:e,Request:r,Response:n}=t,i=e?$p(e):typeof fetch=="function",s=$p(r),a=$p(n);if(!i)return!1;const o=i&&$p(DE),l=i&&(typeof LE=="function"?(y=>x=>y.encode(x))(new LE):async y=>new Uint8Array(await new r(y).arrayBuffer())),u=s&&o&&zE(()=>{let y=!1;const x=new r(Fn.origin,{body:new DE,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!x}),f=a&&o&&zE(()=>Ne.isReadableStream(new n("").body)),p={stream:f&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!p[y]&&(p[y]=(x,b)=>{let S=x&&x[y];if(S)return S.call(x);throw new Et(`Response type '${y}' is not supported`,Et.ERR_NOT_SUPPORT,b)})});const m=async y=>{if(y==null)return 0;if(Ne.isBlob(y))return y.size;if(Ne.isSpecCompliantForm(y))return(await new r(Fn.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Ne.isArrayBufferView(y)||Ne.isArrayBuffer(y))return y.byteLength;if(Ne.isURLSearchParams(y)&&(y=y+""),Ne.isString(y))return(await l(y)).byteLength},v=async(y,x)=>{const b=Ne.toFiniteNumber(y.getContentLength());return b??m(x)};return async y=>{let{url:x,method:b,data:S,signal:N,cancelToken:A,timeout:k,onDownloadProgress:E,onUploadProgress:j,responseType:T,headers:M,withCredentials:I="same-origin",fetchOptions:q}=PD(y),D=e||fetch;T=T?(T+"").toLowerCase():"text";let L=BY([N,A&&A.toAbortSignal()],k),V=null;const K=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let Y;try{if(j&&u&&b!=="get"&&b!=="head"&&(Y=await v(M,S))!==0){let G=new r(x,{method:"POST",body:S,duplex:"half"}),F;if(Ne.isFormData(S)&&(F=G.headers.get("content-type"))&&M.setContentType(F),G.body){const[Q,le]=TE(Y,Xm(ME(j)));S=RE(G.body,IE,Q,le)}}Ne.isString(I)||(I=I?"include":"omit");const J=s&&"credentials"in r.prototype,te={...q,signal:L,method:b.toUpperCase(),headers:M.normalize().toJSON(),body:S,duplex:"half",credentials:J?I:void 0};V=s&&new r(x,te);let U=await(s?D(V,q):D(x,te));const X=f&&(T==="stream"||T==="response");if(f&&(E||X&&K)){const G={};["status","statusText","headers"].forEach(xe=>{G[xe]=U[xe]});const F=Ne.toFiniteNumber(U.headers.get("content-length")),[Q,le]=E&&TE(F,Xm(ME(E),!0))||[];U=new n(RE(U.body,IE,Q,()=>{le&&le(),K&&K()}),G)}T=T||"text";let ie=await p[Ne.findKey(p,T)||"text"](U,y);return!X&&K&&K(),await new Promise((G,F)=>{kD(G,F,{data:ie,headers:gi.from(U.headers),status:U.status,statusText:U.statusText,config:y,request:V})})}catch(J){throw K&&K(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,y,V),{cause:J.cause||J}):Et.from(J,J&&J.code,y,V)}}},HY=new Map,TD=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,u,f=HY;for(;o--;)l=s[o],u=f.get(l),u===void 0&&f.set(l,u=o?new Map:WY(e)),f=u;return u};TD();const v6={http:cY,xhr:FY,fetch:{get:TD}};Ne.forEach(v6,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const FE=t=>`- ${t}`,KY=t=>Ne.isFunction(t)||t===null||t===!1;function GY(t,e){t=Ne.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!KY(n)&&(i=v6[(o=String(n)).toLowerCase()],i===void 0))throw new Et(`Unknown adapter '${o}'`);if(i&&(Ne.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(FE).join(`
`):" "+FE(a[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const MD={getAdapter:GY,adapters:v6};function Tx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yd(null,t)}function BE(t){return Tx(t),t.headers=gi.from(t.headers),t.data=Px.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),MD.getAdapter(t.adapter||f0.adapter,t)(t).then(function(n){return Tx(t),n.data=Px.call(t,t.transformResponse,n),n.headers=gi.from(n.headers),n},function(n){return CD(n)||(Tx(t),n&&n.response&&(n.response.data=Px.call(t,t.transformResponse,n.response),n.response.headers=gi.from(n.response.headers))),Promise.reject(n)})}const OD="1.13.2",Sv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Sv[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const $E={};Sv.transitional=function(e,r,n){function i(s,a){return"[Axios v"+OD+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Et(i(a," has been removed"+(r?" in "+r:"")),Et.ERR_DEPRECATED);return r&&!$E[a]&&($E[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};Sv.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function XY(t,e,r){if(typeof t!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Et("option "+s+" must be "+l,Et.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Et("Unknown option "+s,Et.ERR_BAD_OPTION)}}const Mm={assertOptions:XY,validators:Sv},Ys=Mm.validators;let Zl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jE,response:new jE}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=dc(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Mm.assertOptions(n,{silentJSONParsing:Ys.transitional(Ys.boolean),forcedJSONParsing:Ys.transitional(Ys.boolean),clarifyTimeoutError:Ys.transitional(Ys.boolean)},!1),i!=null&&(Ne.isFunction(i)?r.paramsSerializer={serialize:i}:Mm.assertOptions(i,{encode:Ys.function,serialize:Ys.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Mm.assertOptions(r,{baseUrl:Ys.spelling("baseURL"),withXsrfToken:Ys.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&Ne.merge(s.common,s[r.method]);s&&Ne.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),r.headers=gi.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(l=l&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let f,p=0,m;if(!l){const y=[BE.bind(this),void 0];for(y.unshift(...o),y.push(...u),m=y.length,f=Promise.resolve(r);p<m;)f=f.then(y[p++],y[p++]);return f}m=o.length;let v=r;for(;p<m;){const y=o[p++],x=o[p++];try{v=y(v)}catch(b){x.call(this,b);break}}try{f=BE.call(this,v)}catch(y){return Promise.reject(y)}for(p=0,m=u.length;p<m;)f=f.then(u[p++],u[p++]);return f}getUri(e){e=dc(this.defaults,e);const r=jD(e.baseURL,e.url,e.allowAbsoluteUrls);return ND(r,e.params,e.paramsSerializer)}};Ne.forEach(["delete","get","head","options"],function(e){Zl.prototype[e]=function(r,n){return this.request(dc(n||{},{method:e,url:r,data:(n||{}).data}))}});Ne.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(dc(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Zl.prototype[e]=r(),Zl.prototype[e+"Form"]=r(!0)});let YY=class RD{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new yd(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new RD(function(i){e=i}),cancel:e}}};function JY(t){return function(r){return t.apply(null,r)}}function QY(t){return Ne.isObject(t)&&t.isAxiosError===!0}const G5={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(G5).forEach(([t,e])=>{G5[e]=t});function ID(t){const e=new Zl(t),r=hD(Zl.prototype.request,e);return Ne.extend(r,Zl.prototype,e,{allOwnKeys:!0}),Ne.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return ID(dc(t,i))},r}const Tr=ID(f0);Tr.Axios=Zl;Tr.CanceledError=yd;Tr.CancelToken=YY;Tr.isCancel=CD;Tr.VERSION=OD;Tr.toFormData=wv;Tr.AxiosError=Et;Tr.Cancel=Tr.CanceledError;Tr.all=function(e){return Promise.all(e)};Tr.spread=JY;Tr.isAxiosError=QY;Tr.mergeConfig=dc;Tr.AxiosHeaders=gi;Tr.formToJSON=t=>ED(Ne.isHTMLForm(t)?new FormData(t):t);Tr.getAdapter=MD.getAdapter;Tr.HttpStatusCode=G5;Tr.default=Tr;const{Axios:f8e,AxiosError:p8e,CanceledError:m8e,isCancel:g8e,CancelToken:v8e,VERSION:y8e,all:x8e,Cancel:b8e,isAxiosError:w8e,spread:S8e,toFormData:_8e,AxiosHeaders:N8e,HttpStatusCode:A8e,formToJSON:E8e,getAdapter:C8e,mergeConfig:k8e}=Tr;var y6=kI();const DD=er(y6);var ZY=t=>{switch(t){case"success":return rJ;case"info":return iJ;case"warning":return nJ;case"error":return sJ;default:return null}},eJ=Array(12).fill(0),tJ=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},eJ.map((r,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),rJ=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nJ=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),iJ=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sJ=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aJ=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),oJ=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},X5=1,lJ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:X5++,s=this.toasts.find(o=>o.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:r}),{...o,...t,id:i,dismissible:a,title:r}):o):this.addToast({title:r,...n,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,a=n.then(async l=>{if(s=["resolve",l],W.isValidElement(l))i=!1,this.create({id:r,type:"default",message:l});else if(uJ(l)&&!l.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:u,description:f})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(l):e.success,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(l):e.error,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var l;i&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,u)=>a.then(()=>s[0]==="reject"?u(s[1]):l(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||X5++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},di=new lJ,cJ=(t,e)=>{let r=(e==null?void 0:e.id)||X5++;return di.addToast({title:t,...e,id:r}),r},uJ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",dJ=cJ,hJ=()=>di.toasts,fJ=()=>di.getActiveToasts(),Wt=Object.assign(dJ,{success:di.success,info:di.info,warning:di.warning,error:di.error,custom:di.custom,message:di.message,promise:di.promise,dismiss:di.dismiss,loading:di.loading},{getHistory:hJ,getToasts:fJ});function pJ(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}pJ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qp(t){return t.label!==void 0}var mJ=3,gJ="32px",vJ="16px",qE=4e3,yJ=356,xJ=14,bJ=20,wJ=200;function Ss(...t){return t.filter(Boolean).join(" ")}function SJ(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var _J=t=>{var e,r,n,i,s,a,o,l,u,f,p;let{invert:m,toast:v,unstyled:y,interacting:x,setHeights:b,visibleToasts:S,heights:N,index:A,toasts:k,expanded:E,removeToast:j,defaultRichColors:T,closeButton:M,style:I,cancelButtonStyle:q,actionButtonStyle:D,className:L="",descriptionClassName:V="",duration:K,position:Y,gap:J,loadingIcon:te,expandByDefault:U,classNames:X,icons:ie,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:F}=t,[Q,le]=W.useState(null),[xe,be]=W.useState(null),[ae,we]=W.useState(!1),[fe,Se]=W.useState(!1),[Pe,he]=W.useState(!1),[Be,Te]=W.useState(!1),[We,Me]=W.useState(!1),[ve,Ae]=W.useState(0),[H,se]=W.useState(0),me=W.useRef(v.duration||K||qE),re=W.useRef(null),je=W.useRef(null),Ve=A===0,Xe=A+1<=S,vt=v.type,Ct=v.dismissible!==!1,pt=v.className||"",st=v.descriptionClassName||"",mt=W.useMemo(()=>N.findIndex(ct=>ct.toastId===v.id)||0,[N,v.id]),Qt=W.useMemo(()=>{var ct;return(ct=v.closeButton)!=null?ct:M},[v.closeButton,M]),Nr=W.useMemo(()=>v.duration||K||qE,[v.duration,K]),Xt=W.useRef(0),lr=W.useRef(0),Wr=W.useRef(0),Mr=W.useRef(null),[An,cr]=Y.split("-"),an=W.useMemo(()=>N.reduce((ct,Ot,$t)=>$t>=mt?ct:ct+Ot.height,0),[N,mt]),Ar=oJ(),En=v.invert||m,Cn=vt==="loading";lr.current=W.useMemo(()=>mt*J+an,[mt,an]),W.useEffect(()=>{me.current=Nr},[Nr]),W.useEffect(()=>{we(!0)},[]),W.useEffect(()=>{let ct=je.current;if(ct){let Ot=ct.getBoundingClientRect().height;return se(Ot),b($t=>[{toastId:v.id,height:Ot,position:v.position},...$t]),()=>b($t=>$t.filter(qt=>qt.toastId!==v.id))}},[b,v.id]),W.useLayoutEffect(()=>{if(!ae)return;let ct=je.current,Ot=ct.style.height;ct.style.height="auto";let $t=ct.getBoundingClientRect().height;ct.style.height=Ot,se($t),b(qt=>qt.find(Hr=>Hr.toastId===v.id)?qt.map(Hr=>Hr.toastId===v.id?{...Hr,height:$t}:Hr):[{toastId:v.id,height:$t,position:v.position},...qt])},[ae,v.title,v.description,b,v.id]);let mn=W.useCallback(()=>{Se(!0),Ae(lr.current),b(ct=>ct.filter(Ot=>Ot.toastId!==v.id)),setTimeout(()=>{j(v)},wJ)},[v,j,b,lr]);W.useEffect(()=>{if(v.promise&&vt==="loading"||v.duration===1/0||v.type==="loading")return;let ct;return E||x||F&&Ar?(()=>{if(Wr.current<Xt.current){let Ot=new Date().getTime()-Xt.current;me.current=me.current-Ot}Wr.current=new Date().getTime()})():me.current!==1/0&&(Xt.current=new Date().getTime(),ct=setTimeout(()=>{var Ot;(Ot=v.onAutoClose)==null||Ot.call(v,v),mn()},me.current)),()=>clearTimeout(ct)},[E,x,v,vt,F,Ar,mn]),W.useEffect(()=>{v.delete&&mn()},[mn,v.delete]);function lt(){var ct,Ot,$t;return ie!=null&&ie.loading?W.createElement("div",{className:Ss(X==null?void 0:X.loader,(ct=v==null?void 0:v.classNames)==null?void 0:ct.loader,"sonner-loader"),"data-visible":vt==="loading"},ie.loading):te?W.createElement("div",{className:Ss(X==null?void 0:X.loader,(Ot=v==null?void 0:v.classNames)==null?void 0:Ot.loader,"sonner-loader"),"data-visible":vt==="loading"},te):W.createElement(tJ,{className:Ss(X==null?void 0:X.loader,($t=v==null?void 0:v.classNames)==null?void 0:$t.loader),visible:vt==="loading"})}return W.createElement("li",{tabIndex:0,ref:je,className:Ss(L,pt,X==null?void 0:X.toast,(e=v==null?void 0:v.classNames)==null?void 0:e.toast,X==null?void 0:X.default,X==null?void 0:X[vt],(r=v==null?void 0:v.classNames)==null?void 0:r[vt]),"data-sonner-toast":"","data-rich-colors":(n=v.richColors)!=null?n:T,"data-styled":!(v.jsx||v.unstyled||y),"data-mounted":ae,"data-promise":!!v.promise,"data-swiped":We,"data-removed":fe,"data-visible":Xe,"data-y-position":An,"data-x-position":cr,"data-index":A,"data-front":Ve,"data-swiping":Pe,"data-dismissible":Ct,"data-type":vt,"data-invert":En,"data-swipe-out":Be,"data-swipe-direction":xe,"data-expanded":!!(E||U&&ae),style:{"--index":A,"--toasts-before":A,"--z-index":k.length-A,"--offset":`${fe?ve:lr.current}px`,"--initial-height":U?"auto":`${H}px`,...I,...v.style},onDragEnd:()=>{he(!1),le(null),Mr.current=null},onPointerDown:ct=>{Cn||!Ct||(re.current=new Date,Ae(lr.current),ct.target.setPointerCapture(ct.pointerId),ct.target.tagName!=="BUTTON"&&(he(!0),Mr.current={x:ct.clientX,y:ct.clientY}))},onPointerUp:()=>{var ct,Ot,$t,qt;if(Be||!Ct)return;Mr.current=null;let Hr=Number(((ct=je.current)==null?void 0:ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Lr=Number(((Ot=je.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gn=new Date().getTime()-(($t=re.current)==null?void 0:$t.getTime()),ur=Q==="x"?Hr:Lr,$n=Math.abs(ur)/gn;if(Math.abs(ur)>=bJ||$n>.11){Ae(lr.current),(qt=v.onDismiss)==null||qt.call(v,v),be(Q==="x"?Hr>0?"right":"left":Lr>0?"down":"up"),mn(),Te(!0),Me(!1);return}he(!1),le(null)},onPointerMove:ct=>{var Ot,$t,qt,Hr;if(!Mr.current||!Ct||((Ot=window.getSelection())==null?void 0:Ot.toString().length)>0)return;let Lr=ct.clientY-Mr.current.y,gn=ct.clientX-Mr.current.x,ur=($t=t.swipeDirections)!=null?$t:SJ(Y);!Q&&(Math.abs(gn)>1||Math.abs(Lr)>1)&&le(Math.abs(gn)>Math.abs(Lr)?"x":"y");let $n={x:0,y:0};Q==="y"?(ur.includes("top")||ur.includes("bottom"))&&(ur.includes("top")&&Lr<0||ur.includes("bottom")&&Lr>0)&&($n.y=Lr):Q==="x"&&(ur.includes("left")||ur.includes("right"))&&(ur.includes("left")&&gn<0||ur.includes("right")&&gn>0)&&($n.x=gn),(Math.abs($n.x)>0||Math.abs($n.y)>0)&&Me(!0),(qt=je.current)==null||qt.style.setProperty("--swipe-amount-x",`${$n.x}px`),(Hr=je.current)==null||Hr.style.setProperty("--swipe-amount-y",`${$n.y}px`)}},Qt&&!v.jsx?W.createElement("button",{"aria-label":G,"data-disabled":Cn,"data-close-button":!0,onClick:Cn||!Ct?()=>{}:()=>{var ct;mn(),(ct=v.onDismiss)==null||ct.call(v,v)},className:Ss(X==null?void 0:X.closeButton,(i=v==null?void 0:v.classNames)==null?void 0:i.closeButton)},(s=ie==null?void 0:ie.close)!=null?s:aJ):null,v.jsx||_.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:W.createElement(W.Fragment,null,vt||v.icon||v.promise?W.createElement("div",{"data-icon":"",className:Ss(X==null?void 0:X.icon,(a=v==null?void 0:v.classNames)==null?void 0:a.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||lt():null,v.type!=="loading"?v.icon||(ie==null?void 0:ie[vt])||ZY(vt):null):null,W.createElement("div",{"data-content":"",className:Ss(X==null?void 0:X.content,(o=v==null?void 0:v.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:Ss(X==null?void 0:X.title,(l=v==null?void 0:v.classNames)==null?void 0:l.title)},typeof v.title=="function"?v.title():v.title),v.description?W.createElement("div",{"data-description":"",className:Ss(V,st,X==null?void 0:X.description,(u=v==null?void 0:v.classNames)==null?void 0:u.description)},typeof v.description=="function"?v.description():v.description):null),_.isValidElement(v.cancel)?v.cancel:v.cancel&&qp(v.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||q,onClick:ct=>{var Ot,$t;qp(v.cancel)&&Ct&&(($t=(Ot=v.cancel).onClick)==null||$t.call(Ot,ct),mn())},className:Ss(X==null?void 0:X.cancelButton,(f=v==null?void 0:v.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,_.isValidElement(v.action)?v.action:v.action&&qp(v.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||D,onClick:ct=>{var Ot,$t;qp(v.action)&&(($t=(Ot=v.action).onClick)==null||$t.call(Ot,ct),!ct.defaultPrevented&&mn())},className:Ss(X==null?void 0:X.actionButton,(p=v==null?void 0:v.classNames)==null?void 0:p.actionButton)},v.action.label):null))};function UE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function NJ(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?vJ:gJ;function l(u){["top","right","bottom","left"].forEach(f=>{r[`${a}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=o:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(o)}),r}var AJ=_.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:u,theme:f="light",richColors:p,duration:m,style:v,visibleToasts:y=mJ,toastOptions:x,dir:b=UE(),gap:S=xJ,loadingIcon:N,icons:A,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:E}=t,[j,T]=W.useState([]),M=W.useMemo(()=>Array.from(new Set([n].concat(j.filter(F=>F.position).map(F=>F.position)))),[j,n]),[I,q]=W.useState([]),[D,L]=W.useState(!1),[V,K]=W.useState(!1),[Y,J]=W.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=W.useRef(null),U=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=W.useRef(null),ie=W.useRef(!1),G=W.useCallback(F=>{T(Q=>{var le;return(le=Q.find(xe=>xe.id===F.id))!=null&&le.delete||di.dismiss(F.id),Q.filter(({id:xe})=>xe!==F.id)})},[]);return W.useEffect(()=>di.subscribe(F=>{if(F.dismiss){T(Q=>Q.map(le=>le.id===F.id?{...le,delete:!0}:le));return}setTimeout(()=>{DD.flushSync(()=>{T(Q=>{let le=Q.findIndex(xe=>xe.id===F.id);return le!==-1?[...Q.slice(0,le),{...Q[le],...F},...Q.slice(le+1)]:[F,...Q]})})})}),[]),W.useEffect(()=>{if(f!=="system"){J(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:Q})=>{J(Q?"dark":"light")})}catch{F.addListener(({matches:le})=>{try{J(le?"dark":"light")}catch(xe){console.error(xe)}})}},[f]),W.useEffect(()=>{j.length<=1&&L(!1)},[j]),W.useEffect(()=>{let F=Q=>{var le,xe;i.every(be=>Q[be]||Q.code===be)&&(L(!0),(le=te.current)==null||le.focus()),Q.code==="Escape"&&(document.activeElement===te.current||(xe=te.current)!=null&&xe.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[i]),W.useEffect(()=>{if(te.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,ie.current=!1)}},[te.current]),W.createElement("section",{ref:e,"aria-label":`${k} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((F,Q)=>{var le;let[xe,be]=F.split("-");return j.length?W.createElement("ol",{key:F,dir:b==="auto"?UE():b,tabIndex:-1,ref:te,className:o,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":xe,"data-lifted":D&&j.length>1&&!s,"data-x-position":be,style:{"--front-toast-height":`${((le=I[0])==null?void 0:le.height)||0}px`,"--width":`${yJ}px`,"--gap":`${S}px`,...v,...NJ(l,u)},onBlur:ae=>{ie.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(ie.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,X.current=ae.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{V||L(!1)},onDragEnd:()=>L(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},j.filter(ae=>!ae.position&&Q===0||ae.position===F).map((ae,we)=>{var fe,Se;return W.createElement(_J,{key:ae.id,icons:A,index:we,toast:ae,defaultRichColors:p,duration:(fe=x==null?void 0:x.duration)!=null?fe:m,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:y,closeButton:(Se=x==null?void 0:x.closeButton)!=null?Se:a,interacting:V,position:F,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:G,toasts:j.filter(Pe=>Pe.position==ae.position),heights:I.filter(Pe=>Pe.position==ae.position),setHeights:q,expandByDefault:s,gap:S,loadingIcon:N,expanded:D,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});function EJ(t){return t.endsWith(".SH")?"SSE":t.endsWith(".SZ")?"SZSE":"OTHER"}function CJ(t){return{openTime:t.window.start_ts_ms,open:t.bar.open,high:t.bar.high,low:t.bar.low,close:t.bar.close,volume:t.bar.volume_shares,quoteVolume:t.bar.turnover_cny}}function kJ(t){return t.map(CJ)}function jJ(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e|=0;return Math.abs(e)}function PJ(t){switch(t){case"1m":return 6e4;case"5m":return 5*6e4;case"15m":return 15*6e4;case"30m":return 30*6e4;case"60m":return 60*6e4;case"1h":return 60*6e4;case"4h":return 240*6e4;case"1d":return 1440*6e4;default:return 5*6e4}}function TJ(t){return new Date(t).toLocaleDateString("en-CA",{timeZone:"Asia/Shanghai"})}function MJ(t){const e=new Intl.DateTimeFormat("en-GB",{timeZone:"Asia/Shanghai",hour:"2-digit",minute:"2-digit",hour12:!1}).format(new Date(t)),[r,n]=e.split(":").map(Number),i=r*60+n;return i>=555&&i<570?"pre_open":i>=570&&i<690?"continuous_am":i>=690&&i<780?"lunch_break":i>=780&&i<900?"continuous_pm":i>=900&&i<915?"close_auction":"closed"}function LD(t){const{symbol:e,interval:r,limit:n,mode:i="mock",provider:s="onlytrade-mock-feed",nowMs:a=Date.now()}=t,o=jJ(e),l=80+o%1500,u=PJ(r),f=Math.max(1,Math.min(n,2e3)),p=[];let m=l;const v=Math.floor(a/u)-f;for(let y=f-1;y>=0;y--){const x=a-y*u,b=x+u,S=Math.sin((f-y)/12)*(l*.001),N=((o+y*17)%11-5)*(l*6e-4),A=m,k=Math.max(.1,A+S+N),E=Math.max(A,k)*1.004,j=Math.min(A,k)*.996,T=5e3+(o+y*29)%9e3,M=Number((T*k).toFixed(2)),I={schema_version:"market.bar.v1",market:"CN-A",mode:i,provider:s,feed:"bars",seq:v+(f-y),event_ts_ms:b,ingest_ts_ms:b+120,instrument:{symbol:e,exchange:EJ(e),timezone:"Asia/Shanghai",currency:"CNY"},interval:r,window:{start_ts_ms:x,end_ts_ms:b,trading_day:TJ(x)},session:{phase:MJ(x),is_halt:!1,is_partial:y===0},bar:{open:Number(A.toFixed(4)),high:Number(E.toFixed(4)),low:Number(j.toFixed(4)),close:Number(k.toFixed(4)),volume_shares:T,turnover_cny:M,vwap:Number((M/T).toFixed(4))}};p.push(I),m=k}return p}function OJ(t){const e=t.mode??"mock",r=t.provider??"onlytrade-mock-feed",n=LD(t);return{schema_version:"market.frames.v1",market:"CN-A",mode:e,provider:r,frames:n}}function RJ(t){const e=LD(t);return kJ(e)}let Mx=null,_h=null;async function VE(){return Mx||_h||(_h=fetch("/replay/cn-a/latest/frames.1m.json").then(async t=>{if(!t.ok)return null;const e=await t.json();return!e||!Array.isArray(e.frames)?null:(Mx=e,e)}).catch(()=>null).finally(()=>{_h=null}),_h)}function WE(t,e,r){const i=[...t.filter(a=>a.instrument.symbol===e)].sort((a,o)=>a.window.start_ts_ms-o.window.start_ts_ms),s=Math.max(1,Math.min(r,2e3));return i.slice(-s)}const Ox="live".toLowerCase(),IJ="false".toLowerCase()==="true",DJ=Date.now(),LJ=8e3;function x6(){return!IJ||Ox==="live"?"live":Ox==="mock-live"||Ox==="mocklive"?"mock-live":"static"}function _v(){return x6()!=="live"}function Ta(){return x6()==="mock-live"}function xd(){return Ta()?Math.floor((Date.now()-DJ)/LJ):0}const Ul=[{trader_id:"t_001",trader_name:"HS300 Momentum",ai_model:"qwen",exchange_id:"sim-cn",is_running:!0,show_in_competition:!0},{trader_id:"t_002",trader_name:"Value Rebound",ai_model:"deepseek",exchange_id:"sim-cn",is_running:!0,show_in_competition:!0},{trader_id:"t_003",trader_name:"Mei Lin Alpha",ai_model:"gpt-4o-mini",exchange_id:"sim-cn",is_running:!0,show_in_competition:!0},{trader_id:"t_004",trader_name:"Blonde Macro",ai_model:"gpt-4o-mini",exchange_id:"sim-cn",is_running:!0,show_in_competition:!0}],HE={count:4,traders:[{trader_id:"t_001",trader_name:"HS300 Momentum",ai_model:"qwen",exchange:"sim",total_equity:102345.12,total_pnl:2345.12,total_pnl_pct:2.35,position_count:3,margin_used_pct:0,is_running:!0},{trader_id:"t_002",trader_name:"Value Rebound",ai_model:"deepseek",exchange:"sim",total_equity:100845.88,total_pnl:845.88,total_pnl_pct:.85,position_count:2,margin_used_pct:0,is_running:!0},{trader_id:"t_003",trader_name:"Mei Lin Alpha",ai_model:"gpt-4o-mini",exchange:"sim",total_equity:98790.44,total_pnl:-1209.56,total_pnl_pct:-1.21,position_count:1,margin_used_pct:0,is_running:!0},{trader_id:"t_004",trader_name:"Blonde Macro",ai_model:"gpt-4o-mini",exchange:"sim",total_equity:100512.63,total_pnl:512.63,total_pnl_pct:.51,position_count:2,margin_used_pct:0,is_running:!0}]};function b6(){if(!Ta())return HE;const t=xd(),e=1e5,r=HE.traders.map((n,i)=>{const s=i*2.1,a=Math.sin((t+s)/2.8)*.55,o=(i===0?.015:i===1?.004:i===2?-.006:.0025)*t,l=Number((n.total_pnl_pct+a+o).toFixed(2)),u=Number((e*l/100).toFixed(2)),f=Number((e+u).toFixed(2));return{...n,total_pnl_pct:l,total_pnl:u,total_equity:f,position_count:1+(t+i)%3}});return{count:r.length,traders:r}}function zJ(t="t_001"){const e=xd(),r=Ul.find(n=>n.trader_id===t)||Ul[0];return{trader_id:r.trader_id,trader_name:r.trader_name,ai_model:r.ai_model,is_running:!0,start_time:new Date(Date.now()-1e3*60*(95+e)).toISOString(),runtime_minutes:95+e,call_count:128+e,initial_balance:1e5,scan_interval:"10s",stop_until:"",last_reset_time:new Date(Date.now()-1e3*60*60*24).toISOString(),ai_provider:"openai-compatible",strategy_type:"ai_trading"}}function FJ(t="t_001"){const e=b6(),r=e.traders.find(i=>i.trader_id===t)||e.traders[0],n=Number((Math.sin(xd()/3)*800).toFixed(2));return{total_equity:r.total_equity,wallet_balance:r.total_equity-Math.max(0,n),unrealized_profit:n,available_balance:r.total_equity*.92,total_pnl:r.total_pnl,total_pnl_pct:r.total_pnl_pct,initial_balance:1e5,daily_pnl:r.total_pnl*.28,position_count:r.position_count,margin_used:0,margin_used_pct:0}}function BJ(t="t_001"){const e=xd(),r=Math.sin((e+1)/2),n=[{symbol:"600519.SH",side:"LONG",entry_price:1498.2,mark_price:Number((1512.4+r*4.5).toFixed(2)),quantity:100,leverage:1,unrealized_pnl:Number((1420+r*480).toFixed(2)),unrealized_pnl_pct:Number((.95+r*.32).toFixed(2)),liquidation_price:0,margin_used:0},{symbol:"300750.SZ",side:"LONG",entry_price:186.3,mark_price:Number((182.8-r*1.2).toFixed(2)),quantity:300,leverage:1,unrealized_pnl:Number((-1050-r*220).toFixed(2)),unrealized_pnl_pct:Number((-1.88-r*.25).toFixed(2)),liquidation_price:0,margin_used:0}];return t==="t_003"?n.slice(0,1):t==="t_004"?n.slice(1):n}const Up=[{action:"open_long",symbol:"600519.SH",price:1510.2,stop_loss:1480,take_profit:1568,confidence:74,reasoning:"Trend and volume remain supportive; keep position sizing conservative.",input_prompt:"HS300 momentum snapshot",execution_log:"virtual fill applied at next bar open"},{action:"hold",symbol:"300750.SZ",price:182.8,confidence:68,reasoning:"No clear downside break; hold and wait for confirmation.",input_prompt:"risk review",execution_log:"no new order emitted"},{action:"open_long",symbol:"601318.SH",price:48.6,stop_loss:47.2,take_profit:50.9,confidence:71,reasoning:"Relative strength improving with low drawdown risk.",input_prompt:"rotation check",execution_log:"virtual order queued and filled"},{action:"close_long",symbol:"600519.SH",price:1528,confidence:66,reasoning:"Target reached on schedule; lock gains and reduce concentration.",input_prompt:"take-profit rule",execution_log:"partial close executed"},{action:"hold",symbol:"601318.SH",price:49.1,confidence:63,reasoning:"Still inside trend channel; no adjustment needed.",input_prompt:"channel monitor",execution_log:"no action"}];function $J(){const t=Date.now(),e=xd(),r=Ta()?Math.min(Up.length,2+e%Up.length):2;return Array.from({length:r}).map((n,i)=>{const s=(e+i)%Up.length,a=Up[s],o=new Date(t-i*1e3*60*5).toISOString(),l=128+e-i;return{timestamp:o,cycle_number:l,system_prompt:"demo",input_prompt:a.input_prompt,cot_trace:"compressed-demo-rationale",decision_json:JSON.stringify({action:a.action,symbol:a.symbol}),account_state:{total_balance:102345.12,available_balance:94123.4,total_unrealized_profit:370,position_count:2,margin_used_pct:0},positions:[],candidate_coins:["600519.SH","300750.SZ","601318.SH"],decisions:[{action:a.action,symbol:a.symbol,quantity:a.action==="hold"?0:100,leverage:1,price:a.price,stop_loss:a.stop_loss,take_profit:a.take_profit,confidence:a.confidence,reasoning:a.reasoning,order_id:1e5+l,timestamp:o,success:!0}],execution_log:[a.execution_log],success:!0,error_message:""}})}function qJ(){const t=xd();return{total_cycles:128+t,successful_cycles:122+t,failed_cycles:6,total_open_positions:37+Math.floor(t/2),total_close_positions:35+Math.floor(t/3)}}function KE(t,e=72){const n=b6().traders.find(o=>o.trader_id===t),i=((n==null?void 0:n.total_pnl_pct)??0)/100,s=Date.now(),a=10*6e4;return Array.from({length:e}).map((o,l)=>{const u=(l+1)/e,f=Math.sin(l/6)*.002,p=1e5*(1+i*u+f);return{timestamp:new Date(s-(e-l)*a).toISOString(),total_equity:Number(p.toFixed(2)),pnl:Number((p-1e5).toFixed(2)),pnl_pct:Number(((p-1e5)/1e5*100).toFixed(4)),total_pnl_pct:Number(((p-1e5)/1e5*100).toFixed(4)),cycle_number:l+1}})}function UJ(t){const e=Date.now();return{trade_events:[{id:"demo-buy-1",trader_id:t,cycle_number:12,ts:new Date(e-1e3*60*210).toISOString(),symbol:"600519.SH",side:"BUY",quantity:100,price:1480,notional:148e3,fee:45,realized_pnl:0,cash_after:-48045,total_equity_after:1e5,position_after_qty:100,position_after_avg_cost:1480,position_after_mark:1480,source:"llm.openai"},{id:"demo-sell-1",trader_id:t,cycle_number:19,ts:new Date(e-1e3*60*140).toISOString(),symbol:"600519.SH",side:"SELL",quantity:100,price:1510,notional:151e3,fee:45,realized_pnl:3e3,cash_after:102955,total_equity_after:103e3,position_after_qty:0,position_after_avg_cost:0,position_after_mark:0,source:"llm.openai"}],positions:[{id:1,trader_id:t,exchange_id:"sim-cn",exchange_type:"sim",symbol:"600519.SH",side:"LONG",quantity:100,entry_quantity:100,entry_price:1480,entry_order_id:"demo-entry-1",entry_time:new Date(e-1e3*60*200).toISOString(),exit_price:1510,exit_order_id:"demo-exit-1",exit_time:new Date(e-1e3*60*140).toISOString(),realized_pnl:3e3,fee:45,leverage:1,status:"closed",close_reason:"take_profit",created_at:new Date(e-1e3*60*200).toISOString(),updated_at:new Date(e-1e3*60*140).toISOString()}],stats:{total_trades:12,win_trades:8,loss_trades:4,win_rate:66.67,profit_factor:1.84,sharpe_ratio:1.2,total_pnl:8450,total_fee:390,avg_win:1560,avg_loss:-890,max_drawdown_pct:4.8},symbol_stats:[{symbol:"600519.SH",total_trades:7,win_trades:5,win_rate:71.43,total_pnl:6200,avg_pnl:885.7,avg_hold_mins:95}],direction_stats:[{side:"LONG",trade_count:12,win_rate:66.67,total_pnl:8450,avg_pnl:704.1}]}}function VJ(t){return t.startsWith("http://")||t.startsWith("https://")?new URL(t):new URL(t,"http://localhost")}async function WJ(t,e,r){var u,f;if(!_v())return;const n=VJ(t),i=n.pathname,s=n.searchParams.get("trader_id")||Ul[0].trader_id,a=b6();if(e==="GET"&&i==="/api/traders")return Ul;if(e==="GET"&&i==="/api/competition")return a;if(e==="GET"&&i==="/api/top-traders")return a.traders.slice(0,3);if(e==="GET"&&i==="/api/status")return zJ(s);if(e==="GET"&&i==="/api/account")return FJ(s);if(e==="GET"&&i==="/api/positions")return BJ(s);if(e==="GET"&&i==="/api/decisions/latest")return $J();if(e==="GET"&&i==="/api/statistics")return qJ();if(e==="GET"&&i==="/api/equity-history")return KE(s,96);if(e==="POST"&&i==="/api/equity-history-batch"){const p=Array.isArray(r==null?void 0:r.trader_ids)?r.trader_ids:Ul.map(v=>v.trader_id);return{histories:Object.fromEntries(p.map(v=>[v,KE(v,96)]))}}if(e==="GET"&&i==="/api/positions/history")return UJ(s);if(e==="GET"&&i==="/api/market/frames"){const p=n.searchParams.get("symbol")||"600519.SH",m=n.searchParams.get("interval")||"5m",v=Number(n.searchParams.get("limit")||"800");if(n.searchParams.get("source")!=="mock"&&m==="1m"){const b=await VE();if((u=b==null?void 0:b.frames)!=null&&u.length)return{...b,mode:Ta()?"real":b.mode,provider:Ta()?"replay-stream":b.provider,frames:WE(b.frames,p,Number.isFinite(v)?Math.min(v,1500):800)}}return OJ({symbol:p,interval:m,limit:Number.isFinite(v)?Math.min(v,1500):800,mode:Ta()?"real":"mock",provider:Ta()?"mock-replay-stream":"static-mock-feed"})}if(e==="GET"&&i==="/api/klines"){const p=n.searchParams.get("symbol")||"600519.SH",m=n.searchParams.get("interval")||"5m",v=Number(n.searchParams.get("limit")||"800");if(n.searchParams.get("source")!=="mock"&&m==="1m"){const b=await VE();if((f=b==null?void 0:b.frames)!=null&&f.length)return WE(b.frames,p,Number.isFinite(v)?Math.min(v,1500):800).map(S=>({openTime:S.window.start_ts_ms,open:S.bar.open,high:S.bar.high,low:S.bar.low,close:S.bar.close,volume:S.bar.volume_shares,quoteVolume:S.bar.turnover_cny}))}return RJ({symbol:p,interval:m,limit:Number.isFinite(v)?Math.min(v,1500):800,mode:Ta()?"real":"mock",provider:Ta()?"mock-replay-stream":"static-mock-feed"})}if(e==="GET"&&i==="/api/orders")return[];if(e==="GET"&&i==="/api/open-orders")return[];if(e==="GET"&&i==="/api/symbols")return{symbols:[{symbol:"600519.SH",name:"Kweichow Moutai",category:"stock"},{symbol:"601318.SH",name:"Ping An",category:"stock"},{symbol:"300750.SZ",name:"CATL",category:"stock"}]};const o=i.match(/^\/api\/traders\/([^/]+)\/config$/);if(e==="GET"&&o){const p=o[1],m=Ul.find(v=>v.trader_id===p)||Ul[0];return{trader_id:m.trader_id,trader_name:m.trader_name,ai_model:m.ai_model,exchange_id:m.exchange_id,strategy_name:"HS300 baseline strategy",is_running:!0,initial_balance:1e5,scan_interval_minutes:1,show_in_competition:!0,is_cross_margin:!1}}const l=i.match(/^\/api\/traders\/([^/]+)\/close-position$/);if(e==="POST"&&l)return{message:"Virtual position close queued in demo mode"}}const Nu=class Nu{constructor(e){Ml(this,"axiosInstance");Ml(this,"loginRequired");this.loginRequired=(e==null?void 0:e.loginRequired)??"false".toLowerCase()==="true",this.axiosInstance=Tr.create({baseURL:"/",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}reset401Flag(){Nu.isHandling401=!1}setupInterceptors(){this.axiosInstance.interceptors.request.use(e=>{const r=localStorage.getItem("auth_token");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e)),this.axiosInstance.interceptors.response.use(e=>e,e=>this.handleError(e))}async handleError(e){var n,i;if(!e.response)throw Wt.error("Network error - Please check your connection",{description:"Unable to reach the server"}),new Error("Network error");const{status:r}=e.response;if(r===401){if(!this.loginRequired){const s=((n=e.response.data)==null?void 0:n.error)||((i=e.response.data)==null?void 0:i.message)||"Unauthorized";throw new Error(s)}if(Nu.isHandling401)throw new Error("Session expired");if(Nu.isHandling401=!0,localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),window.dispatchEvent(new Event("unauthorized")),!window.location.pathname.includes("/login")){const s=window.location.pathname+window.location.search;return s!=="/login"&&s!=="/"&&sessionStorage.setItem("returnUrl",s),sessionStorage.setItem("from401","true"),window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate")),new Promise(()=>{})}throw new Error("Session expired")}if(r===403)throw Wt.error("Permission Denied",{description:"You do not have permission to access this resource"}),new Error("Permission denied");if(r===404)throw Wt.error("API Not Found",{description:"The requested endpoint does not exist (404)"}),new Error("API not found");if(r>=500)throw Wt.error("Server Error",{description:"Please try again later or contact support"}),new Error("Server error");return Promise.reject(e)}async request(e,r={}){const n=r.method||"GET";if(_v()){let i=e;if(r.params&&typeof r.params=="object"){const a=new URLSearchParams;Object.entries(r.params).forEach(([l,u])=>{u!=null&&a.append(l,String(u))});const o=a.toString();o&&(i=e.includes("?")?`${e}&${o}`:`${e}?${o}`)}const s=await WJ(i,n,r.data);if(s!==void 0)return{success:!0,data:s}}try{const i=await this.axiosInstance.request({url:e,method:n,data:r.data,params:r.params,headers:r.headers}),s=i.data;return s&&typeof s=="object"&&typeof s.success=="boolean"&&("data"in s||"message"in s)?{success:s.success,data:s.data,message:s.message}:{success:!0,data:i.data,message:s==null?void 0:s.message}}catch(i){if(Tr.isAxiosError(i)&&i.response){const s=i.response.data;return{success:!1,message:(s==null?void 0:s.error)||(s==null?void 0:s.message)||"Operation failed"}}throw i}}async get(e,r,n){return this.request(e,{method:"GET",params:r,headers:n})}async post(e,r,n){return this.request(e,{method:"POST",data:r,headers:n})}async put(e,r,n){return this.request(e,{method:"PUT",data:r,headers:n})}async delete(e,r){return this.request(e,{method:"DELETE",headers:r})}async patch(e,r,n){return this.request(e,{method:"PATCH",data:r,headers:n})}};Ml(Nu,"isHandling401",!1);let Y5=Nu;const Ke=new Y5,Vp=()=>Ke.reset401Flag(),De="/api";function Wn(){const t=localStorage.getItem("auth_token"),e={"Content-Type":"application/json"};return t&&(e.Authorization=`Bearer ${t}`),e}async function ki(t){const e=await t.text();if(!t.ok){let r=e||t.statusText;try{const n=e?JSON.parse(e):null;n&&typeof n=="object"&&(r=n.error||n.message||r)}catch{}throw new Error(r||"")}return e?JSON.parse(e):{}}const It={async getTraders(){const t=await Ke.get(`${De}/my-traders`);if(!t.success)throw new Error("trader");return Array.isArray(t.data)?t.data:[]},async getPublicTraders(){const t=await Ke.get(`${De}/traders`);if(!t.success)throw new Error("trader");return Array.isArray(t.data)?t.data:[]},async bootstrapChatSession(){const t=await Ke.post(`${De}/chat/session/bootstrap`);if(!t.success||!t.data)throw new Error("");return t.data},async getBetsMarket(t){const e=new URLSearchParams;t!=null&&t.traderId&&e.set("trader_id",String(t.traderId).trim()),t!=null&&t.market&&e.set("market",String(t.market).trim().toUpperCase()),t!=null&&t.userSessionId&&e.set("user_session_id",String(t.userSessionId).trim());const r=e.toString(),n=r?`${De}/bets/market?${r}`:`${De}/bets/market`,i=await Ke.get(n);if(!i.success||!i.data)throw new Error(i.message||"");return i.data},async placeViewerBet(t){const e=await Ke.post(`${De}/bets/place`,t);if(!e.success||!e.data)throw new Error(e.message||"");return e.data},async getBetsCredits(t){const e=new URLSearchParams;t!=null&&t.userSessionId&&e.set("user_session_id",String(t.userSessionId).trim()),(t==null?void 0:t.limit)!=null&&e.set("limit",String(Math.max(1,Math.min(Number(t.limit)||20,200))));const r=e.toString(),n=r?`${De}/bets/credits?${r}`:`${De}/bets/credits`,i=await Ke.get(n);if(!i.success||!i.data)throw new Error(i.message||"");return i.data},async getRoomPublicMessages(t,e=20,r){var s;const n=new URLSearchParams;n.set("limit",String(e)),r!=null&&n.set("before_ts_ms",String(r));const i=await Ke.get(`${De}/chat/rooms/${encodeURIComponent(t)}/public?${n.toString()}`);if(!i.success)throw new Error(i.message||"");return Array.isArray((s=i.data)==null?void 0:s.messages)?i.data.messages:[]},async getRoomPrivateMessages(t,e,r=20,n){var a;const i=new URLSearchParams;i.set("user_session_id",e),i.set("limit",String(r)),n!=null&&i.set("before_ts_ms",String(n));const s=await Ke.get(`${De}/chat/rooms/${encodeURIComponent(t)}/private?${i.toString()}`);if(!s.success)throw new Error(s.message||"");return Array.isArray((a=s.data)==null?void 0:a.messages)?s.data.messages:[]},async postRoomMessage(t,e){const r=await Ke.post(`${De}/chat/rooms/${encodeURIComponent(t)}/messages`,e);if(!r.success||!r.data)throw new Error(r.message||"");return r.data},async getChatTtsConfig(){const t=await Ke.get(`${De}/chat/tts/config`);if(!t.success||!t.data)throw new Error(t.message||"");return t.data},async synthesizeRoomSpeech(t){const e=await fetch(`${De}/chat/tts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const r=await e.text().catch(()=>"");let n=r||"";try{const i=r?JSON.parse(r):null;i&&typeof i=="object"&&(n=i.error||i.message||n)}catch{}throw new Error(n)}return await e.blob()},async createTrader(t){const e=await Ke.post(`${De}/traders`,t);if(!e.success)throw new Error("");return e.data},async deleteTrader(t){if(!(await Ke.delete(`${De}/traders/${t}`)).success)throw new Error("")},async startTrader(t){if(!(await Ke.post(`${De}/traders/${t}/start`)).success)throw new Error("")},async stopTrader(t){if(!(await Ke.post(`${De}/traders/${t}/stop`)).success)throw new Error("")},async toggleCompetition(t,e){if(!(await Ke.put(`${De}/traders/${t}/competition`,{show_in_competition:e})).success)throw new Error("")},async closePosition(t,e,r){const n=await Ke.post(`${De}/traders/${t}/close-position`,{symbol:e,side:r});if(!n.success)throw new Error("");return n.data},async updateTraderPrompt(t,e){if(!(await Ke.put(`${De}/traders/${t}/prompt`,{custom_prompt:e})).success)throw new Error("")},async getTraderConfig(t){const e=await Ke.get(`${De}/traders/${t}/config`);if(!e.success)throw new Error("");return e.data},async updateTrader(t,e){const r=await Ke.put(`${De}/traders/${t}`,e);if(!r.success)throw new Error("");return r.data},async getModelConfigs(){const t=await Ke.get(`${De}/models`);if(!t.success)throw new Error("");return Array.isArray(t.data)?t.data:[]},async getSupportedModels(){const t=await Ke.get(`${De}/supported-models`);if(!t.success)throw new Error("");return t.data},async getPromptTemplates(){const t=await fetch(`${De}/prompt-templates`);if(!t.ok)throw new Error("");const e=await t.json();return Array.isArray(e.templates)?e.templates.map(r=>r.name):[]},async updateModelConfigs(t){if(!(await Kn.fetchCryptoConfig()).transport_encryption){if(!(await Ke.put(`${De}/models`,t)).success)throw new Error("");return}const r=await Kn.fetchPublicKey();await Kn.initialize(r);const n=localStorage.getItem("user_id")||"",i=sessionStorage.getItem("session_id")||"",s=await Kn.encryptSensitiveData(JSON.stringify(t),n,i);if(!(await Ke.put(`${De}/models`,s)).success)throw new Error("")},async getExchangeConfigs(){const t=await Ke.get(`${De}/exchanges`);if(!t.success)throw new Error("");return t.data},async getSupportedExchanges(){const t=await Ke.get(`${De}/supported-exchanges`);if(!t.success)throw new Error("");return t.data},async updateExchangeConfigs(t){if(!(await Ke.put(`${De}/exchanges`,t)).success)throw new Error("")},async createExchange(t){const e=await Ke.post(`${De}/exchanges`,t);if(!e.success)throw new Error("");return e.data},async createExchangeEncrypted(t){if(!(await Kn.fetchCryptoConfig()).transport_encryption){const o=await Ke.post(`${De}/exchanges`,t);if(!o.success)throw new Error("");return o.data}const r=await Kn.fetchPublicKey();await Kn.initialize(r);const n=localStorage.getItem("user_id")||"",i=sessionStorage.getItem("session_id")||"",s=await Kn.encryptSensitiveData(JSON.stringify(t),n,i),a=await Ke.post(`${De}/exchanges`,s);if(!a.success)throw new Error("");return a.data},async deleteExchange(t){if(!(await Ke.delete(`${De}/exchanges/${t}`)).success)throw new Error("")},async updateExchangeConfigsEncrypted(t){if(!(await Kn.fetchCryptoConfig()).transport_encryption){if(!(await Ke.put(`${De}/exchanges`,t)).success)throw new Error("");return}const r=await Kn.fetchPublicKey();await Kn.initialize(r);const n=localStorage.getItem("user_id")||"",i=sessionStorage.getItem("session_id")||"",s=await Kn.encryptSensitiveData(JSON.stringify(t),n,i);if(!(await Ke.put(`${De}/exchanges`,s)).success)throw new Error("")},async getStatus(t){const e=t?`${De}/status?trader_id=${t}`:`${De}/status`,r=await Ke.get(e);if(!r.success)throw new Error("");return r.data},async getAccount(t){const e=t?`${De}/account?trader_id=${t}`:`${De}/account`,r=await Ke.get(e);if(!r.success)throw new Error("");return r.data},async getPositions(t){const e=t?`${De}/positions?trader_id=${t}`:`${De}/positions`,r=await Ke.get(e);if(!r.success)throw new Error("");return r.data},async getDecisions(t){const e=t?`${De}/decisions?trader_id=${t}`:`${De}/decisions`,r=await Ke.get(e);if(!r.success)throw new Error("");return r.data},async getLatestDecisions(t,e=5){const r=new URLSearchParams;t&&r.append("trader_id",t),r.append("limit",e.toString());const n=await Ke.get(`${De}/decisions/latest?${r}`);if(!n.success)throw new Error("");return n.data},async getRoomStreamPacket(t,e=5){const r=String(t||"").trim();if(!r)throw new Error("room_id_required");const n=Math.max(1,Math.min(Number(e)||5,20)),i=`${De}/rooms/${encodeURIComponent(r)}/stream-packet?decision_limit=${encodeURIComponent(String(n))}`,s=await Ke.get(i);if(!s.success||!s.data)throw new Error("");return s.data},async getDecisionAuditLatest(t,e=50){const r=String(t||"").trim();if(!r)throw new Error("trader_id_required");const n=Math.max(1,Math.min(Number(e)||50,500)),i=`${De}/agents/${encodeURIComponent(r)}/decision-audit/latest?limit=${encodeURIComponent(String(n))}`,s=await Ke.get(i);if(!s.success||!s.data)throw new Error("");return s.data},async getDecisionAuditDay(t,e,r=2e3){const n=String(t||"").trim(),i=String(e||"").trim();if(!n)throw new Error("trader_id_required");if(!i)throw new Error("day_key_required");const s=Math.max(1,Math.min(Number(r)||2e3,5e3)),a=`${De}/agents/${encodeURIComponent(n)}/decision-audit/day?day_key=${encodeURIComponent(i)}&limit=${encodeURIComponent(String(s))}`,o=await Ke.get(a);if(!o.success||!o.data)throw new Error("");return o.data},async getAgentRuntimeStatus(){const t=await Ke.get(`${De}/agent/runtime/status`);if(!t.success||!t.data)throw new Error("");return t.data},async controlAgentRuntime(t,e){const r={action:t};t==="set_cycle_ms"&&(r.cycle_ms=e),t==="set_decision_every_bars"&&(r.decision_every_bars=e);const n=await Ke.post(`${De}/agent/runtime/control`,r);if(!n.success||!n.data)throw new Error(n.message||"");return n.data},async setAgentKillSwitch(t,e){const r={action:t};e&&(r.reason=e);const n=await Ke.post(`${De}/agent/runtime/kill-switch`,r);if(!n.success||!n.data)throw new Error(n.message||"Kill switch control failed");return n.data},async getReplayRuntimeStatus(){const t=await Ke.get(`${De}/replay/runtime/status`);if(!t.success||!t.data)throw new Error("");return t.data},async getAgentMemory(t){const e=new URLSearchParams;t&&e.append("trader_id",t);const r=e.toString(),n=r?`${De}/agent/memory?${r}`:`${De}/agent/memory`,i=await Ke.get(n);if(!i.success||!i.data)throw new Error("Agent");return i.data},async controlReplayRuntime(t,e){const r={action:t};t==="set_speed"&&(r.speed=e),t==="set_cursor"&&(r.cursor_index=e),t==="set_loop"&&(r.loop=e);const n=await Ke.post(`${De}/replay/runtime/control`,r);if(!n.success||!n.data)throw new Error(n.message||"");return n.data},async factoryResetRuntime(t){const e={};(t==null?void 0:t.cursorIndex)!=null&&(e.cursor_index=t.cursorIndex),(t==null?void 0:t.useWarmup)!=null&&(e.use_warmup=t.useWarmup);const r=await Ke.post(`${De}/dev/factory-reset`,e);if(!r.success||!r.data)throw new Error(r.message||"Factory reset failed");return r.data},async getStatistics(t){const e=t?`${De}/statistics?trader_id=${t}`:`${De}/statistics`,r=await Ke.get(e);if(!r.success)throw new Error("");return r.data},async getEquityHistory(t){const e=t?`${De}/equity-history?trader_id=${t}`:`${De}/equity-history`,r=await Ke.get(e);if(!r.success)throw new Error("");return r.data},async getEquityHistoryBatch(t,e){const r=await Ke.post(`${De}/equity-history-batch`,{trader_ids:t,hours:e||0});if(!r.success)throw new Error("");return r.data},async getTopTraders(){const t=await Ke.get(`${De}/top-traders`);if(!t.success)throw new Error("5");return t.data},async getPublicTraderConfig(t){const e=await Ke.get(`${De}/trader/${t}/config`);if(!e.success)throw new Error("");return e.data},async getCompetition(){const t=await Ke.get(`${De}/competition`);if(!t.success)throw new Error("");return t.data},async getServerIP(){const t=await Ke.get(`${De}/server-ip`);if(!t.success)throw new Error("IP");return t.data},async getBacktestRuns(t){const e=new URLSearchParams;t!=null&&t.state&&e.set("state",t.state),t!=null&&t.search&&e.set("search",t.search),t!=null&&t.limit&&e.set("limit",String(t.limit)),t!=null&&t.offset&&e.set("offset",String(t.offset));const r=await fetch(`${De}/backtest/runs${e.toString()?`?${e}`:""}`,{headers:Wn()});return ki(r)},async startBacktest(t){const e=await fetch(`${De}/backtest/start`,{method:"POST",headers:Wn(),body:JSON.stringify({config:t})});return ki(e)},async pauseBacktest(t){const e=await fetch(`${De}/backtest/pause`,{method:"POST",headers:Wn(),body:JSON.stringify({run_id:t})});return ki(e)},async resumeBacktest(t){const e=await fetch(`${De}/backtest/resume`,{method:"POST",headers:Wn(),body:JSON.stringify({run_id:t})});return ki(e)},async stopBacktest(t){const e=await fetch(`${De}/backtest/stop`,{method:"POST",headers:Wn(),body:JSON.stringify({run_id:t})});return ki(e)},async updateBacktestLabel(t,e){const r=await fetch(`${De}/backtest/label`,{method:"POST",headers:Wn(),body:JSON.stringify({run_id:t,label:e})});return ki(r)},async deleteBacktestRun(t){const e=await fetch(`${De}/backtest/delete`,{method:"POST",headers:Wn(),body:JSON.stringify({run_id:t})});if(!e.ok)throw new Error(await e.text())},async getBacktestStatus(t){const e=await fetch(`${De}/backtest/status?run_id=${t}`,{headers:Wn()});return ki(e)},async getBacktestEquity(t,e,r){const n=new URLSearchParams({run_id:t});e&&n.set("tf",e),r&&n.set("limit",String(r));const i=await fetch(`${De}/backtest/equity?${n}`,{headers:Wn()});return ki(i)},async getBacktestTrades(t,e=200){const r=new URLSearchParams({run_id:t,limit:String(e)}),n=await fetch(`${De}/backtest/trades?${r}`,{headers:Wn()});return ki(n)},async getBacktestMetrics(t){const e=await fetch(`${De}/backtest/metrics?run_id=${t}`,{headers:Wn()});return ki(e)},async getBacktestKlines(t,e,r){const n=new URLSearchParams({run_id:t,symbol:e});r&&n.set("timeframe",r);const i=await fetch(`${De}/backtest/klines?${n}`,{headers:Wn()});return ki(i)},async getBacktestTrace(t,e){const r=new URLSearchParams({run_id:t});e&&r.set("cycle",String(e));const n=await fetch(`${De}/backtest/trace?${r}`,{headers:Wn()});return ki(n)},async getBacktestDecisions(t,e=20,r=0){const n=new URLSearchParams({run_id:t,limit:String(e),offset:String(r)}),i=await fetch(`${De}/backtest/decisions?${n}`,{headers:Wn()});return ki(i)},async exportBacktest(t){const e=await fetch(`${De}/backtest/export?run_id=${t}`,{headers:Wn()});if(!e.ok){const r=await e.text();try{const n=r?JSON.parse(r):null;throw new Error((n==null?void 0:n.error)||(n==null?void 0:n.message)||r||"")}catch(n){throw n instanceof Error&&n.message?n:new Error(r||"")}}return e.blob()},async getStrategies(){var r;const t=await Ke.get(`${De}/strategies`);if(!t.success)throw new Error("");const e=(r=t.data)==null?void 0:r.strategies;return Array.isArray(e)?e:[]},async getStrategy(t){const e=await Ke.get(`${De}/strategies/${t}`);if(!e.success)throw new Error("");return e.data},async getActiveStrategy(){const t=await Ke.get(`${De}/strategies/active`);if(!t.success)throw new Error("");return t.data},async getDefaultStrategyConfig(){const t=await Ke.get(`${De}/strategies/default-config`);if(!t.success)throw new Error("");return t.data},async createStrategy(t){const e=await Ke.post(`${De}/strategies`,t);if(!e.success)throw new Error("");return e.data},async updateStrategy(t,e){const r=await Ke.put(`${De}/strategies/${t}`,e);if(!r.success)throw new Error("");return r.data},async deleteStrategy(t){if(!(await Ke.delete(`${De}/strategies/${t}`)).success)throw new Error("")},async activateStrategy(t){const e=await Ke.post(`${De}/strategies/${t}/activate`);if(!e.success)throw new Error("");return e.data},async duplicateStrategy(t){const e=await Ke.post(`${De}/strategies/${t}/duplicate`);if(!e.success)throw new Error("");return e.data},async getDebates(){const t=await Ke.get(`${De}/debates`);if(!t.success)throw new Error("");return Array.isArray(t.data)?t.data:[]},async getDebate(t){const e=await Ke.get(`${De}/debates/${t}`);if(!e.success)throw new Error("");return e.data},async createDebate(t){const e=await Ke.post(`${De}/debates`,t);if(!e.success)throw new Error("");return e.data},async startDebate(t){if(!(await Ke.post(`${De}/debates/${t}/start`)).success)throw new Error("")},async cancelDebate(t){if(!(await Ke.post(`${De}/debates/${t}/cancel`)).success)throw new Error("")},async executeDebate(t,e){const r=await Ke.post(`${De}/debates/${t}/execute`,{trader_id:e});if(!r.success)throw new Error("");return r.data.session},async deleteDebate(t){if(!(await Ke.delete(`${De}/debates/${t}`)).success)throw new Error("")},async getDebateMessages(t){const e=await Ke.get(`${De}/debates/${t}/messages`);if(!e.success)throw new Error("");return e.data},async getDebateVotes(t){const e=await Ke.get(`${De}/debates/${t}/votes`);if(!e.success)throw new Error("");return e.data},async getDebatePersonalities(){const t=await Ke.get(`${De}/debates/personalities`);if(!t.success)throw new Error("AI");return t.data},createDebateStream(t){const e=localStorage.getItem("auth_token");return new EventSource(`${De}/debates/${t}/stream?token=${e}`)},async getPositionHistory(t,e=100){const r=await Ke.get(`${De}/positions/history?trader_id=${t}&limit=${e}`);if(!r.success)throw new Error("");return r.data}};function GE(t){return!!t&&typeof t=="object"&&typeof t.id=="string"}function zD(t,e){const r=Array.isArray(t)?t:[],n=Array.isArray(e)?e:[],i=new Map;for(const a of r)GE(a)&&i.set(a.id,a);for(const a of n)GE(a)&&i.set(a.id,a);const s=Array.from(i.values());return s.sort((a,o)=>Number((a==null?void 0:a.created_ts_ms)||0)-Number((o==null?void 0:o.created_ts_ms)||0)),s.slice(-200)}function HJ(t){let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);e=(e<<5)-e+n,e=e&e}return Math.abs(e)}function _s(t,e,r){return(t>>e*4&15)%r}const XE=["#1a1a2e","#16213e","#0f3460","#1b1b2f","#162447","#1f1f3d","#2d132c","#1e1e3f","#0d1b2a","#1b263b","#252538","#2a2a4a","#1e2a3a","#0f172a","#1a1f35"],YE=["#ffd5c8","#f5c5b5","#daa06d","#c68642","#8d5524","#6b4423","#4a3728","#ffdbac","#f1c27d","#e0ac69"],JE=["#090806","#2c222b","#3b3024","#4a4035","#504444","#6a4e42","#a55728","#b55239","#8d4a43","#91553d","#e6cea8","#e5c8a8","#debc99","#977961","#343434","#9a3300","#ff6b6b","#4ecdc4","#ffe66d","#a855f7"],QE=["#F0B90B","#0ECB81","#F6465D","#60a5fa","#a855f7","#ec4899","#14b8a6","#f97316","#84cc16","#06b6d4"];function KJ({seed:t,size:e=40,className:r=""}){const n=_.useMemo(()=>{const u=HJ(t),f=XE[_s(u,0,XE.length)],p=YE[_s(u,1,YE.length)],m=JE[_s(u,2,JE.length)],v=QE[_s(u,3,QE.length)],y=_s(u,4,8),x=_s(u,5,6),b=_s(u,6,5),S=_s(u,7,4)===0,N=_s(u,8,5)===0,A=_s(u,9,8)===0,k=_s(u,10,12)===0;return{bgColor:f,skinColor:p,hairColor:m,accColor:v,hairStyle:y,eyeStyle:x,mouthStyle:b,hasGlasses:S,hasEarring:N,hasMask:A,hasLaser:k}},[t]),i=e/24,s=()=>{const{hairColor:u,hairStyle:f}=n;switch(f){case 0:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:11*i,y:2*i,width:2*i,height:5*i,fill:u}),d.jsx("rect",{x:10*i,y:3*i,width:4*i,height:1*i,fill:u})]});case 1:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:7*i,y:4*i,width:10*i,height:3*i,fill:u}),d.jsx("rect",{x:8*i,y:3*i,width:8*i,height:1*i,fill:u}),d.jsx("rect",{x:6*i,y:5*i,width:2*i,height:2*i,fill:u}),d.jsx("rect",{x:16*i,y:5*i,width:2*i,height:2*i,fill:u})]});case 2:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:6*i,y:5*i,width:12*i,height:3*i,fill:n.accColor}),d.jsx("rect",{x:5*i,y:7*i,width:14*i,height:1*i,fill:n.accColor}),d.jsx("rect",{x:7*i,y:4*i,width:10*i,height:1*i,fill:n.accColor})]});case 3:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:7*i,y:4*i,width:10*i,height:4*i,fill:u}),d.jsx("rect",{x:6*i,y:6*i,width:2*i,height:8*i,fill:u}),d.jsx("rect",{x:16*i,y:6*i,width:2*i,height:8*i,fill:u})]});case 4:return d.jsx("rect",{x:9*i,y:5*i,width:2*i,height:1*i,fill:"rgba(255,255,255,0.3)"});case 5:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:7*i,y:5*i,width:10*i,height:2*i,fill:u}),d.jsx("rect",{x:8*i,y:3*i,width:2*i,height:2*i,fill:u}),d.jsx("rect",{x:11*i,y:2*i,width:2*i,height:3*i,fill:u}),d.jsx("rect",{x:14*i,y:3*i,width:2*i,height:2*i,fill:u})]});case 6:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:5*i,y:6*i,width:14*i,height:6*i,fill:n.accColor}),d.jsx("rect",{x:6*i,y:5*i,width:12*i,height:1*i,fill:n.accColor}),d.jsx("rect",{x:8*i,y:8*i,width:8*i,height:4*i,fill:n.skinColor})]});case 7:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:7*i,y:4*i,width:10*i,height:1*i,fill:"#F0B90B"}),d.jsx("rect",{x:8*i,y:2*i,width:2*i,height:2*i,fill:"#F0B90B"}),d.jsx("rect",{x:11*i,y:1*i,width:2*i,height:3*i,fill:"#F0B90B"}),d.jsx("rect",{x:14*i,y:2*i,width:2*i,height:2*i,fill:"#F0B90B"})]});default:return null}},a=()=>{const{eyeStyle:u,accColor:f}=n,p=10*i;switch(u){case 0:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:8*i,y:p,width:2*i,height:2*i,fill:"#000"}),d.jsx("rect",{x:14*i,y:p,width:2*i,height:2*i,fill:"#000"}),d.jsx("rect",{x:8*i,y:p,width:1*i,height:1*i,fill:"#fff"}),d.jsx("rect",{x:14*i,y:p,width:1*i,height:1*i,fill:"#fff"})]});case 1:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:8*i,y:p,width:2*i,height:2*i,fill:"#000"}),d.jsx("rect",{x:14*i,y:p,width:2*i,height:2*i,fill:"#000"}),d.jsx("rect",{x:7*i,y:9*i,width:3*i,height:1*i,fill:n.skinColor}),d.jsx("rect",{x:14*i,y:9*i,width:3*i,height:1*i,fill:n.skinColor})]});case 2:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:8*i,y:p,width:2*i,height:2*i,fill:"#000"}),d.jsx("rect",{x:14*i,y:10.5*i,width:2*i,height:1*i,fill:"#000"})]});case 3:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:8*i,y:10.5*i,width:2*i,height:1*i,fill:"#000"}),d.jsx("rect",{x:14*i,y:10.5*i,width:2*i,height:1*i,fill:"#000"})]});case 4:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:7*i,y:9*i,width:3*i,height:3*i,fill:"#fff"}),d.jsx("rect",{x:14*i,y:9*i,width:3*i,height:3*i,fill:"#fff"}),d.jsx("rect",{x:8*i,y:10*i,width:2*i,height:2*i,fill:"#000"}),d.jsx("rect",{x:15*i,y:10*i,width:2*i,height:2*i,fill:"#000"})]});case 5:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:7*i,y:9*i,width:3*i,height:3*i,fill:f}),d.jsx("rect",{x:14*i,y:9*i,width:3*i,height:3*i,fill:f}),d.jsx("rect",{x:8*i,y:10*i,width:1*i,height:1*i,fill:"#000"}),d.jsx("rect",{x:15*i,y:10*i,width:1*i,height:1*i,fill:"#000"})]});default:return null}},o=()=>{const{mouthStyle:u}=n,f=14*i;switch(u){case 0:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:10*i,y:f,width:4*i,height:1*i,fill:"#000"}),d.jsx("rect",{x:9*i,y:13*i,width:1*i,height:1*i,fill:"#000"}),d.jsx("rect",{x:14*i,y:13*i,width:1*i,height:1*i,fill:"#000"})]});case 1:return d.jsx("rect",{x:10*i,y:f,width:4*i,height:1*i,fill:"#000"});case 2:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:11*i,y:f,width:3*i,height:1*i,fill:"#000"}),d.jsx("rect",{x:14*i,y:13*i,width:1*i,height:1*i,fill:"#000"})]});case 3:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:10*i,y:13*i,width:4*i,height:2*i,fill:"#000"}),d.jsx("rect",{x:11*i,y:14*i,width:2*i,height:1*i,fill:"#ff6b6b"})]});case 4:return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:10*i,y:f,width:4*i,height:2*i,fill:"#000"}),d.jsx("rect",{x:10*i,y:f,width:4*i,height:1*i,fill:"#fff"})]});default:return null}},l=()=>{const{hasGlasses:u,hasEarring:f,hasMask:p,hasLaser:m,accColor:v}=n,y=[];return u&&y.push(d.jsxs("g",{children:[d.jsx("rect",{x:6*i,y:9*i,width:5*i,height:4*i,fill:"transparent",stroke:v,strokeWidth:i}),d.jsx("rect",{x:13*i,y:9*i,width:5*i,height:4*i,fill:"transparent",stroke:v,strokeWidth:i}),d.jsx("rect",{x:11*i,y:10*i,width:2*i,height:1*i,fill:v})]},"glasses")),f&&y.push(d.jsx("circle",{cx:5*i,cy:12*i,r:i,fill:"#F0B90B"},"earring")),p&&y.push(d.jsxs("g",{children:[d.jsx("rect",{x:7*i,y:13*i,width:10*i,height:4*i,fill:"#1a1a2e"}),d.jsx("rect",{x:8*i,y:14*i,width:2*i,height:1*i,fill:v}),d.jsx("rect",{x:14*i,y:14*i,width:2*i,height:1*i,fill:v})]},"mask")),m&&y.push(d.jsxs("g",{children:[d.jsx("rect",{x:9*i,y:10*i,width:15*i,height:2*i,fill:"#F6465D",opacity:.8}),d.jsx("rect",{x:10*i,y:10.5*i,width:14*i,height:1*i,fill:"#fff",opacity:.5})]},"laser")),y};return d.jsxs("svg",{width:e,height:e,viewBox:`0 0 ${e} ${e}`,className:r,style:{imageRendering:"pixelated"},children:[d.jsx("rect",{width:e,height:e,fill:n.bgColor,rx:e*.15}),d.jsx("rect",{x:7*i,y:6*i,width:10*i,height:12*i,fill:n.skinColor}),d.jsx("rect",{x:8*i,y:5*i,width:8*i,height:1*i,fill:n.skinColor}),d.jsx("rect",{x:8*i,y:18*i,width:8*i,height:1*i,fill:n.skinColor}),d.jsx("rect",{x:6*i,y:10*i,width:1*i,height:3*i,fill:n.skinColor}),d.jsx("rect",{x:17*i,y:10*i,width:1*i,height:3*i,fill:n.skinColor}),d.jsx("rect",{x:10*i,y:18*i,width:4*i,height:3*i,fill:n.skinColor}),s(),a(),d.jsx("rect",{x:11*i,y:12*i,width:2*i,height:1*i,fill:n.skinColor,style:{filter:"brightness(0.9)"}}),o(),l()]})}function GJ(t,e){return`${t}-${e}`}const XJ={t_001:{style:"punk"},t_002:{style:"punk"},t_003:{style:"photo",photoUrl:"/avatars/agent3.jpg",hdPreviewUrl:"/avatars/agent3-original.jpg"},t_004:{style:"photo",photoUrl:"/avatars/agent4.jpg",hdPreviewUrl:"/avatars/agent4-original.jpg"}};function FD(t,e,r){const n=String(e||"").trim(),i=String(r||"").trim();return n?{style:"photo",photoUrl:n,hdPreviewUrl:i||void 0}:XJ[t]||{style:"punk"}}function YJ(t,e,r){const n=FD(t,e,r);if(n.style!=="photo")return{};const i=String(n.photoUrl||"").trim(),s=String(n.hdPreviewUrl||"").trim()||i;return{photoUrl:i||void 0,hdUrl:s||void 0}}function Ga({traderId:t,traderName:e,avatarUrl:r,avatarHdUrl:n,size:i=40,className:s="",enableHdPreview:a=!1}){const o=FD(t,r,n),[l,u]=_.useState(!1),[f,p]=_.useState(null),m=_.useRef(null),v=()=>{var E;if(!a||o.style!=="photo"||!o.hdPreviewUrl)return;const x=(E=m.current)==null?void 0:E.getBoundingClientRect();if(!x)return;const b=Math.min(420,Math.max(280,Math.floor(window.innerWidth*.32))),S=Math.min(640,Math.floor(window.innerHeight*.82)),N=14;let A=x.right+N;A+b>window.innerWidth-12&&(A=Math.max(12,x.left-b-N));const k=Math.max(12,Math.min(window.innerHeight-S-12,x.top-24));p({top:k,left:A}),u(!0)},y=()=>{u(!1)};return o.style==="photo"&&o.photoUrl?d.jsxs(d.Fragment,{children:[d.jsx("span",{ref:m,className:"inline-flex",onMouseEnter:v,onMouseLeave:y,onFocus:v,onBlur:y,children:d.jsx("img",{src:o.photoUrl,alt:`${e} avatar`,width:i,height:i,className:`object-cover ${s}`,loading:"lazy"})}),a&&l&&f&&o.hdPreviewUrl&&d.jsx("div",{className:"fixed z-[140] pointer-events-none",style:{top:f.top,left:f.left},children:d.jsxs("div",{className:"rounded-xl border border-white/20 bg-black/70 p-2 shadow-2xl backdrop-blur-sm",children:[d.jsx("img",{src:o.hdPreviewUrl,alt:`${e} HD`,className:"block w-[min(420px,32vw)] max-h-[82vh] rounded-lg object-contain",loading:"lazy"}),d.jsx("div",{className:"mt-1 text-[10px] font-semibold tracking-wide text-zinc-200/90",children:"HD PREVIEW"})]})})]}):d.jsx(KJ,{seed:GJ(t,e),size:i,className:s})}function mu(t){const e=Number(t);return Number.isFinite(e)?e:0}function BD(t){const e=String(t||"").toLowerCase();return e.includes("open_long")||e==="buy"?"BUY":e.includes("close_long")||e==="sell"?"SELL":e.includes("open_short")?"SHORT":e?e.toUpperCase():"HOLD"}function $D(t){const e=new Date(t);if(Number.isNaN(e.getTime()))return"--:--:--";try{return new Intl.DateTimeFormat("zh-CN",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Shanghai"}).format(e)}catch{return e.toLocaleTimeString("en-GB",{hour12:!1})}}function qD(t,e){const r=String(t||"").trim();return r?r.length<=e?r:`${r.slice(0,e)}...`:""}function JJ(t,e=140){let r=String(t||"").replace(/[\r\n\t]+/g," ").replace(/\s{2,}/g," ").trim();return!r||(r=r.replace(/\b\d{6}\.(SZ|SH)\b/gi,"").replace(/-?\d+(?:\.\d+)?\s*[%]/g,"").replace(/\b\d+(?:\.\d+)?\b/g,"").replace(/[,:;]{2,}/g,"").replace(/\s{2,}/g," ").trim(),!r)?"":r.length>e?`${r.slice(0,e)}...`:r}function QJ(t){return t==="reply"?"":""}function ZJ(t){let e=0;const r=String(t||"");for(let n=0;n<r.length;n+=1)e=(e<<5)-e+r.charCodeAt(n)|0;return Math.abs(e)}function eQ(t){const e=String((t==null?void 0:t.generation_tone)||"").trim().toLowerCase();if(e==="calm"||e==="focused"||e==="energetic"||e==="cautious")return e;const r=`${String((t==null?void 0:t.id)||"")}|${String((t==null?void 0:t.agent_message_kind)||"")}|${String((t==null?void 0:t.created_ts_ms)||"")}`,n=["focused","calm","energetic","cautious"];return n[ZJ(r)%n.length]}function Rx(t){return!Array.isArray(t)||t.length===0?0:t.reduce((e,r)=>{const n=Number((r==null?void 0:r.created_ts_ms)||0);return n>e?n:e},0)}function Ix(t,e,r){return!Number.isFinite(t)||t<0?"stale":t<e?"fresh":t<r?"warm":"stale"}function Dx(t){if(!Number.isFinite(t)||t<0)return"--";const e=Math.floor(t/1e3);if(e<60)return`${e}s`;const r=Math.floor(e/60);return r<60?`${r}m`:`${Math.floor(r/60)}h`}function tQ(t,e){var p,m;const r=(p=t.decisions)==null?void 0:p[0],n=String((r==null?void 0:r.action)||""),i=String((r==null?void 0:r.symbol)||""),s=r==null?void 0:r.confidence,a=Number(s),o=Number.isFinite(a)?a>1?Math.max(0,Math.min(a/100,1)):Math.max(0,Math.min(a,1)):null,l=qD(String((r==null?void 0:r.reasoning)||((m=t.execution_log)==null?void 0:m[0])||t.input_prompt||""),84),u=String(t.timestamp||""),f=new Date(u).getTime();return{id:`${t.timestamp||"ts"}-${t.cycle_number||e}`,timestamp:$D(u),timestampMs:Number.isFinite(f)?f:0,action:BD(n),symbol:i||"--",confidence:o,reasoning:l}}function rQ(t,e){const r=String(t.action||"hold"),n=String(t.symbol||"--"),i=t==null?void 0:t.confidence,s=Number(i),a=Number.isFinite(s)?s>1?Math.max(0,Math.min(s/100,1)):Math.max(0,Math.min(s,1)):null,o=qD(String((t==null?void 0:t.reasoning)||(t==null?void 0:t.summary)||(t==null?void 0:t.decision_source)||""),84),l=String(t.timestamp||""),u=new Date(l).getTime();return{id:`${String(t.timestamp||"audit-ts")}-${Number(t.cycle_number||e)}`,timestamp:$D(l),timestampMs:Number.isFinite(u)?u:0,action:BD(r),symbol:n,confidence:a,reasoning:o}}function nQ(t){var r;if(!t.length)return;const e=[...t].sort((n,i)=>Math.abs(mu(i.quantity)*mu(i.mark_price))-Math.abs(mu(n.quantity)*mu(n.mark_price)));return String(((r=e[0])==null?void 0:r.symbol)||"").trim()||void 0}function iQ(t){var s,a,o;const e=String((t==null?void 0:t.thinking_symbol_live)||"").trim();if(e)return e;const r=String(((s=t==null?void 0:t.decision_meta)==null?void 0:s.thinking_symbol)||"").trim();if(r)return r;const n=String(((a=t==null?void 0:t.room_context)==null?void 0:a.thinking_symbol)||"").trim();if(n)return n;const i=(o=t==null?void 0:t.room_context)==null?void 0:o.symbol_brief;if(i&&typeof i=="object"){const l=String(i.symbol||i.focus_symbol||"").trim();if(l)return l}}function bd({selectedTrader:t,streamPacket:e,roomSseState:r,replayRuntimeStatus:n,language:i}){var Se,Pe,he,Be,Te,We,Me,ve,Ae,H,se,me;const s=t.trader_id,[a,o]=_.useState(()=>Date.now()),[l,u]=_.useState(0);_.useEffect(()=>{const re=window.setInterval(()=>o(Date.now()),1e3);return()=>window.clearInterval(re)},[]),_.useEffect(()=>{e&&u(Date.now())},[e]);const{data:f=[]}=qr(s?["room-public-chat",s]:null,()=>It.getRoomPublicMessages(s,100),{refreshInterval:(r==null?void 0:r.status)==="connected"?25e3:12e3,revalidateOnFocus:!1,dedupingInterval:1200}),p=_.useMemo(()=>{var je;const re=(je=e==null?void 0:e.public_chat_preview)==null?void 0:je.messages;return Array.isArray(re)?re:[]},[(Se=e==null?void 0:e.public_chat_preview)==null?void 0:Se.messages]),m=_.useMemo(()=>zD(f,p),[f,p]),v=Array.isArray(e==null?void 0:e.decisions_latest)?e.decisions_latest:[],y=Array.isArray((Pe=e==null?void 0:e.decision_audit_preview)==null?void 0:Pe.records)?e.decision_audit_preview.records:[],x=_.useMemo(()=>[...(e==null?void 0:e.positions)||[]].sort((re,je)=>Math.abs(mu(je.unrealized_pnl))-Math.abs(mu(re.unrealized_pnl))),[e==null?void 0:e.positions]),b=_.useMemo(()=>v.length>0?v.slice(0,8).map((re,je)=>tQ(re,je)):y.slice(0,8).map((re,je)=>rQ(re,je)),[v,y]),S=String(((Te=(Be=(he=v[0])==null?void 0:he.decisions)==null?void 0:Be[0])==null?void 0:Te.symbol)||((We=b[0])==null?void 0:We.symbol)||"").trim(),N=String(((Me=v[0])==null?void 0:Me.timestamp)||((ve=e==null?void 0:e.decision_latest)==null?void 0:ve.timestamp)||""),A=N?a-new Date(N).getTime():Number.POSITIVE_INFINITY,k=iQ(e),E=nQ(x),j=k||(S&&A<=2*6e4?S:"")||E||S||"600519.SH",T=n!=null&&n.running?"REPLAY":"LIVE",M=Number((e==null?void 0:e.ts_ms)||0),I=Number((r==null?void 0:r.last_event_ts_ms)||0),q=I>0?a-I:l>0?a-l:Number.POSITIVE_INFINITY,D=Ix(q,15e3,6e4),L=Rx(f),V=Rx(p),K=Rx(m),Y=K>0?a-K:Number.POSITIVE_INFINITY,J=Ix(A,6e4,18e4),te=Ix(Y,3e4,12e4);let U="empty";if(L>0&&V>0){const re=L-V;U=Math.abs(re)<=5e3?"synced":re>0?"api-ahead":"packet-ahead"}else L>0?U="api-only":V>0&&(U="packet-only");const X=r!=null&&r.last_event_ts_ms?a-r.last_event_ts_ms:Number.POSITIVE_INFINITY,F=Number.isFinite(X)&&X<=3e4&&(r==null?void 0:r.status)!=="error"?"SSE":"POLL",Q={transport:(r==null?void 0:r.status)==="error"&&X>45e3,packet:D==="stale",decision:J==="stale",chat:m.length>0&&te==="stale"},le=Q.transport||Q.packet,be=typeof window<"u"&&(window.location.pathname==="/onlytrade"||window.location.pathname.startsWith("/onlytrade/"))?!1:le,ae=((Ae=e==null?void 0:e.market_breadth)==null?void 0:Ae.breadth)||((H=e==null?void 0:e.room_context)==null?void 0:H.market_breadth)||null,we=String(((se=e==null?void 0:e.market_breadth)==null?void 0:se.summary)||((me=e==null?void 0:e.room_context)==null?void 0:me.market_breadth_summary)||"").trim(),fe={advancers:Number.isFinite(Number(ae==null?void 0:ae.advancers))?Number(ae.advancers):null,decliners:Number.isFinite(Number(ae==null?void 0:ae.decliners))?Number(ae.decliners):null,unchanged:Number.isFinite(Number(ae==null?void 0:ae.unchanged))?Number(ae.unchanged):null,total:Number.isFinite(Number(ae==null?void 0:ae.total))?Number(ae.total):null,advancerRatio:Number.isFinite(Number(ae==null?void 0:ae.advancer_ratio))?Number(ae.advancer_ratio):null,redBlueRatio:Number.isFinite(Number(ae==null?void 0:ae.red_blue_ratio))?Number(ae.red_blue_ratio):null,summary:we};return{selectedTrader:t,language:i,roomId:s,account:(e==null?void 0:e.account)||null,positions:x,decisionItems:b,publicMessages:m.slice(-80),focusedSymbol:j,modeLabel:T,freshnessLabel:D,packetAgeLabel:Dx(q),decisionAgeLabel:Dx(A),chatAgeLabel:Dx(Y),decisionFreshnessLabel:J,chatFreshnessLabel:te,transportLabel:F,chatSyncState:U,staleFlags:Q,isDegraded:be,marketBreadth:fe,sseStatus:(r==null?void 0:r.status)||"connecting",packetTs:M}}function Nv({roomId:t,publicMessages:e,openaiOnly:r=!0}){var j;const[n,i]=_.useState(!0),[s,a]=_.useState(""),[o,l]=_.useState(!1),{data:u}=qr(["chat-tts-config"],()=>It.getChatTtsConfig(),{refreshInterval:6e4,revalidateOnFocus:!1}),f=(u==null?void 0:u.enabled)===!0,p=String(((j=u==null?void 0:u.voice_map)==null?void 0:j[t])||"").trim(),m=_.useRef(new Set),v=_.useRef([]),y=_.useRef(!1),x=_.useRef(!1),b=_.useRef(null),S=_.useRef(null),[N,A]=_.useState(!1),k=_.useCallback(async T=>{if(typeof window>"u"||!("speechSynthesis"in window)||typeof SpeechSynthesisUtterance>"u")throw new Error("browser_tts_unavailable");await new Promise((M,I)=>{const q=new SpeechSynthesisUtterance(T);q.lang="zh-CN",q.rate=1,q.pitch=1,q.onend=()=>M(),q.onerror=()=>I(new Error("browser_tts_failed")),window.speechSynthesis.cancel(),window.speechSynthesis.speak(q)})},[]),E=_.useCallback(async()=>{if(!n||!f||N||y.current)return;const T=v.current.shift();if(!T)return;const I=JJ(T.text,140)||QJ(T.agent_message_kind);if(!I)return;let q=!1;y.current=!0,l(!0);try{const D=await It.synthesizeRoomSpeech({room_id:t,text:I,tone:eQ(T),message_id:String(T.id||"")});if(!D||D.size<=0)throw new Error("tts_empty_audio");S.current&&URL.revokeObjectURL(S.current);const L=URL.createObjectURL(D);S.current=L;const V=new Audio(L);V.preload="auto",V.volume=1,b.current=V,await new Promise((K,Y)=>{V.onended=()=>K(),V.onerror=()=>Y(new Error("tts_audio_playback_failed")),V.play().then(()=>{}).catch(J=>Y(J))}),a("")}catch(D){const L=String(D instanceof Error?D.message:"tts_play_failed");if(!r&&/openai_tts_http_429|chat_tts_unavailable|chat_tts_disabled|openai_tts_http_5\d\d/i.test(L))try{await k(I),a("");return}catch{}a(L),/NotAllowedError|play\(\) failed/i.test(L)&&(v.current.unshift(T),q=!0,A(!0))}finally{y.current=!1,l(!1),!q&&!N&&v.current.length>0&&E()}},[t,n,f,k,r,N]);return _.useEffect(()=>{m.current.clear(),v.current=[],y.current=!1,x.current=!1,A(!1),l(!1),a(""),b.current&&(b.current.pause(),b.current=null,l(!1)),S.current&&(URL.revokeObjectURL(S.current),S.current=null)},[t]),_.useEffect(()=>{if(!N||typeof window>"u")return;const T=()=>{A(!1),a(""),E()};return window.addEventListener("pointerdown",T),window.addEventListener("touchstart",T),window.addEventListener("keydown",T),()=>{window.removeEventListener("pointerdown",T),window.removeEventListener("touchstart",T),window.removeEventListener("keydown",T)}},[N,E]),_.useEffect(()=>()=>{b.current&&(b.current.pause(),b.current=null),S.current&&(URL.revokeObjectURL(S.current),S.current=null)},[]),_.useEffect(()=>{if(!n||!f)return;const T=m.current,M=v.current,I=e.slice(-30);if(!x.current){for(const D of I){if(D.sender_type!=="agent"||!(D.agent_message_kind==="reply"||D.agent_message_kind==="proactive"||D.agent_message_kind==="narration"))continue;const L=String(D.id||"").trim(),V=String(D.text||"").trim();!L||!V||T.add(L)}x.current=!0;return}let q=0;for(const D of I){if(D.sender_type!=="agent"||!(D.agent_message_kind==="reply"||D.agent_message_kind==="proactive"||D.agent_message_kind==="narration"))continue;const L=String(D.id||"").trim();!L||T.has(L)||!String(D.text||"").trim()||(T.add(L),M.push(D),M.length>2&&M.splice(0,M.length-2),q+=1)}q>0&&E()},[e,n,f,E]),{ttsAvailable:f,ttsAutoPlay:n,setTtsAutoPlay:i,ttsError:s,ttsSpeaking:o,roomVoice:p}}function Av(t){const e=_.useRef(null),[r,n]=_.useState(!0),[i,s]=_.useState(0),a=_.useRef(0);return _.useEffect(()=>{const u=Math.max(0,t-a.current);if(a.current=t,!u)return;const f=e.current;if(f){if(r){f.scrollTop=f.scrollHeight,s(0);return}s(p=>p+u)}},[t,r]),{containerRef:e,autoScroll:r,unseenCount:i,onScroll:()=>{const u=e.current;if(!u)return;const f=u.scrollHeight-u.scrollTop-u.clientHeight<36;n(f),f&&s(0)},jumpToLatest:()=>{const u=e.current;u&&(u.scrollTop=u.scrollHeight,n(!0),s(0))}}}function sQ(){if(typeof window>"u")return 160;const t=window.innerWidth*window.innerHeight,e=Math.sqrt(t/8);return Math.max(120,Math.min(Math.round(e),220))}function Ev(t){const[e,r]=_.useState(()=>{if(typeof window>"u")return 160;const s=Number(window.localStorage.getItem(t)||"");return Number.isFinite(s)&&s>=96?Math.min(s,240):sQ()});return _.useEffect(()=>{window.localStorage.setItem(t,String(e))},[e,t]),{sizePx:e,decrease:()=>r(s=>Math.max(96,s-12)),increase:()=>r(s=>Math.min(240,s+12))}}function Cv({trader:t,sizePx:e,language:r,className:n="",showPlaceholderLabel:i=!0,showTraderName:s=!1,onDecrease:a,onIncrease:o}){return d.jsx("div",{className:`absolute z-40 select-none ${n}`.trim(),style:{left:"calc(env(safe-area-inset-left, 0px) + 10px)",bottom:"calc(env(safe-area-inset-bottom, 0px) + 12px)"},children:d.jsxs("div",{className:"relative rounded-2xl border border-white/20 bg-black/45 p-1.5 backdrop-blur-sm",children:[d.jsx(Ga,{traderId:t.trader_id,traderName:t.trader_name,avatarUrl:t.avatar_url,avatarHdUrl:t.avatar_hd_url,size:e,className:"rounded-xl border border-white/15"}),s&&d.jsx("div",{className:"mt-1 text-center text-[10px] font-semibold text-white/90",children:t.trader_name}),i&&d.jsx("div",{className:"mt-1 text-[10px] font-mono text-nofx-text-muted text-center",children:r==="zh"?" / TTS ":"Digital human slot / TTS ready"}),d.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[d.jsx("button",{type:"button",onClick:a,className:"h-6 w-6 rounded-full border border-white/25 bg-black/70 text-xs text-white","aria-label":r==="zh"?"":"Decrease avatar size",children:"-"}),d.jsx("button",{type:"button",onClick:o,className:"h-6 w-6 rounded-full border border-white/25 bg-black/70 text-xs text-white","aria-label":r==="zh"?"":"Increase avatar size",children:"+"})]})]})})}function kv(t){const e=Number(t||0);return`${e>=0?"+":""}${e.toFixed(2)}%`}function w6(t){const e=Number(t||0);return`${e>=0?"+":""}${e.toLocaleString(void 0,{maximumFractionDigits:0})}`}function aQ(t){var ae;gd();const{selectedTrader:e,roomId:r,positions:n,decisionItems:i,publicMessages:s,focusedSymbol:a,modeLabel:o,freshnessLabel:l,packetAgeLabel:u,decisionAgeLabel:f,chatAgeLabel:p,transportLabel:m,chatSyncState:v,isDegraded:y,marketBreadth:x,sseStatus:b,language:S}=bd(t),{sizePx:N,decrease:A,increase:k}=Ev("stream-avatar-size-expert1"),{ttsAvailable:E,ttsAutoPlay:j,setTtsAutoPlay:T,ttsError:M,roomVoice:I}=Nv({roomId:r,publicMessages:s}),{bgmAvailable:q,bgmEnabled:D,setBgmEnabled:L,bgmTrackTitle:V,bgmError:K}=a0({roomId:r,ducking:!1}),{containerRef:Y,unseenCount:J,onScroll:te,jumpToLatest:U}=Av(s.length),[X,ie]=_.useState(""),[G,F]=_.useState(0),[Q,le]=_.useState(()=>Date.now());_.useEffect(()=>{const we=window.setInterval(()=>le(Date.now()),1e3);return()=>window.clearInterval(we)},[]),_.useEffect(()=>{if(!X)return;const we=Math.max(0,G-Date.now());if(we<=0){ie("");return}const fe=window.setTimeout(()=>ie(""),we);return()=>window.clearTimeout(fe)},[X,G]);const xe=X||a,be=X?Math.max(0,Math.ceil((G-Q)/1e3)):0;return d.jsx("div",{className:"h-[100dvh] w-screen overflow-hidden bg-[#050510] text-white",children:d.jsxs("div",{className:"relative mx-auto h-full w-full max-w-[480px] overflow-hidden border-x border-white/5",children:[d.jsxs("div",{className:"relative border-b border-white/10",style:{height:"clamp(280px, 44vh, 420px)"},children:[d.jsx(l0,{symbol:xe,interval:"1m",limit:240,refreshMs:12e3,height:"100%"}),d.jsxs("div",{className:"absolute right-2 top-2 z-20 flex items-center gap-1.5",children:[d.jsx("span",{className:"rounded-full border border-white/20 bg-black/50 px-2 py-0.5 text-[10px] font-black",children:o}),d.jsx("span",{className:"rounded-full border border-white/20 bg-black/50 px-2 py-0.5 text-[10px] font-mono text-cyan-300",children:m}),d.jsx("span",{className:"rounded-full border border-white/20 bg-black/50 px-2 py-0.5 text-[10px] font-mono text-white/80",children:b}),d.jsx("span",{className:"rounded-full border border-white/20 bg-black/50 px-2 py-0.5 text-[10px] font-mono text-white/80",children:l})]}),d.jsxs("div",{className:"absolute right-2 top-9 z-20 flex items-center gap-1 text-[9px] font-mono",children:[d.jsxs("span",{className:"rounded bg-black/55 px-1.5 py-0.5 text-white/85",children:["pkt ",u]}),d.jsxs("span",{className:"rounded bg-black/55 px-1.5 py-0.5 text-white/85",children:["dec ",f]}),d.jsxs("span",{className:"rounded bg-black/55 px-1.5 py-0.5 text-white/85",children:["chat ",p]}),d.jsx("button",{type:"button",onClick:()=>T(we=>!we),disabled:!E,className:`rounded px-1.5 py-0.5 text-[9px] ${j?"bg-emerald-600/65 text-white":"bg-black/55 text-white/80"} disabled:opacity-50`,children:j?"voice on":"voice off"}),d.jsx("button",{type:"button",onClick:()=>L(we=>!we),disabled:!q,className:`rounded px-1.5 py-0.5 text-[9px] ${D?"bg-amber-500/70 text-black":"bg-black/55 text-white/80"} disabled:opacity-50`,children:D?"bgm on":"bgm off"})]}),(I||M||V||K)&&d.jsx("div",{className:"absolute right-2 top-14 z-20 rounded bg-black/55 px-1.5 py-0.5 text-[9px] font-mono text-white/80",children:M?"voice err":K?"bgm err":V?`voice ${I}  bgm ${V}`:`voice ${I}`}),d.jsxs("div",{className:"absolute left-2 top-2 z-20 rounded bg-black/50 px-2 py-1 text-[10px] font-mono text-white/90",children:[e.trader_name,"  ",xe]}),d.jsxs("div",{className:"absolute left-2 top-9 z-20 flex items-center gap-1 text-[9px] font-mono text-white/85",children:[d.jsxs("span",{className:"rounded bg-black/55 px-1.5 py-0.5",children:["chat ",v]}),X&&d.jsxs(d.Fragment,{children:[d.jsxs("span",{className:"rounded bg-black/55 px-1.5 py-0.5 text-amber-300",children:["pin ",be,"s"]}),d.jsx("button",{type:"button",onClick:()=>ie(""),className:"rounded border border-white/20 bg-black/60 px-1.5 py-0.5 text-[9px] text-white",children:"clear"})]})]}),y&&d.jsx("div",{className:"absolute inset-x-2 top-16 z-20 rounded border border-red-400/35 bg-red-500/15 px-2 py-1 text-[10px] font-medium text-red-200",children:S==="zh"?"SSE/":"Degraded stream: SSE/freshness issue detected, polling fallback active."}),x.advancers!=null&&x.decliners!=null&&d.jsxs("div",{className:"absolute left-2 top-10 z-20 rounded bg-black/55 px-2 py-1 text-[10px] font-mono text-white/90",children:["R ",x.advancers," / B ",x.decliners,x.redBlueRatio!=null&&`  ${x.redBlueRatio.toFixed(2)}`]}),d.jsx(Cv,{trader:e,sizePx:Math.max(24,Math.round(N/4)),language:S,onDecrease:A,onIncrease:k})]}),d.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden bg-[#080816]",style:{height:"calc(100% - clamp(280px, 44vh, 420px))"},children:[d.jsxs("div",{className:"grid shrink-0 grid-cols-3 border-b border-white/10",children:[d.jsx("div",{className:"border-r border-white/5 py-1.5 text-center text-[9px] font-bold uppercase tracking-widest text-red-400",children:S==="zh"?"":"positions"}),d.jsx("div",{className:"border-r border-white/5 py-1.5 text-center text-[9px] font-bold uppercase tracking-widest text-amber-400",children:S==="zh"?"":"decisions"}),d.jsx("div",{className:"py-1.5 text-center text-[9px] font-bold uppercase tracking-widest text-cyan-400",children:S==="zh"?"":"chat"})]}),d.jsxs("div",{className:"grid min-h-0 flex-1 grid-cols-3 divide-x divide-white/5",children:[d.jsx("div",{className:"overflow-y-auto p-2",children:d.jsxs("div",{className:"space-y-1.5",children:[n.slice(0,6).map(we=>d.jsxs("div",{className:"rounded border border-white/10 bg-white/[0.03] p-2",children:[d.jsx("div",{className:"text-[11px] font-bold text-white",children:we.symbol}),d.jsxs("div",{className:"text-[9px] font-mono text-white/55",children:[we.side,"  ",Number(we.quantity).toLocaleString()," @ ",we.entry_price.toFixed(2)]}),d.jsxs("div",{className:`mt-1 text-[10px] font-mono font-bold ${we.unrealized_pnl>=0?"text-red-400":"text-green-400"}`,children:[w6(we.unrealized_pnl)," (",kv(we.unrealized_pnl_pct),")"]})]},`${we.symbol}-${we.side}`)),!n.length&&d.jsx("div",{className:"py-6 text-center text-[10px] text-white/45",children:S==="zh"?"":"No positions"})]})}),d.jsx("div",{className:"overflow-y-auto p-2",children:d.jsxs("div",{className:"space-y-2",children:[i.slice(0,8).map(we=>d.jsxs("button",{type:"button",onClick:()=>{ie(we.symbol),F(Date.now()+2e4)},className:"block w-full border-l-2 border-white/20 pl-2 text-left",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[8px] font-mono text-white/40",children:we.timestamp}),we.confidence!=null&&d.jsxs("span",{className:"text-[8px] font-mono text-amber-400",children:[(we.confidence*100).toFixed(0),"%"]})]}),d.jsxs("div",{className:`text-[11px] font-bold ${we.action==="BUY"?"text-red-400":we.action==="SELL"?"text-green-400":"text-white/75"}`,children:[we.action," ",we.symbol]}),d.jsx("div",{className:"mt-0.5 line-clamp-2 text-[9px] leading-snug text-white/55",children:we.reasoning})]},we.id)),!i.length&&d.jsx("div",{className:"py-6 text-center text-[10px] text-white/45",children:S==="zh"?"...":"Waiting for decisions..."})]})}),d.jsxs("div",{className:"relative min-h-0",children:[d.jsx("div",{ref:Y,onScroll:te,className:"h-full overflow-y-auto p-2 pb-10",children:d.jsxs("div",{className:"space-y-1.5",children:[s.map(we=>d.jsxs("div",{className:`flex flex-col ${we.sender_type==="agent"?"items-end":"items-start"}`,children:[d.jsx("div",{className:`mb-0.5 text-[8px] ${we.sender_type==="agent"?"text-amber-500":"text-white/45"}`,children:we.sender_name}),d.jsx("div",{className:`max-w-[96%] rounded-lg px-2 py-1 text-[10px] ${we.sender_type==="agent"?"border border-amber-500/20 bg-amber-500/10 text-amber-100":"bg-white/5 text-white/80"}`,children:we.text})]},we.id)),!s.length&&d.jsx("div",{className:"py-6 text-center text-[10px] text-white/45",children:S==="zh"?"":"No public chat yet"})]})}),J>0&&d.jsx("button",{type:"button",onClick:U,className:"absolute bottom-2 right-2 rounded-full border border-cyan-400/40 bg-black/80 px-2 py-1 text-[10px] text-cyan-300",children:S==="zh"?` ${J}`:`New ${J}`})]})]}),d.jsxs("div",{className:"shrink-0 border-t border-white/10 px-2 py-1 text-[9px] font-mono text-white/40",children:["room ",r,"  packet ",(ae=t.streamPacket)!=null&&ae.ts_ms?new Date(t.streamPacket.ts_ms).toLocaleTimeString("en-GB",{hour12:!1}):"--:--:--"]})]})]})})}const li={peerRankText:"10/49",totalReturnPct:149,industryReturnPct:89,hs300ReturnPct:31,weekReturnPct:17.8,halfYearReturnPct:132,maxDrawdownPct:18.6,recoveryDays:26},oQ={"600519.SH":"","601318.SH":"","300750.SZ":"","000001.SZ":"","688981.SH":""},J5=[{bubbleClass:"border border-cyan-400/35 bg-cyan-500/10 text-cyan-100",senderClass:"text-cyan-300"},{bubbleClass:"border border-fuchsia-400/35 bg-fuchsia-500/10 text-fuchsia-100",senderClass:"text-fuchsia-300"},{bubbleClass:"border border-emerald-400/35 bg-emerald-500/10 text-emerald-100",senderClass:"text-emerald-300"},{bubbleClass:"border border-orange-400/35 bg-orange-500/10 text-orange-100",senderClass:"text-orange-300"}],lQ={bubbleClass:"border border-blue-400/40 bg-blue-500/10 text-blue-100",senderClass:"text-blue-300"},UD={bubbleClass:"border border-amber-400/25 bg-amber-500/10 text-amber-50",senderClass:"text-amber-300"};function cQ(t){let e=0;for(let r=0;r<t.length;r+=1)e=(e<<5)-e+t.charCodeAt(r)|0;return Math.abs(e)}function uQ(t){const e=String(t.user_session_id||t.sender_name||t.id||"viewer"),r=cQ(e)%J5.length;return J5[r]}function dQ(t){return t.agent_message_kind==="narration"?lQ:UD}function hQ(t){const e=Number(t||0);if(!Number.isFinite(e)||e<=0)return"--:--";try{return new Intl.DateTimeFormat("zh-CN",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Shanghai"}).format(new Date(e))}catch{return"--:--"}}function ru(t){if(t==null||!Number.isFinite(Number(t)))return"--";const e=Number(t),r=Math.abs(e),n=r>=100?0:r>=10?1:2,i=Number(r.toFixed(n)).toString();return`${e>0?"+":e<0?"-":""}${i}%`}function Rl(t){if(t==null||!Number.isFinite(Number(t)))return"text-white/80";const e=Number(t);return e>0?"text-red-300":e<0?"text-green-300":"text-white/80"}function fQ(){var r;if(typeof window>"u")return!1;const t=String(((r=window.navigator)==null?void 0:r.userAgent)||"").toLowerCase();return!t||!(t.includes("iphone")||t.includes("ipad")||t.includes("ipod"))?!1:t.includes("wxwork")||t.includes("micromessenger")}function pQ(t){const e=String(t||"").trim().toUpperCase();return e==="LONG"?"":e==="SHORT"?"":String(t||"--")}function mQ(t,e){const r=String(t||"").toUpperCase(),n=String(e||"");return n.includes("")||r.startsWith("60")&&n.includes("")?"":n.includes("")||n.includes("")?"":n.includes("")||n.includes("")||n.includes("")||n.includes("")?"":n.includes("")||n.includes("")||n.includes("")?"":n.includes("")||n.includes("")||n.includes("")?"":n.includes("")||n.includes("")||n.includes("")?"":r.startsWith("688")||r.startsWith("300")?"":r.startsWith("000")||r.startsWith("002")?"":r.startsWith("60")?"":""}function gQ(t){const e=Math.max(0,Math.floor(Number(t)||0));return e>=1e4?`${(e/1e3).toFixed(0)}k `:e>=1e3?`${(e/1e3).toFixed(1).replace(/\.0$/,"")}k `:`${e} `}function vQ(t){var G;gd();const e="zh",{selectedTrader:r,roomId:n,account:i,positions:s,publicMessages:a,focusedSymbol:o}=bd({...t,language:e}),{sizePx:l,decrease:u,increase:f}=Ev("stream-avatar-size-command-deck-new"),{containerRef:p,unseenCount:m,onScroll:v,jumpToLatest:y}=Av(a.length),{ttsAvailable:x,setTtsAutoPlay:b,ttsSpeaking:S}=Nv({roomId:n,publicMessages:a,openaiOnly:!0}),{bgmAvailable:N,setBgmEnabled:A,setBgmVolume:k}=a0({roomId:n,ducking:S}),[E,j]=_.useState(73),[T,M]=_.useState(oQ),I=_.useMemo(()=>fQ(),[]);_.useEffect(()=>{const F=window.setInterval(()=>{j(Q=>{const le=[-1,0,0,0,0,1],xe=le[Math.floor(Math.random()*le.length)],be=Q+xe;return Math.max(70,Math.min(be,77))})},5e3);return()=>window.clearInterval(F)},[]),_.useEffect(()=>{x&&b(!0)},[n,x,b]),_.useEffect(()=>{N&&(A(!0),k(I?.02:.06))},[n,N,A,k,I]),_.useEffect(()=>{const F=new URLSearchParams({exchange:"sim-cn",trader_id:r.trader_id});fetch(`/api/symbols?${F.toString()}`).then(Q=>Q.json()).then(Q=>{const le=Array.isArray(Q==null?void 0:Q.symbols)?Q.symbols:[];le.length&&M(xe=>{const be={...xe};for(const ae of le){const we=String((ae==null?void 0:ae.symbol)||"").trim().toUpperCase(),fe=String((ae==null?void 0:ae.name)||"").trim();we&&fe&&(be[we]=fe)}return be})}).catch(()=>{})},[r.trader_id]);const q=o||((G=s[0])==null?void 0:G.symbol)||"",D=_.useMemo(()=>T[String(q||"").trim().toUpperCase()]||"",[q,T]),L=_.useMemo(()=>{const F=new Map;let Q=0;for(const be of s){const ae=String(be.symbol||"").trim().toUpperCase(),we=T[ae]||"",fe=mQ(ae,we),Se=Math.abs(Number(be.quantity||0)*Number(be.mark_price||be.entry_price||0));!Number.isFinite(Se)||Se<=0||(Q+=Se,F.set(fe,(F.get(fe)||0)+Se))}const le=["#FF1F5A","#2F6BFF","#00D9FF","#FFB020","#B7FF00","#C95BFF","#00F5A0"];return{slices:Array.from(F.entries()).sort((be,ae)=>ae[1]-be[1]).map(([be,ae],we)=>({sector:be,value:ae,pct:Q>0?ae/Q*100:0,color:le[we%le.length]})),total:Q}},[s,T]),V=_.useMemo(()=>{const F=L.slices;if(!F.length)return"radial-gradient(circle, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 70%, rgba(255,255,255,0.01) 100%)";let Q=0;return`conic-gradient(${F.map(xe=>{const be=Q+xe.pct,ae=`${xe.color} ${Q.toFixed(2)}% ${be.toFixed(2)}%`;return Q=be,ae}).join(", ")})`},[L]),K=_.useMemo(()=>{const Q=880+new Set(a.filter(le=>le.sender_type==="user").map(le=>String(le.user_session_id||le.sender_name||le.id||"")).filter(Boolean)).size*95+Math.min(450,a.length*4);return gQ(Q)},[a]),Y=Math.max(0,100-E),J=Number((i==null?void 0:i.daily_pnl)||0),U=Number((i==null?void 0:i.total_equity)||0)-J,X=U>0?J/U*100:null,ie=_.useMemo(()=>{let F=J5[0];return a.map(Q=>Q.sender_type==="user"?(F=uQ(Q),{bubbleClass:F.bubbleClass,senderClass:F.senderClass}):Q.agent_message_kind==="reply"?{bubbleClass:F.bubbleClass,senderClass:F.senderClass}:dQ(Q))},[a]);return d.jsx("div",{className:"h-[100dvh] w-screen overflow-hidden bg-[#050510] text-white",children:d.jsxs("div",{className:"relative mx-auto grid h-full w-full max-w-[480px] grid-rows-[38.2fr_auto_61.8fr] overflow-hidden border-x border-white/5 text-[12px]",children:[d.jsxs("div",{className:"min-h-0 flex flex-col",style:{height:"38.2dvh"},children:[d.jsx("div",{className:"shrink-0 bg-black/65 px-2 py-1.5 backdrop-blur-sm",children:d.jsxs("div",{className:"rounded border border-white/10 bg-gradient-to-b from-white/[0.08] to-white/[0.03] px-2 py-1.5 text-[11px]",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs("span",{className:"rounded border border-white/15 bg-black/30 px-1.5 py-[1px] text-[10px] text-white/80",children:[" ",li.peerRankText]}),d.jsx("span",{className:"ml-auto text-[10px] text-white/60",children:""}),d.jsx("span",{className:`text-[14px] font-black ${Rl(li.totalReturnPct)}`,children:ru(li.totalReturnPct)})]}),d.jsxs("div",{className:"mt-1 grid grid-cols-4 gap-1 text-[9px]",children:[d.jsxs("div",{className:"rounded border border-white/10 bg-black/25 px-1 py-0.5 text-center",children:[d.jsx("div",{className:"text-white/60",children:""}),d.jsx("div",{className:`font-bold ${Rl(li.industryReturnPct)}`,children:ru(li.industryReturnPct)})]}),d.jsxs("div",{className:"rounded border border-white/10 bg-black/25 px-1 py-0.5 text-center",children:[d.jsx("div",{className:"text-white/60",children:"300"}),d.jsx("div",{className:`font-bold ${Rl(li.hs300ReturnPct)}`,children:ru(li.hs300ReturnPct)})]}),d.jsxs("div",{className:"rounded border border-white/10 bg-black/25 px-1 py-0.5 text-center",children:[d.jsx("div",{className:"text-white/60",children:""}),d.jsxs("div",{className:`font-bold ${Rl(-Math.abs(Number(li.maxDrawdownPct)))}`,children:["-",Number(li.maxDrawdownPct.toFixed(2)).toString(),"%"]})]}),d.jsxs("div",{className:"rounded border border-white/10 bg-black/25 px-1 py-0.5 text-center",children:[d.jsx("div",{className:"text-white/60",children:""}),d.jsxs("div",{className:"font-bold text-white/85",children:[li.recoveryDays,""]})]})]}),d.jsxs("div",{className:"mt-1 grid grid-cols-3 gap-1 text-[10px]",children:[d.jsxs("div",{className:"rounded border border-white/10 bg-black/25 px-1 py-0.5 text-center",children:[d.jsx("div",{className:"text-white/60",children:""}),d.jsx("div",{className:`font-bold ${Rl(X)}`,children:ru(X)})]}),d.jsxs("div",{className:"rounded border border-white/10 bg-black/25 px-1 py-0.5 text-center",children:[d.jsx("div",{className:"text-white/60",children:""}),d.jsx("div",{className:`font-bold ${Rl(li.weekReturnPct)}`,children:ru(li.weekReturnPct)})]}),d.jsxs("div",{className:"rounded border border-white/10 bg-black/25 px-1 py-0.5 text-center",children:[d.jsx("div",{className:"text-white/60",children:""}),d.jsx("div",{className:`font-bold ${Rl(li.halfYearReturnPct)}`,children:ru(li.halfYearReturnPct)})]})]})]})}),d.jsxs("div",{className:"relative min-h-0 flex-1 border-y border-white/10",children:[d.jsx(l0,{symbol:q,symbolName:D,interval:"1m",intervalHint:"1:",limit:240,refreshMs:12e3,height:"100%"}),d.jsx(Cv,{trader:r,sizePx:Math.max(36,Math.round(l/3)),language:e,showPlaceholderLabel:!1,showTraderName:!0,onDecrease:u,onIncrease:f})]})]}),d.jsxs("div",{className:"shrink-0 bg-black/85 px-2 py-2 border-y border-white/10",children:[d.jsx("div",{className:"h-2.5 w-full overflow-hidden rounded-full bg-[#2456FF] shadow-[0_0_24px_rgba(36,86,255,0.85)]",children:d.jsx("div",{className:"h-full rounded-full bg-[#FF174F] transition-all duration-700 shadow-[0_0_24px_rgba(255,23,79,0.9)]",style:{width:`${E}%`}})}),d.jsxs("div",{className:"mt-1 flex items-center justify-between text-[12px] font-bold tracking-wide",children:[d.jsxs("span",{className:"text-[#FF4A7A]",children:[" ",E,"%"]}),d.jsxs("span",{className:"text-[#66A5FF]",children:[" ",Y,"%"]})]})]}),d.jsxs("div",{className:"flex min-h-0 flex-col overflow-hidden bg-[#080816]",children:[d.jsxs("div",{className:"grid shrink-0 grid-cols-[minmax(0,1fr)_minmax(0,2fr)] border-b border-white/10",children:[d.jsx("div",{className:"border-r border-white/5 py-2 text-center text-[12px] font-bold tracking-wider text-red-300",children:" / "}),d.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 text-[12px] font-bold tracking-wider text-cyan-300",children:[d.jsx("span",{children:""}),d.jsx("span",{className:"rounded bg-cyan-500/20 px-1.5 py-0.5 text-[11px] text-cyan-200",children:K})]})]}),d.jsxs("div",{className:"grid min-h-0 flex-1 grid-cols-[minmax(0,1fr)_minmax(0,2fr)] divide-x divide-white/5",children:[d.jsx("div",{className:"min-h-0",children:d.jsxs("div",{className:"flex h-full min-h-0 flex-col",children:[d.jsxs("section",{className:"shrink-0 border-b border-white/10",children:[d.jsx("div",{className:"border-b border-white/5 px-2 py-1.5 text-[11px] font-bold tracking-wider text-fuchsia-300",children:""}),d.jsx("div",{className:"px-2 py-2",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"relative h-24 w-24 shrink-0 rounded-full border border-white/15",style:{background:V},children:d.jsx("div",{className:"absolute left-1/2 top-1/2 flex h-10 w-10 -translate-x-1/2 -translate-y-1/2 items-center justify-center rounded-full bg-[#0A0A16] text-[10px] font-bold text-white/85",children:L.slices.length})}),d.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[L.slices.slice(0,4).map(F=>d.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[d.jsxs("span",{className:"inline-flex items-center gap-1 text-white/85",children:[d.jsx("span",{className:"inline-block h-2 w-2 rounded-full",style:{backgroundColor:F.color}}),F.sector]}),d.jsxs("span",{className:"font-mono text-white/75",children:[F.pct.toFixed(F.pct>=10?0:1),"%"]})]},F.sector)),!L.slices.length&&d.jsx("div",{className:"text-[11px] text-white/50",children:""})]})]})})]}),d.jsxs("section",{className:"min-h-0 flex-1",children:[d.jsx("div",{className:"border-b border-white/5 px-2 py-1.5 text-[11px] font-bold tracking-wider text-red-300",children:""}),d.jsx("div",{className:"h-[calc(100%-28px)] overflow-y-auto p-2",children:d.jsxs("div",{className:"space-y-2",children:[s.slice(0,6).map(F=>d.jsxs("div",{className:"rounded border border-white/10 bg-white/[0.03] p-2",children:[d.jsx("div",{className:"text-[13px] font-bold text-white",children:F.symbol}),d.jsx("div",{className:"mt-0.5 text-[11px] text-white/75",children:T[String(F.symbol||"").toUpperCase()]||""}),d.jsxs("div",{className:"mt-0.5 text-[11px] font-mono text-white/55",children:[pQ(F.side),"  ",Number(F.quantity).toLocaleString()," @ ",F.entry_price.toFixed(2)]}),d.jsxs("div",{className:`mt-1 text-[12px] font-mono font-bold ${F.unrealized_pnl>=0?"text-red-400":"text-green-400"}`,children:[w6(F.unrealized_pnl)," (",kv(F.unrealized_pnl_pct),")"]})]},`${F.symbol}-${F.side}`)),!s.length&&d.jsx("div",{className:"py-6 text-center text-[12px] text-white/45",children:""})]})})]})]})}),d.jsxs("div",{className:"relative min-h-0",children:[d.jsx("div",{ref:p,onScroll:v,className:"h-full overflow-y-auto p-2.5 pb-10",children:d.jsxs("div",{className:"space-y-2",children:[a.map((F,Q)=>{const le=ie[Q]||UD;return d.jsxs("div",{className:`flex flex-col ${F.sender_type==="agent"?"items-end":"items-start"}`,children:[d.jsxs("div",{className:`mb-0.5 flex items-center gap-1 text-[10px] ${le.senderClass}`,children:[d.jsx("span",{children:F.sender_name}),d.jsx("span",{className:"text-white/45",children:hQ(F.created_ts_ms)})]}),d.jsx("div",{className:`max-w-[92%] rounded-lg px-2.5 py-1.5 text-[12px] leading-relaxed ${le.bubbleClass}`,children:F.text})]},F.id)}),!a.length&&d.jsx("div",{className:"py-6 text-center text-[12px] text-white/45",children:""})]})}),m>0&&d.jsxs("button",{type:"button",onClick:y,className:"absolute bottom-2 right-2 rounded-full border border-cyan-400/40 bg-black/80 px-2.5 py-1 text-[12px] text-cyan-300",children:[" ",m]})]})]}),d.jsxs("div",{className:"shrink-0 border-t border-white/10 px-2 py-1.5 text-[11px] font-mono text-white/45",children:["room ",n]})]})]})})}const S6=_.createContext({});function _6(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const N6=typeof window<"u",VD=N6?_.useLayoutEffect:_.useEffect,jv=_.createContext(null);function A6(t,e){t.indexOf(e)===-1&&t.push(e)}function E6(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Xa=(t,e,r)=>r>e?e:r<t?t:r;let C6=()=>{};const Ya={},WD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function HD(t){return typeof t=="object"&&t!==null}const KD=t=>/^0[^.\s]+$/u.test(t);function k6(t){let e;return()=>(e===void 0&&(e=t()),e)}const ns=t=>t,yQ=(t,e)=>r=>e(t(r)),p0=(...t)=>t.reduce(yQ),uf=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class j6{constructor(){this.subscriptions=[]}add(e){return A6(this.subscriptions,e),()=>E6(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sa=t=>t*1e3,es=t=>t/1e3;function GD(t,e){return e?t*(1e3/e):0}const XD=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,xQ=1e-7,bQ=12;function wQ(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=XD(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>xQ&&++o<bQ);return a}function m0(t,e,r,n){if(t===e&&r===n)return ns;const i=s=>wQ(s,0,1,t,r);return s=>s===0||s===1?s:XD(i(s),e,n)}const YD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JD=t=>e=>1-t(1-e),QD=m0(.33,1.53,.69,.99),P6=JD(QD),ZD=YD(P6),eL=t=>(t*=2)<1?.5*P6(t):.5*(2-Math.pow(2,-10*(t-1))),T6=t=>1-Math.sin(Math.acos(t)),tL=JD(T6),rL=YD(T6),SQ=m0(.42,0,1,1),_Q=m0(0,0,.58,1),nL=m0(.42,0,.58,1),NQ=t=>Array.isArray(t)&&typeof t[0]!="number",iL=t=>Array.isArray(t)&&typeof t[0]=="number",AQ={linear:ns,easeIn:SQ,easeInOut:nL,easeOut:_Q,circIn:T6,circInOut:rL,circOut:tL,backIn:P6,backInOut:ZD,backOut:QD,anticipate:eL},EQ=t=>typeof t=="string",ZE=t=>{if(iL(t)){C6(t.length===4);const[e,r,n,i]=t;return m0(e,r,n,i)}else if(EQ(t))return AQ[t];return t},Wp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CQ(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(f){a.has(f)&&(u.schedule(f),t()),f(o)}const u={schedule:(f,p=!1,m=!1)=>{const y=m&&i?r:n;return p&&a.add(f),y.has(f)||y.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(o=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const kQ=40;function sL(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=Wp.reduce((A,k)=>(A[k]=CQ(s),A),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:f,update:p,preRender:m,render:v,postRender:y}=a,x=()=>{const A=Ya.useManualTiming?i.timestamp:performance.now();r=!1,Ya.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(A-i.timestamp,kQ),1)),i.timestamp=A,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),f.process(i),p.process(i),m.process(i),v.process(i),y.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(x))},b=()=>{r=!0,n=!0,i.isProcessing||t(x)};return{schedule:Wp.reduce((A,k)=>{const E=a[k];return A[k]=(j,T=!1,M=!1)=>(r||b(),E.schedule(j,T,M)),A},{}),cancel:A=>{for(let k=0;k<Wp.length;k++)a[Wp[k]].cancel(A)},state:i,steps:a}}const{schedule:gr,cancel:Yo,state:wn,steps:Lx}=sL(typeof requestAnimationFrame<"u"?requestAnimationFrame:ns,!0);let Om;function jQ(){Om=void 0}const fi={now:()=>(Om===void 0&&fi.set(wn.isProcessing||Ya.useManualTiming?wn.timestamp:performance.now()),Om),set:t=>{Om=t,queueMicrotask(jQ)}},aL=t=>e=>typeof e=="string"&&e.startsWith(t),M6=aL("--"),PQ=aL("var(--"),O6=t=>PQ(t)?TQ.test(t.split("/*")[0].trim()):!1,TQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},df={...wd,transform:t=>Xa(0,1,t)},Hp={...wd,default:1},Hh=t=>Math.round(t*1e5)/1e5,R6=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MQ(t){return t==null}const OQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I6=(t,e)=>r=>!!(typeof r=="string"&&OQ.test(r)&&r.startsWith(t)||e&&!MQ(r)&&Object.prototype.hasOwnProperty.call(r,e)),oL=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(R6);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},RQ=t=>Xa(0,255,t),zx={...wd,transform:t=>Math.round(RQ(t))},Wl={test:I6("rgb","red"),parse:oL("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+zx.transform(t)+", "+zx.transform(e)+", "+zx.transform(r)+", "+Hh(df.transform(n))+")"};function IQ(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Q5={test:I6("#"),parse:IQ,transform:Wl.transform},g0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zo=g0("deg"),aa=g0("%"),xt=g0("px"),DQ=g0("vh"),LQ=g0("vw"),eC={...aa,parse:t=>aa.parse(t)/100,transform:t=>aa.transform(t*100)},gu={test:I6("hsl","hue"),parse:oL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+aa.transform(Hh(e))+", "+aa.transform(Hh(r))+", "+Hh(df.transform(n))+")"},$r={test:t=>Wl.test(t)||Q5.test(t)||gu.test(t),parse:t=>Wl.test(t)?Wl.parse(t):gu.test(t)?gu.parse(t):Q5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wl.transform(t):gu.transform(t),getAnimatableNone:t=>{const e=$r.parse(t);return e.alpha=0,$r.transform(e)}},zQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FQ(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(R6))==null?void 0:e.length)||0)+(((r=t.match(zQ))==null?void 0:r.length)||0)>0}const lL="number",cL="color",BQ="var",$Q="var(",tC="${}",qQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hf(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(qQ,l=>($r.test(l)?(n.color.push(s),i.push(cL),r.push($r.parse(l))):l.startsWith($Q)?(n.var.push(s),i.push(BQ),r.push(l)):(n.number.push(s),i.push(lL),r.push(parseFloat(l))),++s,tC)).split(tC);return{values:r,split:o,indexes:n,types:i}}function uL(t){return hf(t).values}function dL(t){const{split:e,types:r}=hf(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===lL?s+=Hh(i[a]):o===cL?s+=$r.transform(i[a]):s+=i[a]}return s}}const UQ=t=>typeof t=="number"?0:$r.test(t)?$r.getAnimatableNone(t):t;function VQ(t){const e=uL(t);return dL(t)(e.map(UQ))}const Jo={test:FQ,parse:uL,createTransformer:dL,getAnimatableNone:VQ};function Fx(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function WQ({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=Fx(l,o,t+1/3),s=Fx(l,o,t),a=Fx(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Ym(t,e){return r=>r>0?e:t}const _r=(t,e,r)=>t+(e-t)*r,Bx=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},HQ=[Q5,Wl,gu],KQ=t=>HQ.find(e=>e.test(t));function rC(t){const e=KQ(t);if(!e)return!1;let r=e.parse(t);return e===gu&&(r=WQ(r)),r}const nC=(t,e)=>{const r=rC(t),n=rC(e);if(!r||!n)return Ym(t,e);const i={...r};return s=>(i.red=Bx(r.red,n.red,s),i.green=Bx(r.green,n.green,s),i.blue=Bx(r.blue,n.blue,s),i.alpha=_r(r.alpha,n.alpha,s),Wl.transform(i))},Z5=new Set(["none","hidden"]);function GQ(t,e){return Z5.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function XQ(t,e){return r=>_r(t,e,r)}function D6(t){return typeof t=="number"?XQ:typeof t=="string"?O6(t)?Ym:$r.test(t)?nC:QQ:Array.isArray(t)?hL:typeof t=="object"?$r.test(t)?nC:YQ:Ym}function hL(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>D6(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function YQ(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=D6(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function JQ(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],o=t.values[a]??0;r[i]=o,n[s]++}return r}const QQ=(t,e)=>{const r=Jo.createTransformer(e),n=hf(t),i=hf(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Z5.has(t)&&!i.values.length||Z5.has(e)&&!n.values.length?GQ(t,e):p0(hL(JQ(n,i),i.values),r):Ym(t,e)};function fL(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?_r(t,e,r):D6(t)(t,e)}const ZQ=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>gr.update(e,r),stop:()=>Yo(e),now:()=>wn.isProcessing?wn.timestamp:fi.now()}},pL=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Jm=2e4;function L6(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Jm;)e+=r,n=t.next(e);return e>=Jm?1/0:e}function eZ(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(L6(n),Jm);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:es(i)}}const tZ=5;function mL(t,e,r){const n=Math.max(e-tZ,0);return GD(r-t(n),e-n)}const kr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$x=.001;function rZ({duration:t=kr.duration,bounce:e=kr.bounce,velocity:r=kr.velocity,mass:n=kr.mass}){let i,s,a=1-e;a=Xa(kr.minDamping,kr.maxDamping,a),t=Xa(kr.minDuration,kr.maxDuration,es(t)),a<1?(i=u=>{const f=u*a,p=f*t,m=f-r,v=e3(u,a),y=Math.exp(-p);return $x-m/v*y},s=u=>{const p=u*a*t,m=p*r+r,v=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-p),x=e3(Math.pow(u,2),a);return(-i(u)+$x>0?-1:1)*((m-v)*y)/x}):(i=u=>{const f=Math.exp(-u*t),p=(u-r)*t+1;return-$x+f*p},s=u=>{const f=Math.exp(-u*t),p=(r-u)*(t*t);return f*p});const o=5/t,l=iZ(i,s,o);if(t=sa(t),isNaN(l))return{stiffness:kr.stiffness,damping:kr.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const nZ=12;function iZ(t,e,r){let n=r;for(let i=1;i<nZ;i++)n=n-t(n)/e(n);return n}function e3(t,e){return t*Math.sqrt(1-e*e)}const sZ=["duration","bounce"],aZ=["stiffness","damping","mass"];function iC(t,e){return e.some(r=>t[r]!==void 0)}function oZ(t){let e={velocity:kr.velocity,stiffness:kr.stiffness,damping:kr.damping,mass:kr.mass,isResolvedFromDuration:!1,...t};if(!iC(t,aZ)&&iC(t,sZ))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Xa(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:kr.mass,stiffness:i,damping:s}}else{const r=rZ(t);e={...e,...r,mass:kr.mass},e.isResolvedFromDuration=!0}return e}function Qm(t=kr.visualDuration,e=kr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:f,duration:p,velocity:m,isResolvedFromDuration:v}=oZ({...r,velocity:-es(r.velocity||0)}),y=m||0,x=u/(2*Math.sqrt(l*f)),b=a-s,S=es(Math.sqrt(l/f)),N=Math.abs(b)<5;n||(n=N?kr.restSpeed.granular:kr.restSpeed.default),i||(i=N?kr.restDelta.granular:kr.restDelta.default);let A;if(x<1){const E=e3(S,x);A=j=>{const T=Math.exp(-x*S*j);return a-T*((y+x*S*b)/E*Math.sin(E*j)+b*Math.cos(E*j))}}else if(x===1)A=E=>a-Math.exp(-S*E)*(b+(y+S*b)*E);else{const E=S*Math.sqrt(x*x-1);A=j=>{const T=Math.exp(-x*S*j),M=Math.min(E*j,300);return a-T*((y+x*S*b)*Math.sinh(M)+E*b*Math.cosh(M))/E}}const k={calculatedDuration:v&&p||null,next:E=>{const j=A(E);if(v)o.done=E>=p;else{let T=E===0?y:0;x<1&&(T=E===0?sa(y):mL(A,E,j));const M=Math.abs(T)<=n,I=Math.abs(a-j)<=i;o.done=M&&I}return o.value=o.done?a:j,o},toString:()=>{const E=Math.min(L6(k),Jm),j=pL(T=>k.next(E*T).value,E,30);return E+"ms "+j},toTransition:()=>{}};return k}Qm.applyToOptions=t=>{const e=eZ(t,100,Qm);return t.ease=e.ease,t.duration=sa(e.duration),t.type="keyframes",t};function t3({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:f}){const p=t[0],m={done:!1,value:p},v=M=>o!==void 0&&M<o||l!==void 0&&M>l,y=M=>o===void 0?l:l===void 0||Math.abs(o-M)<Math.abs(l-M)?o:l;let x=r*e;const b=p+x,S=a===void 0?b:a(b);S!==b&&(x=S-p);const N=M=>-x*Math.exp(-M/n),A=M=>S+N(M),k=M=>{const I=N(M),q=A(M);m.done=Math.abs(I)<=u,m.value=m.done?S:q};let E,j;const T=M=>{v(m.value)&&(E=M,j=Qm({keyframes:[m.value,y(m.value)],velocity:mL(A,M,m.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return T(0),{calculatedDuration:null,next:M=>{let I=!1;return!j&&E===void 0&&(I=!0,k(M),T(M)),E!==void 0&&M>=E?j.next(M-E):(!I&&k(M),m)}}}function lZ(t,e,r){const n=[],i=r||Ya.mix||fL,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ns:e;o=p0(l,o)}n.push(o)}return n}function cZ(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(C6(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=lZ(e,n,i),l=o.length,u=f=>{if(a&&f<t[0])return e[0];let p=0;if(l>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const m=uf(t[p],t[p+1],f);return o[p](m)};return r?f=>u(Xa(t[0],t[s-1],f)):u}function uZ(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=uf(0,e,n);t.push(_r(r,1,i))}}function dZ(t){const e=[0];return uZ(e,t.length-1),e}function hZ(t,e){return t.map(r=>r*e)}function fZ(t,e){return t.map(()=>e||nL).splice(0,t.length-1)}function Kh({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=NQ(n)?n.map(ZE):ZE(n),s={done:!1,value:e[0]},a=hZ(r&&r.length===e.length?r:dZ(e),t),o=cZ(a,e,{ease:Array.isArray(i)?i:fZ(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const pZ=t=>t!==null;function z6(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(pZ),o=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const mZ={decay:t3,inertia:t3,tween:Kh,keyframes:Kh,spring:Qm};function gL(t){typeof t.type=="string"&&(t.type=mZ[t.type])}class F6{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const gZ=t=>t/100;class B6 extends F6{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==fi.now()&&this.tick(fi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gL(e);const{type:r=Kh,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=r||Kh;l!==Kh&&typeof o[0]!="number"&&(this.mixKeyframes=p0(gZ,fL(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=L6(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:f,repeat:p,repeatType:m,repeatDelay:v,type:y,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const S=this.currentTime-u*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,k=n;if(p){const M=Math.min(this.currentTime,i)/o;let I=Math.floor(M),q=M%1;!q&&M>=1&&(q=1),q===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(m==="reverse"?(q=1-q,v&&(q-=v/o)):m==="mirror"&&(k=a)),A=Xa(0,1,q)*o}const E=N?{done:!1,value:f[0]}:k.next(A);s&&(E.value=s(E.value));let{done:j}=E;!N&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return T&&y!==t3&&(E.value=z6(f,this.options,b,this.speed)),x&&x(E.value),T&&this.finish(),E}then(e,r){return this.finished.then(e,r)}get duration(){return es(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+es(e)}get time(){return es(this.currentTime)}set time(e){var r;e=sa(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(fi.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=es(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=ZQ,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function vZ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Hl=t=>t*180/Math.PI,r3=t=>{const e=Hl(Math.atan2(t[1],t[0]));return n3(e)},yZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:r3,rotateZ:r3,skewX:t=>Hl(Math.atan(t[1])),skewY:t=>Hl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},n3=t=>(t=t%360,t<0&&(t+=360),t),sC=r3,aC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),oC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:aC,scaleY:oC,scale:t=>(aC(t)+oC(t))/2,rotateX:t=>n3(Hl(Math.atan2(t[6],t[5]))),rotateY:t=>n3(Hl(Math.atan2(-t[2],t[0]))),rotateZ:sC,rotate:sC,skewX:t=>Hl(Math.atan(t[4])),skewY:t=>Hl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function i3(t){return t.includes("scale")?1:0}function s3(t,e){if(!t||t==="none")return i3(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=xZ,i=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=yZ,i=o}if(!i)return i3(e);const s=n[e],a=i[1].split(",").map(wZ);return typeof s=="function"?s(a):a[s]}const bZ=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return s3(r,e)};function wZ(t){return parseFloat(t.trim())}const Sd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_d=new Set(Sd),lC=t=>t===wd||t===xt,SZ=new Set(["x","y","z"]),_Z=Sd.filter(t=>!SZ.has(t));function NZ(t){const e=[];return _Z.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const ec={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>s3(e,"x"),y:(t,{transform:e})=>s3(e,"y")};ec.translateX=ec.x;ec.translateY=ec.y;const tc=new Set;let a3=!1,o3=!1,l3=!1;function vL(){if(o3){const t=Array.from(tc).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=NZ(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))==null||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}o3=!1,a3=!1,tc.forEach(t=>t.complete(l3)),tc.clear()}function yL(){tc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(o3=!0)})}function AZ(){l3=!0,yL(),vL(),l3=!1}class $6{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(tc.add(this),a3||(a3=!0,gr.read(yL),gr.resolveKeyframes(vL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}vZ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),tc.delete(this)}cancel(){this.state==="scheduled"&&(tc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EZ=t=>t.startsWith("--");function CZ(t,e,r){EZ(e)?t.style.setProperty(e,r):t.style[e]=r}const kZ=k6(()=>window.ScrollTimeline!==void 0),jZ={};function PZ(t,e){const r=k6(t);return()=>jZ[e]??r()}const xL=PZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dh=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,cC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dh([0,.65,.55,1]),circOut:Dh([.55,0,1,.45]),backIn:Dh([.31,.01,.66,-.59]),backOut:Dh([.33,1.53,.69,.99])};function bL(t,e){if(t)return typeof t=="function"?xL()?pL(t,e):"ease-out":iL(t)?Dh(t):Array.isArray(t)?t.map(r=>bL(r,e)||cC.easeOut):cC[t]}function TZ(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const f={[e]:r};l&&(f.offset=l);const p=bL(o,i);Array.isArray(p)&&(f.easing=p);const m={delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(f,m)}function wL(t){return typeof t=="function"&&"applyToOptions"in t}function MZ({type:t,...e}){return wL(t)&&xL()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class OZ extends F6{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,C6(typeof e.type!="string");const u=MZ(e);this.animation=TZ(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=z6(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(f):CZ(r,n,f),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return es(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+es(e)}get time(){return es(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=sa(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&kZ()?(this.animation.timeline=e,ns):r(this)}}const SL={anticipate:eL,backInOut:ZD,circInOut:rL};function RZ(t){return t in SL}function IZ(t){typeof t.ease=="string"&&RZ(t.ease)&&(t.ease=SL[t.ease])}const uC=10;class DZ extends OZ{constructor(e){IZ(e),gL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new B6({...a,autoplay:!1}),l=sa(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-uC).value,o.sample(l).value,uC),o.stop()}}const dC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jo.test(t)||t==="0")&&!t.startsWith("url("));function LZ(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function zZ(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=dC(i,e),o=dC(s,e);return!a||!o?!1:LZ(t)||(r==="spring"||wL(r))&&n}function c3(t){t.duration=0,t.type="keyframes"}const FZ=new Set(["opacity","clipPath","filter","transform"]),BZ=k6(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $Z(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return BZ()&&r&&FZ.has(r)&&(r!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const qZ=40;class UZ extends F6{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:f,...p}){var y;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=fi.now();const m={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:f,...p},v=(f==null?void 0:f.KeyframeResolver)||$6;this.keyframeResolver=new v(o,(x,b,S)=>this.onKeyframesResolved(x,b,m,!S),l,u,f),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:f}=n;this.resolvedAt=fi.now(),zZ(e,s,a,o)||((Ya.instantAnimations||!l)&&(f==null||f(z6(e,n,r))),e[0]=e[e.length-1],c3(n),n.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>qZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!u&&$Z(m)?new DZ({...m,element:m.motionValue.owner.current}):new B6(m);v.finished.then(()=>this.notifyFinished()).catch(ns),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),AZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const VZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WZ(t){const e=VZ.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function _L(t,e,r=1){const[n,i]=WZ(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return WD(a)?parseFloat(a):a}return O6(i)?_L(i,e,r+1):i}function q6(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const NL=new Set(["width","height","top","left","right","bottom",...Sd]),HZ={test:t=>t==="auto",parse:t=>t},AL=t=>e=>e.test(t),EL=[wd,xt,aa,zo,LQ,DQ,HZ],hC=t=>EL.find(AL(t));function KZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||KD(t):!0}const GZ=new Set(["brightness","contrast","saturate","opacity"]);function XZ(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(R6)||[];if(!n)return t;const i=r.replace(n,"");let s=GZ.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const YZ=/\b([a-z-]*)\(.*?\)/gu,u3={...Jo,getAnimatableNone:t=>{const e=t.match(YZ);return e?e.map(XZ).join(" "):t}},fC={...wd,transform:Math.round},JZ={rotate:zo,rotateX:zo,rotateY:zo,rotateZ:zo,scale:Hp,scaleX:Hp,scaleY:Hp,scaleZ:Hp,skew:zo,skewX:zo,skewY:zo,distance:xt,translateX:xt,translateY:xt,translateZ:xt,x:xt,y:xt,z:xt,perspective:xt,transformPerspective:xt,opacity:df,originX:eC,originY:eC,originZ:xt},U6={borderWidth:xt,borderTopWidth:xt,borderRightWidth:xt,borderBottomWidth:xt,borderLeftWidth:xt,borderRadius:xt,radius:xt,borderTopLeftRadius:xt,borderTopRightRadius:xt,borderBottomRightRadius:xt,borderBottomLeftRadius:xt,width:xt,maxWidth:xt,height:xt,maxHeight:xt,top:xt,right:xt,bottom:xt,left:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,backgroundPositionX:xt,backgroundPositionY:xt,...JZ,zIndex:fC,fillOpacity:df,strokeOpacity:df,numOctaves:fC},QZ={...U6,color:$r,backgroundColor:$r,outlineColor:$r,fill:$r,stroke:$r,borderColor:$r,borderTopColor:$r,borderRightColor:$r,borderBottomColor:$r,borderLeftColor:$r,filter:u3,WebkitFilter:u3},CL=t=>QZ[t];function kL(t,e){let r=CL(t);return r!==u3&&(r=Jo),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const ZZ=new Set(["auto","none","0"]);function eee(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!ZZ.has(s)&&hf(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=kL(r,i)}class tee extends $6{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),O6(u))){const f=_L(u,r.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!NL.has(n)||e.length!==2)return;const[i,s]=e,a=hC(i),o=hC(s);if(a!==o)if(lC(a)&&lC(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else ec[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||KZ(e[i]))&&n.push(i);n.length&&eee(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ec[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=ec[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function ree(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const jL=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function PL(t){return HD(t)&&"offsetHeight"in t}const pC=30,nee=t=>!isNaN(parseFloat(t));class iee{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=fi.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=fi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nee(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new j6);const n=this.events[e].add(r);return e==="change"?()=>{n(),gr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pC)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,pC);return GD(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bu(t,e){return new iee(t,e)}const{schedule:V6}=sL(queueMicrotask,!1),Es={x:!1,y:!1};function TL(){return Es.x||Es.y}function see(t){return t==="x"||t==="y"?Es[t]?null:(Es[t]=!0,()=>{Es[t]=!1}):Es.x||Es.y?null:(Es.x=Es.y=!0,()=>{Es.x=Es.y=!1})}function ML(t,e){const r=ree(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function mC(t){return!(t.pointerType==="touch"||TL())}function aee(t,e,r={}){const[n,i,s]=ML(t,r),a=o=>{if(!mC(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const f=p=>{mC(p)&&(u(p),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,i)};return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const OL=(t,e)=>e?t===e?!0:OL(t,e.parentElement):!1,W6=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oee=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lee(t){return oee.has(t.tagName)||t.tabIndex!==-1}const Rm=new WeakSet;function gC(t){return e=>{e.key==="Enter"&&t(e)}}function qx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const cee=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=gC(()=>{if(Rm.has(r))return;qx(r,"down");const i=gC(()=>{qx(r,"up")}),s=()=>qx(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function vC(t){return W6(t)&&!TL()}function uee(t,e,r={}){const[n,i,s]=ML(t,r),a=o=>{const l=o.currentTarget;if(!vC(o))return;Rm.add(l);const u=e(l,o),f=(v,y)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),Rm.has(l)&&Rm.delete(l),vC(v)&&typeof u=="function"&&u(v,{success:y})},p=v=>{f(v,l===window||l===document||r.useGlobalTarget||OL(l,v.target))},m=v=>{f(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),PL(o)&&(o.addEventListener("focus",u=>cee(u,i)),!lee(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function RL(t){return HD(t)&&"ownerSVGElement"in t}function dee(t){return RL(t)&&t.tagName==="svg"}const Bn=t=>!!(t&&t.getVelocity),hee=[...EL,$r,Jo],fee=t=>hee.find(AL(t)),H6=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function yC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function pee(...t){return e=>{let r=!1;const n=t.map(i=>{const s=yC(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():yC(t[i],null)}}}}function mee(...t){return _.useCallback(pee(...t),t)}class gee extends _.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=PL(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function vee({children:t,isPresent:e,anchorX:r,root:n}){const i=_.useId(),s=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=_.useContext(H6),l=mee(s,t==null?void 0:t.ref);return _.useInsertionEffect(()=>{const{width:u,height:f,top:p,left:m,right:v}=a.current;if(e||!s.current||!u||!f)return;const y=r==="left"?`left: ${m}`:`right: ${v}`;s.current.dataset.motionPopId=i;const x=document.createElement("style");o&&(x.nonce=o);const b=n??document.head;return b.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${y}px !important;
            top: ${p}px !important;
          }
        `),()=>{b.contains(x)&&b.removeChild(x)}},[e]),d.jsx(gee,{isPresent:e,childRef:s,sizeRef:a,children:_.cloneElement(t,{ref:l})})}const yee=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const u=_6(xee),f=_.useId();let p=!0,m=_.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:v=>{u.set(v,!0);for(const y of u.values())if(!y)return;n&&n()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[r,u,n]);return s&&p&&(m={...m}),_.useMemo(()=>{u.forEach((v,y)=>u.set(y,!1))},[r]),_.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(t=d.jsx(vee,{isPresent:r,anchorX:o,root:l,children:t})),d.jsx(jv.Provider,{value:m,children:t})};function xee(){return new Map}function IL(t=!0){const e=_.useContext(jv);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=_.useId();_.useEffect(()=>{if(t)return i(s)},[t]);const a=_.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const Kp=t=>t.key||"";function xC(t){const e=[];return _.Children.forEach(t,r=>{_.isValidElement(r)&&e.push(r)}),e}const da=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[u,f]=IL(a),p=_.useMemo(()=>xC(t),[t]),m=a&&!u?[]:p.map(Kp),v=_.useRef(!0),y=_.useRef(p),x=_6(()=>new Map),[b,S]=_.useState(p),[N,A]=_.useState(p);VD(()=>{v.current=!1,y.current=p;for(let j=0;j<N.length;j++){const T=Kp(N[j]);m.includes(T)?x.delete(T):x.get(T)!==!0&&x.set(T,!1)}},[N,m.length,m.join("-")]);const k=[];if(p!==b){let j=[...p];for(let T=0;T<N.length;T++){const M=N[T],I=Kp(M);m.includes(I)||(j.splice(T,0,M),k.push(M))}return s==="wait"&&k.length&&(j=k),A(xC(j)),S(p),null}const{forceRender:E}=_.useContext(S6);return d.jsx(d.Fragment,{children:N.map(j=>{const T=Kp(j),M=a&&!u?!1:p===N||m.includes(T),I=()=>{if(x.has(T))x.set(T,!0);else return;let q=!0;x.forEach(D=>{D||(q=!1)}),q&&(E==null||E(),A(y.current),a&&(f==null||f()),n&&n())};return d.jsx(yee,{isPresent:M,initial:!v.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:M?void 0:I,anchorX:o,children:j},T)})})},DL=_.createContext({strict:!1}),bC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$u={};for(const t in bC)$u[t]={isEnabled:e=>bC[t].some(r=>!!e[r])};function bee(t){for(const e in t)$u[e]={...$u[e],...t[e]}}const wee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||wee.has(t)}let LL=t=>!Zm(t);function See(t){typeof t=="function"&&(LL=e=>e.startsWith("on")?!Zm(e):t(e))}try{See(require("@emotion/is-prop-valid").default)}catch{}function _ee(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(LL(i)||r===!0&&Zm(i)||!e&&!Zm(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const Pv=_.createContext({});function Tv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ff(t){return typeof t=="string"||Array.isArray(t)}const K6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G6=["initial",...K6];function Mv(t){return Tv(t.animate)||G6.some(e=>ff(t[e]))}function zL(t){return!!(Mv(t)||t.variants)}function Nee(t,e){if(Mv(t)){const{initial:r,animate:n}=t;return{initial:r===!1||ff(r)?r:void 0,animate:ff(n)?n:void 0}}return t.inherit!==!1?e:{}}function Aee(t){const{initial:e,animate:r}=Nee(t,_.useContext(Pv));return _.useMemo(()=>({initial:e,animate:r}),[wC(e),wC(r)])}function wC(t){return Array.isArray(t)?t.join(" "):t}const pf={};function Eee(t){for(const e in t)pf[e]=t[e],M6(e)&&(pf[e].isCSSVariable=!0)}function FL(t,{layout:e,layoutId:r}){return _d.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!pf[t]||t==="opacity")}const Cee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kee=Sd.length;function jee(t,e,r){let n="",i=!0;for(let s=0;s<kee;s++){const a=Sd[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=jL(o,U6[a]);if(!l){i=!1;const f=Cee[a]||a;n+=`${f}(${u}) `}r&&(e[a]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function X6(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(_d.has(l)){a=!0;continue}else if(M6(l)){i[l]=u;continue}else{const f=jL(u,U6[l]);l.startsWith("origin")?(o=!0,s[l]=f):n[l]=f}}if(e.transform||(a||r?n.transform=jee(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:f=0}=s;n.transformOrigin=`${l} ${u} ${f}`}}const Y6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BL(t,e,r){for(const n in e)!Bn(e[n])&&!FL(n,r)&&(t[n]=e[n])}function Pee({transformTemplate:t},e){return _.useMemo(()=>{const r=Y6();return X6(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Tee(t,e){const r=t.style||{},n={};return BL(n,r,t),Object.assign(n,Pee(t,e)),n}function Mee(t,e){const r={},n=Tee(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Oee={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ree={offset:"strokeDashoffset",array:"strokeDasharray"};function Iee(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?Oee:Ree;t[s.offset]=xt.transform(-n);const a=xt.transform(e),o=xt.transform(r);t[s.array]=`${a} ${o}`}function $L(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,u,f){if(X6(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m}=t;p.transform&&(m.transform=p.transform,delete p.transform),(m.transform||p.transformOrigin)&&(m.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),i!==void 0&&Iee(p,i,s,a,!1)}const qL=()=>({...Y6(),attrs:{}}),UL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Dee(t,e,r,n){const i=_.useMemo(()=>{const s=qL();return $L(s,e,UL(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};BL(s,t.style,t),i.style={...s,...i.style}}return i}const Lee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function J6(t){return typeof t!="string"||t.includes("-")?!1:!!(Lee.indexOf(t)>-1||/[A-Z]/u.test(t))}function zee(t,e,r,{latestValues:n},i,s=!1){const o=(J6(t)?Dee:Mee)(e,n,i,t),l=_ee(e,typeof t=="string",s),u=t!==_.Fragment?{...l,...o,ref:r}:{},{children:f}=e,p=_.useMemo(()=>Bn(f)?f.get():f,[f]);return _.createElement(t,{...u,children:p})}function SC(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Q6(t,e,r,n){if(typeof e=="function"){const[i,s]=SC(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=SC(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function Im(t){return Bn(t)?t.get():t}function Fee({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:Bee(r,n,i,t),renderState:e()}}function Bee(t,e,r,n){const i={},s=n(t,{});for(const m in s)i[m]=Im(s[m]);let{initial:a,animate:o}=t;const l=Mv(t),u=zL(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let f=r?r.initial===!1:!1;f=f||a===!1;const p=f?o:a;if(p&&typeof p!="boolean"&&!Tv(p)){const m=Array.isArray(p)?p:[p];for(let v=0;v<m.length;v++){const y=Q6(t,m[v]);if(y){const{transitionEnd:x,transition:b,...S}=y;for(const N in S){let A=S[N];if(Array.isArray(A)){const k=f?A.length-1:0;A=A[k]}A!==null&&(i[N]=A)}for(const N in x)i[N]=x[N]}}}return i}const VL=t=>(e,r)=>{const n=_.useContext(Pv),i=_.useContext(jv),s=()=>Fee(t,e,n,i);return r?s():_6(s)};function Z6(t,e,r){var s;const{style:n}=t,i={};for(const a in n)(Bn(n[a])||e.style&&Bn(e.style[a])||FL(a,t)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const $ee=VL({scrapeMotionValuesFromProps:Z6,createRenderState:Y6});function WL(t,e,r){const n=Z6(t,e,r);for(const i in t)if(Bn(t[i])||Bn(e[i])){const s=Sd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const qee=VL({scrapeMotionValuesFromProps:WL,createRenderState:qL}),Uee=Symbol.for("motionComponentSymbol");function vu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Vee(t,e,r){return _.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):vu(r)&&(r.current=n))},[e])}const e8=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Wee="framerAppearId",HL="data-"+e8(Wee),KL=_.createContext({});function Hee(t,e,r,n,i){var x,b;const{visualElement:s}=_.useContext(Pv),a=_.useContext(DL),o=_.useContext(jv),l=_.useContext(H6).reducedMotion,u=_.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const f=u.current,p=_.useContext(KL);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Kee(u.current,r,i,p);const m=_.useRef(!1);_.useInsertionEffect(()=>{f&&m.current&&f.update(r,o)});const v=r[HL],y=_.useRef(!!v&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,v))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,v)));return VD(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),y.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,v)}),y.current=!1),f.enteringChildren=void 0)}),f}function Kee(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:GL(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&vu(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:l,layoutRoot:u})}function GL(t){if(t)return t.options.allowProjection!==!1?t.projection:GL(t.parent)}function Ux(t,{forwardMotionProps:e=!1}={},r,n){r&&bee(r);const i=J6(t)?qee:$ee;function s(o,l){let u;const f={..._.useContext(H6),...o,layoutId:Gee(o)},{isStatic:p}=f,m=Aee(o),v=i(o,p);if(!p&&N6){Xee();const y=Yee(f);u=y.MeasureLayout,m.visualElement=Hee(t,v,f,n,y.ProjectionNode)}return d.jsxs(Pv.Provider,{value:m,children:[u&&m.visualElement?d.jsx(u,{visualElement:m.visualElement,...f}):null,zee(t,o,Vee(v,m.visualElement,l),v,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=_.forwardRef(s);return a[Uee]=t,a}function Gee({layoutId:t}){const e=_.useContext(S6).id;return e&&t!==void 0?e+"-"+t:t}function Xee(t,e){_.useContext(DL).strict}function Yee(t){const{drag:e,layout:r}=$u;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Jee(t,e){if(typeof Proxy>"u")return Ux;const r=new Map,n=(s,a)=>Ux(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,Ux(a,void 0,t,e)),r.get(a))})}function XL({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Qee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Zee(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Vx(t){return t===void 0||t===1}function d3({scale:t,scaleX:e,scaleY:r}){return!Vx(t)||!Vx(e)||!Vx(r)}function Bl(t){return d3(t)||YL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function YL(t){return _C(t.x)||_C(t.y)}function _C(t){return t&&t!=="0%"}function eg(t,e,r){const n=t-r,i=e*n;return r+i}function NC(t,e,r,n,i){return i!==void 0&&(t=eg(t,i,n)),eg(t,r,n)+e}function h3(t,e=0,r=1,n,i){t.min=NC(t.min,e,r,n,i),t.max=NC(t.max,e,r,n,i)}function JL(t,{x:e,y:r}){h3(t.x,e.translate,e.scale,e.originPoint),h3(t.y,r.translate,r.scale,r.originPoint)}const AC=.999999999999,EC=1.0000000000001;function ete(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xu(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,JL(t,a)),n&&Bl(s.latestValues)&&xu(t,s.latestValues))}e.x<EC&&e.x>AC&&(e.x=1),e.y<EC&&e.y>AC&&(e.y=1)}function yu(t,e){t.min=t.min+e,t.max=t.max+e}function CC(t,e,r,n,i=.5){const s=_r(t.min,t.max,i);h3(t,e,r,s,n)}function xu(t,e){CC(t.x,e.x,e.scaleX,e.scale,e.originX),CC(t.y,e.y,e.scaleY,e.scale,e.originY)}function QL(t,e){return XL(Zee(t.getBoundingClientRect(),e))}function tte(t,e,r){const n=QL(t,r),{scroll:i}=e;return i&&(yu(n.x,i.offset.x),yu(n.y,i.offset.y)),n}const kC=()=>({translate:0,scale:1,origin:0,originPoint:0}),bu=()=>({x:kC(),y:kC()}),jC=()=>({min:0,max:0}),Zr=()=>({x:jC(),y:jC()}),f3={current:null},ZL={current:!1};function rte(){if(ZL.current=!0,!!N6)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>f3.current=t.matches;t.addEventListener("change",e),e()}else f3.current=!1}const nte=new WeakMap;function ite(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Bn(i))t.addValue(n,i);else if(Bn(s))t.addValue(n,Bu(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,Bu(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const PC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ste{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$6,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=fi.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,gr.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Mv(r),this.isVariantNode=zL(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in p){const v=p[m];l[m]!==void 0&&Bn(v)&&v.set(l[m])}}mount(e){var r;this.current=e,nte.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),ZL.current||rte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:f3.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Yo(this.notifyUpdate),Yo(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=_d.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&gr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $u){const r=$u[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<PC.length;n++){const i=PC[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=ite(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Bu(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(WD(n)||KD(n))?n=parseFloat(n):!fee(n)&&Jo.test(r)&&(n=kL(e,r)),this.setBaseTarget(e,Bn(n)?n.get():n)),Bn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Q6(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Bn(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new j6),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){V6.render(this.render)}}class ez extends ste{constructor(){super(...arguments),this.KeyframeResolver=tee}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function tz(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function ate(t){return window.getComputedStyle(t)}class ote extends ez{constructor(){super(...arguments),this.type="html",this.renderInstance=tz}readValueFromInstance(e,r){var n;if(_d.has(r))return(n=this.projection)!=null&&n.isProjecting?i3(r):bZ(e,r);{const i=ate(e),s=(M6(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return QL(e,r)}build(e,r,n){X6(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Z6(e,r,n)}}const rz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lte(t,e,r,n){tz(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(rz.has(i)?i:e8(i),e.attrs[i])}class cte extends ez{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(_d.has(r)){const n=CL(r);return n&&n.default||0}return r=rz.has(r)?r:e8(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return WL(e,r,n)}build(e,r,n){$L(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){lte(e,r,n,i)}mount(e){this.isSVGTag=UL(e.tagName),super.mount(e)}}const ute=(t,e)=>J6(t)?new cte(e):new ote(e,{allowProjection:t!==_.Fragment});function ku(t,e,r){const n=t.getProps();return Q6(n,e,r!==void 0?r:n.custom,t)}const p3=t=>Array.isArray(t);function dte(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Bu(r))}function hte(t){return p3(t)?t[t.length-1]||0:t}function fte(t,e){const r=ku(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=hte(s[a]);dte(t,a,o)}}function pte(t){return!!(Bn(t)&&t.add)}function m3(t,e){const r=t.getValue("willChange");if(pte(r))return r.add(e);if(!r&&Ya.WillChange){const n=new Ya.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function nz(t){return t.props[HL]}const mte=t=>t!==null;function gte(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(mte),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const vte={type:"spring",stiffness:500,damping:25,restSpeed:10},yte=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xte={type:"keyframes",duration:.8},bte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wte=(t,{keyframes:e})=>e.length>2?xte:_d.has(t)?t.startsWith("scale")?yte(e[1]):vte:bte;function Ste({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const t8=(t,e,r,n={},i,s)=>a=>{const o=q6(n,t)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-sa(l);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};Ste(o)||Object.assign(f,wte(t,f)),f.duration&&(f.duration=sa(f.duration)),f.repeatDelay&&(f.repeatDelay=sa(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(c3(f),f.delay===0&&(p=!0)),(Ya.instantAnimations||Ya.skipAnimations)&&(p=!0,c3(f),f.delay=0),f.allowFlatten=!o.type&&!o.ease,p&&!s&&e.get()!==void 0){const m=gte(f.keyframes,o);if(m!==void 0){gr.update(()=>{f.onUpdate(m),f.onComplete()});return}}return o.isSync?new B6(f):new UZ(f)};function _te({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function iz(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;n&&(s=n);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in o){const p=t.getValue(f,t.latestValues[f]??null),m=o[f];if(m===void 0||u&&_te(u,f))continue;const v={delay:r,...q6(s||{},f)},y=p.get();if(y!==void 0&&!p.isAnimating&&!Array.isArray(m)&&m===y&&!v.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const S=nz(t);if(S){const N=window.MotionHandoffAnimation(S,f,gr);N!==null&&(v.startTime=N,x=!0)}}m3(t,f),p.start(t8(f,p,m,t.shouldReduceMotion&&NL.has(f)?{type:!1}:v,t,x));const b=p.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{gr.update(()=>{a&&fte(t,a)})}),l}function sz(t,e,r,n=0,i=1){const s=Array.from(t).sort((u,f)=>u.sortNodePosition(f)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:o-s*n}function g3(t,e,r={}){var l;const n=ku(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(iz(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=i;return Nte(t,e,u,f,p,m,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,f]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>f())}else return Promise.all([s(),a(r.delay)])}function Nte(t,e,r=0,n=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(g3(l,e,{...a,delay:r+(typeof n=="function"?0:n)+sz(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function Ate(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>g3(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=g3(t,e,r);else{const i=typeof e=="function"?ku(t,e,r.custom):e;n=Promise.all(iz(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function az(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Ete=G6.length;function oz(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?oz(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Ete;r++){const n=G6[r],i=t.props[n];(ff(i)||i===!1)&&(e[n]=i)}return e}const Cte=[...K6].reverse(),kte=K6.length;function jte(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Ate(t,r,n)))}function Pte(t){let e=jte(t),r=TC(),n=!0;const i=l=>(u,f)=>{var m;const p=ku(t,f,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(p){const{transition:v,transitionEnd:y,...x}=p;u={...u,...x,...y}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,f=oz(t.parent)||{},p=[],m=new Set;let v={},y=1/0;for(let b=0;b<kte;b++){const S=Cte[b],N=r[S],A=u[S]!==void 0?u[S]:f[S],k=ff(A),E=S===l?N.isActive:null;E===!1&&(y=b);let j=A===f[S]&&A!==u[S]&&k;if(j&&n&&t.manuallyAnimateOnMount&&(j=!1),N.protectedKeys={...v},!N.isActive&&E===null||!A&&!N.prevProp||Tv(A)||typeof A=="boolean")continue;const T=Tte(N.prevProp,A);let M=T||S===l&&N.isActive&&!j&&k||b>y&&k,I=!1;const q=Array.isArray(A)?A:[A];let D=q.reduce(i(S),{});E===!1&&(D={});const{prevResolvedValues:L={}}=N,V={...L,...D},K=te=>{M=!0,m.has(te)&&(I=!0,m.delete(te)),N.needsAnimating[te]=!0;const U=t.getValue(te);U&&(U.liveStyle=!1)};for(const te in V){const U=D[te],X=L[te];if(v.hasOwnProperty(te))continue;let ie=!1;p3(U)&&p3(X)?ie=!az(U,X):ie=U!==X,ie?U!=null?K(te):m.add(te):U!==void 0&&m.has(te)?K(te):N.protectedKeys[te]=!0}N.prevProp=A,N.prevResolvedValues=D,N.isActive&&(v={...v,...D}),n&&t.blockInitialAnimation&&(M=!1);const Y=j&&T;M&&(!Y||I)&&p.push(...q.map(te=>{const U={type:S};if(typeof te=="string"&&n&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,ie=ku(X,te);if(X.enteringChildren&&ie){const{delayChildren:G}=ie.transition||{};U.delay=sz(X.enteringChildren,t,G)}}return{animation:te,options:U}}))}if(m.size){const b={};if(typeof u.initial!="boolean"){const S=ku(t,Array.isArray(u.initial)?u.initial[0]:u.initial);S&&S.transition&&(b.transition=S.transition)}m.forEach(S=>{const N=t.getBaseTarget(S),A=t.getValue(S);A&&(A.liveStyle=!0),b[S]=N??null}),p.push({animation:b})}let x=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(p):Promise.resolve()}function o(l,u){var p;if(r[l].isActive===u)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(m=>{var v;return(v=m.animationState)==null?void 0:v.setActive(l,u)}),r[l].isActive=u;const f=a(l);for(const m in r)r[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=TC()}}}function Tte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!az(e,t):!1}function Il(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TC(){return{animate:Il(!0),whileInView:Il(),whileHover:Il(),whileTap:Il(),whileDrag:Il(),whileFocus:Il(),exit:Il()}}class rl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Mte extends rl{constructor(e){super(e),e.animationState||(e.animationState=Pte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Ote=0;class Rte extends rl{constructor(){super(...arguments),this.id=Ote++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Ite={animation:{Feature:Mte},exit:{Feature:Rte}};function mf(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function v0(t){return{point:{x:t.pageX,y:t.pageY}}}const Dte=t=>e=>W6(e)&&t(e,v0(e));function Gh(t,e,r,n){return mf(t,e,Dte(r),n)}const lz=1e-4,Lte=1-lz,zte=1+lz,cz=.01,Fte=0-cz,Bte=0+cz;function Gn(t){return t.max-t.min}function $te(t,e,r){return Math.abs(t-e)<=r}function MC(t,e,r,n=.5){t.origin=n,t.originPoint=_r(e.min,e.max,t.origin),t.scale=Gn(r)/Gn(e),t.translate=_r(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Lte&&t.scale<=zte||isNaN(t.scale))&&(t.scale=1),(t.translate>=Fte&&t.translate<=Bte||isNaN(t.translate))&&(t.translate=0)}function Xh(t,e,r,n){MC(t.x,e.x,r.x,n?n.originX:void 0),MC(t.y,e.y,r.y,n?n.originY:void 0)}function OC(t,e,r){t.min=r.min+e.min,t.max=t.min+Gn(e)}function qte(t,e,r){OC(t.x,e.x,r.x),OC(t.y,e.y,r.y)}function RC(t,e,r){t.min=e.min-r.min,t.max=t.min+Gn(e)}function tg(t,e,r){RC(t.x,e.x,r.x),RC(t.y,e.y,r.y)}function Qi(t){return[t("x"),t("y")]}const uz=({current:t})=>t?t.ownerDocument.defaultView:null,IC=(t,e)=>Math.abs(t-e);function Ute(t,e){const r=IC(t.x,e.x),n=IC(t.y,e.y);return Math.sqrt(r**2+n**2)}class dz{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Hx(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=Ute(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!y)return;const{point:x}=m,{timestamp:b}=wn;this.history.push({...x,timestamp:b});const{onStart:S,onMove:N}=this.handlers;v||(S&&S(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Wx(v,this.transformPagePoint),gr.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Hx(m.type==="pointercancel"?this.lastMoveEventInfo:Wx(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,S),x&&x(m,S)},!W6(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const o=v0(e),l=Wx(o,this.transformPagePoint),{point:u}=l,{timestamp:f}=wn;this.history=[{...u,timestamp:f}];const{onSessionStart:p}=r;p&&p(e,Hx(l,this.history)),this.removeListeners=p0(Gh(this.contextWindow,"pointermove",this.handlePointerMove),Gh(this.contextWindow,"pointerup",this.handlePointerUp),Gh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yo(this.updatePoint)}}function Wx(t,e){return e?{point:e(t.point)}:t}function DC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hx({point:t},e){return{point:t,delta:DC(t,hz(e)),offset:DC(t,Vte(e)),velocity:Wte(e,.1)}}function Vte(t){return t[0]}function hz(t){return t[t.length-1]}function Wte(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=hz(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>sa(e)));)r--;if(!n)return{x:0,y:0};const s=es(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Hte(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?_r(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?_r(r,t,n.max):Math.min(t,r)),t}function LC(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Kte(t,{top:e,left:r,bottom:n,right:i}){return{x:LC(t.x,r,i),y:LC(t.y,e,n)}}function zC(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Gte(t,e){return{x:zC(t.x,e.x),y:zC(t.y,e.y)}}function Xte(t,e){let r=.5;const n=Gn(t),i=Gn(e);return i>n?r=uf(e.min,e.max-n,t.min):n>i&&(r=uf(t.min,t.max-i,e.min)),Xa(0,1,r)}function Yte(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const v3=.35;function Jte(t=v3){return t===!1?t=0:t===!0&&(t=v3),{x:FC(t,"left","right"),y:FC(t,"top","bottom")}}function FC(t,e,r){return{min:BC(t,e),max:BC(t,r)}}function BC(t,e){return typeof t=="number"?t:t[e]||0}const Qte=new WeakMap;class Zte{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(v0(p).point)},a=(p,m)=>{const{drag:v,dragPropagation:y,onDragStart:x}=this.getProps();if(v&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=see(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qi(S=>{let N=this.getAxisMotionValue(S).get()||0;if(aa.test(N)){const{projection:A}=this.visualElement;if(A&&A.layout){const k=A.layout.layoutBox[S];k&&(N=Gn(k)*(parseFloat(N)/100))}}this.originPoint[S]=N}),x&&gr.postRender(()=>x(p,m)),m3(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m;const{dragPropagation:v,dragDirectionLock:y,onDirectionLock:x,onDrag:b}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=m;if(y&&this.currentDirection===null){this.currentDirection=ere(S),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,S),this.updateAxis("y",m.point,S),this.visualElement.render(),b&&b(p,m)},l=(p,m)=>{this.latestPointerEvent=p,this.latestPanInfo=m,this.stop(p,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Qi(p=>{var m;return this.getAnimationState(p)==="paused"&&((m=this.getAxisMotionValue(p).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new dz(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:uz(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&gr.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Gp(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Hte(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&vu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Kte(n.layoutBox,e):this.constraints=!1,this.elastic=Jte(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Qi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Yte(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!vu(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=tte(n,i.root,this.visualElement.getTransformPagePoint());let a=Gte(i.layout.layoutBox,s);if(r){const o=r(Qee(a));this.hasMutatedConstraints=!!o,o&&(a=XL(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Qi(f=>{if(!Gp(f,r,this.currentDirection))return;let p=l&&l[f]||{};a&&(p={min:0,max:0});const m=i?200:1e6,v=i?40:1e7,y={type:"inertia",velocity:n?e[f]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,y)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return m3(this.visualElement,e),n.start(t8(e,n,0,r,this.visualElement,!1))}stopAnimation(){Qi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qi(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Qi(r=>{const{drag:n}=this.getProps();if(!Gp(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-_r(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!vu(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qi(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=Xte({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Qi(a=>{if(!Gp(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(_r(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;Qte.set(this.visualElement,this);const e=this.visualElement.current,r=Gh(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();vu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),gr.read(n);const a=mf(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qi(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=l[f].translate,p.set(p.get()+l[f].translate))}),this.visualElement.render())}));return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=v3,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Gp(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function ere(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class tre extends rl{constructor(e){super(e),this.removeGroupControls=ns,this.removeListeners=ns,this.controls=new Zte(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ns}unmount(){this.removeGroupControls(),this.removeListeners()}}const $C=t=>(e,r)=>{t&&gr.postRender(()=>t(e,r))};class rre extends rl{constructor(){super(...arguments),this.removePointerDownListener=ns}onPointerDown(e){this.session=new dz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uz(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:$C(e),onStart:$C(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&gr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Gh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xt.test(t))t=parseFloat(t);else return t;const r=qC(t,e.target.x),n=qC(t,e.target.y);return`${r}% ${n}%`}},nre={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Jo.parse(t);if(i.length>5)return n;const s=Jo.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=_r(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let Kx=!1;class ire extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;Eee(sre),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Kx&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Dm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,Kx=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||gr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),V6.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;Kx=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fz(t){const[e,r]=IL(),n=_.useContext(S6);return d.jsx(ire,{...t,layoutGroup:n,switchLayoutGroup:_.useContext(KL),isPresent:e,safeToRemove:r})}const sre={borderRadius:{...Nh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nh,borderTopRightRadius:Nh,borderBottomLeftRadius:Nh,borderBottomRightRadius:Nh,boxShadow:nre};function are(t,e,r){const n=Bn(t)?t:Bu(t);return n.start(t8("",n,e,r)),n.animation}const ore=(t,e)=>t.depth-e.depth;class lre{constructor(){this.children=[],this.isDirty=!1}add(e){A6(this.children,e),this.isDirty=!0}remove(e){E6(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ore),this.isDirty=!1,this.children.forEach(e)}}function cre(t,e){const r=fi.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Yo(n),t(s-e))};return gr.setup(n,!0),()=>Yo(n)}const pz=["TopLeft","TopRight","BottomLeft","BottomRight"],ure=pz.length,UC=t=>typeof t=="string"?parseFloat(t):t,VC=t=>typeof t=="number"||xt.test(t);function dre(t,e,r,n,i,s){i?(t.opacity=_r(0,r.opacity??1,hre(n)),t.opacityExit=_r(e.opacity??1,0,fre(n))):s&&(t.opacity=_r(e.opacity??1,r.opacity??1,n));for(let a=0;a<ure;a++){const o=`border${pz[a]}Radius`;let l=WC(e,o),u=WC(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||VC(l)===VC(u)?(t[o]=Math.max(_r(UC(l),UC(u),n),0),(aa.test(u)||aa.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=_r(e.rotate||0,r.rotate||0,n))}function WC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hre=mz(0,.5,tL),fre=mz(.5,.95,ns);function mz(t,e,r){return n=>n<t?0:n>e?1:r(uf(t,e,n))}function HC(t,e){t.min=e.min,t.max=e.max}function Ns(t,e){HC(t.x,e.x),HC(t.y,e.y)}function KC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function GC(t,e,r,n,i){return t-=e,t=eg(t,1/r,n),i!==void 0&&(t=eg(t,1/i,n)),t}function pre(t,e=0,r=1,n=.5,i,s=t,a=t){if(aa.test(e)&&(e=parseFloat(e),e=_r(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=_r(s.min,s.max,n);t===s&&(o-=e),t.min=GC(t.min,e,r,o,i),t.max=GC(t.max,e,r,o,i)}function XC(t,e,[r,n,i],s,a){pre(t,e[r],e[n],e[i],e.scale,s,a)}const mre=["x","scaleX","originX"],gre=["y","scaleY","originY"];function YC(t,e,r,n){XC(t.x,e,mre,r?r.x:void 0,n?n.x:void 0),XC(t.y,e,gre,r?r.y:void 0,n?n.y:void 0)}function JC(t){return t.translate===0&&t.scale===1}function gz(t){return JC(t.x)&&JC(t.y)}function QC(t,e){return t.min===e.min&&t.max===e.max}function vre(t,e){return QC(t.x,e.x)&&QC(t.y,e.y)}function ZC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vz(t,e){return ZC(t.x,e.x)&&ZC(t.y,e.y)}function ek(t){return Gn(t.x)/Gn(t.y)}function tk(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class yre{constructor(){this.members=[]}add(e){A6(this.members,e),e.scheduleRender()}remove(e){if(E6(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xre(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:p,rotateY:m,skewX:v,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),m&&(n+=`rotateY(${m}deg) `),v&&(n+=`skewX(${v}deg) `),y&&(n+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const Gx=["","X","Y","Z"],bre=1e3;let wre=0;function Xx(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function yz(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=nz(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",gr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&yz(n)}function xz({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=wre++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Nre),this.nodes.forEach(kre),this.nodes.forEach(jre),this.nodes.forEach(Are)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new lre)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new j6),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=RL(a)&&!dee(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let f,p=0;const m=()=>this.root.updateBlockedByResize=!1;gr.read(()=>{p=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,f&&f(),f=cre(m,250),Dm.hasAnimatedSinceResize&&(Dm.hasAnimatedSinceResize=!1,this.nodes.forEach(ik)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||Rre,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),S=!this.targetLayout||!vz(this.targetLayout,v),N=!p&&m;if(this.options.layoutRoot||this.resumeFrom||N||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...q6(y,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(f,N)}else p||ik(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pre),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Cre),this.nodes.forEach(Sre),this.nodes.forEach(_re)):this.nodes.forEach(nk),this.clearAllSnapshots();const o=fi.now();wn.delta=Xa(0,1e3/60,o-wn.timestamp),wn.timestamp=o,wn.isProcessing=!0,Lx.update.process(wn),Lx.preRender.process(wn),Lx.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,V6.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ere),this.sharedNodes.forEach(Tre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gn(this.snapshot.measuredBox.x)&&!Gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!gz(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||Bl(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Ire(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Zr();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Dre))){const{scroll:f}=this.root;f&&(yu(o.x,f.offset.x),yu(o.y,f.offset.y))}return o}removeElementScroll(a){var l;const o=Zr();if(Ns(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Ns(o,a),yu(o.x,p.offset.x),yu(o.y,p.offset.y))}return o}applyTransform(a,o=!1){const l=Zr();Ns(l,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&xu(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Bl(f.latestValues)&&xu(l,f.latestValues)}return Bl(this.latestValues)&&xu(l,this.latestValues),l}removeTransform(a){const o=Zr();Ns(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Bl(u.latestValues))continue;d3(u.latestValues)&&u.updateSnapshot();const f=Zr(),p=u.measurePageBox();Ns(f,p),YC(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Bl(this.latestValues)&&YC(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var v;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=wn.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zr(),this.targetWithTransforms=Zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ns(this.target,this.layout.layoutBox),JL(this.target,this.targetDelta)):Ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||d3(this.parent.latestValues)||YL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),tg(this.relativeTargetOrigin,o,l),Ns(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(l=!1),l)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Ns(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;ete(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Zr());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KC(this.prevProjectionDelta.x,this.projectionDelta.x),KC(this.prevProjectionDelta.y,this.projectionDelta.y)),Xh(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!tk(this.projectionDelta.x,this.prevProjectionDelta.x)||!tk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bu(),this.projectionDelta=bu(),this.projectionDeltaWithTransform=bu()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},p=bu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Zr(),v=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=v!==y,b=this.getStack(),S=!b||b.members.length<=1,N=!!(x&&!S&&this.options.crossfade===!0&&!this.path.some(Ore));this.animationProgress=0;let A;this.mixTargetDelta=k=>{const E=k/1e3;sk(p.x,a.x,E),sk(p.y,a.y,E),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tg(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Mre(this.relativeTarget,this.relativeTargetOrigin,m,E),A&&vre(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Zr()),Ns(A,this.relativeTarget)),x&&(this.animationValues=f,dre(f,u,this.latestValues,E,N,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Yo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gr.update(()=>{Dm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bu(0)),this.currentAnimation=are(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),a.onUpdate&&a.onUpdate(f)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bre),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:f}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&bz(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Zr();const p=Gn(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+p;const m=Gn(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}Ns(o,l),xu(o,f),Xh(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new yre),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&Xx("z",a,u,this.animationValues);for(let f=0;f<Gx.length;f++)Xx(`rotate${Gx[f]}`,a,u,this.animationValues),Xx(`skew${Gx[f]}`,a,u,this.animationValues);a.render();for(const f in u)a.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Im(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Im(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Bl(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let p=xre(this.projectionDeltaWithTransform,this.treeScale,f);l&&(p=l(f,p)),a.transform=p;const{x:m,y:v}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,u.animationValues?a.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in pf){if(f[y]===void 0)continue;const{correct:x,applyTo:b,isCSSVariable:S}=pf[y],N=p==="none"?f[y]:x(f[y],u);if(b){const A=b.length;for(let k=0;k<A;k++)a[b[k]]=N}else S?this.options.visualElement.renderState.vars[y]=N:a[y]=N}this.options.layoutId&&(a.pointerEvents=u===this?Im(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(rk),this.root.sharedNodes.clear()}}}function Sre(t){t.updateLayout()}function _re(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?Qi(p=>{const m=a?e.measuredBox[p]:e.layoutBox[p],v=Gn(m);m.min=n[p].min,m.max=m.min+v}):bz(s,e.layoutBox,n)&&Qi(p=>{const m=a?e.measuredBox[p]:e.layoutBox[p],v=Gn(n[p]);m.max=m.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+v)});const o=bu();Xh(o,n,e.layoutBox);const l=bu();a?Xh(l,t.applyTransform(i,!0),e.measuredBox):Xh(l,n,e.layoutBox);const u=!gz(o);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:v}=p;if(m&&v){const y=Zr();tg(y,e.layoutBox,m.layoutBox);const x=Zr();tg(x,n,v.layoutBox),vz(y,x)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Nre(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Are(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ere(t){t.clearSnapshot()}function rk(t){t.clearMeasurements()}function nk(t){t.isLayoutDirty=!1}function Cre(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ik(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kre(t){t.resolveTargetDelta()}function jre(t){t.calcProjection()}function Pre(t){t.resetSkewAndRotation()}function Tre(t){t.removeLeadSnapshot()}function sk(t,e,r){t.translate=_r(e.translate,0,r),t.scale=_r(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function ak(t,e,r,n){t.min=_r(e.min,r.min,n),t.max=_r(e.max,r.max,n)}function Mre(t,e,r,n){ak(t.x,e.x,r.x,n),ak(t.y,e.y,r.y,n)}function Ore(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Rre={duration:.45,ease:[.4,0,.1,1]},ok=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),lk=ok("applewebkit/")&&!ok("chrome/")?Math.round:ns;function ck(t){t.min=lk(t.min),t.max=lk(t.max)}function Ire(t){ck(t.x),ck(t.y)}function bz(t,e,r){return t==="position"||t==="preserve-aspect"&&!$te(ek(e),ek(r),.2)}function Dre(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Lre=xz({attachResizeListener:(t,e)=>mf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yx={current:void 0},wz=xz({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yx.current){const t=new Lre({});t.mount(window),t.setOptions({layoutScroll:!0}),Yx.current=t}return Yx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zre={pan:{Feature:rre},drag:{Feature:tre,ProjectionNode:wz,MeasureLayout:fz}};function uk(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&gr.postRender(()=>s(e,v0(e)))}class Fre extends rl{mount(){const{current:e}=this.node;e&&(this.unmount=aee(e,(r,n)=>(uk(this.node,n,"Start"),i=>uk(this.node,i,"End"))))}unmount(){}}class Bre extends rl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=p0(mf(this.node.current,"focus",()=>this.onFocus()),mf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dk(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&gr.postRender(()=>s(e,v0(e)))}class $re extends rl{mount(){const{current:e}=this.node;e&&(this.unmount=uee(e,(r,n)=>(dk(this.node,n,"Start"),(i,{success:s})=>dk(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const y3=new WeakMap,Jx=new WeakMap,qre=t=>{const e=y3.get(t.target);e&&e(t)},Ure=t=>{t.forEach(qre)};function Vre({root:t,...e}){const r=t||document;Jx.has(r)||Jx.set(r,{});const n=Jx.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Ure,{root:t,...e})),n[i]}function Wre(t,e,r){const n=Vre(e);return y3.set(t,r),n.observe(t),()=>{y3.delete(t),n.unobserve(t)}}const Hre={some:0,all:1};class Kre extends rl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Hre[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=u?f:p;m&&m(l)};return Wre(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Gre(e,r))&&this.startObserver()}unmount(){}}function Gre({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Xre={inView:{Feature:Kre},tap:{Feature:$re},focus:{Feature:Bre},hover:{Feature:Fre}},Yre={layout:{ProjectionNode:wz,MeasureLayout:fz}},Jre={...Ite,...Xre,...zre,...Yre},Pr=Jee(Jre,ute);function Qre(t){gd();const{selectedTrader:e,decisionItems:r,positions:n,publicMessages:i,focusedSymbol:s,modeLabel:a,freshnessLabel:o,packetAgeLabel:l,decisionAgeLabel:u,chatAgeLabel:f,decisionFreshnessLabel:p,transportLabel:m,chatSyncState:v,isDegraded:y,marketBreadth:x,sseStatus:b,language:S}=bd(t),{sizePx:N,decrease:A,increase:k}=Ev("stream-avatar-size-expert2"),{ttsAvailable:E,ttsAutoPlay:j,setTtsAutoPlay:T,ttsError:M,roomVoice:I}=Nv({roomId:e.trader_id,publicMessages:i}),{bgmAvailable:q,bgmEnabled:D,setBgmEnabled:L,bgmTrackTitle:V,bgmError:K}=a0({roomId:e.trader_id,ducking:!1}),{containerRef:Y,unseenCount:J,autoScroll:te,onScroll:U,jumpToLatest:X}=Av(i.length),[ie,G]=_.useState(0);_.useEffect(()=>{if(!(r.length>1&&te&&p!=="stale"))return;const xe=window.setInterval(()=>{G(be=>(be+1)%r.length)},4500);return()=>window.clearInterval(xe)},[r.length,te,p]),_.useEffect(()=>{ie<r.length||G(0)},[ie,r.length]);const F=r[ie]||r[0],Q=_.useMemo(()=>n.slice(0,5).map(le=>`${le.symbol} ${kv(le.unrealized_pnl_pct)} ${le.side}`),[n]);return d.jsx("div",{className:"h-[100dvh] w-screen overflow-hidden bg-[#111116] text-white",children:d.jsxs("div",{className:"relative mx-auto h-full w-full max-w-[480px] overflow-hidden border-x border-white/5",children:[d.jsxs("div",{className:"relative",style:{height:"56vh"},children:[d.jsx(l0,{symbol:s,interval:"1m",limit:240,refreshMs:12e3,height:"100%"}),d.jsxs("div",{className:"absolute left-0 right-0 top-0 z-20 bg-gradient-to-b from-black/85 to-transparent px-3 pb-4 pt-[max(10px,env(safe-area-inset-top,0px))]",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"rounded bg-red-600 px-2 py-0.5 text-[10px] font-black",children:a}),d.jsx("span",{className:"rounded border border-white/25 bg-black/45 px-2 py-0.5 text-[10px] font-mono text-cyan-300",children:m}),d.jsx("span",{className:"text-sm font-bold tracking-tight",children:e.trader_name})]}),d.jsxs("span",{className:"rounded-full border border-white/20 bg-black/45 px-2 py-0.5 text-[10px] font-mono",children:[b,"  ",o]})]}),d.jsxs("div",{className:"mt-2 text-[10px] font-mono text-white/75",children:["focus: ",s]}),d.jsxs("div",{className:"mt-1 flex items-center gap-1 text-[9px] font-mono text-white/80",children:[d.jsxs("span",{className:"rounded bg-black/45 px-1.5 py-0.5",children:["pkt ",l]}),d.jsxs("span",{className:"rounded bg-black/45 px-1.5 py-0.5",children:["dec ",u]}),d.jsxs("span",{className:"rounded bg-black/45 px-1.5 py-0.5",children:["chat ",f]}),d.jsx("span",{className:"rounded bg-black/45 px-1.5 py-0.5",children:v}),d.jsx("button",{type:"button",onClick:()=>T(le=>!le),disabled:!E,className:`rounded px-1.5 py-0.5 ${j?"bg-emerald-600/65 text-white":"bg-black/45 text-white/80"} disabled:opacity-50`,children:j?"voice on":"voice off"}),d.jsx("button",{type:"button",onClick:()=>L(le=>!le),disabled:!q,className:`rounded px-1.5 py-0.5 ${D?"bg-amber-500/70 text-black":"bg-black/45 text-white/80"} disabled:opacity-50`,children:D?"bgm on":"bgm off"})]}),(I||M||V||K)&&d.jsx("div",{className:"mt-1 text-[9px] font-mono text-white/70",children:M?"voice err":K?"bgm err":V?`voice ${I}  bgm ${V}`:`voice ${I}`}),x.advancers!=null&&x.decliners!=null&&d.jsxs("div",{className:"mt-1 text-[10px] font-mono text-white/75",children:["R ",x.advancers," / B ",x.decliners,x.redBlueRatio!=null&&`  ${x.redBlueRatio.toFixed(2)}`]}),y&&d.jsx("div",{className:"mt-2 rounded border border-red-400/35 bg-red-500/15 px-2 py-1 text-[10px] text-red-100",children:S==="zh"?"SSE ":"Degraded mode: SSE unstable or stale data; polling fallback enabled."})]}),d.jsx(Cv,{trader:e,sizePx:Math.max(96,Math.min(N-36,190)),language:S,onDecrease:A,onIncrease:k,className:"z-30"}),F&&d.jsx("div",{className:"absolute bottom-2 left-0 right-0 z-20 px-2",children:d.jsx(da,{mode:"wait",children:d.jsxs(Pr.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},exit:{y:10,opacity:0},className:"rounded-lg border border-white/15 bg-black/75 px-3 py-2 backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-between text-[10px] font-mono text-white/60",children:[d.jsx("span",{children:F.timestamp}),d.jsx("span",{children:F.symbol})]}),d.jsxs("div",{className:"mt-0.5 text-sm font-bold text-white",children:[F.action,F.confidence!=null&&d.jsxs("span",{className:"ml-2 text-xs text-amber-400",children:[(F.confidence*100).toFixed(0),"%"]})]}),d.jsx("div",{className:"mt-0.5 line-clamp-2 text-[11px] text-white/75",children:F.reasoning})]},F.id)})})]}),d.jsxs("div",{className:"relative h-[calc(44vh-28px)] overflow-hidden border-t border-white/10 bg-[#0d0d12]",children:[d.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-[10px] uppercase tracking-widest text-white/40",children:[d.jsx("span",{children:S==="zh"?"":"Public chat (display only)"}),d.jsx("span",{children:i.length})]}),d.jsx("div",{ref:Y,onScroll:U,className:"h-[calc(100%-32px)] overflow-y-auto px-3 pb-4",children:d.jsxs("div",{className:"space-y-2",children:[i.map(le=>d.jsxs("div",{className:"flex items-end gap-1.5",children:[d.jsxs("span",{className:`text-[10px] font-bold ${le.sender_type==="agent"?"text-amber-400":"text-white/55"}`,children:[le.sender_name,":"]}),d.jsx("span",{className:"text-[11px] text-white/85",children:le.text})]},le.id)),!i.length&&d.jsx("div",{className:"py-8 text-center text-xs text-white/45",children:S==="zh"?"":"No chat messages yet"})]})}),J>0&&d.jsx("button",{type:"button",onClick:X,className:"absolute bottom-2 right-2 rounded-full border border-cyan-400/40 bg-black/85 px-2 py-1 text-[10px] text-cyan-300",children:S==="zh"?` ${J}`:`New ${J}`})]}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-50 h-7 overflow-hidden border-t border-black/30 bg-[#CC0000]",children:d.jsx("div",{className:"animate-stream-ticker flex h-full items-center gap-7 px-4 text-[10px] font-bold text-white",children:Q.concat(Q).map((le,xe)=>d.jsx("span",{className:"whitespace-nowrap",children:le},`${xe}-${le}`))})}),d.jsx("style",{children:`
          @keyframes streamTicker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
          }
          .animate-stream-ticker {
            animation: streamTicker 24s linear infinite;
          }
        `})]})})}function Zre(t){const e=ae=>Math.max(0,Math.min(.3,ae));gd();const{selectedTrader:r,decisionItems:n,positions:i,publicMessages:s,focusedSymbol:a,modeLabel:o,freshnessLabel:l,packetAgeLabel:u,decisionAgeLabel:f,chatAgeLabel:p,transportLabel:m,chatSyncState:v,isDegraded:y,marketBreadth:x,sseStatus:b,language:S}=bd(t),{sizePx:N,decrease:A,increase:k}=Ev("stream-avatar-size-expert3"),{ttsAvailable:E,ttsAutoPlay:j,setTtsAutoPlay:T,ttsError:M,roomVoice:I}=Nv({roomId:r.trader_id,publicMessages:s}),{bgmAvailable:q,bgmEnabled:D,setBgmEnabled:L,bgmVolume:V,setBgmVolume:K,bgmTrackTitle:Y,bgmError:J}=a0({roomId:r.trader_id,ducking:!1}),{containerRef:te,unseenCount:U,onScroll:X,jumpToLatest:ie}=Av(s.length),[G,F]=_.useState(""),[Q,le]=_.useState("");_.useEffect(()=>{if(!Q)return;const ae=window.setTimeout(()=>le(""),2e4);return()=>window.clearTimeout(ae)},[Q]);const xe=_.useMemo(()=>{const ae=n.slice(0,8).map(fe=>({id:`d-${fe.id}`,type:"decision",tsLabel:fe.timestamp,tsMs:Number(fe.timestampMs||0),title:`${fe.action} ${fe.symbol}`,detail:fe.reasoning,symbol:fe.symbol,confidence:fe.confidence})),we=s.slice(-8).map(fe=>({id:`c-${fe.id}`,type:"chat",tsLabel:new Date(fe.created_ts_ms).toLocaleTimeString("en-GB",{hour12:!1}),tsMs:Number(fe.created_ts_ms||0),title:`${fe.sender_name}`,detail:fe.text,symbol:"",confidence:null}));return[...ae,...we].sort((fe,Se)=>Number(Se.tsMs||0)-Number(fe.tsMs||0)).slice(0,20)},[n,s]),be=Q||a;return d.jsx("div",{className:"h-[100dvh] w-screen overflow-hidden bg-[#14141a] text-white",children:d.jsxs("div",{className:"relative mx-auto flex h-full w-full max-w-[480px] flex-col overflow-hidden border-x border-white/5",children:[d.jsx("div",{className:"shrink-0 border-b border-white/5 bg-[#1e1e24] px-3 pb-2 pt-[max(8px,env(safe-area-inset-top,0px))]",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-bold text-white",children:r.trader_name}),d.jsxs("div",{className:"text-[10px] font-mono text-indigo-300",children:[o,"  ",m,"  ",b,"  ",l]}),d.jsxs("div",{className:"mt-1 flex items-center gap-1 text-[9px] font-mono text-indigo-100/90",children:[d.jsxs("span",{className:"rounded bg-black/35 px-1.5 py-0.5",children:["pkt ",u]}),d.jsxs("span",{className:"rounded bg-black/35 px-1.5 py-0.5",children:["dec ",f]}),d.jsxs("span",{className:"rounded bg-black/35 px-1.5 py-0.5",children:["chat ",p]}),d.jsx("span",{className:"rounded bg-black/35 px-1.5 py-0.5",children:v}),d.jsx("button",{type:"button",onClick:()=>T(ae=>!ae),disabled:!E,className:`rounded px-1.5 py-0.5 ${j?"bg-emerald-600/65 text-white":"bg-black/35 text-white/80"} disabled:opacity-50`,children:j?"voice on":"voice off"}),d.jsx("button",{type:"button",onClick:()=>L(ae=>!ae),disabled:!q,className:`rounded px-1.5 py-0.5 ${D?"bg-amber-500/70 text-black":"bg-black/35 text-white/80"} disabled:opacity-50`,children:D?"bgm on":"bgm off"}),d.jsxs("label",{className:"flex items-center gap-1 rounded bg-black/35 px-1 py-0.5 text-[9px] text-white/85",children:[d.jsx("span",{children:"bgm"}),d.jsx("button",{type:"button",onClick:()=>K(ae=>e(ae-.02)),disabled:!q||!D,className:"rounded bg-black/50 px-1 text-white/90 disabled:opacity-40","aria-label":"Lower BGM volume",children:"-"}),d.jsx("input",{type:"range",min:0,max:.3,step:.01,value:V,onInput:ae=>{const we=ae.target;K(e(Number(we.value)))},onChange:ae=>{const we=ae.target;K(e(Number(we.value)))},disabled:!q||!D,className:"h-4 w-20 accent-amber-300 disabled:opacity-40",style:{touchAction:"pan-x"},"aria-label":"BGM volume"}),d.jsx("button",{type:"button",onClick:()=>K(ae=>e(ae+.02)),disabled:!q||!D,className:"rounded bg-black/50 px-1 text-white/90 disabled:opacity-40","aria-label":"Raise BGM volume",children:"+"}),d.jsxs("span",{children:[Math.round((V||0)*100),"%"]})]})]}),(I||M||Y||J)&&d.jsx("div",{className:"mt-1 text-[9px] font-mono text-indigo-100/85",children:M?"voice err":J?"bgm err":Y?`voice ${I}  bgm ${Y}`:`voice ${I}`}),x.advancers!=null&&x.decliners!=null&&d.jsxs("div",{className:"text-[10px] font-mono text-indigo-200/85",children:["R ",x.advancers," / B ",x.decliners,x.redBlueRatio!=null&&`  ${x.redBlueRatio.toFixed(2)}`]}),y&&d.jsx("div",{className:"mt-1 rounded border border-red-300/35 bg-red-500/15 px-2 py-1 text-[10px] text-red-100",children:S==="zh"?"":"Degraded stream: polling fallback active, watch freshness tags."})]}),d.jsx("div",{className:"rounded bg-white/5 px-2 py-1 text-[10px] font-mono text-white/70",children:"timeline"})]})}),d.jsxs("div",{className:"relative shrink-0 border-b border-white/5",style:{height:"30vh"},children:[d.jsx(l0,{symbol:be,interval:"1m",limit:240,refreshMs:12e3,height:"100%"}),d.jsx(Cv,{trader:r,sizePx:Math.max(48,Math.round(Math.max(96,Math.min(N-54,170))/2)),language:S,onDecrease:A,onIncrease:k})]}),d.jsxs("div",{className:"flex min-h-0 flex-1 flex-col",children:[d.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2",children:d.jsxs("div",{className:"space-y-1.5",children:[xe.map((ae,we)=>d.jsxs("button",{type:"button",onClick:()=>{F(ae.id),ae.type==="decision"&&ae.symbol&&le(ae.symbol)},className:`flex w-full gap-2 text-left ${G===ae.id?"opacity-100":"opacity-85"}`,children:[d.jsxs("div",{className:"flex w-5 shrink-0 flex-col items-center",children:[d.jsx("div",{className:`h-2.5 w-2.5 rounded-full border-2 ${ae.type==="decision"?"border-red-400 bg-red-400/20":"border-cyan-400 bg-cyan-400/20"}`}),we<xe.length-1&&d.jsx("div",{className:"min-h-[18px] w-px flex-1 bg-white/10"})]}),d.jsxs("div",{className:`flex-1 rounded-lg border p-2 ${G===ae.id?"border-indigo-400/35 bg-white/[0.07]":"border-white/10 bg-white/[0.03]"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[9px] font-mono text-white/35",children:ae.tsLabel}),ae.confidence!=null&&d.jsxs("span",{className:"text-[9px] font-mono text-amber-400",children:[(ae.confidence*100).toFixed(0),"%"]})]}),d.jsx("div",{className:`text-[11px] font-bold ${ae.type==="decision"?"text-red-400":"text-cyan-300"}`,children:ae.title}),d.jsx("div",{className:"mt-0.5 line-clamp-2 text-[10px] text-white/55",children:ae.detail})]})]},ae.id)),!xe.length&&d.jsx("div",{className:"py-8 text-center text-xs text-white/45",children:S==="zh"?"":"No timeline events yet"})]})}),d.jsxs("div",{className:"shrink-0 border-t border-white/10 bg-[#1a1a22]",children:[d.jsxs("div",{className:"border-b border-white/5 px-3 py-2",children:[d.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-widest text-white/35",children:S==="zh"?"":"positions"}),i.slice(0,3).map(ae=>d.jsxs("div",{className:"flex items-center justify-between py-0.5 text-[10px]",children:[d.jsxs("div",{className:"font-mono text-white",children:[ae.symbol," ",d.jsx("span",{className:"text-white/35",children:ae.side})]}),d.jsxs("div",{className:`font-mono font-bold ${ae.unrealized_pnl>=0?"text-red-400":"text-green-400"}`,children:[w6(ae.unrealized_pnl)," (",kv(ae.unrealized_pnl_pct),")"]})]},`${ae.symbol}-${ae.side}`))]}),d.jsxs("div",{className:"relative px-3 py-2",children:[d.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-widest text-white/35",children:S==="zh"?"":"public chat (display only)"}),d.jsx("div",{ref:te,onScroll:X,className:"max-h-[12vh] overflow-y-auto pr-1",children:d.jsx("div",{className:"space-y-1",children:s.slice(-14).map(ae=>d.jsxs("div",{className:"flex items-baseline gap-1.5 text-[10px]",children:[d.jsxs("span",{className:`font-bold ${ae.sender_type==="agent"?"text-amber-400":"text-white/45"}`,children:[ae.sender_name,":"]}),d.jsx("span",{className:"text-white/70",children:ae.text})]},ae.id))})}),U>0&&d.jsx("button",{type:"button",onClick:ie,className:"absolute bottom-2 right-2 rounded-full border border-cyan-400/40 bg-black/85 px-2 py-1 text-[10px] text-cyan-300",children:S==="zh"?` ${U}`:`New ${U}`})]})]})]})]})})}const Sz=Array.from({length:18},(t,e)=>`scene_${e}.png`),Pi={title:"",subtitle:"blog /  / ",narration_file:"narration.mp3",bgm_file:"bgm.mp3",duration_sec:1001,scenes:Sz},ene={t_007:"zhaolaoge",t_008:"xuxiang",t_009:"qingshan",t_010:"ai_daily_20260226",t_011:"citrini_ghost_20260226",t_012:"ai_tribunal_20260226"};function tne(t){const e=ene[String(t||"").trim().toLowerCase()]||"zhaolaoge";if(typeof window>"u")return e;try{const r=new URLSearchParams(window.location.search),n=String(r.get("story")||"").trim().toLowerCase();if(/^[a-z0-9_-]{2,32}$/.test(n))return n}catch{}return e}function rne(){if(typeof window>"u")return"";const t=String(window.location.pathname||"");return t==="/onlytrade"||t.startsWith("/onlytrade/")?"/onlytrade":""}function Qx(t,e){const r=String(t||"").trim();if(!r)return r;const n=String(e||"").trim();if(!n)return r;const i=r.includes("?")?"&":"?";return`${r}${i}v=${encodeURIComponent(n)}`}function nne(t,e=0){const r=Number(t);return Number.isFinite(r)?r:e}function ine(t){if(!t||typeof t!="object")return Pi;const e=t,r=Array.isArray(e.scenes)?e.scenes.map(n=>String(n||"").trim()).filter(Boolean):[];return{title:String(e.title||Pi.title).trim()||Pi.title,subtitle:String(e.subtitle||Pi.subtitle).trim()||Pi.subtitle,narration_file:String(e.narration_file||Pi.narration_file).trim()||Pi.narration_file,bgm_file:String(e.bgm_file||Pi.bgm_file).trim()||Pi.bgm_file,duration_sec:Math.max(0,nne(e.duration_sec,Pi.duration_sec)),scenes:r.length?r:Pi.scenes}}function hk(t){const e=String(t||"").trim().toLowerCase();return e?e==="alpha"||e==="host"?"alpha":e==="xiaozhen"||e==="guest"?"xiaozhen":e==="listener"||e==="caller"||e==="audience"||e.startsWith("caller_")?"listener":"unknown":"unknown"}function sne(t){const e=String(t||"").replace(/\r/g,`
`).split(`
`).map(n=>n.trim()).filter(Boolean);if(!e.length)return[];const r=[];for(const n of e){let i="unknown",s=n;const a=n.match(/^\[([^\]]+)\]\s*(.+)$/);if(a)i=hk(a[1]),s=a[2];else{const l=n.match(/^([a-zA-Z0-9_\u4e00-\u9fa5]+)\s*[:]\s*(.+)$/);l&&(i=hk(l[1]),s=l[2])}const o=String(s||"").replace(/<break\s+time="\d+ms"\s*\/?>/gi," ").replace(/\s+/g," ").trim();o&&(/^sys_inject_(ad|song)$/i.test(o)||r.push({text:o,speaker:i}))}return r}function ane(t,e){const r=sne(t);if(!r.length)return[];const n=Math.max(10,Number(e)||1001),i=2.1,s=8.2,a=r.map(m=>Math.max(8,m.text.replace(/\s+/g,"").length)),o=a.reduce((m,v)=>m+v,0),l=r.map((m,v)=>{const y=n*a[v]/Math.max(1,o);return{text:m.text,speaker:m.speaker,sec:Math.max(i,Math.min(s,y))}}),u=l.reduce((m,v)=>m+v.sec,0),f=n/Math.max(1,u);let p=0;return l.map((m,v)=>{const y=m.sec*f,x=p,b=v===l.length-1?n:Math.min(n,p+y);return p=b,{startSec:x,endSec:b,text:m.text,speaker:m.speaker}})}function fk(t){const e=Math.max(0,Math.floor(Number(t)||0)),r=Math.floor(e/3600),n=Math.floor(e%3600/60),i=e%60;return r>0?`${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${String(n).padStart(2,"0")}:${String(i).padStart(2,"0")}`}function one(t){gd();const{selectedTrader:e,modeLabel:r,isDegraded:n,language:i}=bd(t),[s,a]=_.useState(Pi),[o,l]=_.useState(""),[u,f]=_.useState(""),[p,m]=_.useState(""),[v,y]=_.useState(()=>String(Date.now())),[x,b]=_.useState(0),[S,N]=_.useState(0),[A,k]=_.useState(!1),[E]=_.useState(()=>{if(typeof window>"u")return!0;const ve=window.localStorage.getItem("story_bgm_enabled");return ve==null?!0:ve!=="false"}),[j]=_.useState(()=>{if(typeof window>"u")return .16;const ve=Number(window.localStorage.getItem("story_bgm_volume")||"");return Number.isFinite(ve)?Math.max(0,Math.min(ve,.45)):.16}),T=_.useRef(null),M=_.useRef(null),I=_.useRef(null),q=_.useRef(null),D=_.useRef(null),L=_.useRef(null),V=_.useRef(0),K=_.useRef(!1),Y=_.useRef(!1);_.useEffect(()=>{Array.from(document.querySelectorAll("audio, video")).forEach(Ae=>{try{Ae.pause()}catch{}})},[]);const J=_.useMemo(()=>rne(),[]),te=_.useMemo(()=>tne(e.trader_id),[e.trader_id]),U=`${J}/story/${te}`,X=_.useMemo(()=>Qx(`${U}/${s.narration_file}`,v),[U,s.narration_file,v]),ie=_.useMemo(()=>Qx(`${U}/${s.bgm_file}`,v),[U,s.bgm_file,v]),G=_.useMemo(()=>{const ve=S>0?S:Math.max(1,s.duration_sec);return ane(o,ve)},[o,S,s.duration_sec]),F=_.useMemo(()=>G.length&&(G.find(Ae=>x>=Ae.startSec&&x<Ae.endSec)||G[G.length-1])||null,[G,x]),Q=(F==null?void 0:F.text)||"",le=(F==null?void 0:F.speaker)||"unknown",xe=le==="alpha",be=le==="xiaozhen",ae=le==="listener",we=_.useMemo(()=>G.some(ve=>ve.speaker==="alpha"||ve.speaker==="xiaozhen"),[G]),fe=s.scenes.length?s.scenes:Sz,Se=fe.length<=1,Pe=S>0?Math.max(0,Math.min(x/S,1)):0,he=Math.max(0,Math.min(fe.length-1,Math.floor(Pe*fe.length))),Be=Qx(`${U}/${fe[he]||fe[0]}`,v);_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem("story_bgm_enabled",String(E))},[E]),_.useEffect(()=>{typeof window>"u"||window.localStorage.setItem("story_bgm_volume",String(Math.max(0,Math.min(j,.45))))},[j]),_.useEffect(()=>{let ve=!1;async function Ae(){try{const[H,se]=await Promise.all([fetch(`${U}/manifest.json`,{cache:"no-store"}),fetch(`${U}/script.txt`,{cache:"no-store"})]),me=H.ok?await H.json().catch(()=>null):null,re=se.ok?await se.text().catch(()=>""):"";if(ve)return;a(me?ine(me):Pi);const je=String(H.headers.get("etag")||H.headers.get("last-modified")||Date.now()).trim();y(je||String(Date.now())),l(String(re||"").trim()),f("")}catch(H){if(ve)return;f(String(H instanceof Error?H.message:"story_asset_load_failed"))}}return Ae(),()=>{ve=!0}},[U]),_.useEffect(()=>{const ve="__onlytrade_story_audio__",Ae=["__onlytrade_story_audio__","__onlytrade_multi_story_audio__"],H=window;for(const st of Ae){const mt=H[st];mt&&(mt.narration&&(mt.narration.pause(),mt.narration.src=""),mt.bgm&&(mt.bgm.pause(),mt.bgm.src=""),delete H[st])}const se=new Audio(X);se.preload="auto",se.loop=!0,se.autoplay=!0,se.volume=1;const me=new Audio(ie);me.preload="auto",me.loop=!0,T.current=se,M.current=me,V.current=0,K.current=!1,Y.current=!1,b(0),N(Math.max(0,s.duration_sec||0)),k(!1),m("");const re=()=>{const st=Number(se.duration);Number.isFinite(st)&&st>0&&N(st)},je=()=>{b(Number.isFinite(se.currentTime)?se.currentTime:0)},Ve=()=>{k(!0)},Xe=()=>{k(!1)},vt=()=>{if(V.current>=2){m("narration_load_failed");return}V.current+=1;const st=V.current,mt=X.includes("?")?"&":"?";se.src=`${X}${mt}retry=${Date.now()}-${st}`,se.load()},Ct=()=>{m(st=>st==="narration_load_failed"?"":st),!K.current&&se.paused&&Te()},pt=()=>{m(st=>st||"bgm_load_failed")};return se.addEventListener("loadedmetadata",re),se.addEventListener("timeupdate",je),se.addEventListener("play",Ve),se.addEventListener("pause",Xe),se.addEventListener("error",vt),se.addEventListener("canplay",Ct),me.addEventListener("error",pt),H[ve]={narration:se,bgm:me},se.load(),me.load(),()=>{se.removeEventListener("loadedmetadata",re),se.removeEventListener("timeupdate",je),se.removeEventListener("play",Ve),se.removeEventListener("pause",Xe),se.removeEventListener("error",vt),se.removeEventListener("canplay",Ct),me.removeEventListener("error",pt),se.pause(),me.pause(),se.src="",me.src="";const st=H[ve];(st==null?void 0:st.narration)===se&&(st==null?void 0:st.bgm)===me&&delete H[ve],T.current===se&&(T.current=null),M.current===me&&(M.current=null)}},[X,ie,s.duration_sec]);const Te=_.useCallback(async()=>{const ve=T.current;if(ve){if(!ve.paused){k(!0);return}try{ve.muted=!1,await ve.play(),Y.current=!1,k(!0)}catch(Ae){const H=String(Ae instanceof Error?Ae.message:"narration_play_failed");if(/AbortError|interrupted/i.test(H)){setTimeout(()=>{const se=T.current;!se||!se.paused||se.play().catch(()=>{})},250);return}if(/NotAllowedError|play\(\) failed|AbortError|interrupted/i.test(H)){try{ve.muted=!0,await ve.play(),Y.current=!0,k(!0),m("");return}catch{}k(!1);return}m(H)}}},[]);_.useEffect(()=>{if(typeof window>"u")return;const ve=()=>{const Ae=I.current;if(Ae&&Ae.state==="suspended"&&Ae.resume().catch(()=>{}),!Y.current)return;const H=T.current;H&&(H.muted=!1,H.play().then(()=>{Y.current=!1,k(!0)}).catch(()=>{H.muted=!0}))};return window.addEventListener("pointerdown",ve),window.addEventListener("touchstart",ve),window.addEventListener("keydown",ve),()=>{window.removeEventListener("pointerdown",ve),window.removeEventListener("touchstart",ve),window.removeEventListener("keydown",ve)}},[]),_.useEffect(()=>{Te()},[Te,X]),_.useEffect(()=>{const ve=T.current;if(!ve||!ve.paused||K.current)return;const Ae=window.setTimeout(()=>{K.current||Te()},450);return()=>{window.clearTimeout(Ae)}},[Te,X]),_.useEffect(()=>{if(typeof window>"u")return;if(!(A&&ae)){const se=q.current;if(se){try{se.stop()}catch{}q.current=null}return}const Ae=window.AudioContext||window.webkitAudioContext;if(!Ae)return;I.current||(I.current=new Ae);const H=I.current;if(H){if(!D.current){const se=H.createGain();se.gain.value=.016,se.connect(H.destination),D.current=se}if(!L.current){const se=Math.floor(H.sampleRate*1.5),me=H.createBuffer(1,se,H.sampleRate),re=me.getChannelData(0);for(let je=0;je<se;je+=1)re[je]=(Math.random()*2-1)*.42;L.current=me}if(H.state==="suspended"&&H.resume().catch(()=>{}),!q.current&&D.current&&L.current){const se=H.createBufferSource();se.buffer=L.current,se.loop=!0;const me=H.createBiquadFilter();me.type="highpass",me.frequency.value=420;const re=H.createBiquadFilter();re.type="lowpass",re.frequency.value=3400;const je=H.createBiquadFilter();je.type="bandpass",je.frequency.value=1650,je.Q.value=.75,se.connect(me),me.connect(re),re.connect(je),je.connect(D.current),se.onended=()=>{q.current===se&&(q.current=null)};try{se.start(),q.current=se}catch{}}}},[ae,A]),_.useEffect(()=>()=>{const ve=q.current;if(ve){try{ve.stop()}catch{}q.current=null}const Ae=I.current;Ae&&(Ae.close().catch(()=>{}),I.current=null),D.current=null,L.current=null},[]);const We=_.useCallback(async()=>{const ve=T.current;if(ve){if(!ve.paused){K.current=!0,Y.current=!1,ve.pause(),k(!1);return}if(ve.paused){K.current=!1;try{ve.muted=!1,await ve.play(),Y.current=!1,k(!0)}catch(Ae){const H=String(Ae instanceof Error?Ae.message:"narration_play_failed");if(/NotAllowedError|play\(\) failed|AbortError|interrupted/i.test(H)){k(!1);return}m(H)}}}},[]);_.useEffect(()=>{const ve=M.current;if(!ve)return;const Ae=Math.max(0,Math.min(j,.45)),H=A?.24:1;if(ve.volume=Math.max(0,Math.min(Ae*H,1)),!E||!A){ve.pause();return}ve.play().catch(()=>{})},[E,j,A]);const Me=_.useCallback(ve=>{const Ae=T.current;if(!Ae)return;const H=S>0?S:Math.max(0,s.duration_sec),se=Math.max(0,Math.min(ve,H));Ae.currentTime=se,b(se)},[S,s.duration_sec]);return d.jsx("div",{className:"h-[100dvh] w-screen overflow-hidden bg-[#090909] text-white",children:d.jsxs("div",{className:"relative mx-auto h-full w-full max-w-[480px] overflow-hidden border-x border-white/10",children:[d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_10%_10%,rgba(220,38,38,0.18),transparent_45%),radial-gradient(circle_at_80%_75%,rgba(234,179,8,0.14),transparent_45%)]"}),d.jsxs("div",{className:"relative z-10 flex h-full flex-col",children:[d.jsxs("div",{className:"shrink-0 border-b border-white/15 bg-black/45 px-3 pb-2 pt-[max(10px,env(safe-area-inset-top,0px))] backdrop-blur",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-black tracking-wide text-amber-200",children:s.title}),d.jsxs("div",{className:"text-[10px] font-mono text-amber-300/85",children:[s.subtitle,"  host ",e.trader_name]})]}),d.jsx("div",{className:"rounded-full border border-white/20 bg-black/55 px-2 py-0.5 text-[10px] font-mono text-white/90",children:r})]}),we&&d.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[10px] text-white/90",children:[d.jsxs("div",{className:"flex items-center gap-1.5 rounded-full border border-white/20 bg-black/45 px-2 py-1",children:[d.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-cyan-500/75 text-[9px] font-black text-black",children:"A"}),d.jsx("span",{className:"font-semibold",children:"alpha"}),xe&&d.jsx("span",{className:"rounded bg-emerald-400/25 px-1.5 py-0.5 text-[9px] text-emerald-200",children:""})]}),d.jsxs("div",{className:"flex items-center gap-1.5 rounded-full border border-white/20 bg-black/45 px-2 py-1",children:[d.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-pink-400/75 text-[9px] font-black text-black",children:""}),d.jsx("span",{className:"font-semibold",children:"xiaozhen"}),be&&d.jsx("span",{className:"rounded bg-emerald-400/25 px-1.5 py-0.5 text-[9px] text-emerald-200",children:""})]}),ae&&d.jsx("span",{className:"rounded-full border border-amber-300/40 bg-amber-500/20 px-2 py-1 text-[9px] font-semibold text-amber-200",children:"  "})]}),(n||u||p)&&d.jsx("div",{className:"mt-2 rounded border border-red-400/35 bg-red-500/15 px-2 py-1 text-[10px] text-red-100",children:u||p||(i==="zh"?"":"Degraded stream: polling fallback active.")})]}),d.jsxs("div",{className:"relative shrink-0 border-b border-white/10 bg-black/70",style:{height:"48vh"},children:[d.jsx("img",{src:Be,alt:s.title,className:`h-full w-full ${Se?"object-contain object-center":"object-cover"}`,loading:"eager"}),d.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/40"})]}),d.jsx("div",{className:"shrink-0 border-b border-white/10 bg-[#121212] px-3 py-2",children:d.jsxs("div",{className:"min-h-[96px] rounded border border-white/15 bg-black/45 p-2",children:[d.jsx("div",{className:"line-clamp-4 text-[13px] font-medium leading-relaxed text-white",children:Q||(i==="zh"?"...":"Story stream loading...")}),d.jsxs("div",{className:"mt-1 text-[10px] font-mono text-white/65",children:["scene ",he+1,"/",fe.length]})]})}),d.jsxs("div",{className:"shrink-0 border-b border-white/10 bg-[#101010] px-3 py-2",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("button",{type:"button",onClick:()=>void We(),className:"rounded border border-amber-300/40 bg-black/45 px-2 py-1 text-[11px] font-bold text-amber-200",children:A?i==="zh"?"":"Pause":i==="zh"?"":"Resume"})}),d.jsx("div",{className:"mt-2 flex items-center gap-2",children:d.jsx("input",{type:"range",min:0,max:Math.max(1,S||s.duration_sec),step:.1,value:Math.min(x,Math.max(1,S||s.duration_sec)),onInput:ve=>{const Ae=ve.target;Me(Number(Ae.value))},onChange:ve=>{const Ae=ve.target;Me(Number(Ae.value))},className:"h-4 w-full accent-amber-300",style:{touchAction:"pan-x"},"aria-label":"Narration progress"})}),d.jsxs("div",{className:"mt-2 text-right text-[10px] font-mono text-white/65",children:[fk(x)," / ",fk(S||s.duration_sec)]})]}),d.jsx("div",{className:"min-h-0 flex-1 bg-[#0d0d0d]"})]})]})})}const Ti={title:"",subtitle:"multi-person / oral broadcast",narration_file:"narration.mp3",bgm_file:"bgm.mp3",duration_sec:900,scenes:["scene_0.png"],participants:[]},lne={t_009:"qingshan",t_010:"ai_daily_20260226",t_011:"citrini_ghost_20260226",t_012:"ai_tribunal_20260226"},pk={alpha:"alpha",xiaozhen:"xiaozhen",caller_1:"",caller_2:"",caller_3:"",listener:""};function cne(){if(typeof window>"u")return"";const t=String(window.location.pathname||"");return t==="/onlytrade"||t.startsWith("/onlytrade/")?"/onlytrade":""}function nu(t,e){const r=String(t||"").trim();if(!r)return r;const n=String(e||"").trim();if(!n)return r;const i=r.includes("?")?"&":"?";return`${r}${i}v=${encodeURIComponent(n)}`}function mk(t){const e=String(t||"").trim().toLowerCase();return/^[a-z0-9_-]{2,48}$/.test(e)?e:""}function une(t){const e=String(t||"").trim().toLowerCase();if(!e)return!1;const r=e.split("?")[0].split("#")[0];return r.endsWith(".mp4")||r.endsWith(".webm")||r.endsWith(".mov")||r.endsWith(".m4v")}function dne(t){const e=lne[String(t||"").trim().toLowerCase()]||"ai_tribunal_20260226";if(typeof window>"u")return e;try{const r=new URLSearchParams(window.location.search),n=mk(r.get("show")||"");if(n)return n;const i=mk(r.get("story")||"");if(i)return i}catch{}return e}function hne(t,e=0){const r=Number(t);return Number.isFinite(r)?r:e}function x3(t){const e=String(t||"").trim().toLowerCase();return e?e==="host"?"alpha":e==="guest"?"xiaozhen":e==="audience"||e==="listener"?"listener":e:"unknown"}function _z(t){return t==="alpha"||t==="host"?"host":t==="xiaozhen"||t==="guest"?"guest":t.startsWith("caller_")||t==="listener"?"listener":"unknown"}function fne(t){const e=String(t||"").replace(/\r/g,`
`).split(`
`).map(n=>n.trim()).filter(Boolean),r=[];for(const n of e){let i="unknown",s=n;const a=n.match(/^\[([^\]]+)\]\s*(.+)$/);if(a)i=x3(a[1]),s=a[2];else{const l=n.match(/^([a-zA-Z0-9_\u4e00-\u9fa5]+)\s*[:]\s*(.+)$/);l&&(i=x3(l[1]),s=l[2])}const o=String(s||"").replace(/<break\s+time="\d+ms"\s*\/?>/gi," ").replace(/\s+/g," ").trim();o&&(/^sys_inject_(ad|song)$/i.test(o)||r.push({text:o,speakerId:i,speakerCategory:_z(i)}))}return r}function pne(t,e){const r=fne(t);if(!r.length)return[];const n=Math.max(30,Number(e)||600),i=1.8,s=7.2,a=r.map(m=>Math.max(8,m.text.replace(/\s+/g,"").length)),o=a.reduce((m,v)=>m+v,0),l=r.map((m,v)=>{const y=n*a[v]/Math.max(1,o);return{...m,sec:Math.max(i,Math.min(s,y))}}),u=l.reduce((m,v)=>m+v.sec,0),f=n/Math.max(1,u);let p=0;return l.map((m,v)=>{const y=m.sec*f,x=p,b=v===l.length-1?n:Math.min(n,p+y);return p=b,{startSec:x,endSec:b,text:m.text,speakerId:m.speakerId,speakerCategory:m.speakerCategory}})}function gk(t){const e=Math.max(0,Math.floor(Number(t)||0)),r=Math.floor(e/3600),n=Math.floor(e%3600/60),i=e%60;return r>0?`${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${String(n).padStart(2,"0")}:${String(i).padStart(2,"0")}`}function rg(t){if(pk[t])return pk[t];if(t.startsWith("caller_")){const e=Number(t.slice(7));return Number.isFinite(e)&&e>0?`${e}`:""}return!t||t==="unknown"?"":t}function mne(t){if(!t||typeof t!="object")return Ti;const e=t,r=Array.isArray(e.scenes)?e.scenes.map(i=>String(i||"").trim()).filter(Boolean):[],n=Array.isArray(e.participants)?e.participants.map(i=>{if(!i||typeof i!="object")return null;const s=i,a=x3(String(s.id||s.role||"").trim());return!a||a==="unknown"?null:{id:a,name:String(s.name||rg(a)).trim()||rg(a),role:_z(a),seat:Number.isFinite(Number(s.seat))?Number(s.seat):void 0,avatar:String(s.avatar||s.avatar_file||s.video||"").trim()||void 0}}).filter(Boolean):[];return{title:String(e.title||Ti.title).trim()||Ti.title,subtitle:String(e.subtitle||Ti.subtitle).trim()||Ti.subtitle,narration_file:String(e.narration_file||Ti.narration_file).trim()||Ti.narration_file,bgm_file:String(e.bgm_file||Ti.bgm_file).trim()||Ti.bgm_file,duration_sec:Math.max(30,hne(e.duration_sec,Ti.duration_sec)),scenes:r.length?r:Ti.scenes,participants:n}}function gne(t,e){const r=Array.isArray(e.participants)?e.participants.slice(0,4):[];if(r.length>0)return r;const n=new Set,i=[];for(const s of t)if(!(n.has(s.speakerId)||s.speakerId==="unknown")&&(n.add(s.speakerId),i.push({id:s.speakerId,name:rg(s.speakerId),role:s.speakerCategory}),i.length>=4))break;return i.length||i.push({id:"alpha",name:"alpha",role:"host"},{id:"xiaozhen",name:"xiaozhen",role:"guest"}),i}function vne(t){gd();const{selectedTrader:e,modeLabel:r,isDegraded:n,language:i}=bd(t),[s,a]=_.useState(Ti),[o,l]=_.useState(""),[u,f]=_.useState(""),[p,m]=_.useState(""),[v,y]=_.useState(()=>String(Date.now())),[x,b]=_.useState(0),[S,N]=_.useState(0),[A,k]=_.useState(!1),[E,j]=_.useState({}),T=_.useRef(null),M=_.useRef(null),I=_.useRef(!1),q=_.useRef(!1),D=_.useRef(null),L=_.useRef(null),V=_.useRef(null),K=_.useRef(null),Y=_.useRef(null),J=_.useRef(null),te=_.useRef(null),U=_.useRef(null),X=_.useRef(null);_.useEffect(()=>{Array.from(document.querySelectorAll("audio, video")).forEach(se=>{try{se.pause()}catch{}})},[]);const ie=_.useMemo(()=>cne(),[]),G=_.useMemo(()=>dne(e.trader_id),[e.trader_id]),F=`${ie}/story/${G}`,Q=_.useMemo(()=>nu(`${F}/${s.narration_file}`,v),[F,s.narration_file,v]),le=_.useMemo(()=>nu(`${F}/${s.bgm_file}`,v),[F,s.bgm_file,v]),xe=_.useMemo(()=>{const H=S>0?S:Math.max(1,s.duration_sec);return pne(o,H)},[o,S,s.duration_sec]),be=_.useMemo(()=>xe.length&&(xe.find(se=>x>=se.startSec&&x<se.endSec)||xe[xe.length-1])||null,[xe,x]),ae=_.useMemo(()=>gne(xe,s),[xe,s]),we=s.scenes.length?s.scenes:["scene_0.png"],fe=_.useMemo(()=>{const H=[null,null,null,null],se=new Set;for(const me of ae.slice(0,4)){const re=Number(me.seat);if(Number.isFinite(re)&&re>=0&&re<4&&!se.has(re)){H[re]=me,se.add(re);continue}const Ve=H.findIndex(Xe=>Xe==null);Ve>=0&&(H[Ve]=me,se.add(Ve))}return H},[ae]),Se=(be==null?void 0:be.speakerId)||"unknown",Pe=(be==null?void 0:be.speakerCategory)||"unknown",he=(be==null?void 0:be.text)||"",Be=_.useMemo(()=>{const H=fe.findIndex(se=>(se==null?void 0:se.id)===Se);return H>=0?H:Pe!=="unknown"?fe.findIndex(se=>(se==null?void 0:se.role)===Pe):-1},[fe,Se,Pe]),Te=_.useCallback((H,se)=>{const me=String((H==null?void 0:H.avatar)||"").trim();if(me)return/^(https?:)?\/\//i.test(me)||me.startsWith("/")?nu(me,v):nu(`${F}/${me}`,v);const re=we[se%Math.max(1,we.length)]||we[0];return nu(`${F}/${re}`,v)},[v,we,F]);_.useEffect(()=>{j({})},[G]),_.useEffect(()=>{let H=!1;async function se(){try{const[me,re]=await Promise.all([fetch(`${F}/manifest.json`,{cache:"no-store"}),fetch(`${F}/script.txt`,{cache:"no-store"})]),je=me.ok?await me.json().catch(()=>null):null,Ve=re.ok?await re.text().catch(()=>""):"";if(H)return;a(je?mne(je):Ti),l(String(Ve||"").trim());const Xe=String(me.headers.get("etag")||me.headers.get("last-modified")||Date.now()).trim();y(Xe||String(Date.now())),f("")}catch(me){if(H)return;f(String(me instanceof Error?me.message:"multi_asset_load_failed"))}}return se(),()=>{H=!0}},[F]);const We=_.useCallback(H=>{var re,je;if(typeof window>"u")return;const se=window.AudioContext||window.webkitAudioContext;if(!se)return;J.current||(J.current=new se);const me=J.current;if(me&&(X.current!==H||!U.current||!te.current)){try{(re=U.current)==null||re.disconnect()}catch{}try{(je=te.current)==null||je.disconnect()}catch{}const Ve=me.createMediaElementSource(H),Xe=me.createAnalyser();Xe.fftSize=256,Xe.smoothingTimeConstant=.82,Ve.connect(Xe),Xe.connect(me.destination),U.current=Ve,te.current=Xe,X.current=H}},[]);_.useEffect(()=>{const H="__onlytrade_multi_story_audio__",se=["__onlytrade_story_audio__","__onlytrade_multi_story_audio__"],me=window;for(const mt of se){const Qt=me[mt];Qt&&(Qt.narration&&(Qt.narration.pause(),Qt.narration.src=""),Qt.bgm&&(Qt.bgm.pause(),Qt.bgm.src=""),delete me[mt])}const re=new Audio(Q);re.preload="auto",re.loop=!0,re.autoplay=!0,re.volume=1;const je=new Audio(le);je.preload="auto",je.loop=!0,je.volume=.14,T.current=re,M.current=je,q.current=!1,I.current=!1,k(!1),b(0),N(Math.max(0,s.duration_sec||0)),m(""),We(re);const Ve=()=>{const mt=Number(re.duration);Number.isFinite(mt)&&mt>0&&N(mt)},Xe=()=>{b(Number.isFinite(re.currentTime)?re.currentTime:0)},vt=()=>k(!0),Ct=()=>k(!1),pt=()=>m("narration_load_failed"),st=()=>m(mt=>mt||"bgm_load_failed");return re.addEventListener("loadedmetadata",Ve),re.addEventListener("timeupdate",Xe),re.addEventListener("play",vt),re.addEventListener("pause",Ct),re.addEventListener("error",pt),je.addEventListener("error",st),me[H]={narration:re,bgm:je},re.load(),je.load(),()=>{re.removeEventListener("loadedmetadata",Ve),re.removeEventListener("timeupdate",Xe),re.removeEventListener("play",vt),re.removeEventListener("pause",Ct),re.removeEventListener("error",pt),je.removeEventListener("error",st),re.pause(),je.pause(),re.src="",je.src="";const mt=me[H];(mt==null?void 0:mt.narration)===re&&(mt==null?void 0:mt.bgm)===je&&delete me[H],T.current===re&&(T.current=null),M.current===je&&(M.current=null)}},[le,We,s.duration_sec,Q]);const Me=_.useCallback(async()=>{const H=T.current;if(H){if(!H.paused){k(!0);return}try{H.muted=!1,await H.play(),I.current=!1,k(!0)}catch(se){const me=String(se instanceof Error?se.message:"narration_play_failed");if(/NotAllowedError|play\(\) failed|AbortError|interrupted/i.test(me))try{H.muted=!0,await H.play(),I.current=!0,k(!0);return}catch{k(!1);return}m(me)}}},[]);_.useEffect(()=>{Me()},[Me,Q]),_.useEffect(()=>{const H=M.current;if(H){if(!A){H.pause();return}H.play().catch(()=>{})}},[A]),_.useEffect(()=>{if(typeof window>"u")return;const H=()=>{var me,re;const se=T.current;se&&I.current&&(se.muted=!1,se.play().then(()=>{I.current=!1,k(!0)}).catch(()=>{se.muted=!0})),(me=J.current)==null||me.resume().catch(()=>{}),(re=D.current)==null||re.resume().catch(()=>{})};return window.addEventListener("pointerdown",H),window.addEventListener("touchstart",H),window.addEventListener("keydown",H),()=>{window.removeEventListener("pointerdown",H),window.removeEventListener("touchstart",H),window.removeEventListener("keydown",H)}},[]),_.useEffect(()=>{if(!(A&&Pe==="listener")){const re=L.current;if(re){try{re.stop()}catch{}L.current=null}return}if(typeof window>"u")return;const se=window.AudioContext||window.webkitAudioContext;if(!se)return;D.current||(D.current=new se);const me=D.current;if(me){if(!V.current){const re=me.createGain();re.gain.value=.014,re.connect(me.destination),V.current=re}if(!K.current){const re=Math.floor(me.sampleRate*1.2),je=me.createBuffer(1,re,me.sampleRate),Ve=je.getChannelData(0);for(let Xe=0;Xe<re;Xe+=1)Ve[Xe]=(Math.random()*2-1)*.4;K.current=je}if(me.state==="suspended"&&me.resume().catch(()=>{}),!L.current&&V.current&&K.current){const re=me.createBufferSource();re.buffer=K.current,re.loop=!0;const je=me.createBiquadFilter();je.type="highpass",je.frequency.value=430;const Ve=me.createBiquadFilter();Ve.type="lowpass",Ve.frequency.value=3450,re.connect(je),je.connect(Ve),Ve.connect(V.current),re.onended=()=>{L.current===re&&(L.current=null)},re.start(),L.current=re}}},[Pe,A]),_.useEffect(()=>{let H=0;const se=Y.current;if(!se)return()=>{};if(!se.getContext("2d"))return()=>{};const re=new Uint8Array(128),je=()=>{const Ve=Y.current;if(!Ve)return;const Xe=Ve.getContext("2d");if(!Xe)return;const vt=Math.max(1,Math.min(2,window.devicePixelRatio||1)),Ct=Math.floor(Ve.clientWidth*vt),pt=Math.floor(Ve.clientHeight*vt);(Ve.width!==Ct||Ve.height!==pt)&&(Ve.width=Ct,Ve.height=pt),Xe.clearRect(0,0,Ct,pt),Xe.fillStyle="rgba(4, 12, 22, 0.75)",Xe.fillRect(0,0,Ct,pt);const st=te.current,mt=Math.floor(pt*.55),Qt=Date.now();let Nr=[];if(st&&A){const cr=Math.min(st.frequencyBinCount,re.length);st.getByteFrequencyData(re),Nr=Array.from({length:cr},(an,Ar)=>re[Ar]/255)}else Nr=Array.from({length:72},(cr,an)=>{const Ar=Qt/1e3*2.4+an*.31;return .18+(Math.sin(Ar)+1)/2*.42});const Xt=Nr.length,lr=Math.max(1,Math.floor(Ct/Math.max(80,Xt*2))),Wr=Math.max(2,Math.floor((Ct-lr*(Xt+1))/Xt)),Mr=Xe.createLinearGradient(0,0,Ct,0);Mr.addColorStop(0,"rgba(56, 189, 248, 0.95)"),Mr.addColorStop(.5,"rgba(16, 185, 129, 0.95)"),Mr.addColorStop(1,"rgba(251, 191, 36, 0.95)"),Xe.fillStyle=Mr;let An=lr;for(let cr=0;cr<Xt;cr+=1){const an=Nr[cr],Ar=Math.max(4,Math.floor(an*pt*.7));Xe.fillRect(An,mt-Ar/2,Wr,Ar),An+=Wr+lr}Xe.strokeStyle="rgba(255,255,255,0.6)",Xe.lineWidth=Math.max(1,vt),Xe.beginPath();for(let cr=0;cr<Xt;cr+=1){const an=Nr[cr],Ar=lr+cr*(Wr+lr)+Wr/2,En=mt-Math.sin(cr/Math.max(1,Xt-1)*Math.PI*2+Qt/380)*an*pt*.16;cr===0?Xe.moveTo(Ar,En):Xe.lineTo(Ar,En)}Xe.stroke(),H=window.requestAnimationFrame(je)};return H=window.requestAnimationFrame(je),()=>{window.cancelAnimationFrame(H)}},[A]),_.useEffect(()=>()=>{var se,me;try{(se=U.current)==null||se.disconnect()}catch{}try{(me=te.current)==null||me.disconnect()}catch{}J.current&&(J.current.close().catch(()=>{}),J.current=null);const H=L.current;if(H)try{H.stop()}catch{}D.current&&(D.current.close().catch(()=>{}),D.current=null)},[]);const ve=_.useCallback(async()=>{const H=T.current;if(H){if(!H.paused){q.current=!0,I.current=!1,H.pause(),k(!1);return}q.current=!1;try{H.muted=!1,await H.play(),k(!0)}catch{k(!1)}}},[]),Ae=_.useCallback(H=>{const se=T.current;if(!se)return;const me=S>0?S:Math.max(0,s.duration_sec),re=Math.max(0,Math.min(H,me));se.currentTime=re,b(re)},[S,s.duration_sec]);return d.jsx("div",{className:"h-[100dvh] w-screen overflow-hidden bg-[#06080d] text-white",children:d.jsxs("div",{className:"relative mx-auto h-full w-full max-w-[480px] overflow-hidden border-x border-white/10",children:[d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_12%_10%,rgba(56,189,248,0.18),transparent_45%),radial-gradient(circle_at_82%_82%,rgba(251,191,36,0.15),transparent_40%)]"}),d.jsxs("div",{className:"relative z-10 flex h-full flex-col",children:[d.jsxs("div",{className:"shrink-0 border-b border-white/10 bg-black/45 px-3 pb-2 pt-[max(10px,env(safe-area-inset-top,0px))] backdrop-blur",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-black tracking-wide text-cyan-200",children:s.title}),d.jsxs("div",{className:"text-[10px] font-mono text-cyan-100/80",children:[s.subtitle,"  host ",e.trader_name]})]}),d.jsx("div",{className:"rounded-full border border-emerald-300/40 bg-emerald-500/20 px-2 py-0.5 text-[10px] font-mono text-emerald-200",children:r})]}),(n||u||p)&&d.jsx("div",{className:"mt-2 rounded border border-red-400/35 bg-red-500/15 px-2 py-1 text-[10px] text-red-100",children:u||p||(i==="zh"?"":"Degraded stream: polling fallback active.")})]}),d.jsx("div",{className:"grid shrink-0 grid-cols-2 grid-rows-2 auto-rows-fr gap-2 border-b border-white/10 bg-black/50 p-2",style:{height:"50vh"},children:fe.map((H,se)=>{const me=!!H,re=me&&se===Be,je=me?Te(H,se):"",Ve=une(je),Xe=`${G}:${se}:${je}`,vt=we[se%Math.max(1,we.length)]||we[0],Ct=nu(`${F}/${vt}`,v),pt=Ve&&!E[Xe];return d.jsxs("div",{className:`relative h-full min-h-0 overflow-hidden rounded-xl border ${re?"border-emerald-300/70 shadow-[0_0_18px_rgba(16,185,129,0.45)]":"border-white/15"}`,children:[me?d.jsxs(d.Fragment,{children:[pt?d.jsx("video",{src:je,className:"h-full w-full object-cover bg-black",muted:!0,autoPlay:!0,loop:!0,playsInline:!0,preload:"auto",poster:Ct,disablePictureInPicture:!0,onError:()=>{j(st=>({...st,[Xe]:!0}))}}):d.jsx("img",{src:Ve?Ct:je,alt:(H==null?void 0:H.name)||`seat-${se+1}`,className:"h-full w-full object-cover",loading:"eager"}),d.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-black/65 via-transparent to-black/35"}),d.jsx("div",{className:"absolute left-2 top-2 rounded-full border border-white/20 bg-black/55 px-2 py-0.5 text-[10px] font-semibold text-white/90",children:(H==null?void 0:H.role)==="host"?"Host":(H==null?void 0:H.role)==="guest"?"Guest":(H==null?void 0:H.role)==="listener"?"Caller":"Seat"}),d.jsxs("div",{className:"absolute bottom-2 left-2 right-2",children:[d.jsx("div",{className:"rounded bg-black/55 px-2 py-1 text-[11px] font-semibold text-white",children:H==null?void 0:H.name}),re&&d.jsx("div",{className:"mt-1 inline-flex rounded bg-emerald-400/25 px-2 py-0.5 text-[10px] font-semibold text-emerald-200",children:""})]})]}):d.jsx("div",{className:"flex h-full w-full items-center justify-center bg-[radial-gradient(circle_at_20%_20%,rgba(56,189,248,0.10),transparent_45%),radial-gradient(circle_at_80%_80%,rgba(148,163,184,0.08),transparent_45%)]",children:d.jsxs("div",{className:"rounded border border-white/15 bg-black/40 px-3 py-1 text-[11px] font-semibold text-white/70",children:[" ",se+1]})}),re&&d.jsx("div",{className:"pointer-events-none absolute inset-0 animate-pulse rounded-xl border border-emerald-300/70"})]},(H==null?void 0:H.id)||`seat-${se}`)})}),d.jsxs("div",{className:"shrink-0 border-b border-white/10 bg-[#090d12] px-3 py-2",children:[d.jsxs("div",{className:"relative h-24 overflow-hidden rounded-lg border border-cyan-300/20 bg-black/60",children:[d.jsx("canvas",{ref:Y,className:"h-full w-full"}),d.jsx("div",{className:"pointer-events-none absolute left-2 top-2 rounded bg-black/55 px-2 py-0.5 text-[10px] font-mono text-cyan-200",children:be?`${rg(be.speakerId)} `:""})]}),d.jsx("div",{className:"mt-2 min-h-[60px] rounded border border-white/10 bg-black/45 p-2",children:d.jsx("div",{className:"line-clamp-3 text-[13px] leading-relaxed text-white/95",children:he||(i==="zh"?"...":"Preparing stream...")})}),d.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>void ve(),className:"rounded border border-cyan-300/45 bg-black/45 px-2 py-1 text-[11px] font-bold text-cyan-200",children:A?i==="zh"?"":"Pause":i==="zh"?"":"Resume"}),d.jsx("input",{type:"range",min:0,max:Math.max(1,S||s.duration_sec),step:.1,value:Math.min(x,Math.max(1,S||s.duration_sec)),onInput:H=>Ae(Number(H.target.value)),onChange:H=>Ae(Number(H.target.value)),className:"h-4 w-full accent-cyan-300",style:{touchAction:"pan-x"},"aria-label":"Narration progress"}),d.jsxs("div",{className:"text-[10px] font-mono text-white/70",children:[gk(x)," / ",gk(S||s.duration_sec)]})]})]}),d.jsx("div",{className:"min-h-0 flex-1 bg-[#05070a]"})]})]})})}function Nz(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Nz(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Mt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Nz(t))&&(n&&(n+=" "),n+=e);return n}var Zx,vk;function xi(){if(vk)return Zx;vk=1;var t=Array.isArray;return Zx=t,Zx}var eb,yk;function Az(){if(yk)return eb;yk=1;var t=typeof jp=="object"&&jp&&jp.Object===Object&&jp;return eb=t,eb}var tb,xk;function ha(){if(xk)return tb;xk=1;var t=Az(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return tb=r,tb}var rb,bk;function y0(){if(bk)return rb;bk=1;var t=ha(),e=t.Symbol;return rb=e,rb}var nb,wk;function yne(){if(wk)return nb;wk=1;var t=y0(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=r.call(a,i),l=a[i];try{a[i]=void 0;var u=!0}catch{}var f=n.call(a);return u&&(o?a[i]=l:delete a[i]),f}return nb=s,nb}var ib,Sk;function xne(){if(Sk)return ib;Sk=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return ib=r,ib}var sb,_k;function io(){if(_k)return sb;_k=1;var t=y0(),e=yne(),r=xne(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:n:s&&s in Object(o)?e(o):r(o)}return sb=a,sb}var ab,Nk;function so(){if(Nk)return ab;Nk=1;function t(e){return e!=null&&typeof e=="object"}return ab=t,ab}var ob,Ak;function Nd(){if(Ak)return ob;Ak=1;var t=io(),e=so(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return ob=n,ob}var lb,Ek;function r8(){if(Ek)return lb;Ek=1;var t=xi(),e=Nd(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||a!=null&&s in Object(a)}return lb=i,lb}var cb,Ck;function nl(){if(Ck)return cb;Ck=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return cb=t,cb}var ub,kk;function n8(){if(kk)return ub;kk=1;var t=io(),e=nl(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==n||l==i||l==r||l==s}return ub=a,ub}var db,jk;function bne(){if(jk)return db;jk=1;var t=ha(),e=t["__core-js_shared__"];return db=e,db}var hb,Pk;function wne(){if(Pk)return hb;Pk=1;var t=bne(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return hb=r,hb}var fb,Tk;function Ez(){if(Tk)return fb;Tk=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return fb=r,fb}var pb,Mk;function Sne(){if(Mk)return pb;Mk=1;var t=n8(),e=wne(),r=nl(),n=Ez(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,u=o.hasOwnProperty,f=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!r(m)||e(m))return!1;var v=t(m)?f:s;return v.test(n(m))}return pb=p,pb}var mb,Ok;function _ne(){if(Ok)return mb;Ok=1;function t(e,r){return e==null?void 0:e[r]}return mb=t,mb}var gb,Rk;function xc(){if(Rk)return gb;Rk=1;var t=Sne(),e=_ne();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return gb=r,gb}var vb,Ik;function Ov(){if(Ik)return vb;Ik=1;var t=xc(),e=t(Object,"create");return vb=e,vb}var yb,Dk;function Nne(){if(Dk)return yb;Dk=1;var t=Ov();function e(){this.__data__=t?t(null):{},this.size=0}return yb=e,yb}var xb,Lk;function Ane(){if(Lk)return xb;Lk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return xb=t,xb}var bb,zk;function Ene(){if(zk)return bb;zk=1;var t=Ov(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return n.call(a,s)?a[s]:void 0}return bb=i,bb}var wb,Fk;function Cne(){if(Fk)return wb;Fk=1;var t=Ov(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return wb=n,wb}var Sb,Bk;function kne(){if(Bk)return Sb;Bk=1;var t=Ov(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return Sb=r,Sb}var _b,$k;function jne(){if($k)return _b;$k=1;var t=Nne(),e=Ane(),r=Ene(),n=Cne(),i=kne();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,_b=s,_b}var Nb,qk;function Pne(){if(qk)return Nb;qk=1;function t(){this.__data__=[],this.size=0}return Nb=t,Nb}var Ab,Uk;function i8(){if(Uk)return Ab;Uk=1;function t(e,r){return e===r||e!==e&&r!==r}return Ab=t,Ab}var Eb,Vk;function Rv(){if(Vk)return Eb;Vk=1;var t=i8();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Eb=e,Eb}var Cb,Wk;function Tne(){if(Wk)return Cb;Wk=1;var t=Rv(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():r.call(s,a,1),--this.size,!0}return Cb=n,Cb}var kb,Hk;function Mne(){if(Hk)return kb;Hk=1;var t=Rv();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return kb=e,kb}var jb,Kk;function One(){if(Kk)return jb;Kk=1;var t=Rv();function e(r){return t(this.__data__,r)>-1}return jb=e,jb}var Pb,Gk;function Rne(){if(Gk)return Pb;Gk=1;var t=Rv();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return Pb=e,Pb}var Tb,Xk;function Iv(){if(Xk)return Tb;Xk=1;var t=Pne(),e=Tne(),r=Mne(),n=One(),i=Rne();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Tb=s,Tb}var Mb,Yk;function s8(){if(Yk)return Mb;Yk=1;var t=xc(),e=ha(),r=t(e,"Map");return Mb=r,Mb}var Ob,Jk;function Ine(){if(Jk)return Ob;Jk=1;var t=jne(),e=Iv(),r=s8();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Ob=n,Ob}var Rb,Qk;function Dne(){if(Qk)return Rb;Qk=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Rb=t,Rb}var Ib,Zk;function Dv(){if(Zk)return Ib;Zk=1;var t=Dne();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Ib=e,Ib}var Db,ej;function Lne(){if(ej)return Db;ej=1;var t=Dv();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Db=e,Db}var Lb,tj;function zne(){if(tj)return Lb;tj=1;var t=Dv();function e(r){return t(this,r).get(r)}return Lb=e,Lb}var zb,rj;function Fne(){if(rj)return zb;rj=1;var t=Dv();function e(r){return t(this,r).has(r)}return zb=e,zb}var Fb,nj;function Bne(){if(nj)return Fb;nj=1;var t=Dv();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return Fb=e,Fb}var Bb,ij;function a8(){if(ij)return Bb;ij=1;var t=Ine(),e=Lne(),r=zne(),n=Fne(),i=Bne();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var u=a[o];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Bb=s,Bb}var $b,sj;function Cz(){if(sj)return $b;sj=1;var t=a8(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var u=n.apply(this,a);return s.cache=l.set(o,u)||l,u};return s.cache=new(r.Cache||t),s}return r.Cache=t,$b=r,$b}var qb,aj;function $ne(){if(aj)return qb;aj=1;var t=Cz(),e=500;function r(n){var i=t(n,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return qb=r,qb}var Ub,oj;function qne(){if(oj)return Ub;oj=1;var t=$ne(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,o,l,u){s.push(l?u.replace(r,"$1"):o||a)}),s});return Ub=n,Ub}var Vb,lj;function o8(){if(lj)return Vb;lj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return Vb=t,Vb}var Wb,cj;function Une(){if(cj)return Wb;cj=1;var t=y0(),e=o8(),r=xi(),n=Nd(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(r(o))return e(o,a)+"";if(n(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return Wb=a,Wb}var Hb,uj;function kz(){if(uj)return Hb;uj=1;var t=Une();function e(r){return r==null?"":t(r)}return Hb=e,Hb}var Kb,dj;function jz(){if(dj)return Kb;dj=1;var t=xi(),e=r8(),r=qne(),n=kz();function i(s,a){return t(s)?s:e(s,a)?[s]:r(n(s))}return Kb=i,Kb}var Gb,hj;function Lv(){if(hj)return Gb;hj=1;var t=Nd();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Gb=e,Gb}var Xb,fj;function l8(){if(fj)return Xb;fj=1;var t=jz(),e=Lv();function r(n,i){i=t(i,n);for(var s=0,a=i.length;n!=null&&s<a;)n=n[e(i[s++])];return s&&s==a?n:void 0}return Xb=r,Xb}var Yb,pj;function Pz(){if(pj)return Yb;pj=1;var t=l8();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return Yb=e,Yb}var Vne=Pz();const is=er(Vne);var Jb,mj;function Wne(){if(mj)return Jb;mj=1;function t(e){return e==null}return Jb=t,Jb}var Hne=Wne();const _t=er(Hne);var Qb,gj;function Kne(){if(gj)return Qb;gj=1;var t=io(),e=xi(),r=so(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return Qb=i,Qb}var Gne=Kne();const hc=er(Gne);var Xne=n8();const At=er(Xne);var Yne=nl();const Ad=er(Yne);var Zb={exports:{}},Yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vj;function Jne(){if(vj)return Yt;vj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function x(b){if(typeof b=="object"&&b!==null){var S=b.$$typeof;switch(S){case t:switch(b=b.type,b){case r:case i:case n:case u:case f:return b;default:switch(b=b&&b.$$typeof,b){case o:case a:case l:case m:case p:case s:return b;default:return S}}case e:return S}}}return Yt.ContextConsumer=a,Yt.ContextProvider=s,Yt.Element=t,Yt.ForwardRef=l,Yt.Fragment=r,Yt.Lazy=m,Yt.Memo=p,Yt.Portal=e,Yt.Profiler=i,Yt.StrictMode=n,Yt.Suspense=u,Yt.SuspenseList=f,Yt.isAsyncMode=function(){return!1},Yt.isConcurrentMode=function(){return!1},Yt.isContextConsumer=function(b){return x(b)===a},Yt.isContextProvider=function(b){return x(b)===s},Yt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},Yt.isForwardRef=function(b){return x(b)===l},Yt.isFragment=function(b){return x(b)===r},Yt.isLazy=function(b){return x(b)===m},Yt.isMemo=function(b){return x(b)===p},Yt.isPortal=function(b){return x(b)===e},Yt.isProfiler=function(b){return x(b)===i},Yt.isStrictMode=function(b){return x(b)===n},Yt.isSuspense=function(b){return x(b)===u},Yt.isSuspenseList=function(b){return x(b)===f},Yt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===u||b===f||b===v||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===p||b.$$typeof===s||b.$$typeof===a||b.$$typeof===l||b.$$typeof===y||b.getModuleId!==void 0)},Yt.typeOf=x,Yt}var yj;function Qne(){return yj||(yj=1,Zb.exports=Jne()),Zb.exports}var Zne=Qne(),ew,xj;function Tz(){if(xj)return ew;xj=1;var t=io(),e=so(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return ew=n,ew}var tw,bj;function eie(){if(bj)return tw;bj=1;var t=Tz();function e(r){return t(r)&&r!=+r}return tw=e,tw}var tie=eie();const Ed=er(tie);var rie=Tz();const nie=er(rie);var Ms=function(e){return e===0?0:e>0?1:-1},Kl=function(e){return hc(e)&&e.indexOf("%")===e.length-1},Ue=function(e){return nie(e)&&!Ed(e)},iie=function(e){return _t(e)},en=function(e){return Ue(e)||hc(e)},sie=0,bc=function(e){var r=++sie;return"".concat(e||"").concat(r)},fc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(e)&&!hc(e))return n;var s;if(Kl(e)){var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return Ed(s)&&(s=n),i&&s>r&&(s=r),s},qo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},aie=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Rr=function(e,r){return Ue(e)&&Ue(r)?function(n){return e+n*(r-e)}:function(){return r}};function ng(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):is(n,e))===r})}var oie=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,i=0,s=0,a=0,o=1/0,l=-1/0,u=0,f=0,p=0;p<r;p++)u=e[p].cx||0,f=e[p].cy||0,n+=u,i+=f,s+=u*f,a+=u*u,o=Math.min(o,u),l=Math.max(l,u);var m=r*a!==n*n?(r*s-n*i)/(r*a-n*n):0;return{xmin:o,xmax:l,a:m,b:(i-m*n)/r}},lie=function(e,r){return Ue(e)&&Ue(r)?e-r:hc(e)&&hc(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ju(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function b3(t){"@babel/helpers - typeof";return b3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b3(t)}var cie=["viewBox","children"],uie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wj=["points","pathLength"],rw={svg:cie,polygon:wj,polyline:wj},c8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ig=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(_.isValidElement(e)&&(n=e.props),!Ad(n))return null;var i={};return Object.keys(n).forEach(function(s){c8.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},die=function(e,r,n){return function(i){return e(r,n,i),null}},gf=function(e,r,n){if(!Ad(e)||b3(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];c8.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=die(a,r,n))}),i},hie=["children"],fie=["children"];function Sj(t,e){if(t==null)return{};var r=pie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function w3(t){"@babel/helpers - typeof";return w3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w3(t)}var _j={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ba=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},Nj=null,nw=null,u8=function t(e){if(e===Nj&&Array.isArray(nw))return nw;var r=[];return _.Children.forEach(e,function(n){_t(n)||(Zne.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),nw=r,Nj=e,r};function vi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ba(i)}):n=[Ba(e)],u8(t).forEach(function(i){var s=is(i,"type.displayName")||is(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Oi(t,e){var r=vi(t,e);return r&&r[0]}var Aj=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ue(n)||n<=0||!Ue(i)||i<=0)},mie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gie=function(e){return e&&e.type&&hc(e.type)&&mie.indexOf(e.type)>=0},Mz=function(e){return e&&w3(e)==="object"&&"clipDot"in e},vie=function(e,r,n,i){var s,a=(s=rw==null?void 0:rw[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!At(e)&&(i&&a.includes(r)||uie.includes(r))||n&&c8.includes(r)},Nt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(_.isValidElement(e)&&(i=e.props),!Ad(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;vie((o=i)===null||o===void 0?void 0:o[a],a,r,n)&&(s[a]=i[a])}),s},S3=function t(e,r){if(e===r)return!0;var n=_.Children.count(e);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Ej(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!Ej(s,a))return!1}return!0},Ej=function(e,r){if(_t(e)&&_t(r))return!0;if(!_t(e)&&!_t(r)){var n=e.props||{},i=n.children,s=Sj(n,hie),a=r.props||{},o=a.children,l=Sj(a,fie);return i&&o?ju(s,l)&&S3(i,o):!i&&!o?ju(s,l):!1}return!1},Cj=function(e,r){var n=[],i={};return u8(e).forEach(function(s,a){if(gie(s))n.push(s);else if(s){var o=Ba(s.type),l=r[o]||{},u=l.handler,f=l.once;if(u&&(!f||!i[o])){var p=u(s,o,a);n.push(p),i[o]=!0}}}),n},yie=function(e){var r=e&&e.type;return r&&_j[r]?_j[r]:null},xie=function(e,r){return u8(r).indexOf(e)},bie=["children","width","height","viewBox","className","style","title","desc"];function _3(){return _3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_3.apply(this,arguments)}function wie(t,e){if(t==null)return{};var r=Sie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function N3(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,u=wie(t,bie),f=i||{width:r,height:n,x:0,y:0},p=Mt("recharts-surface",s);return W.createElement("svg",_3({},Nt(u,!0,"svg"),{className:p,width:r,height:n,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),W.createElement("title",null,o),W.createElement("desc",null,l),e)}var _ie=["children","className"];function A3(){return A3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A3.apply(this,arguments)}function Nie(t,e){if(t==null)return{};var r=Aie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Gt=W.forwardRef(function(t,e){var r=t.children,n=t.className,i=Nie(t,_ie),s=Mt("recharts-layer",n);return W.createElement("g",A3({className:s},Nt(i,!0),{ref:e}),r)}),$a=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},iw,kj;function Eie(){if(kj)return iw;kj=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+r];return a}return iw=t,iw}var sw,jj;function Cie(){if(jj)return sw;jj=1;var t=Eie();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return sw=e,sw}var aw,Pj;function Oz(){if(Pj)return aw;Pj=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+t+i+s+"]");function l(u){return o.test(u)}return aw=l,aw}var ow,Tj;function kie(){if(Tj)return ow;Tj=1;function t(e){return e.split("")}return ow=t,ow}var lw,Mj;function jie(){if(Mj)return lw;Mj=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",a="["+t+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",f="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",y=u+"?",x="["+s+"]?",b="(?:"+v+"(?:"+[f,p,m].join("|")+")"+x+y+")*",S=x+y+b,N="(?:"+[f+o+"?",o,p,m,a].join("|")+")",A=RegExp(l+"(?="+l+")|"+N+S,"g");function k(E){return E.match(A)||[]}return lw=k,lw}var cw,Oj;function Pie(){if(Oj)return cw;Oj=1;var t=kie(),e=Oz(),r=jie();function n(i){return e(i)?r(i):t(i)}return cw=n,cw}var uw,Rj;function Tie(){if(Rj)return uw;Rj=1;var t=Cie(),e=Oz(),r=Pie(),n=kz();function i(s){return function(a){a=n(a);var o=e(a)?r(a):void 0,l=o?o[0]:a.charAt(0),u=o?t(o,1).join(""):a.slice(1);return l[s]()+u}}return uw=i,uw}var dw,Ij;function Mie(){if(Ij)return dw;Ij=1;var t=Tie(),e=t("toUpperCase");return dw=e,dw}var Oie=Mie();const zv=er(Oie);function ar(t){return function(){return t}}const Rz=Math.cos,sg=Math.sin,Ds=Math.sqrt,ag=Math.PI,Fv=2*ag,E3=Math.PI,C3=2*E3,$l=1e-6,Rie=C3-$l;function Iz(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Iie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Iz;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Die{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Iz:Iie(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,u=i-r,f=a-e,p=o-r,m=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>$l)if(!(Math.abs(p*l-u*f)>$l)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-a,y=i-o,x=l*l+u*u,b=v*v+y*y,S=Math.sqrt(x),N=Math.sqrt(m),A=s*Math.tan((E3-Math.acos((x+m-b)/(2*S*N)))/2),k=A/N,E=A/S;Math.abs(k-1)>$l&&this._append`L${e+k*f},${r+k*p}`,this._append`A${s},${s},0,0,${+(p*v>f*y)},${this._x1=e+E*l},${this._y1=r+E*u}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,f=r+l,p=1^a,m=a?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>$l||Math.abs(this._y1-f)>$l)&&this._append`L${u},${f}`,n&&(m<0&&(m=m%C3+C3),m>Rie?this._append`A${n},${n},0,1,${p},${e-o},${r-l}A${n},${n},0,1,${p},${this._x1=u},${this._y1=f}`:m>$l&&this._append`A${n},${n},0,${+(m>=E3)},${p},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function d8(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Die(e)}function h8(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Dz(t){this._context=t}Dz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bv(t){return new Dz(t)}function Lz(t){return t[0]}function zz(t){return t[1]}function Fz(t,e){var r=ar(!0),n=null,i=Bv,s=null,a=d8(o);t=typeof t=="function"?t:t===void 0?Lz:ar(t),e=typeof e=="function"?e:e===void 0?zz:ar(e);function o(l){var u,f=(l=h8(l)).length,p,m=!1,v;for(n==null&&(s=i(v=a())),u=0;u<=f;++u)!(u<f&&r(p=l[u],u,l))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(p,u,l),+e(p,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:ar(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:ar(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ar(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function Xp(t,e,r){var n=null,i=ar(!0),s=null,a=Bv,o=null,l=d8(u);t=typeof t=="function"?t:t===void 0?Lz:ar(+t),e=typeof e=="function"?e:ar(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?zz:ar(+r);function u(p){var m,v,y,x=(p=h8(p)).length,b,S=!1,N,A=new Array(x),k=new Array(x);for(s==null&&(o=a(N=l())),m=0;m<=x;++m){if(!(m<x&&i(b=p[m],m,p))===S)if(S=!S)v=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=m-1;y>=v;--y)o.point(A[y],k[y]);o.lineEnd(),o.areaEnd()}S&&(A[m]=+t(b,m,p),k[m]=+e(b,m,p),o.point(n?+n(b,m,p):A[m],r?+r(b,m,p):k[m]))}if(N)return o=null,N+""||null}function f(){return Fz().defined(i).curve(a).context(s)}return u.x=function(p){return arguments.length?(t=typeof p=="function"?p:ar(+p),n=null,u):t},u.x0=function(p){return arguments.length?(t=typeof p=="function"?p:ar(+p),u):t},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:ar(+p),u):n},u.y=function(p){return arguments.length?(e=typeof p=="function"?p:ar(+p),r=null,u):e},u.y0=function(p){return arguments.length?(e=typeof p=="function"?p:ar(+p),u):e},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:ar(+p),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:ar(!!p),u):i},u.curve=function(p){return arguments.length?(a=p,s!=null&&(o=a(s)),u):a},u.context=function(p){return arguments.length?(p==null?s=o=null:o=a(s=p),u):s},u}class Bz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Lie(t){return new Bz(t,!0)}function zie(t){return new Bz(t,!1)}const f8={draw(t,e){const r=Ds(e/ag);t.moveTo(r,0),t.arc(0,0,r,0,Fv)}},Fie={draw(t,e){const r=Ds(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},$z=Ds(1/3),Bie=$z*2,$ie={draw(t,e){const r=Ds(e/Bie),n=r*$z;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},qie={draw(t,e){const r=Ds(e),n=-r/2;t.rect(n,n,r,r)}},Uie=.8908130915292852,qz=sg(ag/10)/sg(7*ag/10),Vie=sg(Fv/10)*qz,Wie=-Rz(Fv/10)*qz,Hie={draw(t,e){const r=Ds(e*Uie),n=Vie*r,i=Wie*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=Fv*s/5,o=Rz(a),l=sg(a);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},hw=Ds(3),Kie={draw(t,e){const r=-Ds(e/(hw*3));t.moveTo(0,r*2),t.lineTo(-hw*r,-r),t.lineTo(hw*r,-r),t.closePath()}},Xi=-.5,Yi=Ds(3)/2,k3=1/Ds(12),Gie=(k3/2+1)*3,Xie={draw(t,e){const r=Ds(e/Gie),n=r/2,i=r*k3,s=n,a=r*k3+r,o=-s,l=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Xi*n-Yi*i,Yi*n+Xi*i),t.lineTo(Xi*s-Yi*a,Yi*s+Xi*a),t.lineTo(Xi*o-Yi*l,Yi*o+Xi*l),t.lineTo(Xi*n+Yi*i,Xi*i-Yi*n),t.lineTo(Xi*s+Yi*a,Xi*a-Yi*s),t.lineTo(Xi*o+Yi*l,Xi*l-Yi*o),t.closePath()}};function Yie(t,e){let r=null,n=d8(i);t=typeof t=="function"?t:ar(t||f8),e=typeof e=="function"?e:ar(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ar(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ar(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function og(){}function lg(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Uz(t){this._context=t}Uz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Jie(t){return new Uz(t)}function Vz(t){this._context=t}Vz.prototype={areaStart:og,areaEnd:og,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qie(t){return new Vz(t)}function Wz(t){this._context=t}Wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:lg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zie(t){return new Wz(t)}function Hz(t){this._context=t}Hz.prototype={areaStart:og,areaEnd:og,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ese(t){return new Hz(t)}function Dj(t){return t<0?-1:1}function Lj(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(Dj(s)+Dj(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function zj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function fw(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function cg(t){this._context=t}cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fw(this,this._t0,zj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,fw(this,zj(this,r=Lj(this,t,e)),r);break;default:fw(this,this._t0,r=Lj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Kz(t){this._context=new Gz(t)}(Kz.prototype=Object.create(cg.prototype)).point=function(t,e){cg.prototype.point.call(this,e,t)};function Gz(t){this._context=t}Gz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function tse(t){return new cg(t)}function rse(t){return new Kz(t)}function Xz(t){this._context=t}Xz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Fj(t),i=Fj(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Fj(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function nse(t){return new Xz(t)}function $v(t,e){this._context=t,this._t=e}$v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function ise(t){return new $v(t,.5)}function sse(t){return new $v(t,0)}function ase(t){return new $v(t,1)}function qu(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function j3(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ose(t,e){return t[e]}function lse(t){const e=[];return e.key=t,e}function cse(){var t=ar([]),e=j3,r=qu,n=ose;function i(s){var a=Array.from(t.apply(this,arguments),lse),o,l=a.length,u=-1,f;for(const p of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+n(p,a[o].key,u,s)]).data=p;for(o=0,f=h8(e(a));o<l;++o)a[f[o]].index=o;return r(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ar(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:ar(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?j3:typeof s=="function"?s:ar(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??qu,i):r},i}function use(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}qu(t,e)}}function dse(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}qu(t,e)}}function hse(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,u=0;o<a;++o){for(var f=t[e[o]],p=f[n][1]||0,m=f[n-1][1]||0,v=(p-m)/2,y=0;y<o;++y){var x=t[e[y]],b=x[n][1]||0,S=x[n-1][1]||0;v+=b-S}l+=p,u+=v*p}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,qu(t,e)}}function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}var fse=["type","size","sizeType"];function P3(){return P3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P3.apply(this,arguments)}function Bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $j(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(r),!0).forEach(function(n){pse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pse(t,e,r){return e=mse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mse(t){var e=gse(t,"string");return vf(e)=="symbol"?e:e+""}function gse(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vse(t,e){if(t==null)return{};var r=yse(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Yz={symbolCircle:f8,symbolCross:Fie,symbolDiamond:$ie,symbolSquare:qie,symbolStar:Hie,symbolTriangle:Kie,symbolWye:Xie},xse=Math.PI/180,bse=function(e){var r="symbol".concat(zv(e));return Yz[r]||f8},wse=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*xse;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Sse=function(e,r){Yz["symbol".concat(zv(e))]=r},qv=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=vse(e,fse),u=$j($j({},l),{},{type:n,size:s,sizeType:o}),f=function(){var b=bse(n),S=Yie().type(b).size(wse(s,o,n));return S()},p=u.className,m=u.cx,v=u.cy,y=Nt(u,!0);return m===+m&&v===+v&&s===+s?W.createElement("path",P3({},y,{className:Mt("recharts-symbols",p),transform:"translate(".concat(m,", ").concat(v,")"),d:f()})):null};qv.registerSymbol=Sse;function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function T3(){return T3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T3.apply(this,arguments)}function qj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(r),!0).forEach(function(n){yf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ase(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qz(n.key),n)}}function Ese(t,e,r){return e&&Ase(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cse(t,e,r){return e=ug(e),kse(t,Jz()?Reflect.construct(e,r||[],ug(t).constructor):e.apply(t,r))}function kse(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jse(t)}function jse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jz=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(t)}function Pse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M3(t,e)}function M3(t,e){return M3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M3(t,e)}function yf(t,e,r){return e=Qz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qz(t){var e=Tse(t,"string");return Uu(e)=="symbol"?e:e+""}function Tse(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ji=32,p8=(function(t){function e(){return Nse(this,e),Cse(this,e,arguments)}return Pse(e,t),Ese(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Ji/2,a=Ji/6,o=Ji/3,l=n.inactive?i:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ji,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Ji,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ji/8,"h").concat(Ji,"v").concat(Ji*3/4,"h").concat(-Ji,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var u=_se({},n);return delete u.legendIcon,W.cloneElement(n.legendIcon,u)}return W.createElement(qv,{fill:l,cx:s,cy:s,size:Ji,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Ji,height:Ji},p={display:o==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,y){var x=v.formatter||l,b=Mt(yf(yf({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=At(v.value)?null:v.value;$a(!At(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=v.inactive?u:v.color;return W.createElement("li",T3({className:b,style:p,key:"legend-item-".concat(y)},gf(n.props,v,y)),W.createElement(N3,{width:a,height:a,viewBox:f,style:m},n.renderIcon(v)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},x?x(S,v,y):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(_.PureComponent);yf(p8,"displayName","Legend");yf(p8,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pw,Uj;function Mse(){if(Uj)return pw;Uj=1;var t=Iv();function e(){this.__data__=new t,this.size=0}return pw=e,pw}var mw,Vj;function Ose(){if(Vj)return mw;Vj=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return mw=t,mw}var gw,Wj;function Rse(){if(Wj)return gw;Wj=1;function t(e){return this.__data__.get(e)}return gw=t,gw}var vw,Hj;function Ise(){if(Hj)return vw;Hj=1;function t(e){return this.__data__.has(e)}return vw=t,vw}var yw,Kj;function Dse(){if(Kj)return yw;Kj=1;var t=Iv(),e=s8(),r=a8(),n=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<n-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new r(l)}return o.set(s,a),this.size=o.size,this}return yw=i,yw}var xw,Gj;function Zz(){if(Gj)return xw;Gj=1;var t=Iv(),e=Mse(),r=Ose(),n=Rse(),i=Ise(),s=Dse();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,xw=a,xw}var bw,Xj;function Lse(){if(Xj)return bw;Xj=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return bw=e,bw}var ww,Yj;function zse(){if(Yj)return ww;Yj=1;function t(e){return this.__data__.has(e)}return ww=t,ww}var Sw,Jj;function eF(){if(Jj)return Sw;Jj=1;var t=a8(),e=Lse(),r=zse();function n(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Sw=n,Sw}var _w,Qj;function tF(){if(Qj)return _w;Qj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return _w=t,_w}var Nw,Zj;function rF(){if(Zj)return Nw;Zj=1;function t(e,r){return e.has(r)}return Nw=t,Nw}var Aw,e9;function nF(){if(e9)return Aw;e9=1;var t=eF(),e=tF(),r=rF(),n=1,i=2;function s(a,o,l,u,f,p){var m=l&n,v=a.length,y=o.length;if(v!=y&&!(m&&y>v))return!1;var x=p.get(a),b=p.get(o);if(x&&b)return x==o&&b==a;var S=-1,N=!0,A=l&i?new t:void 0;for(p.set(a,o),p.set(o,a);++S<v;){var k=a[S],E=o[S];if(u)var j=m?u(E,k,S,o,a,p):u(k,E,S,a,o,p);if(j!==void 0){if(j)continue;N=!1;break}if(A){if(!e(o,function(T,M){if(!r(A,M)&&(k===T||f(k,T,l,u,p)))return A.push(M)})){N=!1;break}}else if(!(k===E||f(k,E,l,u,p))){N=!1;break}}return p.delete(a),p.delete(o),N}return Aw=s,Aw}var Ew,t9;function Fse(){if(t9)return Ew;t9=1;var t=ha(),e=t.Uint8Array;return Ew=e,Ew}var Cw,r9;function Bse(){if(r9)return Cw;r9=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return Cw=t,Cw}var kw,n9;function m8(){if(n9)return kw;n9=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return kw=t,kw}var jw,i9;function $se(){if(i9)return jw;i9=1;var t=y0(),e=Fse(),r=i8(),n=nF(),i=Bse(),s=m8(),a=1,o=2,l="[object Boolean]",u="[object Date]",f="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",y="[object Set]",x="[object String]",b="[object Symbol]",S="[object ArrayBuffer]",N="[object DataView]",A=t?t.prototype:void 0,k=A?A.valueOf:void 0;function E(j,T,M,I,q,D,L){switch(M){case N:if(j.byteLength!=T.byteLength||j.byteOffset!=T.byteOffset)return!1;j=j.buffer,T=T.buffer;case S:return!(j.byteLength!=T.byteLength||!D(new e(j),new e(T)));case l:case u:case m:return r(+j,+T);case f:return j.name==T.name&&j.message==T.message;case v:case x:return j==T+"";case p:var V=i;case y:var K=I&a;if(V||(V=s),j.size!=T.size&&!K)return!1;var Y=L.get(j);if(Y)return Y==T;I|=o,L.set(j,T);var J=n(V(j),V(T),I,q,D,L);return L.delete(j),J;case b:if(k)return k.call(j)==k.call(T)}return!1}return jw=E,jw}var Pw,s9;function iF(){if(s9)return Pw;s9=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return Pw=t,Pw}var Tw,a9;function qse(){if(a9)return Tw;a9=1;var t=iF(),e=xi();function r(n,i,s){var a=i(n);return e(n)?a:t(a,s(n))}return Tw=r,Tw}var Mw,o9;function Use(){if(o9)return Mw;o9=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,a=[];++n<i;){var o=e[n];r(o,n,e)&&(a[s++]=o)}return a}return Mw=t,Mw}var Ow,l9;function Vse(){if(l9)return Ow;l9=1;function t(){return[]}return Ow=t,Ow}var Rw,c9;function Wse(){if(c9)return Rw;c9=1;var t=Use(),e=Vse(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return n.call(a,o)}))}:e;return Rw=s,Rw}var Iw,u9;function Hse(){if(u9)return Iw;u9=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Iw=t,Iw}var Dw,d9;function Kse(){if(d9)return Dw;d9=1;var t=io(),e=so(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Dw=n,Dw}var Lw,h9;function g8(){if(h9)return Lw;h9=1;var t=Kse(),e=so(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return Lw=s,Lw}var Lh={exports:{}},zw,f9;function Gse(){if(f9)return zw;f9=1;function t(){return!1}return zw=t,zw}Lh.exports;var p9;function sF(){return p9||(p9=1,(function(t,e){var r=ha(),n=Gse(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(Lh,Lh.exports)),Lh.exports}var Fw,m9;function v8(){if(m9)return Fw;m9=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Fw=r,Fw}var Bw,g9;function y8(){if(g9)return Bw;g9=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Bw=e,Bw}var $w,v9;function Xse(){if(v9)return $w;v9=1;var t=io(),e=y8(),r=so(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",m="[object RegExp]",v="[object Set]",y="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",N="[object Float32Array]",A="[object Float64Array]",k="[object Int8Array]",E="[object Int16Array]",j="[object Int32Array]",T="[object Uint8Array]",M="[object Uint8ClampedArray]",I="[object Uint16Array]",q="[object Uint32Array]",D={};D[N]=D[A]=D[k]=D[E]=D[j]=D[T]=D[M]=D[I]=D[q]=!0,D[n]=D[i]=D[b]=D[s]=D[S]=D[a]=D[o]=D[l]=D[u]=D[f]=D[p]=D[m]=D[v]=D[y]=D[x]=!1;function L(V){return r(V)&&e(V.length)&&!!D[t(V)]}return $w=L,$w}var qw,y9;function aF(){if(y9)return qw;y9=1;function t(e){return function(r){return e(r)}}return qw=t,qw}var zh={exports:{}};zh.exports;var x9;function Yse(){return x9||(x9=1,(function(t,e){var r=Az(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(zh,zh.exports)),zh.exports}var Uw,b9;function oF(){if(b9)return Uw;b9=1;var t=Xse(),e=aF(),r=Yse(),n=r&&r.isTypedArray,i=n?e(n):t;return Uw=i,Uw}var Vw,w9;function Jse(){if(w9)return Vw;w9=1;var t=Hse(),e=g8(),r=xi(),n=sF(),i=v8(),s=oF(),a=Object.prototype,o=a.hasOwnProperty;function l(u,f){var p=r(u),m=!p&&e(u),v=!p&&!m&&n(u),y=!p&&!m&&!v&&s(u),x=p||m||v||y,b=x?t(u.length,String):[],S=b.length;for(var N in u)(f||o.call(u,N))&&!(x&&(N=="length"||v&&(N=="offset"||N=="parent")||y&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,S)))&&b.push(N);return b}return Vw=l,Vw}var Ww,S9;function Qse(){if(S9)return Ww;S9=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Ww=e,Ww}var Hw,_9;function lF(){if(_9)return Hw;_9=1;function t(e,r){return function(n){return e(r(n))}}return Hw=t,Hw}var Kw,N9;function Zse(){if(N9)return Kw;N9=1;var t=lF(),e=t(Object.keys,Object);return Kw=e,Kw}var Gw,A9;function eae(){if(A9)return Gw;A9=1;var t=Qse(),e=Zse(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))n.call(s,o)&&o!="constructor"&&a.push(o);return a}return Gw=i,Gw}var Xw,E9;function x0(){if(E9)return Xw;E9=1;var t=n8(),e=y8();function r(n){return n!=null&&e(n.length)&&!t(n)}return Xw=r,Xw}var Yw,C9;function Uv(){if(C9)return Yw;C9=1;var t=Jse(),e=eae(),r=x0();function n(i){return r(i)?t(i):e(i)}return Yw=n,Yw}var Jw,k9;function tae(){if(k9)return Jw;k9=1;var t=qse(),e=Wse(),r=Uv();function n(i){return t(i,r,e)}return Jw=n,Jw}var Qw,j9;function rae(){if(j9)return Qw;j9=1;var t=tae(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,a,o,l,u,f){var p=o&e,m=t(s),v=m.length,y=t(a),x=y.length;if(v!=x&&!p)return!1;for(var b=v;b--;){var S=m[b];if(!(p?S in a:n.call(a,S)))return!1}var N=f.get(s),A=f.get(a);if(N&&A)return N==a&&A==s;var k=!0;f.set(s,a),f.set(a,s);for(var E=p;++b<v;){S=m[b];var j=s[S],T=a[S];if(l)var M=p?l(T,j,S,a,s,f):l(j,T,S,s,a,f);if(!(M===void 0?j===T||u(j,T,o,l,f):M)){k=!1;break}E||(E=S=="constructor")}if(k&&!E){var I=s.constructor,q=a.constructor;I!=q&&"constructor"in s&&"constructor"in a&&!(typeof I=="function"&&I instanceof I&&typeof q=="function"&&q instanceof q)&&(k=!1)}return f.delete(s),f.delete(a),k}return Qw=i,Qw}var Zw,P9;function nae(){if(P9)return Zw;P9=1;var t=xc(),e=ha(),r=t(e,"DataView");return Zw=r,Zw}var e2,T9;function iae(){if(T9)return e2;T9=1;var t=xc(),e=ha(),r=t(e,"Promise");return e2=r,e2}var t2,M9;function cF(){if(M9)return t2;M9=1;var t=xc(),e=ha(),r=t(e,"Set");return t2=r,t2}var r2,O9;function sae(){if(O9)return r2;O9=1;var t=xc(),e=ha(),r=t(e,"WeakMap");return r2=r,r2}var n2,R9;function aae(){if(R9)return n2;R9=1;var t=nae(),e=s8(),r=iae(),n=cF(),i=sae(),s=io(),a=Ez(),o="[object Map]",l="[object Object]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",m="[object DataView]",v=a(t),y=a(e),x=a(r),b=a(n),S=a(i),N=s;return(t&&N(new t(new ArrayBuffer(1)))!=m||e&&N(new e)!=o||r&&N(r.resolve())!=u||n&&N(new n)!=f||i&&N(new i)!=p)&&(N=function(A){var k=s(A),E=k==l?A.constructor:void 0,j=E?a(E):"";if(j)switch(j){case v:return m;case y:return o;case x:return u;case b:return f;case S:return p}return k}),n2=N,n2}var i2,I9;function oae(){if(I9)return i2;I9=1;var t=Zz(),e=nF(),r=$se(),n=rae(),i=aae(),s=xi(),a=sF(),o=oF(),l=1,u="[object Arguments]",f="[object Array]",p="[object Object]",m=Object.prototype,v=m.hasOwnProperty;function y(x,b,S,N,A,k){var E=s(x),j=s(b),T=E?f:i(x),M=j?f:i(b);T=T==u?p:T,M=M==u?p:M;var I=T==p,q=M==p,D=T==M;if(D&&a(x)){if(!a(b))return!1;E=!0,I=!1}if(D&&!I)return k||(k=new t),E||o(x)?e(x,b,S,N,A,k):r(x,b,T,S,N,A,k);if(!(S&l)){var L=I&&v.call(x,"__wrapped__"),V=q&&v.call(b,"__wrapped__");if(L||V){var K=L?x.value():x,Y=V?b.value():b;return k||(k=new t),A(K,Y,S,N,k)}}return D?(k||(k=new t),n(x,b,S,N,A,k)):!1}return i2=y,i2}var s2,D9;function x8(){if(D9)return s2;D9=1;var t=oae(),e=so();function r(n,i,s,a,o){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,a,r,o)}return s2=r,s2}var a2,L9;function lae(){if(L9)return a2;L9=1;var t=Zz(),e=x8(),r=1,n=2;function i(s,a,o,l){var u=o.length,f=u,p=!l;if(s==null)return!f;for(s=Object(s);u--;){var m=o[u];if(p&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++u<f;){m=o[u];var v=m[0],y=s[v],x=m[1];if(p&&m[2]){if(y===void 0&&!(v in s))return!1}else{var b=new t;if(l)var S=l(y,x,v,s,a,b);if(!(S===void 0?e(x,y,r|n,l,b):S))return!1}}return!0}return a2=i,a2}var o2,z9;function uF(){if(z9)return o2;z9=1;var t=nl();function e(r){return r===r&&!t(r)}return o2=e,o2}var l2,F9;function cae(){if(F9)return l2;F9=1;var t=uF(),e=Uv();function r(n){for(var i=e(n),s=i.length;s--;){var a=i[s],o=n[a];i[s]=[a,o,t(o)]}return i}return l2=r,l2}var c2,B9;function dF(){if(B9)return c2;B9=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return c2=t,c2}var u2,$9;function uae(){if($9)return u2;$9=1;var t=lae(),e=cae(),r=dF();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return u2=n,u2}var d2,q9;function dae(){if(q9)return d2;q9=1;function t(e,r){return e!=null&&r in Object(e)}return d2=t,d2}var h2,U9;function hae(){if(U9)return h2;U9=1;var t=jz(),e=g8(),r=xi(),n=v8(),i=y8(),s=Lv();function a(o,l,u){l=t(l,o);for(var f=-1,p=l.length,m=!1;++f<p;){var v=s(l[f]);if(!(m=o!=null&&u(o,v)))break;o=o[v]}return m||++f!=p?m:(p=o==null?0:o.length,!!p&&i(p)&&n(v,p)&&(r(o)||e(o)))}return h2=a,h2}var f2,V9;function fae(){if(V9)return f2;V9=1;var t=dae(),e=hae();function r(n,i){return n!=null&&e(n,i,t)}return f2=r,f2}var p2,W9;function pae(){if(W9)return p2;W9=1;var t=x8(),e=Pz(),r=fae(),n=r8(),i=uF(),s=dF(),a=Lv(),o=1,l=2;function u(f,p){return n(f)&&i(p)?s(a(f),p):function(m){var v=e(m,f);return v===void 0&&v===p?r(m,f):t(p,v,o|l)}}return p2=u,p2}var m2,H9;function Cd(){if(H9)return m2;H9=1;function t(e){return e}return m2=t,m2}var g2,K9;function mae(){if(K9)return g2;K9=1;function t(e){return function(r){return r==null?void 0:r[e]}}return g2=t,g2}var v2,G9;function gae(){if(G9)return v2;G9=1;var t=l8();function e(r){return function(n){return t(n,r)}}return v2=e,v2}var y2,X9;function vae(){if(X9)return y2;X9=1;var t=mae(),e=gae(),r=r8(),n=Lv();function i(s){return r(s)?t(n(s)):e(s)}return y2=i,y2}var x2,Y9;function il(){if(Y9)return x2;Y9=1;var t=uae(),e=pae(),r=Cd(),n=xi(),i=vae();function s(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?e(a[0],a[1]):t(a):i(a)}return x2=s,x2}var b2,J9;function hF(){if(J9)return b2;J9=1;function t(e,r,n,i){for(var s=e.length,a=n+(i?1:-1);i?a--:++a<s;)if(r(e[a],a,e))return a;return-1}return b2=t,b2}var w2,Q9;function yae(){if(Q9)return w2;Q9=1;function t(e){return e!==e}return w2=t,w2}var S2,Z9;function xae(){if(Z9)return S2;Z9=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return S2=t,S2}var _2,eP;function bae(){if(eP)return _2;eP=1;var t=hF(),e=yae(),r=xae();function n(i,s,a){return s===s?r(i,s,a):t(i,e,a)}return _2=n,_2}var N2,tP;function wae(){if(tP)return N2;tP=1;var t=bae();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return N2=e,N2}var A2,rP;function Sae(){if(rP)return A2;rP=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return A2=t,A2}var E2,nP;function _ae(){if(nP)return E2;nP=1;function t(){}return E2=t,E2}var C2,iP;function Nae(){if(iP)return C2;iP=1;var t=cF(),e=_ae(),r=m8(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return C2=i,C2}var k2,sP;function Aae(){if(sP)return k2;sP=1;var t=eF(),e=wae(),r=Sae(),n=rF(),i=Nae(),s=m8(),a=200;function o(l,u,f){var p=-1,m=e,v=l.length,y=!0,x=[],b=x;if(f)y=!1,m=r;else if(v>=a){var S=u?null:i(l);if(S)return s(S);y=!1,m=n,b=new t}else b=u?[]:x;e:for(;++p<v;){var N=l[p],A=u?u(N):N;if(N=f||N!==0?N:0,y&&A===A){for(var k=b.length;k--;)if(b[k]===A)continue e;u&&b.push(A),x.push(N)}else m(b,A,f)||(b!==x&&b.push(A),x.push(N))}return x}return k2=o,k2}var j2,aP;function Eae(){if(aP)return j2;aP=1;var t=il(),e=Aae();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return j2=r,j2}var Cae=Eae();const oP=er(Cae);function fF(t,e,r){return e===!0?oP(t,r):At(e)?oP(t,e):t}function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}var kae=["ref"];function lP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ka(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(r),!0).forEach(function(n){Vv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mF(n.key),n)}}function Pae(t,e,r){return e&&cP(t.prototype,e),r&&cP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tae(t,e,r){return e=dg(e),Mae(t,pF()?Reflect.construct(e,r||[],dg(t).constructor):e.apply(t,r))}function Mae(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oae(t)}function Oae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pF=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(t)}function Rae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O3(t,e)}function O3(t,e){return O3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O3(t,e)}function Vv(t,e,r){return e=mF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mF(t){var e=Iae(t,"string");return Vu(e)=="symbol"?e:e+""}function Iae(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Dae(t,e){if(t==null)return{};var r=Lae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zae(t){return t.value}function Fae(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=Dae(e,kae);return W.createElement(p8,r)}var uP=1,rc=(function(t){function e(){var r;jae(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Tae(this,e,[].concat(i)),Vv(r,"lastBoundingBox",{width:-1,height:-1}),r}return Rae(e,t),Pae(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>uP||Math.abs(i.height-this.lastBoundingBox.height)>uP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ka({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,p,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();p={left:((u||0)-v.width)/2}}else p=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var y=this.getBBoxSnapshot();m={top:((f||0)-y.height)/2}}else m=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ka(ka({},p),m)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,p=ka(ka({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return W.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},Fae(s,ka(ka({},this.props),{},{payload:fF(f,u,zae)})))}}],[{key:"getWithHeight",value:function(n,i){var s=ka(ka({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&Ue(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])})(_.PureComponent);Vv(rc,"displayName","Legend");Vv(rc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var P2,dP;function Bae(){if(dP)return P2;dP=1;var t=y0(),e=g8(),r=xi(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return P2=i,P2}var T2,hP;function gF(){if(hP)return T2;hP=1;var t=iF(),e=Bae();function r(n,i,s,a,o){var l=-1,u=n.length;for(s||(s=e),o||(o=[]);++l<u;){var f=n[l];i>0&&s(f)?i>1?r(f,i-1,s,a,o):t(o,f):a||(o[o.length]=f)}return o}return T2=r,T2}var M2,fP;function $ae(){if(fP)return M2;fP=1;function t(e){return function(r,n,i){for(var s=-1,a=Object(r),o=i(r),l=o.length;l--;){var u=o[e?l:++s];if(n(a[u],u,a)===!1)break}return r}}return M2=t,M2}var O2,pP;function qae(){if(pP)return O2;pP=1;var t=$ae(),e=t();return O2=e,O2}var R2,mP;function vF(){if(mP)return R2;mP=1;var t=qae(),e=Uv();function r(n,i){return n&&t(n,i,e)}return R2=r,R2}var I2,gP;function Uae(){if(gP)return I2;gP=1;var t=x0();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var a=i.length,o=n?a:-1,l=Object(i);(n?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return I2=e,I2}var D2,vP;function b8(){if(vP)return D2;vP=1;var t=vF(),e=Uae(),r=e(t);return D2=r,D2}var L2,yP;function yF(){if(yP)return L2;yP=1;var t=b8(),e=x0();function r(n,i){var s=-1,a=e(n)?Array(n.length):[];return t(n,function(o,l,u){a[++s]=i(o,l,u)}),a}return L2=r,L2}var z2,xP;function Vae(){if(xP)return z2;xP=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return z2=t,z2}var F2,bP;function Wae(){if(bP)return F2;bP=1;var t=Nd();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,a=r===r,o=t(r),l=n!==void 0,u=n===null,f=n===n,p=t(n);if(!u&&!p&&!o&&r>n||o&&l&&f&&!u&&!p||s&&l&&f||!i&&f||!a)return 1;if(!s&&!o&&!p&&r<n||p&&i&&a&&!s&&!o||u&&i&&a||!l&&a||!f)return-1}return 0}return F2=e,F2}var B2,wP;function Hae(){if(wP)return B2;wP=1;var t=Wae();function e(r,n,i){for(var s=-1,a=r.criteria,o=n.criteria,l=a.length,u=i.length;++s<l;){var f=t(a[s],o[s]);if(f){if(s>=u)return f;var p=i[s];return f*(p=="desc"?-1:1)}}return r.index-n.index}return B2=e,B2}var $2,SP;function Kae(){if(SP)return $2;SP=1;var t=o8(),e=l8(),r=il(),n=yF(),i=Vae(),s=aF(),a=Hae(),o=Cd(),l=xi();function u(f,p,m){p.length?p=t(p,function(x){return l(x)?function(b){return e(b,x.length===1?x[0]:x)}:x}):p=[o];var v=-1;p=t(p,s(r));var y=n(f,function(x,b,S){var N=t(p,function(A){return A(x)});return{criteria:N,index:++v,value:x}});return i(y,function(x,b){return a(x,b,m)})}return $2=u,$2}var q2,_P;function Gae(){if(_P)return q2;_P=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return q2=t,q2}var U2,NP;function Xae(){if(NP)return U2;NP=1;var t=Gae(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var a=arguments,o=-1,l=e(a.length-i,0),u=Array(l);++o<l;)u[o]=a[i+o];o=-1;for(var f=Array(i+1);++o<i;)f[o]=a[o];return f[i]=s(u),t(n,this,f)}}return U2=r,U2}var V2,AP;function Yae(){if(AP)return V2;AP=1;function t(e){return function(){return e}}return V2=t,V2}var W2,EP;function xF(){if(EP)return W2;EP=1;var t=xc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return W2=e,W2}var H2,CP;function Jae(){if(CP)return H2;CP=1;var t=Yae(),e=xF(),r=Cd(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return H2=n,H2}var K2,kP;function Qae(){if(kP)return K2;kP=1;var t=800,e=16,r=Date.now;function n(i){var s=0,a=0;return function(){var o=r(),l=e-(o-a);if(a=o,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return K2=n,K2}var G2,jP;function Zae(){if(jP)return G2;jP=1;var t=Jae(),e=Qae(),r=e(t);return G2=r,G2}var X2,PP;function eoe(){if(PP)return X2;PP=1;var t=Cd(),e=Xae(),r=Zae();function n(i,s){return r(e(i,s,t),i+"")}return X2=n,X2}var Y2,TP;function Wv(){if(TP)return Y2;TP=1;var t=i8(),e=x0(),r=v8(),n=nl();function i(s,a,o){if(!n(o))return!1;var l=typeof a;return(l=="number"?e(o)&&r(a,o.length):l=="string"&&a in o)?t(o[a],s):!1}return Y2=i,Y2}var J2,MP;function toe(){if(MP)return J2;MP=1;var t=gF(),e=Kae(),r=eoe(),n=Wv(),i=r(function(s,a){if(s==null)return[];var o=a.length;return o>1&&n(s,a[0],a[1])?a=[]:o>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return J2=i,J2}var roe=toe();const w8=er(roe);function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function R3(){return R3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R3.apply(this,arguments)}function noe(t,e){return ooe(t)||aoe(t,e)||soe(t,e)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(t,e){if(t){if(typeof t=="string")return OP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OP(t,e)}}function OP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function ooe(t){if(Array.isArray(t))return t}function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){loe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function loe(t,e,r){return e=coe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function coe(t){var e=uoe(t,"string");return xf(e)=="symbol"?e:e+""}function uoe(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function doe(t){return Array.isArray(t)&&en(t[0])&&en(t[1])?t.join(" ~ "):t}var hoe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,p=e.formatter,m=e.itemSorter,v=e.wrapperClassName,y=e.labelClassName,x=e.label,b=e.labelFormatter,S=e.accessibilityLayer,N=S===void 0?!1:S,A=function(){if(f&&f.length){var L={padding:0,margin:0},V=(m?w8(f,m):f).map(function(K,Y){if(K.type==="none")return null;var J=Q2({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},o),te=K.formatter||p||doe,U=K.value,X=K.name,ie=U,G=X;if(te&&ie!=null&&G!=null){var F=te(U,X,K,Y,f);if(Array.isArray(F)){var Q=noe(F,2);ie=Q[0],G=Q[1]}else ie=F}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:J},en(G)?W.createElement("span",{className:"recharts-tooltip-item-name"},G):null,en(G)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},ie),W.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:L},V)}return null},k=Q2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),E=Q2({margin:0},u),j=!_t(x),T=j?x:"",M=Mt("recharts-default-tooltip",v),I=Mt("recharts-tooltip-label",y);j&&b&&f!==void 0&&f!==null&&(T=b(x,f));var q=N?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",R3({className:M,style:k},q),W.createElement("p",{className:I,style:E},W.isValidElement(T)?T:"".concat(T)),A())};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function Yp(t,e,r){return e=foe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function foe(t){var e=poe(t,"string");return bf(e)=="symbol"?e:e+""}function poe(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ah="recharts-tooltip-wrapper",moe={visibility:"hidden"};function goe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Mt(Ah,Yp(Yp(Yp(Yp({},"".concat(Ah,"-right"),Ue(r)&&e&&Ue(e.x)&&r>=e.x),"".concat(Ah,"-left"),Ue(r)&&e&&Ue(e.x)&&r<e.x),"".concat(Ah,"-bottom"),Ue(n)&&e&&Ue(e.y)&&n>=e.y),"".concat(Ah,"-top"),Ue(n)&&e&&Ue(e.y)&&n<e.y))}function IP(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(s&&Ue(s[n]))return s[n];var f=r[n]-o-i,p=r[n]+i;if(e[n])return a[n]?f:p;if(a[n]){var m=f,v=l[n];return m<v?Math.max(p,l[n]):Math.max(f,l[n])}var y=p+o,x=l[n]+u;return y>x?Math.max(f,l[n]):Math.max(p,l[n])}function voe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function yoe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,f,p;return a.height>0&&a.width>0&&r?(f=IP({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),p=IP({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=voe({translateX:f,translateY:p,useTranslate3d:o})):u=moe,{cssProperties:u,cssClasses:goe({translateX:f,translateY:p,coordinate:r})}}function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function DP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(r),!0).forEach(function(n){D3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function boe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wF(n.key),n)}}function woe(t,e,r){return e&&boe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Soe(t,e,r){return e=hg(e),_oe(t,bF()?Reflect.construct(e,r||[],hg(t).constructor):e.apply(t,r))}function _oe(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Noe(t)}function Noe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bF=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(t)}function Aoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I3(t,e)}function I3(t,e){return I3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I3(t,e)}function D3(t,e,r){return e=wF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wF(t){var e=Eoe(t,"string");return Wu(e)=="symbol"?e:e+""}function Eoe(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zP=1,Coe=(function(t){function e(){var r;xoe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Soe(this,e,[].concat(i)),D3(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),D3(r,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return Aoe(e,t),woe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>zP||Math.abs(n.height-this.state.lastBoundingBox.height)>zP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,p=i.hasPayload,m=i.isAnimationActive,v=i.offset,y=i.position,x=i.reverseDirection,b=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,A=yoe({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:v,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:S}),k=A.cssClasses,E=A.cssProperties,j=LP(LP({transition:m&&s?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},N);return W.createElement("div",{tabIndex:-1,className:k,style:j,ref:function(M){n.wrapperNode=M}},u)}}])})(_.PureComponent),koe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},sl={isSsr:koe()};function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function FP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(r),!0).forEach(function(n){S8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function joe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Poe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_F(n.key),n)}}function Toe(t,e,r){return e&&Poe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Moe(t,e,r){return e=fg(e),Ooe(t,SF()?Reflect.construct(e,r||[],fg(t).constructor):e.apply(t,r))}function Ooe(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Roe(t)}function Roe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!t})()}function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fg(t)}function Ioe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L3(t,e)}function L3(t,e){return L3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L3(t,e)}function S8(t,e,r){return e=_F(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _F(t){var e=Doe(t,"string");return Hu(e)=="symbol"?e:e+""}function Doe(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Loe(t){return t.dataKey}function zoe(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(hoe,e)}var Cs=(function(t){function e(){return joe(this,e),Moe(this,e,arguments)}return Ioe(e,t),Toe(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,p=i.filterNull,m=i.isAnimationActive,v=i.offset,y=i.payload,x=i.payloadUniqBy,b=i.position,S=i.reverseDirection,N=i.useTranslate3d,A=i.viewBox,k=i.wrapperStyle,E=y??[];p&&E.length&&(E=fF(y.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),x,Loe));var j=E.length>0;return W.createElement(Coe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:m,active:s,coordinate:f,hasPayload:j,offset:v,position:b,reverseDirection:S,useTranslate3d:N,viewBox:A,wrapperStyle:k},zoe(u,BP(BP({},this.props),{},{payload:E})))}}])})(_.PureComponent);S8(Cs,"displayName","Tooltip");S8(Cs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!sl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Z2,$P;function Foe(){if($P)return Z2;$P=1;var t=ha(),e=function(){return t.Date.now()};return Z2=e,Z2}var e4,qP;function Boe(){if(qP)return e4;qP=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return e4=e,e4}var t4,UP;function $oe(){if(UP)return t4;UP=1;var t=Boe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return t4=r,t4}var r4,VP;function NF(){if(VP)return r4;VP=1;var t=$oe(),e=nl(),r=Nd(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var p=s.test(u);return p||a.test(u)?o(u.slice(2),p?2:8):i.test(u)?n:+u}return r4=l,r4}var n4,WP;function qoe(){if(WP)return n4;WP=1;var t=nl(),e=Foe(),r=NF(),n="Expected a function",i=Math.max,s=Math.min;function a(o,l,u){var f,p,m,v,y,x,b=0,S=!1,N=!1,A=!0;if(typeof o!="function")throw new TypeError(n);l=r(l)||0,t(u)&&(S=!!u.leading,N="maxWait"in u,m=N?i(r(u.maxWait)||0,l):m,A="trailing"in u?!!u.trailing:A);function k(V){var K=f,Y=p;return f=p=void 0,b=V,v=o.apply(Y,K),v}function E(V){return b=V,y=setTimeout(M,l),S?k(V):v}function j(V){var K=V-x,Y=V-b,J=l-K;return N?s(J,m-Y):J}function T(V){var K=V-x,Y=V-b;return x===void 0||K>=l||K<0||N&&Y>=m}function M(){var V=e();if(T(V))return I(V);y=setTimeout(M,j(V))}function I(V){return y=void 0,A&&f?k(V):(f=p=void 0,v)}function q(){y!==void 0&&clearTimeout(y),b=0,f=x=p=y=void 0}function D(){return y===void 0?v:I(e())}function L(){var V=e(),K=T(V);if(f=arguments,p=this,x=V,K){if(y===void 0)return E(x);if(N)return clearTimeout(y),y=setTimeout(M,l),k(x)}return y===void 0&&(y=setTimeout(M,l)),v}return L.cancel=q,L.flush=D,L}return n4=a,n4}var i4,HP;function Uoe(){if(HP)return i4;HP=1;var t=qoe(),e=nl(),r="Expected a function";function n(i,s,a){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return e(a)&&(o="leading"in a?!!a.leading:o,l="trailing"in a?!!a.trailing:l),t(i,s,{leading:o,maxWait:s,trailing:l})}return i4=n,i4}var Voe=Uoe();const AF=er(Voe);function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function KP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(r),!0).forEach(function(n){Woe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Woe(t,e,r){return e=Hoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hoe(t){var e=Koe(t,"string");return wf(e)=="symbol"?e:e+""}function Koe(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Goe(t,e){return Qoe(t)||Joe(t,e)||Yoe(t,e)||Xoe()}function Xoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yoe(t,e){if(t){if(typeof t=="string")return GP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GP(t,e)}}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Joe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Qoe(t){if(Array.isArray(t))return t}var EF=_.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,f=u===void 0?0:u,p=t.minHeight,m=t.maxHeight,v=t.children,y=t.debounce,x=y===void 0?0:y,b=t.id,S=t.className,N=t.onResize,A=t.style,k=A===void 0?{}:A,E=_.useRef(null),j=_.useRef();j.current=N,_.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=_.useState({containerWidth:i.width,containerHeight:i.height}),M=Goe(T,2),I=M[0],q=M[1],D=_.useCallback(function(V,K){q(function(Y){var J=Math.round(V),te=Math.round(K);return Y.containerWidth===J&&Y.containerHeight===te?Y:{containerWidth:J,containerHeight:te}})},[]);_.useEffect(function(){var V=function(X){var ie,G=X[0].contentRect,F=G.width,Q=G.height;D(F,Q),(ie=j.current)===null||ie===void 0||ie.call(j,F,Q)};x>0&&(V=AF(V,x,{trailing:!0,leading:!1}));var K=new ResizeObserver(V),Y=E.current.getBoundingClientRect(),J=Y.width,te=Y.height;return D(J,te),K.observe(E.current),function(){K.disconnect()}},[D,x]);var L=_.useMemo(function(){var V=I.containerWidth,K=I.containerHeight;if(V<0||K<0)return null;$a(Kl(a)||Kl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),$a(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=Kl(a)?V:a,J=Kl(l)?K:l;r&&r>0&&(Y?J=Y/r:J&&(Y=J*r),m&&J>m&&(J=m)),$a(Y>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,J,a,l,f,p,r);var te=!Array.isArray(v)&&Ba(v.type).endsWith("Chart");return W.Children.map(v,function(U){return W.isValidElement(U)?_.cloneElement(U,Jp({width:Y,height:J},te?{style:Jp({height:"100%",width:"100%",maxHeight:J,maxWidth:Y},U.props.style)}:{})):U})},[r,v,l,m,p,f,I,a]);return W.createElement("div",{id:b?"".concat(b):void 0,className:Mt("recharts-responsive-container",S),style:Jp(Jp({},k),{},{width:a,height:l,minWidth:f,minHeight:p,maxHeight:m}),ref:E},L)}),_8=function(e){return null};_8.displayName="Cell";function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function XP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(r),!0).forEach(function(n){Zoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zoe(t,e,r){return e=ele(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ele(t){var e=tle(t,"string");return Sf(e)=="symbol"?e:e+""}function tle(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu={widthCache:{},cacheCount:0},rle=2e3,nle={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YP="recharts_measurement_span";function ile(t){var e=z3({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Yh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||sl.isSsr)return{width:0,height:0};var n=ile(r),i=JSON.stringify({text:e,copyStyle:n});if(iu.widthCache[i])return iu.widthCache[i];try{var s=document.getElementById(YP);s||(s=document.createElement("span"),s.setAttribute("id",YP),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=z3(z3({},nle),n);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return iu.widthCache[i]=l,++iu.cacheCount>rle&&(iu.cacheCount=0,iu.widthCache={}),l}catch{return{width:0,height:0}}},sle=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function pg(t,e){return cle(t)||lle(t,e)||ole(t,e)||ale()}function ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ole(t,e){if(t){if(typeof t=="string")return JP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JP(t,e)}}function JP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function cle(t){if(Array.isArray(t))return t}function ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hle(n.key),n)}}function dle(t,e,r){return e&&QP(t.prototype,e),r&&QP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hle(t){var e=fle(t,"string");return _f(e)=="symbol"?e:e+""}function fle(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ple=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mle=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gle=Object.keys(CF),wu="NaN";function vle(t,e){return t*CF[e]}var Qp=(function(){function t(e,r){ule(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!ple.test(r)&&(this.num=NaN,this.unit=""),gle.includes(r)&&(this.num=vle(e,r),this.unit="px")}return dle(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=mle.exec(r))!==null&&n!==void 0?n:[],s=pg(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])})();function kF(t){if(t.includes(wu))return wu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=ZP.exec(e))!==null&&r!==void 0?r:[],i=pg(n,4),s=i[1],a=i[2],o=i[3],l=Qp.parse(s??""),u=Qp.parse(o??""),f=a==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return wu;e=e.replace(ZP,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,m=(p=eT.exec(e))!==null&&p!==void 0?p:[],v=pg(m,4),y=v[1],x=v[2],b=v[3],S=Qp.parse(y??""),N=Qp.parse(b??""),A=x==="+"?S.add(N):S.subtract(N);if(A.isNaN())return wu;e=e.replace(eT,A.toString())}return e}var tT=/\(([^()]*)\)/;function yle(t){for(var e=t;e.includes("(");){var r=tT.exec(e),n=pg(r,2),i=n[1];e=e.replace(tT,kF(i))}return e}function xle(t){var e=t.replace(/\s+/g,"");return e=yle(e),e=kF(e),e}function ble(t){try{return xle(t)}catch{return wu}}function s4(t){var e=ble(t.slice(5,-1));return e===wu?"":e}var wle=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Sle=["dx","dy","angle","className","breakAll"];function F3(){return F3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F3.apply(this,arguments)}function rT(t,e){if(t==null)return{};var r=_le(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _le(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nT(t,e){return Cle(t)||Ele(t,e)||Ale(t,e)||Nle()}function Nle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ale(t,e){if(t){if(typeof t=="string")return iT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iT(t,e)}}function iT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ele(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Cle(t){if(Array.isArray(t))return t}var jF=/[ \f\n\r\t\v\u2028\u2029]+/,PF=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];_t(r)||(n?s=r.toString().split(""):s=r.toString().split(jF));var a=s.map(function(l){return{word:l,width:Yh(l,i).width}}),o=n?0:Yh("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},kle=function(e,r,n,i,s){var a=e.maxLines,o=e.children,l=e.style,u=e.breakAll,f=Ue(a),p=o,m=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(J,te){var U=te.word,X=te.width,ie=J[J.length-1];if(ie&&(i==null||s||ie.width+X+n<Number(i)))ie.words.push(U),ie.width+=X+n;else{var G={words:[U],width:X};J.push(G)}return J},[])},v=m(r),y=function(Y){return Y.reduce(function(J,te){return J.width>te.width?J:te})};if(!f)return v;for(var x="",b=function(Y){var J=p.slice(0,Y),te=PF({breakAll:u,style:l,children:J+x}).wordsWithComputedWidth,U=m(te),X=U.length>a||y(U).width>Number(i);return[X,U]},S=0,N=p.length-1,A=0,k;S<=N&&A<=p.length-1;){var E=Math.floor((S+N)/2),j=E-1,T=b(j),M=nT(T,2),I=M[0],q=M[1],D=b(E),L=nT(D,1),V=L[0];if(!I&&!V&&(S=E+1),I&&V&&(N=E-1),!I&&V){k=q;break}A++}return k||v},sT=function(e){var r=_t(e)?[]:e.toString().split(jF);return[{words:r}]},jle=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((r||n)&&!sl.isSsr){var l,u,f=PF({breakAll:a,children:i,style:s});if(f){var p=f.wordsWithComputedWidth,m=f.spaceWidth;l=p,u=m}else return sT(i);return kle({breakAll:a,children:i,maxLines:o,style:s},l,u,r,n)}return sT(i)},aT="#808080",mg=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,p=f===void 0?!1:f,m=e.textAnchor,v=m===void 0?"start":m,y=e.verticalAnchor,x=y===void 0?"end":y,b=e.fill,S=b===void 0?aT:b,N=rT(e,wle),A=_.useMemo(function(){return jle({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:p,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,p,N.style,N.width]),k=N.dx,E=N.dy,j=N.angle,T=N.className,M=N.breakAll,I=rT(N,Sle);if(!en(n)||!en(s))return null;var q=n+(Ue(k)?k:0),D=s+(Ue(E)?E:0),L;switch(x){case"start":L=s4("calc(".concat(u,")"));break;case"middle":L=s4("calc(".concat((A.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:L=s4("calc(".concat(A.length-1," * -").concat(o,")"));break}var V=[];if(p){var K=A[0].width,Y=N.width;V.push("scale(".concat((Ue(Y)?Y/K:1)/K,")"))}return j&&V.push("rotate(".concat(j,", ").concat(q,", ").concat(D,")")),V.length&&(I.transform=V.join(" ")),W.createElement("text",F3({},Nt(I,!0),{x:q,y:D,className:Mt("recharts-text",T),textAnchor:v,fill:S.includes("url")?aT:S}),A.map(function(J,te){var U=J.words.join(M?"":" ");return W.createElement("tspan",{x:q,dy:te===0?L:o,key:"".concat(U,"-").concat(te)},U)}))};function Go(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ple(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function N8(t){let e,r,n;t.length!==2?(e=Go,r=(o,l)=>Go(t(o),l),n=(o,l)=>t(o)-l):(e=t===Go||t===Ple?t:Tle,r=t,n=t);function i(o,l,u=0,f=o.length){if(u<f){if(e(l,l)!==0)return f;do{const p=u+f>>>1;r(o[p],l)<0?u=p+1:f=p}while(u<f)}return u}function s(o,l,u=0,f=o.length){if(u<f){if(e(l,l)!==0)return f;do{const p=u+f>>>1;r(o[p],l)<=0?u=p+1:f=p}while(u<f)}return u}function a(o,l,u=0,f=o.length){const p=i(o,l,u,f-1);return p>u&&n(o[p-1],l)>-n(o[p],l)?p-1:p}return{left:i,center:a,right:s}}function Tle(){return 0}function TF(t){return t===null?NaN:+t}function*Mle(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Ole=N8(Go),b0=Ole.right;N8(TF).center;class oT extends Map{constructor(e,r=Dle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(lT(this,e))}has(e){return super.has(lT(this,e))}set(e,r){return super.set(Rle(this,e),r)}delete(e){return super.delete(Ile(this,e))}}function lT({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Rle({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Ile({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Dle(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Lle(t=Go){if(t===Go)return MF;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function MF(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zle=Math.sqrt(50),Fle=Math.sqrt(10),Ble=Math.sqrt(2);function gg(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=zle?10:s>=Fle?5:s>=Ble?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?gg(t,e,r*2):[o,l,u]}function B3(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?gg(e,t,r):gg(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function $3(t,e,r){return e=+e,t=+t,r=+r,gg(t,e,r)[2]}function q3(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?$3(e,t,r):$3(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function cT(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function uT(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function OF(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?MF:Lle(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,f=Math.log(l),p=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*p*(l-p)/l)*(u-l/2<0?-1:1),v=Math.max(r,Math.floor(e-u*p/l+m)),y=Math.min(n,Math.floor(e+(l-u)*p/l+m));OF(t,e,v,y,i)}const s=t[e];let a=r,o=n;for(Eh(t,r,e),i(t[n],s)>0&&Eh(t,r,n);a<o;){for(Eh(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?Eh(t,r,o):(++o,Eh(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Eh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function $le(t,e,r){if(t=Float64Array.from(Mle(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return uT(t);if(e>=1)return cT(t);var n,i=(n-1)*e,s=Math.floor(i),a=cT(OF(t,s).subarray(0,s+1)),o=uT(t.subarray(s+1));return a+(o-a)*(i-s)}}function qle(t,e,r=TF){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Ule(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function ls(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ao(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const U3=Symbol("implicit");function A8(){var t=new oT,e=[],r=[],n=U3;function i(s){let a=t.get(s);if(a===void 0){if(n!==U3)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new oT;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return A8(e,r).unknown(n)},ls.apply(i,arguments),i}function Nf(){var t=A8().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,u=0,f=.5;delete t.unknown;function p(){var m=e().length,v=i<n,y=v?i:n,x=v?n:i;s=(x-y)/Math.max(1,m-l+u*2),o&&(s=Math.floor(s)),y+=(x-y-s*(m-l))*f,a=s*(1-l),o&&(y=Math.round(y),a=Math.round(a));var b=Ule(m).map(function(S){return y+s*S});return r(v?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),p()):e()},t.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,o=!0,p()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(m){return arguments.length?(o=!!m,p()):o},t.padding=function(m){return arguments.length?(l=Math.min(1,u=+m),p()):l},t.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),p()):l},t.paddingOuter=function(m){return arguments.length?(u=+m,p()):u},t.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),p()):f},t.copy=function(){return Nf(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(f)},ls.apply(p(),arguments)}function RF(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return RF(e())},t}function Jh(){return RF(Nf.apply(null,arguments).paddingInner(1))}function E8(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function IF(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function w0(){}var Af=.7,vg=1/Af,Pu="\\s*([+-]?\\d+)\\s*",Ef="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vle=/^#([0-9a-f]{3,8})$/,Wle=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),Hle=new RegExp(`^rgb\\(${oa},${oa},${oa}\\)$`),Kle=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${Ef}\\)$`),Gle=new RegExp(`^rgba\\(${oa},${oa},${oa},${Ef}\\)$`),Xle=new RegExp(`^hsl\\(${Ef},${oa},${oa}\\)$`),Yle=new RegExp(`^hsla\\(${Ef},${oa},${oa},${Ef}\\)$`),dT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E8(w0,Cf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hT,formatHex:hT,formatHex8:Jle,formatHsl:Qle,formatRgb:fT,toString:fT});function hT(){return this.rgb().formatHex()}function Jle(){return this.rgb().formatHex8()}function Qle(){return DF(this).formatHsl()}function fT(){return this.rgb().formatRgb()}function Cf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Vle.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?pT(e):r===3?new pi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Zp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Zp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wle.exec(t))?new pi(e[1],e[2],e[3],1):(e=Hle.exec(t))?new pi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kle.exec(t))?Zp(e[1],e[2],e[3],e[4]):(e=Gle.exec(t))?Zp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xle.exec(t))?vT(e[1],e[2]/100,e[3]/100,1):(e=Yle.exec(t))?vT(e[1],e[2]/100,e[3]/100,e[4]):dT.hasOwnProperty(t)?pT(dT[t]):t==="transparent"?new pi(NaN,NaN,NaN,0):null}function pT(t){return new pi(t>>16&255,t>>8&255,t&255,1)}function Zp(t,e,r,n){return n<=0&&(t=e=r=NaN),new pi(t,e,r,n)}function Zle(t){return t instanceof w0||(t=Cf(t)),t?(t=t.rgb(),new pi(t.r,t.g,t.b,t.opacity)):new pi}function V3(t,e,r,n){return arguments.length===1?Zle(t):new pi(t,e,r,n??1)}function pi(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}E8(pi,V3,IF(w0,{brighter(t){return t=t==null?vg:Math.pow(vg,t),new pi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new pi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pi(nc(this.r),nc(this.g),nc(this.b),yg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mT,formatHex:mT,formatHex8:ece,formatRgb:gT,toString:gT}));function mT(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function ece(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function gT(){const t=yg(this.opacity);return`${t===1?"rgb(":"rgba("}${nc(this.r)}, ${nc(this.g)}, ${nc(this.b)}${t===1?")":`, ${t})`}`}function yg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gl(t){return t=nc(t),(t<16?"0":"")+t.toString(16)}function vT(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ts(t,e,r,n)}function DF(t){if(t instanceof Ts)return new Ts(t.h,t.s,t.l,t.opacity);if(t instanceof w0||(t=Cf(t)),!t)return new Ts;if(t instanceof Ts)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Ts(a,o,l,t.opacity)}function tce(t,e,r,n){return arguments.length===1?DF(t):new Ts(t,e,r,n??1)}function Ts(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}E8(Ts,tce,IF(w0,{brighter(t){return t=t==null?vg:Math.pow(vg,t),new Ts(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Af:Math.pow(Af,t),new Ts(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new pi(a4(t>=240?t-240:t+120,i,n),a4(t,i,n),a4(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ts(yT(this.h),em(this.s),em(this.l),yg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yg(this.opacity);return`${t===1?"hsl(":"hsla("}${yT(this.h)}, ${em(this.s)*100}%, ${em(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yT(t){return t=(t||0)%360,t<0?t+360:t}function em(t){return Math.max(0,Math.min(1,t||0))}function a4(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const C8=t=>()=>t;function rce(t,e){return function(r){return t+r*e}}function nce(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function ice(t){return(t=+t)==1?LF:function(e,r){return r-e?nce(e,r,t):C8(isNaN(e)?r:e)}}function LF(t,e){var r=e-t;return r?rce(t,r):C8(isNaN(t)?e:t)}const xT=(function t(e){var r=ice(e);function n(i,s){var a=r((i=V3(i)).r,(s=V3(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),u=LF(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=l(f),i.opacity=u(f),i+""}}return n.gamma=t,n})(1);function sce(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function ace(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function oce(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=kd(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function lce(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function xg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function cce(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=kd(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var W3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o4=new RegExp(W3.source,"g");function uce(t){return function(){return t}}function dce(t){return function(e){return t(e)+""}}function hce(t,e){var r=W3.lastIndex=o4.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=W3.exec(t))&&(i=o4.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:xg(n,i)})),r=o4.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?dce(l[0].x):uce(e):(e=l.length,function(u){for(var f=0,p;f<e;++f)o[(p=l[f]).i]=p.x(u);return o.join("")})}function kd(t,e){var r=typeof e,n;return e==null||r==="boolean"?C8(e):(r==="number"?xg:r==="string"?(n=Cf(e))?(e=n,xT):hce:e instanceof Cf?xT:e instanceof Date?lce:ace(e)?sce:Array.isArray(e)?oce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cce:xg)(t,e)}function k8(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function fce(t,e){e===void 0&&(e=t,t=kd);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function pce(t){return function(){return t}}function bg(t){return+t}var bT=[0,1];function Xn(t){return t}function H3(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:pce(isNaN(e)?NaN:.5)}function mce(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function gce(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=H3(i,n),s=r(a,s)):(n=H3(n,i),s=r(s,a)),function(o){return s(n(o))}}function vce(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=H3(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=b0(t,o,1,n)-1;return s[l](i[l](o))}}function S0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hv(){var t=bT,e=bT,r=kd,n,i,s,a=Xn,o,l,u;function f(){var m=Math.min(t.length,e.length);return a!==Xn&&(a=mce(t[0],t[m-1])),o=m>2?vce:gce,l=u=null,p}function p(m){return m==null||isNaN(m=+m)?s:(l||(l=o(t.map(n),e,r)))(n(a(m)))}return p.invert=function(m){return a(i((u||(u=o(e,t.map(n),xg)))(m)))},p.domain=function(m){return arguments.length?(t=Array.from(m,bg),f()):t.slice()},p.range=function(m){return arguments.length?(e=Array.from(m),f()):e.slice()},p.rangeRound=function(m){return e=Array.from(m),r=k8,f()},p.clamp=function(m){return arguments.length?(a=m?!0:Xn,f()):a!==Xn},p.interpolate=function(m){return arguments.length?(r=m,f()):r},p.unknown=function(m){return arguments.length?(s=m,p):s},function(m,v){return n=m,i=v,f()}}function j8(){return Hv()(Xn,Xn)}function yce(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wg(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ku(t){return t=wg(Math.abs(t)),t?t[1]:NaN}function xce(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function bce(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var wce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kf(t){if(!(e=wce.exec(t)))throw new Error("invalid format: "+t);var e;return new P8({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}kf.prototype=P8.prototype;function P8(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}P8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sce(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var zF;function _ce(t,e){var r=wg(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(zF=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+wg(t,Math.max(0,e+s-1))[0]}function wT(t,e){var r=wg(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ST={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yce,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>wT(t*100,e),r:wT,s:_ce,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _T(t){return t}var NT=Array.prototype.map,AT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nce(t){var e=t.grouping===void 0||t.thousands===void 0?_T:xce(NT.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?_T:bce(NT.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(p){p=kf(p);var m=p.fill,v=p.align,y=p.sign,x=p.symbol,b=p.zero,S=p.width,N=p.comma,A=p.precision,k=p.trim,E=p.type;E==="n"?(N=!0,E="g"):ST[E]||(A===void 0&&(A=12),k=!0,E="g"),(b||m==="0"&&v==="=")&&(b=!0,m="0",v="=");var j=x==="$"?r:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=x==="$"?n:/[%p]/.test(E)?a:"",M=ST[E],I=/[defgprs%]/.test(E);A=A===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function q(D){var L=j,V=T,K,Y,J;if(E==="c")V=M(D)+V,D="";else{D=+D;var te=D<0||1/D<0;if(D=isNaN(D)?l:M(Math.abs(D),A),k&&(D=Sce(D)),te&&+D==0&&y!=="+"&&(te=!1),L=(te?y==="("?y:o:y==="-"||y==="("?"":y)+L,V=(E==="s"?AT[8+zF/3]:"")+V+(te&&y==="("?")":""),I){for(K=-1,Y=D.length;++K<Y;)if(J=D.charCodeAt(K),48>J||J>57){V=(J===46?i+D.slice(K+1):D.slice(K))+V,D=D.slice(0,K);break}}}N&&!b&&(D=e(D,1/0));var U=L.length+D.length+V.length,X=U<S?new Array(S-U+1).join(m):"";switch(N&&b&&(D=e(X+D,X.length?S-V.length:1/0),X=""),v){case"<":D=L+D+V+X;break;case"=":D=L+X+D+V;break;case"^":D=X.slice(0,U=X.length>>1)+L+D+V+X.slice(U);break;default:D=X+L+D+V;break}return s(D)}return q.toString=function(){return p+""},q}function f(p,m){var v=u((p=kf(p),p.type="f",p)),y=Math.max(-8,Math.min(8,Math.floor(Ku(m)/3)))*3,x=Math.pow(10,-y),b=AT[8+y/3];return function(S){return v(x*S)+b}}return{format:u,formatPrefix:f}}var tm,T8,FF;Ace({thousands:",",grouping:[3],currency:["$",""]});function Ace(t){return tm=Nce(t),T8=tm.format,FF=tm.formatPrefix,tm}function Ece(t){return Math.max(0,-Ku(Math.abs(t)))}function Cce(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ku(e)/3)))*3-Ku(Math.abs(t)))}function kce(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ku(e)-Ku(t))+1}function BF(t,e,r,n){var i=q3(t,e,r),s;switch(n=kf(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Cce(i,a))&&(n.precision=s),FF(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=kce(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Ece(i))&&(n.precision=s-(n.type==="%")*2);break}}return T8(n)}function al(t){var e=t.domain;return t.ticks=function(r){var n=e();return B3(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return BF(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,u,f=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);f-- >0;){if(u=$3(a,o,r),u===l)return n[i]=a,n[s]=o,e(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Sg(){var t=j8();return t.copy=function(){return S0(t,Sg())},ls.apply(t,arguments),al(t)}function $F(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,bg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return $F(t).unknown(e)},t=arguments.length?Array.from(t,bg):[0,1],al(r)}function qF(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function ET(t){return Math.log(t)}function CT(t){return Math.exp(t)}function jce(t){return-Math.log(-t)}function Pce(t){return-Math.exp(-t)}function Tce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Mce(t){return t===10?Tce:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Oce(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kT(t){return(e,r)=>-t(-e,r)}function M8(t){const e=t(ET,CT),r=e.domain;let n=10,i,s;function a(){return i=Oce(n),s=Mce(n),r()[0]<0?(i=kT(i),s=kT(s),t(jce,Pce)):t(ET,CT),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let u=l[0],f=l[l.length-1];const p=f<u;p&&([u,f]=[f,u]);let m=i(u),v=i(f),y,x;const b=o==null?10:+o;let S=[];if(!(n%1)&&v-m<b){if(m=Math.floor(m),v=Math.ceil(v),u>0){for(;m<=v;++m)for(y=1;y<n;++y)if(x=m<0?y/s(-m):y*s(m),!(x<u)){if(x>f)break;S.push(x)}}else for(;m<=v;++m)for(y=n-1;y>=1;--y)if(x=m>0?y/s(-m):y*s(m),!(x<u)){if(x>f)break;S.push(x)}S.length*2<b&&(S=B3(u,f,b))}else S=B3(m,v,Math.min(v-m,b)).map(s);return p?S.reverse():S},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=kf(l)).precision==null&&(l.trim=!0),l=T8(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=u?l(f):""}},e.nice=()=>r(qF(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function UF(){const t=M8(Hv()).domain([1,10]);return t.copy=()=>S0(t,UF()).base(t.base()),ls.apply(t,arguments),t}function jT(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function PT(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function O8(t){var e=1,r=t(jT(e),PT(e));return r.constant=function(n){return arguments.length?t(jT(e=+n),PT(e)):e},al(r)}function VF(){var t=O8(Hv());return t.copy=function(){return S0(t,VF()).constant(t.constant())},ls.apply(t,arguments)}function TT(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Rce(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ice(t){return t<0?-t*t:t*t}function R8(t){var e=t(Xn,Xn),r=1;function n(){return r===1?t(Xn,Xn):r===.5?t(Rce,Ice):t(TT(r),TT(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},al(e)}function I8(){var t=R8(Hv());return t.copy=function(){return S0(t,I8()).exponent(t.exponent())},ls.apply(t,arguments),t}function Dce(){return I8.apply(null,arguments).exponent(.5)}function MT(t){return Math.sign(t)*t*t}function Lce(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WF(){var t=j8(),e=[0,1],r=!1,n;function i(s){var a=Lce(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(MT(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,bg)).map(MT)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return WF(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ls.apply(i,arguments),al(i)}function HF(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=qle(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[b0(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Go),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return HF().domain(t).range(e).unknown(n)},ls.apply(s,arguments)}function KF(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[b0(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return KF().domain([t,e]).range(i).unknown(s)},ls.apply(al(a),arguments)}function GF(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[b0(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return GF().domain(t).range(e).unknown(r)},ls.apply(i,arguments)}const l4=new Date,c4=new Date;function sn(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>sn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(l4.setTime(+s),c4.setTime(+a),t(l4),t(c4),Math.floor(r(l4,c4))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const _g=sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_g.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):_g);_g.range;const La=1e3,ts=La*60,za=ts*60,Ja=za*24,D8=Ja*7,OT=Ja*30,u4=Ja*365,Xl=sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getUTCSeconds());Xl.range;const L8=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La)},(t,e)=>{t.setTime(+t+e*ts)},(t,e)=>(e-t)/ts,t=>t.getMinutes());L8.range;const z8=sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ts)},(t,e)=>(e-t)/ts,t=>t.getUTCMinutes());z8.range;const F8=sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La-t.getMinutes()*ts)},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getHours());F8.range;const B8=sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getUTCHours());B8.range;const _0=sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ts)/Ja,t=>t.getDate()-1);_0.range;const Kv=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ja,t=>t.getUTCDate()-1);Kv.range;const XF=sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ja,t=>Math.floor(t/Ja));XF.range;function wc(t){return sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ts)/D8)}const Gv=wc(0),Ng=wc(1),zce=wc(2),Fce=wc(3),Gu=wc(4),Bce=wc(5),$ce=wc(6);Gv.range;Ng.range;zce.range;Fce.range;Gu.range;Bce.range;$ce.range;function Sc(t){return sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/D8)}const Xv=Sc(0),Ag=Sc(1),qce=Sc(2),Uce=Sc(3),Xu=Sc(4),Vce=Sc(5),Wce=Sc(6);Xv.range;Ag.range;qce.range;Uce.range;Xu.range;Vce.range;Wce.range;const $8=sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$8.range;const q8=sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());q8.range;const Qa=sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Qa.range;const Za=sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Za.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Za.range;function YF(t,e,r,n,i,s){const a=[[Xl,1,La],[Xl,5,5*La],[Xl,15,15*La],[Xl,30,30*La],[s,1,ts],[s,5,5*ts],[s,15,15*ts],[s,30,30*ts],[i,1,za],[i,3,3*za],[i,6,6*za],[i,12,12*za],[n,1,Ja],[n,2,2*Ja],[r,1,D8],[e,1,OT],[e,3,3*OT],[t,1,u4]];function o(u,f,p){const m=f<u;m&&([u,f]=[f,u]);const v=p&&typeof p.range=="function"?p:l(u,f,p),y=v?v.range(u,+f+1):[];return m?y.reverse():y}function l(u,f,p){const m=Math.abs(f-u)/p,v=N8(([,,b])=>b).right(a,m);if(v===a.length)return t.every(q3(u/u4,f/u4,p));if(v===0)return _g.every(Math.max(q3(u,f,p),1));const[y,x]=a[m/a[v-1][2]<a[v][2]/m?v-1:v];return y.every(x)}return[o,l]}const[Hce,Kce]=YF(Za,q8,Xv,XF,B8,z8),[Gce,Xce]=YF(Qa,$8,Gv,_0,F8,L8);function d4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function h4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ch(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Yce(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=kh(i),f=jh(i),p=kh(s),m=jh(s),v=kh(a),y=jh(a),x=kh(o),b=jh(o),S=kh(l),N=jh(l),A={a:te,A:U,b:X,B:ie,c:null,d:FT,e:FT,f:xue,g:jue,G:Tue,H:gue,I:vue,j:yue,L:JF,m:bue,M:wue,p:G,q:F,Q:qT,s:UT,S:Sue,u:_ue,U:Nue,V:Aue,w:Eue,W:Cue,x:null,X:null,y:kue,Y:Pue,Z:Mue,"%":$T},k={a:Q,A:le,b:xe,B:be,c:null,d:BT,e:BT,f:Due,g:Hue,G:Gue,H:Oue,I:Rue,j:Iue,L:ZF,m:Lue,M:zue,p:ae,q:we,Q:qT,s:UT,S:Fue,u:Bue,U:$ue,V:que,w:Uue,W:Vue,x:null,X:null,y:Wue,Y:Kue,Z:Xue,"%":$T},E={a:q,A:D,b:L,B:V,c:K,d:LT,e:LT,f:hue,g:DT,G:IT,H:zT,I:zT,j:lue,L:due,m:oue,M:cue,p:I,q:aue,Q:pue,s:mue,S:uue,u:tue,U:rue,V:nue,w:eue,W:iue,x:Y,X:J,y:DT,Y:IT,Z:sue,"%":fue};A.x=j(r,A),A.X=j(n,A),A.c=j(e,A),k.x=j(r,k),k.X=j(n,k),k.c=j(e,k);function j(fe,Se){return function(Pe){var he=[],Be=-1,Te=0,We=fe.length,Me,ve,Ae;for(Pe instanceof Date||(Pe=new Date(+Pe));++Be<We;)fe.charCodeAt(Be)===37&&(he.push(fe.slice(Te,Be)),(ve=RT[Me=fe.charAt(++Be)])!=null?Me=fe.charAt(++Be):ve=Me==="e"?" ":"0",(Ae=Se[Me])&&(Me=Ae(Pe,ve)),he.push(Me),Te=Be+1);return he.push(fe.slice(Te,Be)),he.join("")}}function T(fe,Se){return function(Pe){var he=Ch(1900,void 0,1),Be=M(he,fe,Pe+="",0),Te,We;if(Be!=Pe.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Se&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Te=h4(Ch(he.y,0,1)),We=Te.getUTCDay(),Te=We>4||We===0?Ag.ceil(Te):Ag(Te),Te=Kv.offset(Te,(he.V-1)*7),he.y=Te.getUTCFullYear(),he.m=Te.getUTCMonth(),he.d=Te.getUTCDate()+(he.w+6)%7):(Te=d4(Ch(he.y,0,1)),We=Te.getDay(),Te=We>4||We===0?Ng.ceil(Te):Ng(Te),Te=_0.offset(Te,(he.V-1)*7),he.y=Te.getFullYear(),he.m=Te.getMonth(),he.d=Te.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),We="Z"in he?h4(Ch(he.y,0,1)).getUTCDay():d4(Ch(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(We+5)%7:he.w+he.U*7-(We+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,h4(he)):d4(he)}}function M(fe,Se,Pe,he){for(var Be=0,Te=Se.length,We=Pe.length,Me,ve;Be<Te;){if(he>=We)return-1;if(Me=Se.charCodeAt(Be++),Me===37){if(Me=Se.charAt(Be++),ve=E[Me in RT?Se.charAt(Be++):Me],!ve||(he=ve(fe,Pe,he))<0)return-1}else if(Me!=Pe.charCodeAt(he++))return-1}return he}function I(fe,Se,Pe){var he=u.exec(Se.slice(Pe));return he?(fe.p=f.get(he[0].toLowerCase()),Pe+he[0].length):-1}function q(fe,Se,Pe){var he=v.exec(Se.slice(Pe));return he?(fe.w=y.get(he[0].toLowerCase()),Pe+he[0].length):-1}function D(fe,Se,Pe){var he=p.exec(Se.slice(Pe));return he?(fe.w=m.get(he[0].toLowerCase()),Pe+he[0].length):-1}function L(fe,Se,Pe){var he=S.exec(Se.slice(Pe));return he?(fe.m=N.get(he[0].toLowerCase()),Pe+he[0].length):-1}function V(fe,Se,Pe){var he=x.exec(Se.slice(Pe));return he?(fe.m=b.get(he[0].toLowerCase()),Pe+he[0].length):-1}function K(fe,Se,Pe){return M(fe,e,Se,Pe)}function Y(fe,Se,Pe){return M(fe,r,Se,Pe)}function J(fe,Se,Pe){return M(fe,n,Se,Pe)}function te(fe){return a[fe.getDay()]}function U(fe){return s[fe.getDay()]}function X(fe){return l[fe.getMonth()]}function ie(fe){return o[fe.getMonth()]}function G(fe){return i[+(fe.getHours()>=12)]}function F(fe){return 1+~~(fe.getMonth()/3)}function Q(fe){return a[fe.getUTCDay()]}function le(fe){return s[fe.getUTCDay()]}function xe(fe){return l[fe.getUTCMonth()]}function be(fe){return o[fe.getUTCMonth()]}function ae(fe){return i[+(fe.getUTCHours()>=12)]}function we(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Se=j(fe+="",A);return Se.toString=function(){return fe},Se},parse:function(fe){var Se=T(fe+="",!1);return Se.toString=function(){return fe},Se},utcFormat:function(fe){var Se=j(fe+="",k);return Se.toString=function(){return fe},Se},utcParse:function(fe){var Se=T(fe+="",!0);return Se.toString=function(){return fe},Se}}}var RT={"-":"",_:" ",0:"0"},pn=/^\s*\d+/,Jce=/^%/,Qce=/[\\^$*+?|[\]().{}]/g;function Kt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function Zce(t){return t.replace(Qce,"\\$&")}function kh(t){return new RegExp("^(?:"+t.map(Zce).join("|")+")","i")}function jh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function eue(t,e,r){var n=pn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function tue(t,e,r){var n=pn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function rue(t,e,r){var n=pn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function nue(t,e,r){var n=pn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function iue(t,e,r){var n=pn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function IT(t,e,r){var n=pn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function DT(t,e,r){var n=pn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sue(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function aue(t,e,r){var n=pn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function oue(t,e,r){var n=pn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function LT(t,e,r){var n=pn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function lue(t,e,r){var n=pn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function zT(t,e,r){var n=pn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function cue(t,e,r){var n=pn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function uue(t,e,r){var n=pn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function due(t,e,r){var n=pn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function hue(t,e,r){var n=pn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fue(t,e,r){var n=Jce.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function pue(t,e,r){var n=pn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function mue(t,e,r){var n=pn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function FT(t,e){return Kt(t.getDate(),e,2)}function gue(t,e){return Kt(t.getHours(),e,2)}function vue(t,e){return Kt(t.getHours()%12||12,e,2)}function yue(t,e){return Kt(1+_0.count(Qa(t),t),e,3)}function JF(t,e){return Kt(t.getMilliseconds(),e,3)}function xue(t,e){return JF(t,e)+"000"}function bue(t,e){return Kt(t.getMonth()+1,e,2)}function wue(t,e){return Kt(t.getMinutes(),e,2)}function Sue(t,e){return Kt(t.getSeconds(),e,2)}function _ue(t){var e=t.getDay();return e===0?7:e}function Nue(t,e){return Kt(Gv.count(Qa(t)-1,t),e,2)}function QF(t){var e=t.getDay();return e>=4||e===0?Gu(t):Gu.ceil(t)}function Aue(t,e){return t=QF(t),Kt(Gu.count(Qa(t),t)+(Qa(t).getDay()===4),e,2)}function Eue(t){return t.getDay()}function Cue(t,e){return Kt(Ng.count(Qa(t)-1,t),e,2)}function kue(t,e){return Kt(t.getFullYear()%100,e,2)}function jue(t,e){return t=QF(t),Kt(t.getFullYear()%100,e,2)}function Pue(t,e){return Kt(t.getFullYear()%1e4,e,4)}function Tue(t,e){var r=t.getDay();return t=r>=4||r===0?Gu(t):Gu.ceil(t),Kt(t.getFullYear()%1e4,e,4)}function Mue(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Kt(e/60|0,"0",2)+Kt(e%60,"0",2)}function BT(t,e){return Kt(t.getUTCDate(),e,2)}function Oue(t,e){return Kt(t.getUTCHours(),e,2)}function Rue(t,e){return Kt(t.getUTCHours()%12||12,e,2)}function Iue(t,e){return Kt(1+Kv.count(Za(t),t),e,3)}function ZF(t,e){return Kt(t.getUTCMilliseconds(),e,3)}function Due(t,e){return ZF(t,e)+"000"}function Lue(t,e){return Kt(t.getUTCMonth()+1,e,2)}function zue(t,e){return Kt(t.getUTCMinutes(),e,2)}function Fue(t,e){return Kt(t.getUTCSeconds(),e,2)}function Bue(t){var e=t.getUTCDay();return e===0?7:e}function $ue(t,e){return Kt(Xv.count(Za(t)-1,t),e,2)}function eB(t){var e=t.getUTCDay();return e>=4||e===0?Xu(t):Xu.ceil(t)}function que(t,e){return t=eB(t),Kt(Xu.count(Za(t),t)+(Za(t).getUTCDay()===4),e,2)}function Uue(t){return t.getUTCDay()}function Vue(t,e){return Kt(Ag.count(Za(t)-1,t),e,2)}function Wue(t,e){return Kt(t.getUTCFullYear()%100,e,2)}function Hue(t,e){return t=eB(t),Kt(t.getUTCFullYear()%100,e,2)}function Kue(t,e){return Kt(t.getUTCFullYear()%1e4,e,4)}function Gue(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Xu(t):Xu.ceil(t),Kt(t.getUTCFullYear()%1e4,e,4)}function Xue(){return"+0000"}function $T(){return"%"}function qT(t){return+t}function UT(t){return Math.floor(+t/1e3)}var su,tB,rB;Yue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yue(t){return su=Yce(t),tB=su.format,su.parse,rB=su.utcFormat,su.utcParse,su}function Jue(t){return new Date(t)}function Que(t){return t instanceof Date?+t:+new Date(+t)}function U8(t,e,r,n,i,s,a,o,l,u){var f=j8(),p=f.invert,m=f.domain,v=u(".%L"),y=u(":%S"),x=u("%I:%M"),b=u("%I %p"),S=u("%a %d"),N=u("%b %d"),A=u("%B"),k=u("%Y");function E(j){return(l(j)<j?v:o(j)<j?y:a(j)<j?x:s(j)<j?b:n(j)<j?i(j)<j?S:N:r(j)<j?A:k)(j)}return f.invert=function(j){return new Date(p(j))},f.domain=function(j){return arguments.length?m(Array.from(j,Que)):m().map(Jue)},f.ticks=function(j){var T=m();return t(T[0],T[T.length-1],j??10)},f.tickFormat=function(j,T){return T==null?E:u(T)},f.nice=function(j){var T=m();return(!j||typeof j.range!="function")&&(j=e(T[0],T[T.length-1],j??10)),j?m(qF(T,j)):f},f.copy=function(){return S0(f,U8(t,e,r,n,i,s,a,o,l,u))},f}function Zue(){return ls.apply(U8(Gce,Xce,Qa,$8,Gv,_0,F8,L8,Xl,tB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ede(){return ls.apply(U8(Hce,Kce,Za,q8,Xv,Kv,B8,z8,Xl,rB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yv(){var t=0,e=1,r,n,i,s,a=Xn,o=!1,l;function u(p){return p==null||isNaN(p=+p)?l:a(i===0?.5:(p=(s(p)-r)*i,o?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([t,e]=p,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(p){return arguments.length?(o=!!p,u):o},u.interpolator=function(p){return arguments.length?(a=p,u):a};function f(p){return function(m){var v,y;return arguments.length?([v,y]=m,a=p(v,y),u):[a(0),a(1)]}}return u.range=f(kd),u.rangeRound=f(k8),u.unknown=function(p){return arguments.length?(l=p,u):l},function(p){return s=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),u}}function ol(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nB(){var t=al(Yv()(Xn));return t.copy=function(){return ol(t,nB())},ao.apply(t,arguments)}function iB(){var t=M8(Yv()).domain([1,10]);return t.copy=function(){return ol(t,iB()).base(t.base())},ao.apply(t,arguments)}function sB(){var t=O8(Yv());return t.copy=function(){return ol(t,sB()).constant(t.constant())},ao.apply(t,arguments)}function V8(){var t=R8(Yv());return t.copy=function(){return ol(t,V8()).exponent(t.exponent())},ao.apply(t,arguments)}function tde(){return V8.apply(null,arguments).exponent(.5)}function aB(){var t=[],e=Xn;function r(n){if(n!=null&&!isNaN(n=+n))return e((b0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Go),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>$le(t,s/n))},r.copy=function(){return aB(e).domain(t)},ao.apply(r,arguments)}function Jv(){var t=0,e=.5,r=1,n=1,i,s,a,o,l,u=Xn,f,p=!1,m;function v(x){return isNaN(x=+x)?m:(x=.5+((x=+f(x))-s)*(n*x<n*s?o:l),u(p?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([t,e,r]=x,i=f(t=+t),s=f(e=+e),a=f(r=+r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,v):[t,e,r]},v.clamp=function(x){return arguments.length?(p=!!x,v):p},v.interpolator=function(x){return arguments.length?(u=x,v):u};function y(x){return function(b){var S,N,A;return arguments.length?([S,N,A]=b,u=fce(x,[S,N,A]),v):[u(0),u(.5),u(1)]}}return v.range=y(kd),v.rangeRound=y(k8),v.unknown=function(x){return arguments.length?(m=x,v):m},function(x){return f=x,i=x(t),s=x(e),a=x(r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,v}}function oB(){var t=al(Jv()(Xn));return t.copy=function(){return ol(t,oB())},ao.apply(t,arguments)}function lB(){var t=M8(Jv()).domain([.1,1,10]);return t.copy=function(){return ol(t,lB()).base(t.base())},ao.apply(t,arguments)}function cB(){var t=O8(Jv());return t.copy=function(){return ol(t,cB()).constant(t.constant())},ao.apply(t,arguments)}function W8(){var t=R8(Jv());return t.copy=function(){return ol(t,W8()).exponent(t.exponent())},ao.apply(t,arguments)}function rde(){return W8.apply(null,arguments).exponent(.5)}const VT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nf,scaleDiverging:oB,scaleDivergingLog:lB,scaleDivergingPow:W8,scaleDivergingSqrt:rde,scaleDivergingSymlog:cB,scaleIdentity:$F,scaleImplicit:U3,scaleLinear:Sg,scaleLog:UF,scaleOrdinal:A8,scalePoint:Jh,scalePow:I8,scaleQuantile:HF,scaleQuantize:KF,scaleRadial:WF,scaleSequential:nB,scaleSequentialLog:iB,scaleSequentialPow:V8,scaleSequentialQuantile:aB,scaleSequentialSqrt:tde,scaleSequentialSymlog:sB,scaleSqrt:Dce,scaleSymlog:VF,scaleThreshold:GF,scaleTime:Zue,scaleUtc:ede,tickFormat:BF},Symbol.toStringTag,{value:"Module"}));var f4,WT;function uB(){if(WT)return f4;WT=1;var t=Nd();function e(r,n,i){for(var s=-1,a=r.length;++s<a;){var o=r[s],l=n(o);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,f=o}return f}return f4=e,f4}var p4,HT;function nde(){if(HT)return p4;HT=1;function t(e,r){return e>r}return p4=t,p4}var m4,KT;function ide(){if(KT)return m4;KT=1;var t=uB(),e=nde(),r=Cd();function n(i){return i&&i.length?t(i,r,e):void 0}return m4=n,m4}var sde=ide();const Vo=er(sde);var g4,GT;function ade(){if(GT)return g4;GT=1;function t(e,r){return e<r}return g4=t,g4}var v4,XT;function ode(){if(XT)return v4;XT=1;var t=uB(),e=ade(),r=Cd();function n(i){return i&&i.length?t(i,r,e):void 0}return v4=n,v4}var lde=ode();const Qv=er(lde);var y4,YT;function cde(){if(YT)return y4;YT=1;var t=o8(),e=il(),r=yF(),n=xi();function i(s,a){var o=n(s)?t:r;return o(s,e(a,3))}return y4=i,y4}var x4,JT;function ude(){if(JT)return x4;JT=1;var t=gF(),e=cde();function r(n,i){return t(e(n,i),1)}return x4=r,x4}var dde=ude();const hde=er(dde);var b4,QT;function fde(){if(QT)return b4;QT=1;var t=x8();function e(r,n){return t(r,n)}return b4=e,b4}var pde=fde();const pc=er(pde);var jd=1e9,mde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},K8,vr=!0,ss="[DecimalError] ",ic=ss+"Invalid argument: ",H8=ss+"Exponent out of range: ",Pd=Math.floor,ql=Math.pow,gde=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ii,fn=1e7,fr=7,dB=9007199254740991,Eg=Pd(dB/fr),et={};et.absoluteValue=et.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};et.comparedTo=et.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};et.decimalPlaces=et.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*fr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};et.dividedBy=et.div=function(t){return qa(this,new this.constructor(t))};et.dividedToIntegerBy=et.idiv=function(t){var e=this,r=e.constructor;return nr(qa(e,new r(t),0,1),r.precision)};et.equals=et.eq=function(t){return!this.cmp(t)};et.exponent=function(){return Ur(this)};et.greaterThan=et.gt=function(t){return this.cmp(t)>0};et.greaterThanOrEqualTo=et.gte=function(t){return this.cmp(t)>=0};et.isInteger=et.isint=function(){return this.e>this.d.length-2};et.isNegative=et.isneg=function(){return this.s<0};et.isPositive=et.ispos=function(){return this.s>0};et.isZero=function(){return this.s===0};et.lessThan=et.lt=function(t){return this.cmp(t)<0};et.lessThanOrEqualTo=et.lte=function(t){return this.cmp(t)<1};et.logarithm=et.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ii))throw Error(ss+"NaN");if(r.s<1)throw Error(ss+(r.s?"NaN":"-Infinity"));return r.eq(Ii)?new n(0):(vr=!1,e=qa(jf(r,s),jf(t,s),s),vr=!0,nr(e,i))};et.minus=et.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pB(e,t):hB(e,(t.s=-t.s,t))};et.modulo=et.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ss+"NaN");return r.s?(vr=!1,e=qa(r,t,0,1).times(t),vr=!0,r.minus(e)):nr(new n(r),i)};et.naturalExponential=et.exp=function(){return fB(this)};et.naturalLogarithm=et.ln=function(){return jf(this)};et.negated=et.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};et.plus=et.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hB(e,t):pB(e,(t.s=-t.s,t))};et.precision=et.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ic+t);if(e=Ur(i)+1,n=i.d.length-1,r=n*fr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};et.squareRoot=et.sqrt=function(){var t,e,r,n,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ss+"NaN")}for(t=Ur(o),vr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ta(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(s=n,n=s.plus(qa(o,s,a+2)).times(.5),ta(s.d).slice(0,a)===(e=ta(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(nr(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return vr=!0,nr(n,r)};et.times=et.mul=function(t){var e,r,n,i,s,a,o,l,u,f=this,p=f.constructor,m=f.d,v=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,r=f.e+t.e,l=m.length,u=v.length,l<u&&(s=m,m=v,v=s,a=l,l=u,u=a),s=[],a=l+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=s[i]+v[n]*m[i-n-1]+e,s[i--]=o%fn|0,e=o/fn|0;s[i]=(s[i]+e)%fn|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,vr?nr(t,p.precision):t};et.toDecimalPlaces=et.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ua(t,0,jd),e===void 0?e=n.rounding:ua(e,0,8),nr(r,t+Ur(r)+1,e))};et.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=mc(n,!0):(ua(t,0,jd),e===void 0?e=i.rounding:ua(e,0,8),n=nr(new i(n),t+1,e),r=mc(n,!0,t+1)),r};et.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?mc(i):(ua(t,0,jd),e===void 0?e=s.rounding:ua(e,0,8),n=nr(new s(i),t+Ur(i)+1,e),r=mc(n.abs(),!1,t+Ur(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};et.toInteger=et.toint=function(){var t=this,e=t.constructor;return nr(new e(t),Ur(t)+1,e.rounding)};et.toNumber=function(){return+this};et.toPower=et.pow=function(t){var e,r,n,i,s,a,o=this,l=o.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Ii);if(o=new l(o),!o.s){if(t.s<1)throw Error(ss+"Infinity");return o}if(o.eq(Ii))return o;if(n=l.precision,t.eq(Ii))return nr(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=f<0?-f:f)<=dB){for(i=new l(Ii),e=Math.ceil(n/fr+4),vr=!1;r%2&&(i=i.times(o),eM(i.d,e)),r=Pd(r/2),r!==0;)o=o.times(o),eM(o.d,e);return vr=!0,t.s<0?new l(Ii).div(i):nr(i,n)}}else if(s<0)throw Error(ss+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,vr=!1,i=t.times(jf(o,n+u)),vr=!0,i=fB(i),i.s=s,i};et.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Ur(i),n=mc(i,r<=s.toExpNeg||r>=s.toExpPos)):(ua(t,1,jd),e===void 0?e=s.rounding:ua(e,0,8),i=nr(new s(i),t,e),r=Ur(i),n=mc(i,t<=r||r<=s.toExpNeg,t)),n};et.toSignificantDigits=et.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ua(t,1,jd),e===void 0?e=n.rounding:ua(e,0,8)),nr(new n(r),t,e)};et.toString=et.valueOf=et.val=et.toJSON=et[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ur(t),r=t.constructor;return mc(t,e<=r.toExpNeg||e>=r.toExpPos)};function hB(t,e){var r,n,i,s,a,o,l,u,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),vr?nr(e,p):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(n=l,s=-s,o=u.length):(n=u,i=a,o=l.length),a=Math.ceil(p/fr),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,n=u,u=l,l=n),r=0;s;)r=(l[--s]=l[s]+u[s]+r)/fn|0,l[s]%=fn;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,vr?nr(e,p):e}function ua(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ic+t)}function ta(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=fr-n.length,r&&(s+=$o(r)),s+=n;a=t[e],n=a+"",r=fr-n.length,r&&(s+=$o(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var qa=(function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%fn|0,a=s/fn|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*fn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,l,u,f,p,m,v,y,x,b,S,N,A,k,E,j,T,M,I=n.constructor,q=n.s==i.s?1:-1,D=n.d,L=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(ss+"Division by zero");for(l=n.e-i.e,T=L.length,E=D.length,v=new I(q),y=v.d=[],u=0;L[u]==(D[u]||0);)++u;if(L[u]>(D[u]||0)&&--l,s==null?N=s=I.precision:a?N=s+(Ur(n)-Ur(i))+1:N=s,N<0)return new I(0);if(N=N/fr+2|0,u=0,T==1)for(f=0,L=L[0],N++;(u<E||f)&&N--;u++)A=f*fn+(D[u]||0),y[u]=A/L|0,f=A%L|0;else{for(f=fn/(L[0]+1)|0,f>1&&(L=t(L,f),D=t(D,f),T=L.length,E=D.length),k=T,x=D.slice(0,T),b=x.length;b<T;)x[b++]=0;M=L.slice(),M.unshift(0),j=L[0],L[1]>=fn/2&&++j;do f=0,o=e(L,x,T,b),o<0?(S=x[0],T!=b&&(S=S*fn+(x[1]||0)),f=S/j|0,f>1?(f>=fn&&(f=fn-1),p=t(L,f),m=p.length,b=x.length,o=e(p,x,m,b),o==1&&(f--,r(p,T<m?M:L,m))):(f==0&&(o=f=1),p=L.slice()),m=p.length,m<b&&p.unshift(0),r(x,p,b),o==-1&&(b=x.length,o=e(L,x,T,b),o<1&&(f++,r(x,T<b?M:L,b))),b=x.length):o===0&&(f++,x=[0]),y[u++]=f,o&&x[0]?x[b++]=D[k]||0:(x=[D[k]],b=1);while((k++<E||x[0]!==void 0)&&N--)}return y[0]||y.shift(),v.e=l,nr(v,a?s+Ur(v)+1:s)}})();function fB(t,e){var r,n,i,s,a,o,l=0,u=0,f=t.constructor,p=f.precision;if(Ur(t)>16)throw Error(H8+Ur(t));if(!t.s)return new f(Ii);for(vr=!1,o=p,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log(ql(2,u))/Math.LN10*2+5|0,o+=n,r=i=s=new f(Ii),f.precision=o;;){if(i=nr(i.times(t),o),r=r.times(++l),a=s.plus(qa(i,r,o)),ta(a.d).slice(0,o)===ta(s.d).slice(0,o)){for(;u--;)s=nr(s.times(s),o);return f.precision=p,e==null?(vr=!0,nr(s,p)):s}s=a}}function Ur(t){for(var e=t.e*fr,r=t.d[0];r>=10;r/=10)e++;return e}function w4(t,e,r){if(e>t.LN10.sd())throw vr=!0,r&&(t.precision=r),Error(ss+"LN10 precision limit exceeded");return nr(new t(t.LN10),e)}function $o(t){for(var e="";t--;)e+="0";return e}function jf(t,e){var r,n,i,s,a,o,l,u,f,p=1,m=10,v=t,y=v.d,x=v.constructor,b=x.precision;if(v.s<1)throw Error(ss+(v.s?"NaN":"-Infinity"));if(v.eq(Ii))return new x(0);if(e==null?(vr=!1,u=b):u=e,v.eq(10))return e==null&&(vr=!0),w4(x,u);if(u+=m,x.precision=u,r=ta(y),n=r.charAt(0),s=Ur(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=ta(v.d),n=r.charAt(0),p++;s=Ur(v),n>1?(v=new x("0."+r),s++):v=new x(n+"."+r.slice(1))}else return l=w4(x,u+2,b).times(s+""),v=jf(new x(n+"."+r.slice(1)),u-m).plus(l),x.precision=b,e==null?(vr=!0,nr(v,b)):v;for(o=a=v=qa(v.minus(Ii),v.plus(Ii),u),f=nr(v.times(v),u),i=3;;){if(a=nr(a.times(f),u),l=o.plus(qa(a,new x(i),u)),ta(l.d).slice(0,u)===ta(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(w4(x,u+2,b).times(s+""))),o=qa(o,new x(p),u),x.precision=b,e==null?(vr=!0,nr(o,b)):o;o=l,i+=2}}function ZT(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Pd(r/fr),t.d=[],n=(r+1)%fr,r<0&&(n+=fr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=fr;n<i;)t.d.push(+e.slice(n,n+=fr));e=e.slice(n),n=fr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),vr&&(t.e>Eg||t.e<-Eg))throw Error(H8+r)}else t.s=0,t.e=0,t.d=[0];return t}function nr(t,e,r){var n,i,s,a,o,l,u,f,p=t.d;for(a=1,s=p[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=fr,i=e,u=p[f=0];else{if(f=Math.ceil((n+1)/fr),s=p.length,f>=s)return t;for(u=s=p[f],a=1;s>=10;s/=10)a++;n%=fr,i=n-fr+a}if(r!==void 0&&(s=ql(10,a-i-1),o=u/s%10|0,l=e<0||p[f+1]!==void 0||u%s,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/ql(10,a-i):0:p[f-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return l?(s=Ur(t),p.length=1,e=e-s-1,p[0]=ql(10,(fr-e%fr)%fr),t.e=Pd(-e/fr)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=f,s=1,f--):(p.length=f+1,s=ql(10,fr-n),p[f]=i>0?(u/ql(10,a-i)%ql(10,i)|0)*s:0),l)for(;;)if(f==0){(p[0]+=s)==fn&&(p[0]=1,++t.e);break}else{if(p[f]+=s,p[f]!=fn)break;p[f--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(vr&&(t.e>Eg||t.e<-Eg))throw Error(H8+Ur(t));return t}function pB(t,e){var r,n,i,s,a,o,l,u,f,p,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),vr?nr(e,v):e;if(l=t.d,p=e.d,n=e.e,u=t.e,l=l.slice(),a=u-n,a){for(f=a<0,f?(r=l,a=-a,o=p.length):(r=p,n=u,o=l.length),i=Math.max(Math.ceil(v/fr),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=p.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(l[i]!=p[i]){f=l[i]<p[i];break}a=0}for(f&&(r=l,l=p,p=r,e.s=-e.s),o=l.length,i=p.length-o;i>0;--i)l[o++]=0;for(i=p.length;i>a;){if(l[--i]<p[i]){for(s=i;s&&l[--s]===0;)l[s]=fn-1;--l[s],l[i]+=fn}l[i]-=p[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,vr?nr(e,v):e):new m(0)}function mc(t,e,r){var n,i=Ur(t),s=ta(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+$o(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+$o(-i-1)+s,r&&(n=r-a)>0&&(s+=$o(n))):i>=a?(s+=$o(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+$o(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=$o(n))),t.s<0?"-"+s:s}function eM(t,e){if(t.length>e)return t.length=e,!0}function mB(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ic+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return ZT(a,s.toString())}else if(typeof s!="string")throw Error(ic+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,gde.test(s))ZT(a,s);else throw Error(ic+s)}if(i.prototype=et,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mB,i.config=i.set=vde,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function vde(t){if(!t||typeof t!="object")throw Error(ss+"Object expected");var e,r,n,i=["precision",1,jd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Pd(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ic+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ic+r+": "+n);return this}var K8=mB(mde);Ii=new K8(1);const tr=K8;function yde(t){return Sde(t)||wde(t)||bde(t)||xde()}function xde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bde(t,e){if(t){if(typeof t=="string")return K3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K3(t,e)}}function wde(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Sde(t){if(Array.isArray(t))return K3(t)}function K3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _de=function(e){return e},gB={},vB=function(e){return e===gB},tM=function(e){return function r(){return arguments.length===0||arguments.length===1&&vB(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Nde=function t(e,r){return e===1?r:tM(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==gB}).length;return a>=e?r.apply(void 0,i):t(e-a,tM(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=i.map(function(p){return vB(p)?l.shift():p});return r.apply(void 0,yde(f).concat(l))}))})},Zv=function(e){return Nde(e.length,e)},G3=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Ade=Zv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Ede=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return _de;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},X3=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},yB=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(o,l){return o===r[l]})||(r=s,n=e.apply(void 0,s)),n}};function Cde(t){var e;return t===0?e=1:e=Math.floor(new tr(t).abs().log(10).toNumber())+1,e}function kde(t,e,r){for(var n=new tr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var jde=Zv(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Pde=Zv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Tde=Zv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const e1={rangeStep:kde,getDigitCount:Cde,interpolateNumber:jde,uninterpolateNumber:Pde,uninterpolateTruncation:Tde};function Y3(t){return Rde(t)||Ode(t)||xB(t)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ode(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Rde(t){if(Array.isArray(t))return J3(t)}function Pf(t,e){return Lde(t)||Dde(t,e)||xB(t,e)||Ide()}function Ide(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xB(t,e){if(t){if(typeof t=="string")return J3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J3(t,e)}}function J3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dde(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function Lde(t){if(Array.isArray(t))return t}function bB(t){var e=Pf(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function wB(t,e,r){if(t.lte(0))return new tr(0);var n=e1.getDigitCount(t.toNumber()),i=new tr(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new tr(Math.ceil(s.div(a).toNumber())).add(r).mul(a),l=o.mul(i);return e?l:new tr(Math.ceil(l))}function zde(t,e,r){var n=1,i=new tr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new tr(10).pow(e1.getDigitCount(t)-1),i=new tr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new tr(Math.floor(t)))}else t===0?i=new tr(Math.floor((e-1)/2)):r||(i=new tr(Math.floor(t)));var a=Math.floor((e-1)/2),o=Ede(Ade(function(l){return i.add(new tr(l-a).mul(n)).toNumber()}),G3);return o(0,e)}function SB(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new tr(0),tickMin:new tr(0),tickMax:new tr(0)};var s=wB(new tr(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new tr(0):(a=new tr(t).add(e).div(2),a=a.sub(new tr(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new tr(e).sub(a).div(s).toNumber()),u=o+l+1;return u>r?SB(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:s,tickMin:a.sub(new tr(o).mul(s)),tickMax:a.add(new tr(l).mul(s))})}function Fde(t){var e=Pf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=bB([r,n]),l=Pf(o,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var p=f===1/0?[u].concat(Y3(G3(0,i-1).map(function(){return 1/0}))):[].concat(Y3(G3(0,i-1).map(function(){return-1/0})),[f]);return r>n?X3(p):p}if(u===f)return zde(u,i,s);var m=SB(u,f,a,s),v=m.step,y=m.tickMin,x=m.tickMax,b=e1.rangeStep(y,x.add(new tr(.1).mul(v)),v);return r>n?X3(b):b}function Bde(t,e){var r=Pf(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=bB([n,i]),o=Pf(a,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var f=Math.max(e,2),p=wB(new tr(u).sub(l).div(f-1),s,0),m=[].concat(Y3(e1.rangeStep(new tr(l),new tr(u).sub(new tr(.99).mul(p)),p)),[u]);return n>i?X3(m):m}var $de=yB(Fde),qde=yB(Bde),Ude="Invariant failed";function gc(t,e){throw new Error(Ude)}var Vde=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cg.apply(this,arguments)}function Wde(t,e){return Xde(t)||Gde(t,e)||Kde(t,e)||Hde()}function Hde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kde(t,e){if(t){if(typeof t=="string")return rM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rM(t,e)}}function rM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Xde(t){if(Array.isArray(t))return t}function Yde(t,e){if(t==null)return{};var r=Jde(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AB(n.key),n)}}function ehe(t,e,r){return e&&Zde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function the(t,e,r){return e=kg(e),rhe(t,_B()?Reflect.construct(e,r||[],kg(t).constructor):e.apply(t,r))}function rhe(t,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nhe(t)}function nhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_B=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(t)}function ihe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q3(t,e)}function Q3(t,e){return Q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q3(t,e)}function NB(t,e,r){return e=AB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AB(t){var e=she(t,"string");return Yu(e)=="symbol"?e:e+""}function she(t,e){if(Yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Td=(function(t){function e(){return Qde(this,e),the(this,e,arguments)}return ihe(e,t),ehe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,f=n.xAxis,p=n.yAxis,m=Yde(n,Vde),v=Nt(m,!1);this.props.direction==="x"&&f.type!=="number"&&gc();var y=l.map(function(x){var b=u(x,o),S=b.x,N=b.y,A=b.value,k=b.errorVal;if(!k)return null;var E=[],j,T;if(Array.isArray(k)){var M=Wde(k,2);j=M[0],T=M[1]}else j=T=k;if(s==="vertical"){var I=f.scale,q=N+i,D=q+a,L=q-a,V=I(A-j),K=I(A+T);E.push({x1:K,y1:D,x2:K,y2:L}),E.push({x1:V,y1:q,x2:K,y2:q}),E.push({x1:V,y1:D,x2:V,y2:L})}else if(s==="horizontal"){var Y=p.scale,J=S+i,te=J-a,U=J+a,X=Y(A-j),ie=Y(A+T);E.push({x1:te,y1:ie,x2:U,y2:ie}),E.push({x1:J,y1:X,x2:J,y2:ie}),E.push({x1:te,y1:X,x2:U,y2:X})}return W.createElement(Gt,Cg({className:"recharts-errorBar",key:"bar-".concat(E.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},v),E.map(function(G){return W.createElement("line",Cg({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return W.createElement(Gt,{className:"recharts-errorBars"},y)}}])})(W.Component);NB(Td,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NB(Td,"displayName","ErrorBar");function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function nM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(r),!0).forEach(function(n){ahe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ahe(t,e,r){return e=ohe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ohe(t){var e=lhe(t,"string");return Tf(e)=="symbol"?e:e+""}function lhe(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EB=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Oi(r,rc);if(!a)return null;var o=rc.defaultProps,l=o!==void 0?Dl(Dl({},o),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(n||[]).reduce(function(f,p){var m=p.item,v=p.props,y=v.sectors||v.data||[];return f.concat(y.map(function(x){return{type:a.props.iconType||m.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(f){var p=f.item,m=p.type.defaultProps,v=m!==void 0?Dl(Dl({},m),p.props):{},y=v.dataKey,x=v.name,b=v.legendType,S=v.hide;return{inactive:S,dataKey:y,type:l.iconType||b||"square",color:G8(p),value:x||y,payload:v}}),Dl(Dl(Dl({},l),rc.getWithHeight(a,i)),{},{payload:u,item:a})};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function iM(t){return hhe(t)||dhe(t)||uhe(t)||che()}function che(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uhe(t,e){if(t){if(typeof t=="string")return Z3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z3(t,e)}}function dhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hhe(t){if(Array.isArray(t))return Z3(t)}function Z3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(r),!0).forEach(function(n){Tu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tu(t,e,r){return e=fhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fhe(t){var e=phe(t,"string");return Mf(e)=="symbol"?e:e+""}function phe(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tn(t,e,r){return _t(t)||_t(e)?r:en(e)?is(t,e,r):At(e)?e(t):r}function Qh(t,e,r,n){var i=hde(t,function(o){return tn(o,e)});if(r==="number"){var s=i.filter(function(o){return Ue(o)||parseFloat(o)});return s.length?[Qv(s),Vo(s)]:[1/0,-1/0]}var a=n?i.filter(function(o){return!_t(o)}):i;return a.map(function(o){return en(o)||o instanceof Date?o:""})}var mhe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<o;u++){var f=u>0?i[u-1].coordinate:i[o-1].coordinate,p=i[u].coordinate,m=u>=o-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(Ms(p-f)!==Ms(m-p)){var y=[];if(Ms(m-p)===Ms(l[1]-l[0])){v=m;var x=p+l[1]-l[0];y[0]=Math.min(x,(x+f)/2),y[1]=Math.max(x,(x+f)/2)}else{v=f;var b=m+l[1]-l[0];y[0]=Math.min(p,(b+p)/2),y[1]=Math.max(p,(b+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){a=i[u].index;break}}else{var N=Math.min(f,m),A=Math.max(f,m);if(e>(N+p)/2&&e<=(A+p)/2){a=i[u].index;break}}}else for(var k=0;k<o;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<o-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===o-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){a=n[k].index;break}return a},G8=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?jr(jr({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},ghe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,u=o.length;l<u;l++)for(var f=s[o[l]].stackGroups,p=Object.keys(f),m=0,v=p.length;m<v;m++){var y=f[p[m]],x=y.items,b=y.cateAxisId,S=x.filter(function(T){return Ba(T.type).indexOf("Bar")>=0});if(S&&S.length){var N=S[0].type.defaultProps,A=N!==void 0?jr(jr({},N),S[0].props):S[0].props,k=A.barSize,E=A[b];a[E]||(a[E]=[]);var j=_t(k)?r:k;a[E].push({item:S[0],stackList:S.slice(1),barSize:_t(j)?void 0:fc(j,n,0)})}}return a},vhe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var u=fc(r,i,0,!0),f,p=[];if(a[0].barSize===+a[0].barSize){var m=!1,v=i/l,y=a.reduce(function(k,E){return k+E.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&v>0&&(m=!0,v*=.9,y=l*v);var x=(i-y)/2>>0,b={offset:x-u,size:0};f=a.reduce(function(k,E){var j={item:E.item,position:{offset:b.offset+b.size+u,size:m?v:E.barSize}},T=[].concat(iM(k),[j]);return b=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(M){T.push({item:M,position:b})}),T},p)}else{var S=fc(n,i,0,!0);i-2*S-(l-1)*u<=0&&(u=0);var N=(i-2*S-(l-1)*u)/l;N>1&&(N>>=0);var A=o===+o?Math.min(N,o):N;f=a.reduce(function(k,E,j){var T=[].concat(iM(k),[{item:E.item,position:{offset:S+(N+u)*j+(N-A)/2,size:A}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(M){T.push({item:M,position:T[T.length-1].position})}),T},p)}return f},yhe=function(e,r,n,i){var s=n.children,a=n.width,o=n.margin,l=a-(o.left||0)-(o.right||0),u=EB({children:s,legendWidth:l});if(u){var f=i||{},p=f.width,m=f.height,v=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&v!=="center"&&Ue(e[v]))return jr(jr({},e),{},Tu({},v,e[v]+(p||0)));if((x==="horizontal"||x==="vertical"&&v==="center")&&y!=="middle"&&Ue(e[y]))return jr(jr({},e),{},Tu({},y,e[y]+(m||0)))}return e},xhe=function(e,r,n){return _t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},CB=function(e,r,n,i,s){var a=r.props.children,o=vi(a,Td).filter(function(u){return xhe(i,s,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var p=tn(f,n);if(_t(p))return u;var m=Array.isArray(p)?[Qv(p),Vo(p)]:[p,p],v=l.reduce(function(y,x){var b=tn(f,x,0),S=m[0]-Math.abs(Array.isArray(b)?b[0]:b),N=m[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(S,y[0]),Math.max(N,y[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},bhe=function(e,r,n,i,s){var a=r.map(function(o){return CB(e,o,n,s,i)}).filter(function(o){return!_t(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},kB=function(e,r,n,i,s){var a=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&CB(e,l,u,i)||Qh(e,u,n,s)});if(n==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,u){for(var f=0,p=u.length;f<p;f++)o[u[f]]||(o[u[f]]=!0,l.push(u[f]));return l},[])},jB=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},PB=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===r&&(s=!0),l.coordinate===n&&(a=!0),l.coordinate});return s||o.push(r),a||o.push(n),o},Fa=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Ms(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(p){var m=s?s.indexOf(p):p;return{coordinate:i(m)+u,value:p,offset:u}});return f.filter(function(p){return!Ed(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,m){return{coordinate:i(p)+u,value:p,index:m,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+u,value:p,offset:u}}):i.domain().map(function(p,m){return{coordinate:i(p)+u,value:s?s[p]:p,index:m,offset:u}})},S4=new WeakMap,rm=function(e,r){if(typeof r!="function")return e;S4.has(e)||S4.set(e,new WeakMap);var n=S4.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},whe=function(e,r,n){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:Nf(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:Sg(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Jh(),realScaleType:"point"}:s==="category"?{scale:Nf(),realScaleType:"band"}:{scale:Sg(),realScaleType:"linear"};if(hc(i)){var l="scale".concat(zv(i));return{scale:(VT[l]||Jh)(),realScaleType:VT[l]?l:"point"}}return At(i)?{scale:i}:{scale:Jh(),realScaleType:"point"}},aM=1e-4,She=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-aM,a=Math.max(i[0],i[1])+aM,o=e(r[0]),l=e(r[n-1]);(o<s||o>a||l<s||l>a)&&e.domain([r[0],r[n-1]])}},_he=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Nhe=function(e,r){if(!r||r.length!==2||!Ue(r[0])||!Ue(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Ue(e[0])||e[0]<n)&&(s[0]=n),(!Ue(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Ahe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0,o=0;o<r;++o){var l=Ed(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},Ehe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var o=Ed(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Che={sign:Ahe,expand:use,none:qu,silhouette:dse,wiggle:hse,positive:Ehe},khe=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),s=Che[n],a=cse().keys(i).value(function(o,l){return+tn(o,l,0)}).order(j3).offset(s);return a(e)},jhe=function(e,r,n,i,s,a){if(!e)return null;var o=a?r.reverse():r,l={},u=o.reduce(function(p,m){var v,y=(v=m.type)!==null&&v!==void 0&&v.defaultProps?jr(jr({},m.type.defaultProps),m.props):m.props,x=y.stackId,b=y.hide;if(b)return p;var S=y[n],N=p[S]||{hasStack:!1,stackGroups:{}};if(en(x)){var A=N.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};A.items.push(m),N.hasStack=!0,N.stackGroups[x]=A}else N.stackGroups[bc("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return jr(jr({},p),{},Tu({},S,N))},l),f={};return Object.keys(u).reduce(function(p,m){var v=u[m];if(v.hasStack){var y={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(x,b){var S=v.stackGroups[b];return jr(jr({},x),{},Tu({},b,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:khe(e,S.items,s)}))},y)}return jr(jr({},p),{},Tu({},m,v))},f)},Phe=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=$de(u,s,o);return e.domain([Qv(f),Vo(f)]),{niceTicks:f}}if(s&&i==="number"){var p=e.domain(),m=qde(p,s,o);return{niceTicks:m}}return null};function Ju(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_t(i[e.dataKey])){var o=ng(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=tn(i,_t(a)?e.dataKey:a);return _t(l)?null:e.scale(l)}var oM=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=tn(a,r.dataKey,r.domain[o]);return _t(l)?null:r.scale(l)-s/2+i},The=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Mhe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?jr(jr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(en(s)){var a=r[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},Ohe=function(e){return e.reduce(function(r,n){return[Qv(n.concat([r[0]]).filter(Ue)),Vo(n.concat([r[1]]).filter(Ue))]},[1/0,-1/0])},TB=function(e,r,n){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(u,f){var p=Ohe(f.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},lM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eS=function(e,r,n){if(At(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ue(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(lM.test(e[0])){var s=+lM.exec(e[0])[1];i[0]=r[0]-s}else At(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ue(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(cM.test(e[1])){var a=+cM.exec(e[1])[1];i[1]=r[1]+a}else At(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},jg=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=w8(r,function(p){return p.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var u=s[o],f=s[o-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},uM=function(e,r,n){return!e||!e.length||pc(e,is(n,"type.defaultProps.domain"))?r:e},MB=function(e,r){var n=e.type.defaultProps?jr(jr({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,a=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,f=n.hide;return jr(jr({},Nt(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:G8(e),value:tn(r,i),type:l,payload:r,chartType:u,hide:f})};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function dM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(r),!0).forEach(function(n){Rhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rhe(t,e,r){return e=Ihe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ihe(t){var e=Dhe(t,"string");return Of(e)=="symbol"?e:e+""}function Dhe(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pg=Math.PI/180,Lhe=function(e){return e*180/Math.PI},Nn=function(e,r,n,i){return{x:e+Math.cos(-Pg*i)*n,y:r+Math.sin(-Pg*i)*n}},zhe=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},Fhe=function(e,r){var n=e.x,i=e.y,s=r.cx,a=r.cy,o=zhe({x:n,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(n-s)/o,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:o,angle:Lhe(u),angleInRadian:u}},Bhe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},$he=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},fM=function(e,r){var n=e.x,i=e.y,s=Fhe({x:n,y:i},r),a=s.radius,o=s.angle,l=r.innerRadius,u=r.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var f=Bhe(r),p=f.startAngle,m=f.endAngle,v=o,y;if(p<=m){for(;v>m;)v-=360;for(;v<p;)v+=360;y=v>=p&&v<=m}else{for(;v>p;)v-=360;for(;v<m;)v+=360;y=v>=m&&v<=p}return y?hM(hM({},r),{},{radius:a,angle:$he(v,r)}):null};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}var qhe=["offset"];function Uhe(t){return Khe(t)||Hhe(t)||Whe(t)||Vhe()}function Vhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Whe(t,e){if(t){if(typeof t=="string")return tS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tS(t,e)}}function Hhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Khe(t){if(Array.isArray(t))return tS(t)}function tS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ghe(t,e){if(t==null)return{};var r=Xhe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(r),!0).forEach(function(n){Yhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yhe(t,e,r){return e=Jhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jhe(t){var e=Qhe(t,"string");return Rf(e)=="symbol"?e:e+""}function Qhe(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},If.apply(this,arguments)}var Zhe=function(e){var r=e.value,n=e.formatter,i=_t(e.children)?r:e.children;return At(n)?n(i):i},efe=function(e,r){var n=Ms(r-e),i=Math.min(Math.abs(r-e),360);return n*i},tfe=function(e,r,n){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,u=l.cx,f=l.cy,p=l.innerRadius,m=l.outerRadius,v=l.startAngle,y=l.endAngle,x=l.clockWise,b=(p+m)/2,S=efe(v,y),N=S>=0?1:-1,A,k;i==="insideStart"?(A=v+N*a,k=x):i==="insideEnd"?(A=y-N*a,k=!x):i==="end"&&(A=y+N*a,k=x),k=S<=0?k:!k;var E=Nn(u,f,b,A),j=Nn(u,f,b,A+(k?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(j.x,",").concat(j.y),M=_t(e.id)?bc("recharts-radial-line-"):e.id;return W.createElement("text",If({},n,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",o)}),W.createElement("defs",null,W.createElement("path",{id:M,d:T})),W.createElement("textPath",{xlinkHref:"#".concat(M)},r))},rfe=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,a=s.cx,o=s.cy,l=s.innerRadius,u=s.outerRadius,f=s.startAngle,p=s.endAngle,m=(f+p)/2;if(i==="outside"){var v=Nn(a,o,u+n,m),y=v.x,x=v.y;return{x:y,y:x,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,S=Nn(a,o,b,m),N=S.x,A=S.y;return{x:N,y:A,textAnchor:"middle",verticalAnchor:"middle"}},nfe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,a=r,o=a.x,l=a.y,u=a.width,f=a.height,p=f>=0?1:-1,m=p*i,v=p>0?"end":"start",y=p>0?"start":"end",x=u>=0?1:-1,b=x*i,S=x>0?"end":"start",N=x>0?"start":"end";if(s==="top"){var A={x:o+u/2,y:l-p*i,textAnchor:"middle",verticalAnchor:v};return Qr(Qr({},A),n?{height:Math.max(l-n.y,0),width:u}:{})}if(s==="bottom"){var k={x:o+u/2,y:l+f+m,textAnchor:"middle",verticalAnchor:y};return Qr(Qr({},k),n?{height:Math.max(n.y+n.height-(l+f),0),width:u}:{})}if(s==="left"){var E={x:o-b,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return Qr(Qr({},E),n?{width:Math.max(E.x-n.x,0),height:f}:{})}if(s==="right"){var j={x:o+u+b,y:l+f/2,textAnchor:N,verticalAnchor:"middle"};return Qr(Qr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:f}:{})}var T=n?{width:u,height:f}:{};return s==="insideLeft"?Qr({x:o+b,y:l+f/2,textAnchor:N,verticalAnchor:"middle"},T):s==="insideRight"?Qr({x:o+u-b,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},T):s==="insideTop"?Qr({x:o+u/2,y:l+m,textAnchor:"middle",verticalAnchor:y},T):s==="insideBottom"?Qr({x:o+u/2,y:l+f-m,textAnchor:"middle",verticalAnchor:v},T):s==="insideTopLeft"?Qr({x:o+b,y:l+m,textAnchor:N,verticalAnchor:y},T):s==="insideTopRight"?Qr({x:o+u-b,y:l+m,textAnchor:S,verticalAnchor:y},T):s==="insideBottomLeft"?Qr({x:o+b,y:l+f-m,textAnchor:N,verticalAnchor:v},T):s==="insideBottomRight"?Qr({x:o+u-b,y:l+f-m,textAnchor:S,verticalAnchor:v},T):Ad(s)&&(Ue(s.x)||Kl(s.x))&&(Ue(s.y)||Kl(s.y))?Qr({x:o+fc(s.x,u),y:l+fc(s.y,f),textAnchor:"end",verticalAnchor:"end"},T):Qr({x:o+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},T)},ife=function(e){return"cx"in e&&Ue(e.cx)};function Ln(t){var e=t.offset,r=e===void 0?5:e,n=Ghe(t,qhe),i=Qr({offset:r},n),s=i.viewBox,a=i.position,o=i.value,l=i.children,u=i.content,f=i.className,p=f===void 0?"":f,m=i.textBreakAll;if(!s||_t(o)&&_t(l)&&!_.isValidElement(u)&&!At(u))return null;if(_.isValidElement(u))return _.cloneElement(u,i);var v;if(At(u)){if(v=_.createElement(u,i),_.isValidElement(v))return v}else v=Zhe(i);var y=ife(s),x=Nt(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return tfe(i,v,x);var b=y?rfe(i):nfe(i);return W.createElement(mg,If({className:Mt("recharts-label",p)},x,b,{breakAll:m}),v)}Ln.displayName="Label";var OB=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,p=e.x,m=e.y,v=e.top,y=e.left,x=e.width,b=e.height,S=e.clockWise,N=e.labelViewBox;if(N)return N;if(Ue(x)&&Ue(b)){if(Ue(p)&&Ue(m))return{x:p,y:m,width:x,height:b};if(Ue(v)&&Ue(y))return{x:v,y,width:x,height:b}}return Ue(p)&&Ue(m)?{x:p,y:m,width:0,height:0}:Ue(r)&&Ue(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:f||l||o||0,clockWise:S}:e.viewBox?e.viewBox:{}},sfe=function(e,r){return e?e===!0?W.createElement(Ln,{key:"label-implicit",viewBox:r}):en(e)?W.createElement(Ln,{key:"label-implicit",viewBox:r,value:e}):_.isValidElement(e)?e.type===Ln?_.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(Ln,{key:"label-implicit",content:e,viewBox:r}):At(e)?W.createElement(Ln,{key:"label-implicit",content:e,viewBox:r}):Ad(e)?W.createElement(Ln,If({viewBox:r},e,{key:"label-implicit"})):null:null},afe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=OB(e),a=vi(i,Ln).map(function(l,u){return _.cloneElement(l,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return a;var o=sfe(e.label,r||s);return[o].concat(Uhe(a))};Ln.parseViewBox=OB;Ln.renderCallByParent=afe;var _4,mM;function ofe(){if(mM)return _4;mM=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return _4=t,_4}var lfe=ofe();const cfe=er(lfe);function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}var ufe=["valueAccessor"],dfe=["data","dataKey","clockWise","id","textBreakAll"];function hfe(t){return gfe(t)||mfe(t)||pfe(t)||ffe()}function ffe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pfe(t,e){if(t){if(typeof t=="string")return rS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rS(t,e)}}function mfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gfe(t){if(Array.isArray(t))return rS(t)}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tg.apply(this,arguments)}function gM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(r),!0).forEach(function(n){vfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vfe(t,e,r){return e=yfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yfe(t){var e=xfe(t,"string");return Df(e)=="symbol"?e:e+""}function xfe(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yM(t,e){if(t==null)return{};var r=bfe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wfe=function(e){return Array.isArray(e.value)?cfe(e.value):e.value};function la(t){var e=t.valueAccessor,r=e===void 0?wfe:e,n=yM(t,ufe),i=n.data,s=n.dataKey,a=n.clockWise,o=n.id,l=n.textBreakAll,u=yM(n,dfe);return!i||!i.length?null:W.createElement(Gt,{className:"recharts-label-list"},i.map(function(f,p){var m=_t(s)?r(f,p):tn(f&&f.payload,s),v=_t(o)?{}:{id:"".concat(o,"-").concat(p)};return W.createElement(Ln,Tg({},Nt(f,!0),u,v,{parentViewBox:f.parentViewBox,value:m,textBreakAll:l,viewBox:Ln.parseViewBox(_t(a)?f:vM(vM({},f),{},{clockWise:a})),key:"label-".concat(p),index:p}))}))}la.displayName="LabelList";function Sfe(t,e){return t?t===!0?W.createElement(la,{key:"labelList-implicit",data:e}):W.isValidElement(t)||At(t)?W.createElement(la,{key:"labelList-implicit",data:e,content:t}):Ad(t)?W.createElement(la,Tg({data:e},t,{key:"labelList-implicit"})):null:null}function _fe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=vi(n,la).map(function(a,o){return _.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var s=Sfe(t.label,e);return[s].concat(hfe(i))}la.renderCallByParent=_fe;function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nS.apply(this,arguments)}function xM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(r),!0).forEach(function(n){Nfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nfe(t,e,r){return e=Afe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Afe(t){var e=Efe(t,"string");return Lf(e)=="symbol"?e:e+""}function Efe(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cfe=function(e,r){var n=Ms(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},nm=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(o?1:-1)+i,p=Math.asin(l/f)/Pg,m=u?s:s+a*p,v=Nn(r,n,f,m),y=Nn(r,n,i,m),x=u?s-a*p:s,b=Nn(r,n,f*Math.cos(p*Pg),x);return{center:v,circleTangency:y,lineTangency:b,theta:p}},RB=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=Cfe(a,o),u=a+l,f=Nn(r,n,s,a),p=Nn(r,n,s,u),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=Nn(r,n,i,a),y=Nn(r,n,i,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},kfe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,p=Ms(f-u),m=nm({cx:r,cy:n,radius:s,angle:u,sign:p,cornerRadius:a,cornerIsExternal:l}),v=m.circleTangency,y=m.lineTangency,x=m.theta,b=nm({cx:r,cy:n,radius:s,angle:f,sign:-p,cornerRadius:a,cornerIsExternal:l}),S=b.circleTangency,N=b.lineTangency,A=b.theta,k=l?Math.abs(u-f):Math.abs(u-f)-x-A;if(k<0)return o?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):RB({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var j=nm({cx:r,cy:n,radius:i,angle:u,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=j.circleTangency,M=j.lineTangency,I=j.theta,q=nm({cx:r,cy:n,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),D=q.circleTangency,L=q.lineTangency,V=q.theta,K=l?Math.abs(u-f):Math.abs(u-f)-I-V;if(K<0&&a===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(L.x,",").concat(L.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(K>180),",").concat(+(p>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},jfe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},IB=function(e){var r=bM(bM({},jfe),e),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,m=r.className;if(a<s||f===p)return null;var v=Mt("recharts-sector",m),y=a-s,x=fc(o,y,0,!0),b;return x>0&&Math.abs(f-p)<360?b=kfe({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(x,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:p}):b=RB({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:f,endAngle:p}),W.createElement("path",nS({},Nt(r,!0),{className:v,d:b,role:"img"}))};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iS.apply(this,arguments)}function wM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(r),!0).forEach(function(n){Pfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pfe(t,e,r){return e=Tfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tfe(t){var e=Mfe(t,"string");return zf(e)=="symbol"?e:e+""}function Mfe(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _M={curveBasisClosed:Qie,curveBasisOpen:Zie,curveBasis:Jie,curveBumpX:Lie,curveBumpY:zie,curveLinearClosed:ese,curveLinear:Bv,curveMonotoneX:tse,curveMonotoneY:rse,curveNatural:nse,curveStep:ise,curveStepAfter:ase,curveStepBefore:sse},im=function(e){return e.x===+e.x&&e.y===+e.y},Ph=function(e){return e.x},Th=function(e){return e.y},Ofe=function(e,r){if(At(e))return e;var n="curve".concat(zv(e));return(n==="curveMonotone"||n==="curveBump")&&r?_M["".concat(n).concat(r==="vertical"?"Y":"X")]:_M[n]||Bv},Rfe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=Ofe(n,o),p=u?s.filter(function(x){return im(x)}):s,m;if(Array.isArray(a)){var v=u?a.filter(function(x){return im(x)}):a,y=p.map(function(x,b){return SM(SM({},x),{},{base:v[b]})});return o==="vertical"?m=Xp().y(Th).x1(Ph).x0(function(x){return x.base.x}):m=Xp().x(Ph).y1(Th).y0(function(x){return x.base.y}),m.defined(im).curve(f),m(y)}return o==="vertical"&&Ue(a)?m=Xp().y(Th).x1(Ph).x0(a):Ue(a)?m=Xp().x(Ph).y1(Th).y0(a):m=Fz().x(Ph).y(Th),m.defined(im).curve(f),m(p)},sc=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?Rfe(e):i;return _.createElement("path",iS({},Nt(e,!1),ig(e),{className:Mt("recharts-curve",r),d:a,ref:s}))},N4={exports:{}},A4,NM;function Ife(){if(NM)return A4;NM=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return A4=t,A4}var E4,AM;function Dfe(){if(AM)return E4;AM=1;var t=Ife();function e(){}function r(){}return r.resetWarningCache=e,E4=function(){function n(a,o,l,u,f,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},E4}var EM;function Lfe(){return EM||(EM=1,N4.exports=Dfe()()),N4.exports}var zfe=Lfe();const Jt=er(zfe);var Ffe=Object.getOwnPropertyNames,Bfe=Object.getOwnPropertySymbols,$fe=Object.prototype.hasOwnProperty;function CM(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function sm(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,a=s.get(r),o=s.get(n);if(a&&o)return a===n&&o===r;s.set(r,n),s.set(n,r);var l=t(r,n,i);return s.delete(r),s.delete(n),l}}function qfe(t){return t!=null?t[Symbol.toStringTag]:void 0}function kM(t){return Ffe(t).concat(Bfe(t))}var Ufe=Object.hasOwn||(function(t,e){return $fe.call(t,e)});function _c(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Vfe="__v",Wfe="__o",Hfe="_owner",jM=Object.getOwnPropertyDescriptor,PM=Object.keys;function Kfe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Gfe(t,e){return _c(t.getTime(),e.getTime())}function Xfe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Yfe(t,e){return t===e}function TM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var u=e.entries(),f=!1,p=0;(o=u.next())&&!o.done;){if(i[p]){p++;continue}var m=a.value,v=o.value;if(r.equals(m[0],v[0],l,p,t,e,r)&&r.equals(m[1],v[1],m[0],v[0],t,e,r)){f=i[p]=!0;break}p++}if(!f)return!1;l++}return!0}var Jfe=_c;function Qfe(t,e,r){var n=PM(t),i=n.length;if(PM(e).length!==i)return!1;for(;i-- >0;)if(!DB(t,e,r,n[i]))return!1;return!0}function Mh(t,e,r){var n=kM(t),i=n.length;if(kM(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=n[i],!DB(t,e,r,s)||(a=jM(t,s),o=jM(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function Zfe(t,e){return _c(t.valueOf(),e.valueOf())}function e0e(t,e){return t.source===e.source&&t.flags===e.flags}function MM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),u=!1,f=0;(o=l.next())&&!o.done;){if(!i[f]&&r.equals(a.value,o.value,a.value,o.value,t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function t0e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function r0e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function DB(t,e,r,n){return(n===Hfe||n===Wfe||n===Vfe)&&(t.$$typeof||e.$$typeof)?!0:Ufe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var n0e="[object Arguments]",i0e="[object Boolean]",s0e="[object Date]",a0e="[object Error]",o0e="[object Map]",l0e="[object Number]",c0e="[object Object]",u0e="[object RegExp]",d0e="[object Set]",h0e="[object String]",f0e="[object URL]",p0e=Array.isArray,OM=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,RM=Object.assign,m0e=Object.prototype.toString.call.bind(Object.prototype.toString);function g0e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,p=t.areTypedArraysEqual,m=t.areUrlsEqual,v=t.unknownTagComparators;return function(x,b,S){if(x===b)return!0;if(x==null||b==null)return!1;var N=typeof x;if(N!==typeof b)return!1;if(N!=="object")return N==="number"?a(x,b,S):N==="function"?i(x,b,S):!1;var A=x.constructor;if(A!==b.constructor)return!1;if(A===Object)return o(x,b,S);if(p0e(x))return e(x,b,S);if(OM!=null&&OM(x))return p(x,b,S);if(A===Date)return r(x,b,S);if(A===RegExp)return u(x,b,S);if(A===Map)return s(x,b,S);if(A===Set)return f(x,b,S);var k=m0e(x);if(k===s0e)return r(x,b,S);if(k===u0e)return u(x,b,S);if(k===o0e)return s(x,b,S);if(k===d0e)return f(x,b,S);if(k===c0e)return typeof x.then!="function"&&typeof b.then!="function"&&o(x,b,S);if(k===f0e)return m(x,b,S);if(k===a0e)return n(x,b,S);if(k===n0e)return o(x,b,S);if(k===i0e||k===l0e||k===h0e)return l(x,b,S);if(v){var E=v[k];if(!E){var j=qfe(x);j&&(E=v[j])}if(E)return E(x,b,S)}return!1}}function v0e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Mh:Kfe,areDatesEqual:Gfe,areErrorsEqual:Xfe,areFunctionsEqual:Yfe,areMapsEqual:n?CM(TM,Mh):TM,areNumbersEqual:Jfe,areObjectsEqual:n?Mh:Qfe,arePrimitiveWrappersEqual:Zfe,areRegExpsEqual:e0e,areSetsEqual:n?CM(MM,Mh):MM,areTypedArraysEqual:n?Mh:t0e,areUrlsEqual:r0e,unknownTagComparators:void 0};if(r&&(i=RM({},i,r(i))),e){var s=sm(i.areArraysEqual),a=sm(i.areMapsEqual),o=sm(i.areObjectsEqual),l=sm(i.areSetsEqual);i=RM({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function y0e(t){return function(e,r,n,i,s,a,o){return t(e,r,o)}}function x0e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(l,u){var f=n(),p=f.cache,m=p===void 0?e?new WeakMap:void 0:p,v=f.meta;return r(l,u,{cache:m,equals:i,meta:v,strict:s})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,u){return r(l,u,a)}}var b0e=ll();ll({strict:!0});ll({circular:!0});ll({circular:!0,strict:!0});ll({createInternalComparator:function(){return _c}});ll({strict:!0,createInternalComparator:function(){return _c}});ll({circular:!0,createInternalComparator:function(){return _c}});ll({circular:!0,createInternalComparator:function(){return _c},strict:!0});function ll(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=v0e(t),l=g0e(o),u=n?n(l):y0e(l);return x0e({circular:r,comparator:l,createState:i,equals:u,strict:a})}function w0e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function IM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):w0e(i)};requestAnimationFrame(n)}function sS(t){"@babel/helpers - typeof";return sS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sS(t)}function S0e(t){return E0e(t)||A0e(t)||N0e(t)||_0e()}function _0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N0e(t,e){if(t){if(typeof t=="string")return DM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DM(t,e)}}function DM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function E0e(t){if(Array.isArray(t))return t}function C0e(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,o=S0e(a),l=o[0],u=o.slice(1);if(typeof l=="number"){IM(i.bind(null,u),l);return}i(l),IM(i.bind(null,u));return}sS(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function LM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(r),!0).forEach(function(n){LB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LB(t,e,r){return e=k0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k0e(t){var e=j0e(t,"string");return Ff(e)==="symbol"?e:String(e)}function j0e(t,e){if(Ff(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P0e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},T0e=function(e){return e},M0e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Zh=function(e,r){return Object.keys(r).reduce(function(n,i){return zM(zM({},n),{},LB({},i,e(i,r[i])))},{})},FM=function(e,r,n){return e.map(function(i){return"".concat(M0e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function O0e(t,e){return D0e(t)||I0e(t,e)||zB(t,e)||R0e()}function R0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function D0e(t){if(Array.isArray(t))return t}function L0e(t){return B0e(t)||F0e(t)||zB(t)||z0e()}function z0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zB(t,e){if(t){if(typeof t=="string")return aS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aS(t,e)}}function F0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B0e(t){if(Array.isArray(t))return aS(t)}function aS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Mg=1e-4,FB=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},BB=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},BM=function(e,r){return function(n){var i=FB(e,r);return BB(i,n)}},$0e=function(e,r){return function(n){var i=FB(e,r),s=[].concat(L0e(i.map(function(a,o){return a*o}).slice(1)),[0]);return BB(s,n)}},$M=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=O0e(u,4);i=f[0],s=f[1],a=f[2],o=f[3]}}}var p=BM(i,a),m=BM(s,o),v=$0e(i,a),y=function(S){return S>1?1:S<0?0:S},x=function(S){for(var N=S>1?1:S,A=N,k=0;k<8;++k){var E=p(A)-N,j=v(A);if(Math.abs(E-N)<Mg||j<Mg)return m(A);A=y(A-E/j)}return m(A)};return x.isStepper=!1,x},q0e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(f,p,m){var v=-(f-p)*n,y=m*s,x=m+(v-y)*o/1e3,b=m*o/1e3+f;return Math.abs(b-p)<Mg&&Math.abs(x)<Mg?[p,0]:[b,x]};return l.isStepper=!0,l.dt=o,l},U0e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $M(i);case"spring":return q0e();default:if(i.split("(")[0]==="cubic-bezier")return $M(i)}return typeof i=="function"?i:null};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function qM(t){return H0e(t)||W0e(t)||$B(t)||V0e()}function V0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H0e(t){if(Array.isArray(t))return lS(t)}function UM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(r),!0).forEach(function(n){oS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oS(t,e,r){return e=K0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K0e(t){var e=G0e(t,"string");return Bf(e)==="symbol"?e:String(e)}function G0e(t,e){if(Bf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X0e(t,e){return Q0e(t)||J0e(t,e)||$B(t,e)||Y0e()}function Y0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(t,e){if(t){if(typeof t=="string")return lS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lS(t,e)}}function lS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function J0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Q0e(t){if(Array.isArray(t))return t}var Og=function(e,r,n){return e+(r-e)*n},cS=function(e){var r=e.from,n=e.to;return r!==n},Z0e=function t(e,r,n){var i=Zh(function(s,a){if(cS(a)){var o=e(a.from,a.to,a.velocity),l=X0e(o,2),u=l[0],f=l[1];return bn(bn({},a),{},{from:u,velocity:f})}return a},r);return n<1?Zh(function(s,a){return cS(a)?bn(bn({},a),{},{velocity:Og(a.velocity,i[s].velocity,n),from:Og(a.from,i[s].from,n)}):a},r):t(e,i,n-1)};const epe=(function(t,e,r,n,i){var s=P0e(t,e),a=s.reduce(function(b,S){return bn(bn({},b),{},oS({},S,[t[S],e[S]]))},{}),o=s.reduce(function(b,S){return bn(bn({},b),{},oS({},S,{from:t[S],velocity:0,to:e[S]}))},{}),l=-1,u,f,p=function(){return null},m=function(){return Zh(function(S,N){return N.from},o)},v=function(){return!Object.values(o).filter(cS).length},y=function(S){u||(u=S);var N=S-u,A=N/r.dt;o=Z0e(r,o,A),i(bn(bn(bn({},t),e),m())),u=S,v()||(l=requestAnimationFrame(p))},x=function(S){f||(f=S);var N=(S-f)/n,A=Zh(function(E,j){return Og.apply(void 0,qM(j).concat([r(N)]))},a);if(i(bn(bn(bn({},t),e),A)),N<1)l=requestAnimationFrame(p);else{var k=Zh(function(E,j){return Og.apply(void 0,qM(j).concat([r(1)]))},a);i(bn(bn(bn({},t),e),k))}};return p=r.isStepper?y:x,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(l)}}});function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}var tpe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rpe(t,e){if(t==null)return{};var r=npe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function npe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function C4(t){return ope(t)||ape(t)||spe(t)||ipe()}function ipe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function spe(t,e){if(t){if(typeof t=="string")return uS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uS(t,e)}}function ape(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ope(t){if(Array.isArray(t))return uS(t)}function uS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function As(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(r),!0).forEach(function(n){Fh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fh(t,e,r){return e=qB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qB(n.key),n)}}function upe(t,e,r){return e&&cpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qB(t){var e=dpe(t,"string");return Qu(e)==="symbol"?e:String(e)}function dpe(t,e){if(Qu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}function dS(t,e){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dS(t,e)}function fpe(t){var e=ppe();return function(){var n=Rg(t),i;if(e){var s=Rg(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return hS(this,i)}}function hS(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fS(t)}function fS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ppe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}var Os=(function(t){hpe(r,t);var e=fpe(r);function r(n,i){var s;lpe(this,r),s=e.call(this,n,i);var a=s.props,o=a.isActive,l=a.attributeName,u=a.from,f=a.to,p=a.steps,m=a.children,v=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(fS(s)),s.changeStyle=s.changeStyle.bind(fS(s)),!o||v<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:f}),hS(s);if(p&&p.length)s.state={style:p[0].style};else if(u){if(typeof m=="function")return s.state={style:u},hS(s);s.state={style:l?Fh({},l,u):u}}else s.state={style:{}};return s}return upe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,f=s.to,p=s.from,m=this.state.style;if(o){if(!a){var v={style:l?Fh({},l,f):f};this.state&&m&&(l&&m[l]!==f||!l&&m!==f)&&this.setState(v);return}if(!(b0e(i.to,f)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?p:i.to;if(this.state&&m){var b={style:l?Fh({},l,x):x};(l&&m[l]!==x||!l&&m!==x)&&this.setState(b)}this.runAnimation(As(As({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,u=i.easing,f=i.begin,p=i.onAnimationEnd,m=i.onAnimationStart,v=epe(a,o,U0e(u),l,this.changeStyle),y=function(){s.stopJSAnimation=v()};this.manager.start([m,f,y,l,p])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,u=a[0],f=u.style,p=u.duration,m=p===void 0?0:p,v=function(x,b,S){if(S===0)return x;var N=b.duration,A=b.easing,k=A===void 0?"ease":A,E=b.style,j=b.properties,T=b.onAnimationEnd,M=S>0?a[S-1]:b,I=j||Object.keys(E);if(typeof k=="function"||k==="spring")return[].concat(C4(x),[s.runJSAnimation.bind(s,{from:M.style,to:E,duration:N,easing:k}),N]);var q=FM(I,N,k),D=As(As(As({},M.style),E),{},{transition:q});return[].concat(C4(x),[D,N,T]).filter(T0e)};return this.manager.start([l].concat(C4(a.reduce(v,[f,Math.max(m,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=C0e());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,p=i.onAnimationEnd,m=i.steps,v=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var x=o?Fh({},o,l):l,b=FM(Object.keys(x),a,u);y.start([f,s,As(As({},x),{},{transition:b}),a,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=rpe(i,tpe),u=_.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!o||u===0||a<=0)return s;var p=function(v){var y=v.props,x=y.style,b=x===void 0?{}:x,S=y.className,N=_.cloneElement(v,As(As({},l),{},{style:As(As({},b),f),className:S}));return N};return u===1?p(_.Children.only(s)):W.createElement("div",null,_.Children.map(s,function(m){return p(m)}))}}]),r})(_.PureComponent);Os.displayName="Animate";Os.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Os.propTypes={from:Jt.oneOfType([Jt.object,Jt.string]),to:Jt.oneOfType([Jt.object,Jt.string]),attributeName:Jt.string,duration:Jt.number,begin:Jt.number,easing:Jt.oneOfType([Jt.string,Jt.func]),steps:Jt.arrayOf(Jt.shape({duration:Jt.number.isRequired,style:Jt.object.isRequired,easing:Jt.oneOfType([Jt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Jt.func]),properties:Jt.arrayOf("string"),onAnimationEnd:Jt.func})),children:Jt.oneOfType([Jt.node,Jt.func]),isActive:Jt.bool,canBegin:Jt.bool,onAnimationEnd:Jt.func,shouldReAnimate:Jt.bool,onAnimationStart:Jt.func,onAnimationReStart:Jt.func};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ig.apply(this,arguments)}function mpe(t,e){return xpe(t)||ype(t,e)||vpe(t,e)||gpe()}function gpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vpe(t,e){if(t){if(typeof t=="string")return WM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WM(t,e)}}function WM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ype(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function xpe(t){if(Array.isArray(t))return t}function HM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(r),!0).forEach(function(n){bpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bpe(t,e,r){return e=wpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wpe(t){var e=Spe(t,"string");return $f(e)=="symbol"?e:e+""}function Spe(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GM=function(e,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(a>0&&s instanceof Array){for(var p=[0,0,0,0],m=0,v=4;m<v;m++)p[m]=s[m]>a?a:s[m];f="M".concat(e,",").concat(r+o*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(e+l*p[0],",").concat(r)),f+="L ".concat(e+n-l*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*p[1])),f+="L ".concat(e+n,",").concat(r+i-o*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(e+n-l*p[2],",").concat(r+i)),f+="L ".concat(e+l*p[3],",").concat(r+i),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*p[3])),f+="Z"}else if(a>0&&s===+s&&s>0){var y=Math.min(a,s);f="M ".concat(e,",").concat(r+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(r,`
            L `).concat(e+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*y,`
            L `).concat(e+n,",").concat(r+i-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-l*y,",").concat(r+i,`
            L `).concat(e+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*y," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},_pe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,a=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(s,s+o),f=Math.max(s,s+o),p=Math.min(a,a+l),m=Math.max(a,a+l);return n>=u&&n<=f&&i>=p&&i<=m}return!1},Npe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},X8=function(e){var r=KM(KM({},Npe),e),n=_.useRef(),i=_.useState(-1),s=mpe(i,2),a=s[0],o=s[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&o(k)}catch{}},[]);var l=r.x,u=r.y,f=r.width,p=r.height,m=r.radius,v=r.className,y=r.animationEasing,x=r.animationDuration,b=r.animationBegin,S=r.isAnimationActive,N=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||p!==+p||f===0||p===0)return null;var A=Mt("recharts-rectangle",v);return N?W.createElement(Os,{canBegin:a>0,from:{width:f,height:p,x:l,y:u},to:{width:f,height:p,x:l,y:u},duration:x,animationEasing:y,isActive:N},function(k){var E=k.width,j=k.height,T=k.x,M=k.y;return W.createElement(Os,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:S,easing:y},W.createElement("path",Ig({},Nt(r,!0),{className:A,d:GM(T,M,E,j,m),ref:n})))}):W.createElement("path",Ig({},Nt(r,!0),{className:A,d:GM(l,u,f,p,m)}))};function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pS.apply(this,arguments)}var t1=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,a=Mt("recharts-dot",s);return r===+r&&n===+n&&i===+i?_.createElement("circle",pS({},Nt(e,!1),ig(e),{className:a,cx:r,cy:n,r:i})):null};function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}var Ape=["x","y","top","left","width","height","className"];function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mS.apply(this,arguments)}function XM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Epe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(r),!0).forEach(function(n){Cpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cpe(t,e,r){return e=kpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kpe(t){var e=jpe(t,"string");return qf(e)=="symbol"?e:e+""}function jpe(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ppe(t,e){if(t==null)return{};var r=Tpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Mpe=function(e,r,n,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},Ope=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,u=l===void 0?0:l,f=e.width,p=f===void 0?0:f,m=e.height,v=m===void 0?0:m,y=e.className,x=Ppe(e,Ape),b=Epe({x:n,y:s,top:o,left:u,width:p,height:v},x);return!Ue(n)||!Ue(s)||!Ue(p)||!Ue(v)||!Ue(o)||!Ue(u)?null:W.createElement("path",mS({},Nt(b,!0),{className:Mt("recharts-cross",y),d:Mpe(n,s,p,v,o,u)}))},k4,YM;function Rpe(){if(YM)return k4;YM=1;var t=lF(),e=t(Object.getPrototypeOf,Object);return k4=e,k4}var j4,JM;function Ipe(){if(JM)return j4;JM=1;var t=io(),e=Rpe(),r=so(),n="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var p=e(f);if(p===null)return!0;var m=o.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&a.call(m)==l}return j4=u,j4}var Dpe=Ipe();const Lpe=er(Dpe);var P4,QM;function zpe(){if(QM)return P4;QM=1;var t=io(),e=so(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return P4=n,P4}var Fpe=zpe();const Bpe=er(Fpe);function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dg.apply(this,arguments)}function $pe(t,e){return Wpe(t)||Vpe(t,e)||Upe(t,e)||qpe()}function qpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Upe(t,e){if(t){if(typeof t=="string")return ZM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZM(t,e)}}function ZM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Wpe(t){if(Array.isArray(t))return t}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){Hpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hpe(t,e,r){return e=Kpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kpe(t){var e=Gpe(t,"string");return Uf(e)=="symbol"?e:e+""}function Gpe(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rO=function(e,r,n,i,s){var a=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-a/2,",").concat(r+s),o+="L ".concat(e+n-a/2-i,",").concat(r+s),o+="L ".concat(e,",").concat(r," Z"),o},Xpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ype=function(e){var r=tO(tO({},Xpe),e),n=_.useRef(),i=_.useState(-1),s=$pe(i,2),a=s[0],o=s[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&o(A)}catch{}},[]);var l=r.x,u=r.y,f=r.upperWidth,p=r.lowerWidth,m=r.height,v=r.className,y=r.animationEasing,x=r.animationDuration,b=r.animationBegin,S=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||p!==+p||m!==+m||f===0&&p===0||m===0)return null;var N=Mt("recharts-trapezoid",v);return S?W.createElement(Os,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:u},to:{upperWidth:f,lowerWidth:p,height:m,x:l,y:u},duration:x,animationEasing:y,isActive:S},function(A){var k=A.upperWidth,E=A.lowerWidth,j=A.height,T=A.x,M=A.y;return W.createElement(Os,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:y},W.createElement("path",Dg({},Nt(r,!0),{className:N,d:rO(T,M,k,E,j),ref:n})))}):W.createElement("g",null,W.createElement("path",Dg({},Nt(r,!0),{className:N,d:rO(l,u,f,p,m)})))},Jpe=["option","shapeType","propTransformer","activeClassName","isActive"];function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function Qpe(t,e){if(t==null)return{};var r=Zpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){eme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eme(t,e,r){return e=tme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tme(t){var e=rme(t,"string");return Vf(e)=="symbol"?e:e+""}function rme(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nme(t,e){return Lg(Lg({},e),t)}function ime(t,e){return t==="symbols"}function iO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(X8,r);case"trapezoid":return W.createElement(Ype,r);case"sector":return W.createElement(IB,r);case"symbols":if(ime(e))return W.createElement(qv,r);break;default:return null}}function sme(t){return _.isValidElement(t)?t.props:t}function gS(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?nme:n,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=Qpe(t,Jpe),u;if(_.isValidElement(e))u=_.cloneElement(e,Lg(Lg({},l),sme(e)));else if(At(e))u=e(l);else if(Lpe(e)&&!Bpe(e)){var f=i(e,l);u=W.createElement(iO,{shapeType:r,elementProps:f})}else{var p=l;u=W.createElement(iO,{shapeType:r,elementProps:p})}return o?W.createElement(Gt,{className:a},u):u}function r1(t,e){return e!=null&&"trapezoids"in t.props}function n1(t,e){return e!=null&&"sectors"in t.props}function Wf(t,e){return e!=null&&"points"in t.props}function ame(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function ome(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function lme(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function cme(t,e){var r;return r1(t,e)?r=ame:n1(t,e)?r=ome:Wf(t,e)&&(r=lme),r}function ume(t,e){var r;return r1(t,e)?r="trapezoids":n1(t,e)?r="sectors":Wf(t,e)&&(r="points"),r}function dme(t,e){if(r1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(n1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Wf(t,e)?e.payload:{}}function hme(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=ume(r,e),s=dme(r,e),a=n.filter(function(l,u){var f=pc(s,l),p=r.props[i].filter(function(y){var x=cme(r,e);return x(y,e)}),m=r.props[i].indexOf(p[p.length-1]),v=u===m;return f&&v}),o=n.indexOf(a[a.length-1]);return o}var T4,sO;function fme(){if(sO)return T4;sO=1;var t=Math.ceil,e=Math.max;function r(n,i,s,a){for(var o=-1,l=e(t((i-n)/(s||1)),0),u=Array(l);l--;)u[a?l:++o]=n,n+=s;return u}return T4=r,T4}var M4,aO;function UB(){if(aO)return M4;aO=1;var t=NF(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return M4=n,M4}var O4,oO;function pme(){if(oO)return O4;oO=1;var t=fme(),e=Wv(),r=UB();function n(i){return function(s,a,o){return o&&typeof o!="number"&&e(s,a,o)&&(a=o=void 0),s=r(s),a===void 0?(a=s,s=0):a=r(a),o=o===void 0?s<a?1:-1:r(o),t(s,a,o,i)}}return O4=n,O4}var R4,lO;function mme(){if(lO)return R4;lO=1;var t=pme(),e=t();return R4=e,R4}var gme=mme();const zg=er(gme);function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function cO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(r),!0).forEach(function(n){VB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VB(t,e,r){return e=vme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vme(t){var e=yme(t,"string");return Hf(e)=="symbol"?e:e+""}function yme(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xme=["Webkit","Moz","O","ms"],bme=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=xme.reduce(function(s,a){return uO(uO({},s),{},VB({},a+n,r))},{});return i[e]=r,i};function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fg.apply(this,arguments)}function dO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(r),!0).forEach(function(n){Mi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HB(n.key),n)}}function Sme(t,e,r){return e&&hO(t.prototype,e),r&&hO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _me(t,e,r){return e=Bg(e),Nme(t,WB()?Reflect.construct(e,r||[],Bg(t).constructor):e.apply(t,r))}function Nme(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WB=function(){return!!t})()}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(t)}function Eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vS(t,e)}function Mi(t,e,r){return e=HB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HB(t){var e=Cme(t,"string");return Zu(e)=="symbol"?e:e+""}function Cme(t,e){if(Zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kme=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Jh().domain(zg(0,l)).range([s,s+a-o]),f=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},fO=function(e){return e.changedTouches&&!!e.changedTouches.length},ed=(function(t){function e(r){var n;return wme(this,e),n=_me(this,e,[r]),Mi(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Mi(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Mi(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),n.detachDragEndListener()}),Mi(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Mi(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Mi(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Mi(n,"handleSlideDragStart",function(i){var s=fO(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Eme(e,t),Sme(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,f=u.length-1,p=Math.min(i,s),m=Math.max(i,s),v=e.getIndexInRange(a,p),y=e.getIndexInRange(a,m);return{startIndex:v-v%l,endIndex:y===f?f:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=tn(s[n],o,n);return At(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,u=l.x,f=l.width,p=l.travellerWidth,m=l.startIndex,v=l.endIndex,y=l.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+f-p-o,u+f-p-a):x<0&&(x=Math.max(x,u-a,u-o));var b=this.getIndex({startX:a+x,endX:o+x});(b.startIndex!==m||b.endIndex!==v)&&y&&y(b),this.setState({startX:a+x,endX:o+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=fO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[a],f=this.props,p=f.x,m=f.width,v=f.travellerWidth,y=f.onChange,x=f.gap,b=f.data,S={startX:this.state.startX,endX:this.state.endX},N=n.pageX-s;N>0?N=Math.min(N,p+m-v-u):N<0&&(N=Math.max(N,p-u)),S[a]=u+N;var A=this.getIndex(S),k=A.startIndex,E=A.endIndex,j=function(){var M=b.length-1;return a==="startX"&&(o>l?k%x===0:E%x===0)||o<l&&E===M||a==="endX"&&(o>l?E%x===0:k%x===0)||o>l&&E===M};this.setState(Mi(Mi({},a,u+N),"brushMoveStartX",n.pageX),function(){y&&j()&&y(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,u=a.endX,f=this.state[i],p=o.indexOf(f);if(p!==-1){var m=p+n;if(!(m===-1||m>=o.length)){var v=o[m];i==="startX"&&v>=u||i==="endX"&&v<=l||this.setState(Mi({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.fill,u=n.stroke;return W.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.data,u=n.children,f=n.padding,p=_.Children.only(u);return p?W.cloneElement(p,{x:i,y:s,width:a,height:o,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,o=this,l=this.props,u=l.y,f=l.travellerWidth,p=l.height,m=l.traveller,v=l.ariaLabel,y=l.data,x=l.startIndex,b=l.endIndex,S=Math.max(n,this.props.x),N=I4(I4({},Nt(this.props,!1)),{},{x:S,y:u,width:f,height:p}),A=v||"Min value: ".concat((s=y[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=y[b])===null||a===void 0?void 0:a.name);return W.createElement(Gt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,N))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,u=s.travellerWidth,f=Math.min(n,i)+u,p=Math.max(Math.abs(i-n)-u,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:a,width:p,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,f=this.state,p=f.startX,m=f.endX,v=5,y={pointerEvents:"none",fill:u};return W.createElement(Gt,{className:"recharts-brush-texts"},W.createElement(mg,Fg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,m)-v,y:a+o/2},y),this.getTextOfTick(i)),W.createElement(mg,Fg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,m)+l+v,y:a+o/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,o=n.x,l=n.y,u=n.width,f=n.height,p=n.alwaysShowText,m=this.state,v=m.startX,y=m.endX,x=m.isTextActive,b=m.isSlideMoving,S=m.isTravellerMoving,N=m.isTravellerFocused;if(!i||!i.length||!Ue(o)||!Ue(l)||!Ue(u)||!Ue(f)||u<=0||f<=0)return null;var A=Mt("recharts-brush",s),k=W.Children.count(a)===1,E=bme("userSelect","none");return W.createElement(Gt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(v,y),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(y,"endX"),(x||b||S||N||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,o=n.height,l=n.stroke,u=Math.floor(s+o/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),W.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):At(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,f=n.startIndex,p=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return I4({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:a},s&&s.length?kme({data:s,width:a,x:o,travellerWidth:l,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var m=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);n[l]>i?o=l:a=l}return i>=n[o]?o:a}}])})(_.PureComponent);Mi(ed,"displayName","Brush");Mi(ed,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var D4,pO;function jme(){if(pO)return D4;pO=1;var t=b8();function e(r,n){var i;return t(r,function(s,a,o){return i=n(s,a,o),!i}),!!i}return D4=e,D4}var L4,mO;function Pme(){if(mO)return L4;mO=1;var t=tF(),e=il(),r=jme(),n=xi(),i=Wv();function s(a,o,l){var u=n(a)?t:r;return l&&i(a,o,l)&&(o=void 0),u(a,e(o,3))}return L4=s,L4}var Tme=Pme();const Mme=er(Tme);var ca=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},z4,gO;function Ome(){if(gO)return z4;gO=1;var t=xF();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return z4=e,z4}var F4,vO;function Rme(){if(vO)return F4;vO=1;var t=Ome(),e=vF(),r=il();function n(i,s){var a={};return s=r(s,3),e(i,function(o,l,u){t(a,l,s(o,l,u))}),a}return F4=n,F4}var Ime=Rme();const Dme=er(Ime);var B4,yO;function Lme(){if(yO)return B4;yO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return B4=t,B4}var $4,xO;function zme(){if(xO)return $4;xO=1;var t=b8();function e(r,n){var i=!0;return t(r,function(s,a,o){return i=!!n(s,a,o),i}),i}return $4=e,$4}var q4,bO;function Fme(){if(bO)return q4;bO=1;var t=Lme(),e=zme(),r=il(),n=xi(),i=Wv();function s(a,o,l){var u=n(a)?t:e;return l&&i(a,o,l)&&(o=void 0),u(a,r(o,3))}return q4=s,q4}var Bme=Fme();const KB=er(Bme);var $me=["x","y"];function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yS.apply(this,arguments)}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){qme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qme(t,e,r){return e=Ume(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ume(t){var e=Vme(t,"string");return Kf(e)=="symbol"?e:e+""}function Vme(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wme(t,e){if(t==null)return{};var r=Hme(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kme(t,e){var r=t.x,n=t.y,i=Wme(t,$me),s="".concat(r),a=parseInt(s,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||i.height),f=parseInt(u,10),p="".concat(e.width||i.width),m=parseInt(p,10);return Oh(Oh(Oh(Oh(Oh({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:f,width:m,name:e.name,radius:e.radius})}function SO(t){return W.createElement(gS,yS({shapeType:"rectangle",propTransformer:Kme,activeClassName:"recharts-active-bar"},t))}var Gme=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=Ue(n)||iie(n);return s?e(n,i):(s||gc(),r)}},Xme=["value","background"],GB;function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Yme(t,e){if(t==null)return{};var r=Jme(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$g.apply(this,arguments)}function _O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(r),!0).forEach(function(n){Wo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YB(n.key),n)}}function Zme(t,e,r){return e&&NO(t.prototype,e),r&&NO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ege(t,e,r){return e=qg(e),tge(t,XB()?Reflect.construct(e,r||[],qg(t).constructor):e.apply(t,r))}function tge(t,e){if(e&&(td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rge(t)}function rge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XB=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(t)}function nge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xS(t,e)}function Wo(t,e,r){return e=YB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YB(t){var e=ige(t,"string");return td(e)=="symbol"?e:e+""}function ige(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Md=(function(t){function e(){var r;Qme(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=ege(this,e,[].concat(i)),Wo(r,"state",{isAnimationFinished:!1}),Wo(r,"id",bc("recharts-bar-")),Wo(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),Wo(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return nge(e,t),Zme(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,u=s.activeBar,f=Nt(this.props,!1);return n&&n.map(function(p,m){var v=m===l,y=v?u:a,x=Br(Br(Br({},f),p),{},{isActive:v,option:y,index:m,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(Gt,$g({className:"recharts-bar-rectangle"},gf(i.props,p,m),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(m)}),W.createElement(SO,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,p=i.animationId,m=this.state.prevData;return W.createElement(Os,{begin:l,duration:u,isActive:o,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var y=v.t,x=s.map(function(b,S){var N=m&&m[S];if(N){var A=Rr(N.x,b.x),k=Rr(N.y,b.y),E=Rr(N.width,b.width),j=Rr(N.height,b.height);return Br(Br({},b),{},{x:A(y),y:k(y),width:E(y),height:j(y)})}if(a==="horizontal"){var T=Rr(0,b.height),M=T(y);return Br(Br({},b),{},{y:b.y+b.height-M,height:M})}var I=Rr(0,b.width),q=I(y);return Br(Br({},b),{},{width:q})});return W.createElement(Gt,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!pc(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=Nt(this.props.background,!1);return s.map(function(u,f){u.value;var p=u.background,m=Yme(u,Xme);if(!p)return null;var v=Br(Br(Br(Br(Br({},m),{},{fill:"#eee"},p),l),gf(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return W.createElement(SO,$g({key:"background-bar-".concat(f),option:n.props.background,isActive:f===o},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,u=s.layout,f=s.children,p=vi(f,Td);if(!p)return null;var m=u==="vertical"?a[0].height/2:a[0].width/2,v=function(b,S){var N=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:N,errorVal:tn(b,S)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return W.createElement(Gt,y,p.map(function(x){return W.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:a,xAxis:o,yAxis:l,layout:u,offset:m,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,a=n.className,o=n.xAxis,l=n.yAxis,u=n.left,f=n.top,p=n.width,m=n.height,v=n.isAnimationActive,y=n.background,x=n.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,S=Mt("recharts-bar",a),N=o&&o.allowDataOverflow,A=l&&l.allowDataOverflow,k=N||A,E=_t(x)?this.id:x;return W.createElement(Gt,{className:S},N||A?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(E)},W.createElement("rect",{x:N?u:u-p/2,y:A?f:f-m/2,width:N?p:p*2,height:A?m:m*2}))):null,W.createElement(Gt,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,E),(!v||b)&&la.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(_.PureComponent);GB=Md;Wo(Md,"displayName","Bar");Wo(Md,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!sl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wo(Md,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,p=t.displayedData,m=t.offset,v=_he(n,r);if(!v)return null;var y=e.layout,x=r.type.defaultProps,b=x!==void 0?Br(Br({},x),r.props):r.props,S=b.dataKey,N=b.children,A=b.minPointSize,k=y==="horizontal"?a:s,E=u?k.scale.domain():null,j=The({numericAxis:k}),T=vi(N,_8),M=p.map(function(I,q){var D,L,V,K,Y,J;u?D=Nhe(u[f+q],E):(D=tn(I,S),Array.isArray(D)||(D=[j,D]));var te=Gme(A,GB.defaultProps.minPointSize)(D[1],q);if(y==="horizontal"){var U,X=[a.scale(D[0]),a.scale(D[1])],ie=X[0],G=X[1];L=oM({axis:s,ticks:o,bandSize:i,offset:v.offset,entry:I,index:q}),V=(U=G??ie)!==null&&U!==void 0?U:void 0,K=v.size;var F=ie-G;if(Y=Number.isNaN(F)?0:F,J={x:L,y:a.y,width:K,height:a.height},Math.abs(te)>0&&Math.abs(Y)<Math.abs(te)){var Q=Ms(Y||te)*(Math.abs(te)-Math.abs(Y));V-=Q,Y+=Q}}else{var le=[s.scale(D[0]),s.scale(D[1])],xe=le[0],be=le[1];if(L=xe,V=oM({axis:a,ticks:l,bandSize:i,offset:v.offset,entry:I,index:q}),K=be-xe,Y=v.size,J={x:s.x,y:V,width:s.width,height:Y},Math.abs(te)>0&&Math.abs(K)<Math.abs(te)){var ae=Ms(K||te)*(Math.abs(te)-Math.abs(K));K+=ae}}return Br(Br(Br({},I),{},{x:L,y:V,width:K,height:Y,value:u?D:D[1],payload:I,background:J},T&&T[q]&&T[q].props),{},{tooltipPayload:[MB(r,I)],tooltipPosition:{x:L+K/2,y:V+Y/2}})});return Br({data:M,layout:y},m)});function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JB(n.key),n)}}function age(t,e,r){return e&&AO(t.prototype,e),r&&AO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){i1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i1(t,e,r){return e=JB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JB(t){var e=oge(t,"string");return Gf(e)=="symbol"?e:e+""}function oge(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QB=function(e,r,n,i,s){var a=e.width,o=e.height,l=e.layout,u=e.children,f=Object.keys(r),p={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},m=!!Oi(u,Md);return f.reduce(function(v,y){var x=r[y],b=x.orientation,S=x.domain,N=x.padding,A=N===void 0?{}:N,k=x.mirror,E=x.reversed,j="".concat(b).concat(k?"Mirror":""),T,M,I,q,D;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var L=S[1]-S[0],V=1/0,K=x.categoricalDomain.sort(lie);if(K.forEach(function(le,xe){xe>0&&(V=Math.min((le||0)-(K[xe-1]||0),V))}),Number.isFinite(V)){var Y=V/L,J=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(T=Y*J/2),x.padding==="no-gap"){var te=fc(e.barCategoryGap,Y*J),U=Y*J/2;T=U-te-(U-te)/J*te}}}i==="xAxis"?M=[n.left+(A.left||0)+(T||0),n.left+n.width-(A.right||0)-(T||0)]:i==="yAxis"?M=l==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(T||0),n.top+n.height-(A.bottom||0)-(T||0)]:M=x.range,E&&(M=[M[1],M[0]]);var X=whe(x,s,m),ie=X.scale,G=X.realScaleType;ie.domain(S).range(M),She(ie);var F=Phe(ie,ks(ks({},x),{},{realScaleType:G}));i==="xAxis"?(D=b==="top"&&!k||b==="bottom"&&k,I=n.left,q=p[j]-D*x.height):i==="yAxis"&&(D=b==="left"&&!k||b==="right"&&k,I=p[j]-D*x.width,q=n.top);var Q=ks(ks(ks({},x),F),{},{realScaleType:G,x:I,y:q,scale:ie,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return Q.bandSize=jg(Q,F),!x.hide&&i==="xAxis"?p[j]+=(D?-1:1)*Q.height:x.hide||(p[j]+=(D?-1:1)*Q.width),ks(ks({},v),{},i1({},y,Q))},{})},ZB=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},lge=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return ZB({x:r,y:n},{x:i,y:s})},e$=(function(){function t(e){sge(this,t),this.scale=e}return age(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();i1(e$,"EPS",1e-4);var Y8=function(e){var r=Object.keys(e).reduce(function(n,i){return ks(ks({},n),{},i1({},i,e$.create(e[i])))},{});return ks(ks({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return Dme(i,function(l,u){return r[u].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return KB(i,function(s,a){return r[a].isInRange(s)})}})};function cge(t){return(t%180+180)%180}var uge=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=cge(i),a=s*Math.PI/180,o=Math.atan(n/r),l=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},U4,CO;function dge(){if(CO)return U4;CO=1;var t=il(),e=x0(),r=Uv();function n(i){return function(s,a,o){var l=Object(s);if(!e(s)){var u=t(a,3);s=r(s),a=function(p){return u(l[p],p,l)}}var f=i(s,a,o);return f>-1?l[u?s[f]:f]:void 0}}return U4=n,U4}var V4,kO;function hge(){if(kO)return V4;kO=1;var t=UB();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return V4=e,V4}var W4,jO;function fge(){if(jO)return W4;jO=1;var t=hF(),e=il(),r=hge(),n=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var u=o==null?0:r(o);return u<0&&(u=n(l+u,0)),t(s,e(a,3),u)}return W4=i,W4}var H4,PO;function pge(){if(PO)return H4;PO=1;var t=dge(),e=fge(),r=t(e);return H4=r,H4}var mge=pge();const gge=er(mge);var vge=Cz();const yge=er(vge);var xge=yge(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),J8=_.createContext(void 0),Q8=_.createContext(void 0),t$=_.createContext(void 0),r$=_.createContext({}),n$=_.createContext(void 0),i$=_.createContext(0),s$=_.createContext(0),TO=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=e.clipPathId,o=e.children,l=e.width,u=e.height,f=xge(s);return W.createElement(J8.Provider,{value:n},W.createElement(Q8.Provider,{value:i},W.createElement(r$.Provider,{value:s},W.createElement(t$.Provider,{value:f},W.createElement(n$.Provider,{value:a},W.createElement(i$.Provider,{value:u},W.createElement(s$.Provider,{value:l},o)))))))},bge=function(){return _.useContext(n$)},a$=function(e){var r=_.useContext(J8);r==null&&gc();var n=r[e];return n==null&&gc(),n},wge=function(){var e=_.useContext(J8);return qo(e)},Sge=function(){var e=_.useContext(Q8),r=gge(e,function(n){return KB(n.domain,Number.isFinite)});return r||qo(e)},o$=function(e){var r=_.useContext(Q8);r==null&&gc();var n=r[e];return n==null&&gc(),n},_ge=function(){var e=_.useContext(t$);return e},Nge=function(){return _.useContext(r$)},Z8=function(){return _.useContext(s$)},e7=function(){return _.useContext(i$)};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function Age(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ege(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c$(n.key),n)}}function Cge(t,e,r){return e&&Ege(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kge(t,e,r){return e=Ug(e),jge(t,l$()?Reflect.construct(e,r||[],Ug(t).constructor):e.apply(t,r))}function jge(t,e){if(e&&(rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(t)}function Pge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(t)}function Tge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bS(t,e)}function bS(t,e){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bS(t,e)}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){t7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t7(t,e,r){return e=c$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c$(t){var e=Mge(t,"string");return rd(e)=="symbol"?e:e+""}function Mge(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Oge(t,e){return Lge(t)||Dge(t,e)||Ige(t,e)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ige(t,e){if(t){if(typeof t=="string")return RO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Lge(t){if(Array.isArray(t))return t}function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wS.apply(this,arguments)}var zge=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):At(e)?n=e(r):n=W.createElement("line",wS({},r,{className:"recharts-reference-line-line"})),n},Fge=function(e,r,n,i,s,a,o,l,u){var f=s.x,p=s.y,m=s.width,v=s.height;if(n){var y=u.y,x=e.y.apply(y,{position:a});if(ca(u,"discard")&&!e.y.isInRange(x))return null;var b=[{x:f+m,y:x},{x:f,y:x}];return l==="left"?b.reverse():b}if(r){var S=u.x,N=e.x.apply(S,{position:a});if(ca(u,"discard")&&!e.x.isInRange(N))return null;var A=[{x:N,y:p+v},{x:N,y:p}];return o==="top"?A.reverse():A}if(i){var k=u.segment,E=k.map(function(j){return e.apply(j,{position:a})});return ca(u,"discard")&&Mme(E,function(j){return!e.isInRange(j)})?null:E}return null};function Bge(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,u=bge(),f=a$(i),p=o$(s),m=_ge();if(!u||!m)return null;$a(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=Y8({x:f.scale,y:p.scale}),y=en(e),x=en(r),b=n&&n.length===2,S=Fge(v,y,x,b,m,t.position,f.orientation,p.orientation,t);if(!S)return null;var N=Oge(S,2),A=N[0],k=A.x,E=A.y,j=N[1],T=j.x,M=j.y,I=ca(t,"hidden")?"url(#".concat(u,")"):void 0,q=OO(OO({clipPath:I},Nt(t,!0)),{},{x1:k,y1:E,x2:T,y2:M});return W.createElement(Gt,{className:Mt("recharts-reference-line",o)},zge(a,q),Ln.renderCallByParent(t,lge({x1:k,y1:E,x2:T,y2:M})))}var N0=(function(t){function e(){return Age(this,e),kge(this,e,arguments)}return Tge(e,t),Cge(e,[{key:"render",value:function(){return W.createElement(Bge,this.props)}}])})(W.Component);t7(N0,"displayName","ReferenceLine");t7(N0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SS.apply(this,arguments)}function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){s1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d$(n.key),n)}}function Uge(t,e,r){return e&&qge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vge(t,e,r){return e=Vg(e),Wge(t,u$()?Reflect.construct(e,r||[],Vg(t).constructor):e.apply(t,r))}function Wge(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hge(t)}function Hge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u$=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(t)}function Kge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_S(t,e)}function _S(t,e){return _S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_S(t,e)}function s1(t,e,r){return e=d$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d$(t){var e=Gge(t,"string");return nd(e)=="symbol"?e:e+""}function Gge(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xge=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,a=Y8({x:i.scale,y:s.scale}),o=a.apply({x:r,y:n},{bandAware:!0});return ca(e,"discard")&&!a.isInRange(o)?null:o},a1=(function(t){function e(){return $ge(this,e),Vge(this,e,arguments)}return Kge(e,t),Uge(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,o=n.alwaysShow,l=n.clipPathId,u=en(i),f=en(s);if($a(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var p=Xge(this.props);if(!p)return null;var m=p.x,v=p.y,y=this.props,x=y.shape,b=y.className,S=ca(this.props,"hidden")?"url(#".concat(l,")"):void 0,N=DO(DO({clipPath:S},Nt(this.props,!0)),{},{cx:m,cy:v});return W.createElement(Gt,{className:Mt("recharts-reference-dot",b)},e.renderDot(x,N),Ln.renderCallByParent(this.props,{x:m-a,y:v-a,width:2*a,height:2*a}))}}])})(W.Component);s1(a1,"displayName","ReferenceDot");s1(a1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});s1(a1,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):At(t)?r=t(e):r=W.createElement(t1,SS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NS.apply(this,arguments)}function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){o1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f$(n.key),n)}}function Qge(t,e,r){return e&&Jge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zge(t,e,r){return e=Wg(e),eve(t,h$()?Reflect.construct(e,r||[],Wg(t).constructor):e.apply(t,r))}function eve(t,e){if(e&&(id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tve(t)}function tve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(t)}function rve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AS(t,e)}function AS(t,e){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AS(t,e)}function o1(t,e,r){return e=f$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f$(t){var e=nve(t,"string");return id(e)=="symbol"?e:e+""}function nve(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ive=function(e,r,n,i,s){var a=s.x1,o=s.x2,l=s.y1,u=s.y2,f=s.xAxis,p=s.yAxis;if(!f||!p)return null;var m=Y8({x:f.scale,y:p.scale}),v={x:e?m.x.apply(a,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(l,{position:"start"}):m.y.rangeMin},y={x:r?m.x.apply(o,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return ca(s,"discard")&&(!m.isInRange(v)||!m.isInRange(y))?null:ZB(v,y)},l1=(function(t){function e(){return Yge(this,e),Zge(this,e,arguments)}return rve(e,t),Qge(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,f=n.clipPathId;$a(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=en(i),m=en(s),v=en(a),y=en(o),x=this.props.shape;if(!p&&!m&&!v&&!y&&!x)return null;var b=ive(p,m,v,y,this.props);if(!b&&!x)return null;var S=ca(this.props,"hidden")?"url(#".concat(f,")"):void 0;return W.createElement(Gt,{className:Mt("recharts-reference-area",l)},e.renderRect(x,zO(zO({clipPath:S},Nt(this.props,!0)),b)),Ln.renderCallByParent(this.props,b))}}])})(W.Component);o1(l1,"displayName","ReferenceArea");o1(l1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});o1(l1,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):At(t)?r=t(e):r=W.createElement(X8,NS({},e,{className:"recharts-reference-area-rect"})),r});function p$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function sve(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return uge(n,r)}function ave(t,e,r){var n=r==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function Hg(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function ove(t,e){return p$(t,e+1)}function lve(t,e,r,n,i){for(var s=(n||[]).slice(),a=e.start,o=e.end,l=0,u=1,f=a,p=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:p$(n,u)};var x=l,b,S=function(){return b===void 0&&(b=r(y,x)),b},N=y.coordinate,A=l===0||Hg(t,N,S,f,o);A||(l=0,f=a,u+=1),A&&(f=N+t*(S()/2+i),l+=u)},m;u<=s.length;)if(m=p(),m)return m.v;return[]}function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function FO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(r),!0).forEach(function(n){cve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cve(t,e,r){return e=uve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uve(t){var e=dve(t,"string");return Xf(e)=="symbol"?e:e+""}function dve(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hve(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,o=e.start,l=e.end,u=function(m){var v=s[m],y,x=function(){return y===void 0&&(y=r(v,m)),y};if(m===a-1){var b=t*(v.coordinate+t*x()/2-l);s[m]=v=In(In({},v),{},{tickCoord:b>0?v.coordinate-b*t:v.coordinate})}else s[m]=v=In(In({},v),{},{tickCoord:v.coordinate});var S=Hg(t,v.tickCoord,x,o,l);S&&(l=v.tickCoord-t*(x()/2+i),s[m]=In(In({},v),{},{isShow:!0}))},f=a-1;f>=0;f--)u(f);return s}function fve(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,l=e.start,u=e.end;if(s){var f=n[o-1],p=r(f,o-1),m=t*(f.coordinate+t*p/2-u);a[o-1]=f=In(In({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate});var v=Hg(t,f.tickCoord,function(){return p},l,u);v&&(u=f.tickCoord-t*(p/2+i),a[o-1]=In(In({},f),{},{isShow:!0}))}for(var y=s?o-1:o,x=function(N){var A=a[N],k,E=function(){return k===void 0&&(k=r(A,N)),k};if(N===0){var j=t*(A.coordinate-t*E()/2-l);a[N]=A=In(In({},A),{},{tickCoord:j<0?A.coordinate-j*t:A.coordinate})}else a[N]=A=In(In({},A),{},{tickCoord:A.coordinate});var T=Hg(t,A.tickCoord,E,l,u);T&&(l=A.tickCoord+t*(E()/2+i),a[N]=In(In({},A),{},{isShow:!0}))},b=0;b<y;b++)x(b);return a}function r7(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(Ue(l)||sl.isSsr)return ove(i,typeof l=="number"&&Ue(l)?l:0);var m=[],v=o==="top"||o==="bottom"?"width":"height",y=f&&v==="width"?Yh(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(A,k){var E=At(u)?u(A.value,k):A.value;return v==="width"?sve(Yh(E,{fontSize:e,letterSpacing:r}),y,p):Yh(E,{fontSize:e,letterSpacing:r})[v]},b=i.length>=2?Ms(i[1].coordinate-i[0].coordinate):1,S=ave(s,b,v);return l==="equidistantPreserveStart"?lve(b,S,x,i,a):(l==="preserveStart"||l==="preserveStartEnd"?m=fve(b,S,x,i,a,l==="preserveStartEnd"):m=hve(b,S,x,i,a),m.filter(function(N){return N.isShow}))}var pve=["viewBox"],mve=["viewBox"],gve=["ticks"];function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Su.apply(this,arguments)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){n7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K4(t,e){if(t==null)return{};var r=vve(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g$(n.key),n)}}function xve(t,e,r){return e&&$O(t.prototype,e),r&&$O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bve(t,e,r){return e=Kg(e),wve(t,m$()?Reflect.construct(e,r||[],Kg(t).constructor):e.apply(t,r))}function wve(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sve(t)}function Sve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!t})()}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(t)}function _ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ES(t,e)}function n7(t,e,r){return e=g$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g$(t){var e=Nve(t,"string");return sd(e)=="symbol"?e:e+""}function Nve(t,e){if(sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Od=(function(t){function e(r){var n;return yve(this,e),n=bve(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return _ve(e,t),xve(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,a=K4(n,pve),o=this.props,l=o.viewBox,u=K4(o,mve);return!ju(s,l)||!ju(a,u)||!ju(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,u=i.orientation,f=i.tickSize,p=i.mirror,m=i.tickMargin,v,y,x,b,S,N,A=p?-1:1,k=n.tickSize||f,E=Ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":v=y=n.coordinate,b=a+ +!p*l,x=b-A*k,N=x-A*m,S=E;break;case"left":x=b=n.coordinate,y=s+ +!p*o,v=y-A*k,S=v-A*m,N=E;break;case"right":x=b=n.coordinate,y=s+ +p*o,v=y+A*k,S=v+A*m,N=E;break;default:v=y=n.coordinate,b=a+ +p*l,x=b+A*k,N=x+A*m,S=E;break}return{line:{x1:v,y1:x,x2:y,y2:b},tick:{x:S,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.orientation,u=n.mirror,f=n.axisLine,p=Yr(Yr(Yr({},Nt(this.props,!1)),Nt(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!u||l==="bottom"&&u);p=Yr(Yr({},p),{},{x1:i,y1:s+m*o,x2:i+a,y2:s+m*o})}else{var v=+(l==="left"&&!u||l==="right"&&u);p=Yr(Yr({},p),{},{x1:i+v*a,y1:s,x2:i+v*a,y2:s+o})}return W.createElement("line",Su({},p,{className:Mt("recharts-cartesian-axis-line",is(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var a=this,o=this.props,l=o.tickLine,u=o.stroke,f=o.tick,p=o.tickFormatter,m=o.unit,v=r7(Yr(Yr({},this.props),{},{ticks:n}),i,s),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),b=Nt(this.props,!1),S=Nt(f,!1),N=Yr(Yr({},b),{},{fill:"none"},Nt(l,!1)),A=v.map(function(k,E){var j=a.getTickLineCoord(k),T=j.line,M=j.tick,I=Yr(Yr(Yr(Yr({textAnchor:y,verticalAnchor:x},b),{},{stroke:"none",fill:u},S),M),{},{index:E,payload:k,visibleTicksCount:v.length,tickFormatter:p});return W.createElement(Gt,Su({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},gf(a.props,k,E)),l&&W.createElement("line",Su({},N,T,{className:Mt("recharts-cartesian-axis-tick-line",is(l,"className"))})),f&&e.renderTickItem(f,I,"".concat(At(p)?p(k.value,E):k.value).concat(m||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var p=this.props,m=p.ticks,v=K4(p,gve),y=m;return At(l)&&(y=m&&m.length>0?l(this.props):l(v)),a<=0||o<=0||!y||!y.length?null:W.createElement(Gt,{className:Mt("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Ln.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var a,o=Mt(i.className,"recharts-cartesian-axis-tick-value");return W.isValidElement(n)?a=W.cloneElement(n,Yr(Yr({},i),{},{className:o})):At(n)?a=n(Yr(Yr({},i),{},{className:o})):a=W.createElement(mg,Su({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(_.Component);n7(Od,"displayName","CartesianAxis");n7(Od,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ave=["x1","y1","x2","y2","key"],Eve=["offset"];function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function qO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(r),!0).forEach(function(n){Cve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cve(t,e,r){return e=kve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kve(t){var e=jve(t,"string");return vc(e)=="symbol"?e:e+""}function jve(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yl.apply(this,arguments)}function UO(t,e){if(t==null)return{};var r=Pve(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tve=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return W.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function v$(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(At(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=UO(e,Ave),u=Nt(l,!1);u.offset;var f=UO(u,Eve);r=W.createElement("line",Yl({},f,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function Mve(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var u=zn(zn({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return v$(i,u)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Ove(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var u=zn(zn({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return v$(i,u)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Rve(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=o.map(function(m){return Math.round(m+i-i)}).sort(function(m,v){return m-v});i!==f[0]&&f.unshift(0);var p=f.map(function(m,v){var y=!f[v+1],x=y?i+a-m:f[v+1]-m;if(x<=0)return null;var b=v%e.length;return W.createElement("rect",{key:"react-".concat(v),y:m,x:n,height:x,width:s,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Ive(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(m){return Math.round(m+s-s)}).sort(function(m,v){return m-v});s!==f[0]&&f.unshift(0);var p=f.map(function(m,v){var y=!f[v+1],x=y?s+o-m:f[v+1]-m;if(x<=0)return null;var b=v%n.length;return W.createElement("rect",{key:"react-".concat(v),x:m,y:a,width:x,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Dve=function(e,r){var n=e.xAxis,i=e.width,s=e.height,a=e.offset;return PB(r7(zn(zn(zn({},Od.defaultProps),n),{},{ticks:Fa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,r)},Lve=function(e,r){var n=e.yAxis,i=e.width,s=e.height,a=e.offset;return PB(r7(zn(zn(zn({},Od.defaultProps),n),{},{ticks:Fa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,r)},au={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function i7(t){var e,r,n,i,s,a,o=Z8(),l=e7(),u=Nge(),f=zn(zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:au.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:au.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:au.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:au.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:au.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:au.verticalFill,x:Ue(t.x)?t.x:u.left,y:Ue(t.y)?t.y:u.top,width:Ue(t.width)?t.width:u.width,height:Ue(t.height)?t.height:u.height}),p=f.x,m=f.y,v=f.width,y=f.height,x=f.syncWithTicks,b=f.horizontalValues,S=f.verticalValues,N=wge(),A=Sge();if(!Ue(v)||v<=0||!Ue(y)||y<=0||!Ue(p)||p!==+p||!Ue(m)||m!==+m)return null;var k=f.verticalCoordinatesGenerator||Dve,E=f.horizontalCoordinatesGenerator||Lve,j=f.horizontalPoints,T=f.verticalPoints;if((!j||!j.length)&&At(E)){var M=b&&b.length,I=E({yAxis:A?zn(zn({},A),{},{ticks:M?b:A.ticks}):void 0,width:o,height:l,offset:u},M?!0:x);$a(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vc(I),"]")),Array.isArray(I)&&(j=I)}if((!T||!T.length)&&At(k)){var q=S&&S.length,D=k({xAxis:N?zn(zn({},N),{},{ticks:q?S:N.ticks}):void 0,width:o,height:l,offset:u},q?!0:x);$a(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vc(D),"]")),Array.isArray(D)&&(T=D)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(Tve,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),W.createElement(Mve,Yl({},f,{offset:u,horizontalPoints:j,xAxis:N,yAxis:A})),W.createElement(Ove,Yl({},f,{offset:u,verticalPoints:T,xAxis:N,yAxis:A})),W.createElement(Rve,Yl({},f,{horizontalPoints:j})),W.createElement(Ive,Yl({},f,{verticalPoints:T})))}i7.displayName="CartesianGrid";var zve=["type","layout","connectNulls","ref"],Fve=["key"];function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function VO(t,e){if(t==null)return{};var r=Bve(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ef.apply(this,arguments)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){js(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ou(t){return Vve(t)||Uve(t)||qve(t)||$ve()}function $ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qve(t,e){if(t){if(typeof t=="string")return CS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CS(t,e)}}function Uve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vve(t){if(Array.isArray(t))return CS(t)}function CS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x$(n.key),n)}}function Hve(t,e,r){return e&&HO(t.prototype,e),r&&HO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kve(t,e,r){return e=Gg(e),Gve(t,y$()?Reflect.construct(e,r||[],Gg(t).constructor):e.apply(t,r))}function Gve(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xve(t)}function Xve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(t)}function Yve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kS(t,e)}function js(t,e,r){return e=x$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x$(t){var e=Jve(t,"string");return ad(e)=="symbol"?e:e+""}function Jve(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nc=(function(t){function e(){var r;Wve(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Kve(this,e,[].concat(i)),js(r,"state",{isAnimationFinished:!0,totalLength:0}),js(r,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),js(r,"getStrokeDasharray",function(a,o,l){var u=l.reduce(function(S,N){return S+N});if(!u)return r.generateSimpleStrokeDasharray(o,a);for(var f=Math.floor(a/u),p=a%u,m=o-a,v=[],y=0,x=0;y<l.length;x+=l[y],++y)if(x+l[y]>p){v=[].concat(ou(l.slice(0,y)),[p-x]);break}var b=v.length%2===0?[0,m]:[m];return[].concat(ou(e.repeat(l,f)),ou(v),b).map(function(S){return"".concat(S,"px")}).join(", ")}),js(r,"id",bc("recharts-line-")),js(r,"pathRef",function(a){r.mainCurve=a}),js(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),js(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Yve(e,t),Hve(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,u=s.layout,f=s.children,p=vi(f,Td);if(!p)return null;var m=function(x,b){return{x:x.x,y:x.y,value:x.value,errorVal:tn(x.payload,b)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return W.createElement(Gt,v,p.map(function(y){return W.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:a,xAxis:o,yAxis:l,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,f=o.dataKey,p=Nt(this.props,!1),m=Nt(l,!0),v=u.map(function(x,b){var S=ji(ji(ji({key:"dot-".concat(b),r:3},p),m),{},{index:b,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:u});return e.renderDotItem(l,S)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return W.createElement(Gt,ef({className:"recharts-line-dots",key:"dots"},y),v)}},{key:"renderCurveStatically",value:function(n,i,s,a){var o=this.props,l=o.type,u=o.layout,f=o.connectNulls;o.ref;var p=VO(o,zve),m=ji(ji(ji({},Nt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},a),{},{type:l,layout:u,connectNulls:f});return W.createElement(sc,ef({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,u=a.isAnimationActive,f=a.animationBegin,p=a.animationDuration,m=a.animationEasing,v=a.animationId,y=a.animateNewValues,x=a.width,b=a.height,S=this.state,N=S.prevPoints,A=S.totalLength;return W.createElement(Os,{begin:f,duration:p,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var E=k.t;if(N){var j=N.length/o.length,T=o.map(function(L,V){var K=Math.floor(V*j);if(N[K]){var Y=N[K],J=Rr(Y.x,L.x),te=Rr(Y.y,L.y);return ji(ji({},L),{},{x:J(E),y:te(E)})}if(y){var U=Rr(x*2,L.x),X=Rr(b/2,L.y);return ji(ji({},L),{},{x:U(E),y:X(E)})}return ji(ji({},L),{},{x:L.x,y:L.y})});return s.renderCurveStatically(T,n,i)}var M=Rr(0,A),I=M(E),q;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});q=s.getStrokeDasharray(I,A,D)}else q=s.generateSimpleStrokeDasharray(A,I);return s.renderCurveStatically(o,n,i,{strokeDasharray:q})})}},{key:"renderCurve",value:function(n,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return o&&a&&a.length&&(!u&&f>0||!pc(u,a))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(a,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,u=i.xAxis,f=i.yAxis,p=i.top,m=i.left,v=i.width,y=i.height,x=i.isAnimationActive,b=i.id;if(s||!o||!o.length)return null;var S=this.state.isAnimationFinished,N=o.length===1,A=Mt("recharts-line",l),k=u&&u.allowDataOverflow,E=f&&f.allowDataOverflow,j=k||E,T=_t(b)?this.id:b,M=(n=Nt(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=M.r,q=I===void 0?3:I,D=M.strokeWidth,L=D===void 0?2:D,V=Mz(a)?a:{},K=V.clipDot,Y=K===void 0?!0:K,J=q*2+L;return W.createElement(Gt,{className:A},k||E?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(T)},W.createElement("rect",{x:k?m:m-v/2,y:E?p:p-y/2,width:k?v:v*2,height:E?y:y*2})),!Y&&W.createElement("clipPath",{id:"clipPath-dots-".concat(T)},W.createElement("rect",{x:m-J/2,y:p-J/2,width:v+J,height:y+J}))):null,!N&&this.renderCurve(j,T),this.renderErrorBar(j,T),(N||a)&&this.renderDots(j,Y,T),(!x||S)&&la.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(ou(n),[0]):n,a=[],o=0;o<i;++o)a=[].concat(ou(a),ou(s));return a}},{key:"renderDotItem",value:function(n,i){var s;if(W.isValidElement(n))s=W.cloneElement(n,i);else if(At(n))s=n(i);else{var a=i.key,o=VO(i,Fve),l=Mt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=W.createElement(t1,ef({key:a},o,{className:l}))}return s}}])})(_.PureComponent);js(Nc,"displayName","Line");js(Nc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!sl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});js(Nc,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,f=e.layout,p=l.map(function(m,v){var y=tn(m,a);return f==="horizontal"?{x:Ju({axis:r,ticks:i,bandSize:o,entry:m,index:v}),y:_t(y)?null:n.scale(y),value:y,payload:m}:{x:_t(y)?null:r.scale(y),y:Ju({axis:n,ticks:s,bandSize:o,entry:m,index:v}),value:y,payload:m}});return ji({points:p,layout:f},u)});var Qve=["layout","type","stroke","connectNulls","isRange","ref"],Zve=["key"],b$;function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function w$(t,e){if(t==null)return{};var r=e1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function e1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jl.apply(this,arguments)}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){ra(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_$(n.key),n)}}function r1e(t,e,r){return e&&GO(t.prototype,e),r&&GO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function n1e(t,e,r){return e=Xg(e),i1e(t,S$()?Reflect.construct(e,r||[],Xg(t).constructor):e.apply(t,r))}function i1e(t,e){if(e&&(od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s1e(t)}function s1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xg(t)}function a1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jS(t,e)}function jS(t,e){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jS(t,e)}function ra(t,e,r){return e=_$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _$(t){var e=o1e(t,"string");return od(e)=="symbol"?e:e+""}function o1e(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cl=(function(t){function e(){var r;t1e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=n1e(this,e,[].concat(i)),ra(r,"state",{isAnimationFinished:!0}),ra(r,"id",bc("recharts-area-")),ra(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),At(a)&&a()}),ra(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),At(a)&&a()}),r}return a1e(e,t),r1e(e,[{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(a&&!o)return null;var l=this.props,u=l.dot,f=l.points,p=l.dataKey,m=Nt(this.props,!1),v=Nt(u,!0),y=f.map(function(b,S){var N=Fo(Fo(Fo({key:"dot-".concat(S),r:3},m),v),{},{index:S,cx:b.x,cy:b.y,dataKey:p,value:b.value,payload:b.payload,points:f});return e.renderDotItem(u,N)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return W.createElement(Gt,Jl({className:"recharts-area-dots"},x),y)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].x,u=a[a.length-1].x,f=n*Math.abs(l-u),p=Vo(a.map(function(m){return m.y||0}));return Ue(s)&&typeof s=="number"?p=Math.max(s,p):s&&Array.isArray(s)&&s.length&&(p=Math.max(Vo(s.map(function(m){return m.y||0})),p)),Ue(p)?W.createElement("rect",{x:l<u?l:l-f,y:0,width:f,height:Math.floor(p+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,o=i.strokeWidth,l=a[0].y,u=a[a.length-1].y,f=n*Math.abs(l-u),p=Vo(a.map(function(m){return m.x||0}));return Ue(s)&&typeof s=="number"?p=Math.max(s,p):s&&Array.isArray(s)&&s.length&&(p=Math.max(Vo(s.map(function(m){return m.x||0})),p)),Ue(p)?W.createElement("rect",{x:0,y:l<u?l:l-f,width:p+(o?parseInt("".concat(o),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,a){var o=this.props,l=o.layout,u=o.type,f=o.stroke,p=o.connectNulls,m=o.isRange;o.ref;var v=w$(o,Qve);return W.createElement(Gt,{clipPath:s?"url(#clipPath-".concat(a,")"):null},W.createElement(sc,Jl({},Nt(v,!0),{points:n,connectNulls:p,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&W.createElement(sc,Jl({},Nt(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:p,fill:"none",points:n})),f!=="none"&&m&&W.createElement(sc,Jl({},Nt(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,a=this.props,o=a.points,l=a.baseLine,u=a.isAnimationActive,f=a.animationBegin,p=a.animationDuration,m=a.animationEasing,v=a.animationId,y=this.state,x=y.prevPoints,b=y.prevBaseLine;return W.createElement(Os,{begin:f,duration:p,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(x){var A=x.length/o.length,k=o.map(function(M,I){var q=Math.floor(I*A);if(x[q]){var D=x[q],L=Rr(D.x,M.x),V=Rr(D.y,M.y);return Fo(Fo({},M),{},{x:L(N),y:V(N)})}return M}),E;if(Ue(l)&&typeof l=="number"){var j=Rr(b,l);E=j(N)}else if(_t(l)||Ed(l)){var T=Rr(b,0);E=T(N)}else E=l.map(function(M,I){var q=Math.floor(I*A);if(b[q]){var D=b[q],L=Rr(D.x,M.x),V=Rr(D.y,M.y);return Fo(Fo({},M),{},{x:L(N),y:V(N)})}return M});return s.renderAreaStatically(k,E,n,i)}return W.createElement(Gt,null,W.createElement("defs",null,W.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(N))),W.createElement(Gt,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(o,l,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,a=s.points,o=s.baseLine,l=s.isAnimationActive,u=this.state,f=u.prevPoints,p=u.prevBaseLine,m=u.totalLength;return l&&a&&a.length&&(!f&&m>0||!pc(f,a)||!pc(p,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(a,o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,u=i.top,f=i.left,p=i.xAxis,m=i.yAxis,v=i.width,y=i.height,x=i.isAnimationActive,b=i.id;if(s||!o||!o.length)return null;var S=this.state.isAnimationFinished,N=o.length===1,A=Mt("recharts-area",l),k=p&&p.allowDataOverflow,E=m&&m.allowDataOverflow,j=k||E,T=_t(b)?this.id:b,M=(n=Nt(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=M.r,q=I===void 0?3:I,D=M.strokeWidth,L=D===void 0?2:D,V=Mz(a)?a:{},K=V.clipDot,Y=K===void 0?!0:K,J=q*2+L;return W.createElement(Gt,{className:A},k||E?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(T)},W.createElement("rect",{x:k?f:f-v/2,y:E?u:u-y/2,width:k?v:v*2,height:E?y:y*2})),!Y&&W.createElement("clipPath",{id:"clipPath-dots-".concat(T)},W.createElement("rect",{x:f-J/2,y:u-J/2,width:v+J,height:y+J}))):null,N?null:this.renderArea(j,T),(a||N)&&this.renderDots(j,Y,T),(!x||S)&&la.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(_.PureComponent);b$=cl;ra(cl,"displayName","Area");ra(cl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!sl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ra(cl,"getBaseValue",function(t,e,r,n){var i=t.layout,s=t.baseValue,a=e.props.baseValue,o=a??s;if(Ue(o)&&typeof o=="number")return o;var l=i==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),p=Math.min(u[0],u[1]);return o==="dataMin"?p:o==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});ra(cl,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.bandSize,l=t.dataKey,u=t.stackedData,f=t.dataStartIndex,p=t.displayedData,m=t.offset,v=e.layout,y=u&&u.length,x=b$.getBaseValue(e,r,n,i),b=v==="horizontal",S=!1,N=p.map(function(k,E){var j;y?j=u[f+E]:(j=tn(k,l),Array.isArray(j)?S=!0:j=[x,j]);var T=j[1]==null||y&&tn(k,l)==null;return b?{x:Ju({axis:n,ticks:s,bandSize:o,entry:k,index:E}),y:T?null:i.scale(j[1]),value:j,payload:k}:{x:T?null:n.scale(j[1]),y:Ju({axis:i,ticks:a,bandSize:o,entry:k,index:E}),value:j,payload:k}}),A;return y||S?A=N.map(function(k){var E=Array.isArray(k.value)?k.value[0]:null;return b?{x:k.x,y:E!=null&&k.y!=null?i.scale(E):null}:{x:E!=null?n.scale(E):null,y:k.y}}):A=b?i.scale(x):n.scale(x),Fo({points:N,baseLine:A,layout:v,isRange:S},m)});ra(cl,"renderDotItem",function(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(At(t))r=t(e);else{var n=Mt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=w$(e,Zve);r=W.createElement(t1,Jl({},s,{key:i,className:n}))}return r});function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function l1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E$(n.key),n)}}function u1e(t,e,r){return e&&c1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d1e(t,e,r){return e=Yg(e),h1e(t,N$()?Reflect.construct(e,r||[],Yg(t).constructor):e.apply(t,r))}function h1e(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f1e(t)}function f1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!t})()}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yg(t)}function p1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PS(t,e)}function PS(t,e){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PS(t,e)}function A$(t,e,r){return e=E$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E$(t){var e=m1e(t,"string");return ld(e)=="symbol"?e:e+""}function m1e(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c1=(function(t){function e(){return l1e(this,e),d1e(this,e,arguments)}return p1e(e,t),u1e(e,[{key:"render",value:function(){return null}}])})(_.Component);A$(c1,"displayName","ZAxis");A$(c1,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var g1e=["option","isActive"];function tf(){return tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tf.apply(this,arguments)}function v1e(t,e){if(t==null)return{};var r=y1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function y1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function x1e(t){var e=t.option,r=t.isActive,n=v1e(t,g1e);return typeof e=="string"?_.createElement(gS,tf({option:_.createElement(qv,tf({type:e},n)),isActive:r,shapeType:"symbols"},n)):_.createElement(gS,tf({option:e,isActive:r,shapeType:"symbols"},n))}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rf.apply(this,arguments)}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){Ho(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k$(n.key),n)}}function w1e(t,e,r){return e&&YO(t.prototype,e),r&&YO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function S1e(t,e,r){return e=Jg(e),_1e(t,C$()?Reflect.construct(e,r||[],Jg(t).constructor):e.apply(t,r))}function _1e(t,e){if(e&&(cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N1e(t)}function N1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C$=function(){return!!t})()}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jg(t)}function A1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TS(t,e)}function TS(t,e){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TS(t,e)}function Ho(t,e,r){return e=k$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k$(t){var e=E1e(t,"string");return cd(e)=="symbol"?e:e+""}function E1e(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u1=(function(t){function e(){var r;b1e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=S1e(this,e,[].concat(i)),Ho(r,"state",{isAnimationFinished:!1}),Ho(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Ho(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Ho(r,"id",bc("recharts-scatter-")),r}return A1e(e,t),w1e(e,[{key:"renderSymbolsStatically",value:function(n){var i=this,s=this.props,a=s.shape,o=s.activeShape,l=s.activeIndex,u=Nt(this.props,!1);return n.map(function(f,p){var m=l===p,v=m?o:a,y=Zi(Zi({},u),f);return W.createElement(Gt,rf({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(p)},gf(i.props,f,p),{role:"img"}),W.createElement(x1e,rf({option:v,isActive:m,key:"symbol-".concat(p)},y)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,s=i.points,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state.prevPoints;return W.createElement(Os,{begin:o,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,y=s.map(function(x,b){var S=p&&p[b];if(S){var N=Rr(S.cx,x.cx),A=Rr(S.cy,x.cy),k=Rr(S.size,x.size);return Zi(Zi({},x),{},{cx:N(v),cy:A(v),size:k(v)})}var E=Rr(0,x.size);return Zi(Zi({},x),{},{size:E(v)})});return W.createElement(Gt,null,n.renderSymbolsStatically(y))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,s=n.isAnimationActive,a=this.state.prevPoints;return s&&i&&i.length&&(!a||!pc(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,a=i.xAxis,o=i.yAxis,l=i.children,u=vi(l,Td);return u?u.map(function(f,p){var m=f.props,v=m.direction,y=m.dataKey;return W.cloneElement(f,{key:"".concat(v,"-").concat(y,"-").concat(s[p]),data:s,xAxis:a,yAxis:o,layout:v==="x"?"vertical":"horizontal",dataPointFormatter:function(b,S){return{x:b.cx,y:b.cy,value:v==="x"?+b.node.x:+b.node.y,errorVal:tn(b,S)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,s=n.line,a=n.lineType,o=n.lineJointType,l=Nt(this.props,!1),u=Nt(s,!1),f,p;if(a==="joint")f=i.map(function(A){return{x:A.cx,y:A.cy}});else if(a==="fitting"){var m=oie(i),v=m.xmin,y=m.xmax,x=m.a,b=m.b,S=function(k){return x*k+b};f=[{x:v,y:S(v)},{x:y,y:S(y)}]}var N=Zi(Zi(Zi({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:f});return W.isValidElement(s)?p=W.cloneElement(s,N):At(s)?p=s(N):p=W.createElement(sc,rf({},N,{type:o})),W.createElement(Gt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.points,a=n.line,o=n.className,l=n.xAxis,u=n.yAxis,f=n.left,p=n.top,m=n.width,v=n.height,y=n.id,x=n.isAnimationActive;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,S=Mt("recharts-scatter",o),N=l&&l.allowDataOverflow,A=u&&u.allowDataOverflow,k=N||A,E=_t(y)?this.id:y;return W.createElement(Gt,{className:S,clipPath:k?"url(#clipPath-".concat(E,")"):null},N||A?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(E)},W.createElement("rect",{x:N?f:f-m/2,y:A?p:p-v/2,width:N?m:m*2,height:A?v:v*2}))):null,a&&this.renderLine(),this.renderErrorBar(),W.createElement(Gt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!x||b)&&la.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])})(_.PureComponent);Ho(u1,"displayName","Scatter");Ho(u1,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!sl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Ho(u1,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,i=t.item,s=t.displayedData,a=t.xAxisTicks,o=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,f=vi(i.props.children,_8),p=_t(e.dataKey)?i.props.dataKey:e.dataKey,m=_t(r.dataKey)?i.props.dataKey:r.dataKey,v=n&&n.dataKey,y=n?n.range:c1.defaultProps.range,x=y&&y[0],b=e.scale.bandwidth?e.scale.bandwidth():0,S=r.scale.bandwidth?r.scale.bandwidth():0,N=s.map(function(A,k){var E=tn(A,p),j=tn(A,m),T=!_t(v)&&tn(A,v)||"-",M=[{name:_t(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:E,payload:A,dataKey:p,type:u},{name:_t(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:j,payload:A,dataKey:m,type:u}];T!=="-"&&M.push({name:n.name||n.dataKey,unit:n.unit||"",value:T,payload:A,dataKey:v,type:u});var I=Ju({axis:e,ticks:a,bandSize:b,entry:A,index:k,dataKey:p}),q=Ju({axis:r,ticks:o,bandSize:S,entry:A,index:k,dataKey:m}),D=T!=="-"?n.scale(T):x,L=Math.sqrt(Math.max(D,0)/Math.PI);return Zi(Zi({},A),{},{cx:I,cy:q,x:I-L,y:q-L,xAxis:e,yAxis:r,zAxis:n,width:2*L,height:2*L,size:D,node:{x:E,y:j,z:T},tooltipPayload:M,tooltipPosition:{x:I,y:q},payload:A},f&&f[k]&&f[k].props)});return Zi({points:N},l)});function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function C1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T$(n.key),n)}}function j1e(t,e,r){return e&&k1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P1e(t,e,r){return e=Qg(e),T1e(t,j$()?Reflect.construct(e,r||[],Qg(t).constructor):e.apply(t,r))}function T1e(t,e){if(e&&(ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M1e(t)}function M1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qg(t)}function O1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MS(t,e)}function MS(t,e){return MS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MS(t,e)}function P$(t,e,r){return e=T$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$(t){var e=R1e(t,"string");return ud(e)=="symbol"?e:e+""}function R1e(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OS.apply(this,arguments)}function I1e(t){var e=t.xAxisId,r=Z8(),n=e7(),i=a$(e);return i==null?null:_.createElement(Od,OS({},i,{className:Mt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return Fa(a,!0)}}))}var Rd=(function(t){function e(){return C1e(this,e),P1e(this,e,arguments)}return O1e(e,t),j1e(e,[{key:"render",value:function(){return _.createElement(I1e,this.props)}}])})(_.Component);P$(Rd,"displayName","XAxis");P$(Rd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function D1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R$(n.key),n)}}function z1e(t,e,r){return e&&L1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F1e(t,e,r){return e=Zg(e),B1e(t,M$()?Reflect.construct(e,r||[],Zg(t).constructor):e.apply(t,r))}function B1e(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1e(t)}function $1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M$=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(t)}function q1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RS(t,e)}function O$(t,e,r){return e=R$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R$(t){var e=U1e(t,"string");return dd(e)=="symbol"?e:e+""}function U1e(t,e){if(dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IS(){return IS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IS.apply(this,arguments)}var V1e=function(e){var r=e.yAxisId,n=Z8(),i=e7(),s=o$(r);return s==null?null:_.createElement(Od,IS({},s,{className:Mt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Fa(o,!0)}}))},Id=(function(t){function e(){return D1e(this,e),F1e(this,e,arguments)}return q1e(e,t),z1e(e,[{key:"render",value:function(){return _.createElement(V1e,this.props)}}])})(_.Component);O$(Id,"displayName","YAxis");O$(Id,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function JO(t){return G1e(t)||K1e(t)||H1e(t)||W1e()}function W1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H1e(t,e){if(t){if(typeof t=="string")return DS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DS(t,e)}}function K1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G1e(t){if(Array.isArray(t))return DS(t)}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var LS=function(e,r,n,i,s){var a=vi(e,N0),o=vi(e,a1),l=[].concat(JO(a),JO(o)),u=vi(e,l1),f="".concat(i,"Id"),p=i[0],m=r;if(l.length&&(m=l.reduce(function(x,b){if(b.props[f]===n&&ca(b.props,"extendDomain")&&Ue(b.props[p])){var S=b.props[p];return[Math.min(x[0],S),Math.max(x[1],S)]}return x},m)),u.length){var v="".concat(p,"1"),y="".concat(p,"2");m=u.reduce(function(x,b){if(b.props[f]===n&&ca(b.props,"extendDomain")&&Ue(b.props[v])&&Ue(b.props[y])){var S=b.props[v],N=b.props[y];return[Math.min(x[0],S,N),Math.max(x[1],S,N)]}return x},m)}return s&&s.length&&(m=s.reduce(function(x,b){return Ue(b)?[Math.min(x[0],b),Math.max(x[1],b)]:x},m)),m},G4={exports:{}},QO;function X1e(){return QO||(QO=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function s(l,u,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||l,m),y=r?r+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],v]:l._events[y].push(v):(l._events[y]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],f,p;if(this._eventsCount===0)return u;for(p in f=this._events)e.call(f,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},o.prototype.listeners=function(u){var f=r?r+u:u,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,v=p.length,y=new Array(v);m<v;m++)y[m]=p[m].fn;return y},o.prototype.listenerCount=function(u){var f=r?r+u:u,p=this._events[f];return p?p.fn?1:p.length:0},o.prototype.emit=function(u,f,p,m,v,y){var x=r?r+u:u;if(!this._events[x])return!1;var b=this._events[x],S=arguments.length,N,A;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,p),!0;case 4:return b.fn.call(b.context,f,p,m),!0;case 5:return b.fn.call(b.context,f,p,m,v),!0;case 6:return b.fn.call(b.context,f,p,m,v,y),!0}for(A=1,N=new Array(S-1);A<S;A++)N[A-1]=arguments[A];b.fn.apply(b.context,N)}else{var k=b.length,E;for(A=0;A<k;A++)switch(b[A].once&&this.removeListener(u,b[A].fn,void 0,!0),S){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,f);break;case 3:b[A].fn.call(b[A].context,f,p);break;case 4:b[A].fn.call(b[A].context,f,p,m);break;default:if(!N)for(E=1,N=new Array(S-1);E<S;E++)N[E-1]=arguments[E];b[A].fn.apply(b[A].context,N)}}return!0},o.prototype.on=function(u,f,p){return s(this,u,f,p,!1)},o.prototype.once=function(u,f,p){return s(this,u,f,p,!0)},o.prototype.removeListener=function(u,f,p,m){var v=r?r+u:u;if(!this._events[v])return this;if(!f)return a(this,v),this;var y=this._events[v];if(y.fn)y.fn===f&&(!m||y.once)&&(!p||y.context===p)&&a(this,v);else{for(var x=0,b=[],S=y.length;x<S;x++)(y[x].fn!==f||m&&!y[x].once||p&&y[x].context!==p)&&b.push(y[x]);b.length?this._events[v]=b.length===1?b[0]:b:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(G4)),G4.exports}var Y1e=X1e();const J1e=er(Y1e);var X4=new J1e,Y4="recharts.syncMouseEvents";function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function Q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z1e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I$(n.key),n)}}function eye(t,e,r){return e&&Z1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J4(t,e,r){return e=I$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I$(t){var e=tye(t,"string");return Yf(e)=="symbol"?e:e+""}function tye(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rye=(function(){function t(){Q1e(this,t),J4(this,"activeIndex",0),J4(this,"coordinateList",[]),J4(this,"layout","horizontal")}return eye(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,o=a===void 0?null:a,l=r.layout,u=l===void 0?null:l,f=r.offset,p=f===void 0?null:f,m=r.mouseHandlerCallback,v=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+l+u,m=a+this.offset.top+o/2+f;this.mouseHandlerCallback({pageX:p,pageY:m})}}}])})();function nye(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Ue(n)&&Ue(i))return!0}return!1}function iye(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function D$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,a=Nn(e,r,n,i),o=Nn(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function sye(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,p=e.angle,m=Nn(o,l,u,p),v=Nn(o,l,f,p);n=m.x,i=m.y,s=v.x,a=v.y}else return D$(e);return[{x:n,y:i},{x:s,y:a}]}function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function am(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){aye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aye(t,e,r){return e=oye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oye(t){var e=lye(t,"string");return Jf(e)=="symbol"?e:e+""}function lye(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cye(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,p=t.layout,m=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!a||m!=="ScatterChart"&&i!=="axis")return null;var y,x=sc;if(m==="ScatterChart")y=a,x=Ope;else if(m==="BarChart")y=iye(p,a,l,f),x=X8;else if(p==="radial"){var b=D$(a),S=b.cx,N=b.cy,A=b.radius,k=b.startAngle,E=b.endAngle;y={cx:S,cy:N,startAngle:k,endAngle:E,innerRadius:A,outerRadius:A},x=IB}else y={points:sye(p,a,l)},x=sc;var j=am(am(am(am({stroke:"#ccc",pointerEvents:"none"},l),y),Nt(v,!1)),{},{payload:o,payloadIndex:u,className:Mt("recharts-tooltip-cursor",v.className)});return _.isValidElement(v)?_.cloneElement(v,j):_.createElement(x,j)}var uye=["item"],dye=["children","className","width","height","style","compact","title","desc"];function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(this,arguments)}function eR(t,e){return pye(t)||fye(t,e)||z$(t,e)||hye()}function hye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function pye(t){if(Array.isArray(t))return t}function tR(t,e){if(t==null)return{};var r=mye(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F$(n.key),n)}}function yye(t,e,r){return e&&vye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xye(t,e,r){return e=ev(e),bye(t,L$()?Reflect.construct(e,r||[],ev(t).constructor):e.apply(t,r))}function bye(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wye(t)}function wye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L$=function(){return!!t})()}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ev(t)}function Sye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}function zS(t,e){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zS(t,e)}function fd(t){return Aye(t)||Nye(t)||z$(t)||_ye()}function _ye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z$(t,e){if(t){if(typeof t=="string")return FS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FS(t,e)}}function Nye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aye(t){if(Array.isArray(t))return FS(t)}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(r),!0).forEach(function(n){gt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gt(t,e,r){return e=F$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F$(t){var e=Eye(t,"string");return hd(e)=="symbol"?e:e+""}function Eye(t,e){if(hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cye={xAxis:["bottom","top"],yAxis:["left","right"]},kye={width:"100%",height:"100%"},B$={x:0,y:0};function om(t){return t}var jye=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Pye=function(e,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return ke(ke(ke({},i),Nn(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,u=i.angle;return ke(ke(ke({},i),Nn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return B$},d1=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(fd(o),fd(u)):o},[]);return a.length>0?a:e&&e.length&&Ue(i)&&Ue(s)?e.slice(i,s+1):[]};function $$(t){return t==="number"?[0,"auto"]:void 0}var BS=function(e,r,n,i){var s=e.graphicalItems,a=e.tooltipAxis,o=d1(r,e);return n<0||!s||!s.length||n>=o.length?null:s.reduce(function(l,u){var f,p=(f=u.props.data)!==null&&f!==void 0?f:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(a.dataKey&&!a.allowDuplicatedCategory){var v=p===void 0?o:p;m=ng(v,a.dataKey,i)}else m=p&&p[n]||o[n];return m?[].concat(fd(l),[MB(u,m)]):l},[])},nR=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},a=jye(s,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=mhe(a,o,u,l);if(f>=0&&u){var p=u[f]&&u[f].value,m=BS(e,r,f,p),v=Pye(n,o,f,s);return{activeTooltipIndex:f,activeLabel:p,activePayload:m,activeCoordinate:v}}return null},Tye=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,p=e.children,m=e.stackOffset,v=jB(f,s);return n.reduce(function(y,x){var b,S=x.type.defaultProps!==void 0?ke(ke({},x.type.defaultProps),x.props):x.props,N=S.type,A=S.dataKey,k=S.allowDataOverflow,E=S.allowDuplicatedCategory,j=S.scale,T=S.ticks,M=S.includeHidden,I=S[a];if(y[I])return y;var q=d1(e.data,{graphicalItems:i.filter(function(F){var Q,le=a in F.props?F.props[a]:(Q=F.type.defaultProps)===null||Q===void 0?void 0:Q[a];return le===I}),dataStartIndex:l,dataEndIndex:u}),D=q.length,L,V,K;nye(S.domain,k,N)&&(L=eS(S.domain,null,k),v&&(N==="number"||j!=="auto")&&(K=Qh(q,A,"category")));var Y=$$(N);if(!L||L.length===0){var J,te=(J=S.domain)!==null&&J!==void 0?J:Y;if(A){if(L=Qh(q,A,N),N==="category"&&v){var U=aie(L);E&&U?(V=L,L=zg(0,D)):E||(L=uM(te,L,x).reduce(function(F,Q){return F.indexOf(Q)>=0?F:[].concat(fd(F),[Q])},[]))}else if(N==="category")E?L=L.filter(function(F){return F!==""&&!_t(F)}):L=uM(te,L,x).reduce(function(F,Q){return F.indexOf(Q)>=0||Q===""||_t(Q)?F:[].concat(fd(F),[Q])},[]);else if(N==="number"){var X=bhe(q,i.filter(function(F){var Q,le,xe=a in F.props?F.props[a]:(Q=F.type.defaultProps)===null||Q===void 0?void 0:Q[a],be="hide"in F.props?F.props.hide:(le=F.type.defaultProps)===null||le===void 0?void 0:le.hide;return xe===I&&(M||!be)}),A,s,f);X&&(L=X)}v&&(N==="number"||j!=="auto")&&(K=Qh(q,A,"category"))}else v?L=zg(0,D):o&&o[I]&&o[I].hasStack&&N==="number"?L=m==="expand"?[0,1]:TB(o[I].stackGroups,l,u):L=kB(q,i.filter(function(F){var Q=a in F.props?F.props[a]:F.type.defaultProps[a],le="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return Q===I&&(M||!le)}),N,f,!0);if(N==="number")L=LS(p,L,I,s,T),te&&(L=eS(te,L,k));else if(N==="category"&&te){var ie=te,G=L.every(function(F){return ie.indexOf(F)>=0});G&&(L=ie)}}return ke(ke({},y),{},gt({},I,ke(ke({},S),{},{axisType:s,domain:L,categoricalDomain:K,duplicateDomain:V,originalDomain:(b=S.domain)!==null&&b!==void 0?b:Y,isCategorical:v,layout:f})))},{})},Mye=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,p=e.children,m=d1(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),v=m.length,y=jB(f,s),x=-1;return n.reduce(function(b,S){var N=S.type.defaultProps!==void 0?ke(ke({},S.type.defaultProps),S.props):S.props,A=N[a],k=$$("number");if(!b[A]){x++;var E;return y?E=zg(0,v):o&&o[A]&&o[A].hasStack?(E=TB(o[A].stackGroups,l,u),E=LS(p,E,A,s)):(E=eS(k,kB(m,n.filter(function(j){var T,M,I=a in j.props?j.props[a]:(T=j.type.defaultProps)===null||T===void 0?void 0:T[a],q="hide"in j.props?j.props.hide:(M=j.type.defaultProps)===null||M===void 0?void 0:M.hide;return I===A&&!q}),"number",f),i.defaultProps.allowDataOverflow),E=LS(p,E,A,s)),ke(ke({},b),{},gt({},A,ke(ke({axisType:s},i.defaultProps),{},{hide:!0,orientation:is(Cye,"".concat(s,".").concat(x%2),null),domain:E,originalDomain:k,isCategorical:y,layout:f})))}return b},{})},Oye=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.children,p="".concat(i,"Id"),m=vi(f,s),v={};return m&&m.length?v=Tye(e,{axes:m,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(v=Mye(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:p,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),v},Rye=function(e){var r=qo(e),n=Fa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:w8(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jg(r,n)}},iR=function(e){var r=e.children,n=e.defaultShowTooltip,i=Oi(r,ed),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},Iye=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ba(r&&r.type);return n&&n.indexOf("Bar")>=0})},sR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Dye=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,f=n.height,p=n.children,m=n.margin||{},v=Oi(p,ed),y=Oi(p,rc),x=Object.keys(l).reduce(function(E,j){var T=l[j],M=T.orientation;return!T.mirror&&!T.hide?ke(ke({},E),{},gt({},M,E[M]+T.width)):E},{left:m.left||0,right:m.right||0}),b=Object.keys(a).reduce(function(E,j){var T=a[j],M=T.orientation;return!T.mirror&&!T.hide?ke(ke({},E),{},gt({},M,is(E,"".concat(M))+T.height)):E},{top:m.top||0,bottom:m.bottom||0}),S=ke(ke({},b),x),N=S.bottom;v&&(S.bottom+=v.props.height||ed.defaultProps.height),y&&r&&(S=yhe(S,i,n,r));var A=u-S.left-S.right,k=f-S.top-S.bottom;return ke(ke({brushBottom:N},S),{},{width:Math.max(A,0),height:Math.max(k,0)})},Lye=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},q$=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,p=e.defaultProps,m=function(S,N){var A=N.graphicalItems,k=N.stackGroups,E=N.offset,j=N.updateId,T=N.dataStartIndex,M=N.dataEndIndex,I=S.barSize,q=S.layout,D=S.barGap,L=S.barCategoryGap,V=S.maxBarSize,K=sR(q),Y=K.numericAxisName,J=K.cateAxisName,te=Iye(A),U=[];return A.forEach(function(X,ie){var G=d1(S.data,{graphicalItems:[X],dataStartIndex:T,dataEndIndex:M}),F=X.type.defaultProps!==void 0?ke(ke({},X.type.defaultProps),X.props):X.props,Q=F.dataKey,le=F.maxBarSize,xe=F["".concat(Y,"Id")],be=F["".concat(J,"Id")],ae={},we=l.reduce(function(me,re){var je=N["".concat(re.axisType,"Map")],Ve=F["".concat(re.axisType,"Id")];je&&je[Ve]||re.axisType==="zAxis"||gc();var Xe=je[Ve];return ke(ke({},me),{},gt(gt({},re.axisType,Xe),"".concat(re.axisType,"Ticks"),Fa(Xe)))},ae),fe=we[J],Se=we["".concat(J,"Ticks")],Pe=k&&k[xe]&&k[xe].hasStack&&Mhe(X,k[xe].stackGroups),he=Ba(X.type).indexOf("Bar")>=0,Be=jg(fe,Se),Te=[],We=te&&ghe({barSize:I,stackGroups:k,totalSize:Lye(we,J)});if(he){var Me,ve,Ae=_t(le)?V:le,H=(Me=(ve=jg(fe,Se,!0))!==null&&ve!==void 0?ve:Ae)!==null&&Me!==void 0?Me:0;Te=vhe({barGap:D,barCategoryGap:L,bandSize:H!==Be?H:Be,sizeList:We[be],maxBarSize:Ae}),H!==Be&&(Te=Te.map(function(me){return ke(ke({},me),{},{position:ke(ke({},me.position),{},{offset:me.position.offset-H/2})})}))}var se=X&&X.type&&X.type.getComposedData;se&&U.push({props:ke(ke({},se(ke(ke({},we),{},{displayedData:G,props:S,dataKey:Q,item:X,bandSize:Be,barPosition:Te,offset:E,stackedData:Pe,layout:q,dataStartIndex:T,dataEndIndex:M}))),{},gt(gt(gt({key:X.key||"item-".concat(ie)},Y,we[Y]),J,we[J]),"animationId",j)),childIndex:xie(X,S.children),item:X})}),U},v=function(S,N){var A=S.props,k=S.dataStartIndex,E=S.dataEndIndex,j=S.updateId;if(!Aj({props:A}))return null;var T=A.children,M=A.layout,I=A.stackOffset,q=A.data,D=A.reverseStackOrder,L=sR(M),V=L.numericAxisName,K=L.cateAxisName,Y=vi(T,n),J=jhe(q,Y,"".concat(V,"Id"),"".concat(K,"Id"),I,D),te=l.reduce(function(F,Q){var le="".concat(Q.axisType,"Map");return ke(ke({},F),{},gt({},le,Oye(A,ke(ke({},Q),{},{graphicalItems:Y,stackGroups:Q.axisType===V&&J,dataStartIndex:k,dataEndIndex:E}))))},{}),U=Dye(ke(ke({},te),{},{props:A,graphicalItems:Y}),N==null?void 0:N.legendBBox);Object.keys(te).forEach(function(F){te[F]=f(A,te[F],U,F.replace("Map",""),r)});var X=te["".concat(K,"Map")],ie=Rye(X),G=m(A,ke(ke({},te),{},{dataStartIndex:k,dataEndIndex:E,updateId:j,graphicalItems:Y,stackGroups:J,offset:U}));return ke(ke({formattedGraphicalItems:G,graphicalItems:Y,offset:U,stackGroups:J},ie),te)},y=(function(b){function S(N){var A,k,E;return gye(this,S),E=xye(this,S,[N]),gt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gt(E,"accessibilityManager",new rye),gt(E,"handleLegendBBoxUpdate",function(j){if(j){var T=E.state,M=T.dataStartIndex,I=T.dataEndIndex,q=T.updateId;E.setState(ke({legendBBox:j},v({props:E.props,dataStartIndex:M,dataEndIndex:I,updateId:q},ke(ke({},E.state),{},{legendBBox:j}))))}}),gt(E,"handleReceiveSyncEvent",function(j,T,M){if(E.props.syncId===j){if(M===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(T)}}),gt(E,"handleBrushChange",function(j){var T=j.startIndex,M=j.endIndex;if(T!==E.state.dataStartIndex||M!==E.state.dataEndIndex){var I=E.state.updateId;E.setState(function(){return ke({dataStartIndex:T,dataEndIndex:M},v({props:E.props,dataStartIndex:T,dataEndIndex:M,updateId:I},E.state))}),E.triggerSyncEvent({dataStartIndex:T,dataEndIndex:M})}}),gt(E,"handleMouseEnter",function(j){var T=E.getMouseInfo(j);if(T){var M=ke(ke({},T),{},{isTooltipActive:!0});E.setState(M),E.triggerSyncEvent(M);var I=E.props.onMouseEnter;At(I)&&I(M,j)}}),gt(E,"triggeredAfterMouseMove",function(j){var T=E.getMouseInfo(j),M=T?ke(ke({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(M),E.triggerSyncEvent(M);var I=E.props.onMouseMove;At(I)&&I(M,j)}),gt(E,"handleItemMouseEnter",function(j){E.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),gt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),gt(E,"handleMouseMove",function(j){j.persist(),E.throttleTriggeredAfterMouseMove(j)}),gt(E,"handleMouseLeave",function(j){E.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var M=E.props.onMouseLeave;At(M)&&M(T,j)}),gt(E,"handleOuterEvent",function(j){var T=yie(j),M=is(E.props,"".concat(T));if(T&&At(M)){var I,q;/.*touch.*/i.test(T)?q=E.getMouseInfo(j.changedTouches[0]):q=E.getMouseInfo(j),M((I=q)!==null&&I!==void 0?I:{},j)}}),gt(E,"handleClick",function(j){var T=E.getMouseInfo(j);if(T){var M=ke(ke({},T),{},{isTooltipActive:!0});E.setState(M),E.triggerSyncEvent(M);var I=E.props.onClick;At(I)&&I(M,j)}}),gt(E,"handleMouseDown",function(j){var T=E.props.onMouseDown;if(At(T)){var M=E.getMouseInfo(j);T(M,j)}}),gt(E,"handleMouseUp",function(j){var T=E.props.onMouseUp;if(At(T)){var M=E.getMouseInfo(j);T(M,j)}}),gt(E,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),gt(E,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&E.handleMouseDown(j.changedTouches[0])}),gt(E,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&E.handleMouseUp(j.changedTouches[0])}),gt(E,"handleDoubleClick",function(j){var T=E.props.onDoubleClick;if(At(T)){var M=E.getMouseInfo(j);T(M,j)}}),gt(E,"handleContextMenu",function(j){var T=E.props.onContextMenu;if(At(T)){var M=E.getMouseInfo(j);T(M,j)}}),gt(E,"triggerSyncEvent",function(j){E.props.syncId!==void 0&&X4.emit(Y4,E.props.syncId,j,E.eventEmitterSymbol)}),gt(E,"applySyncEvent",function(j){var T=E.props,M=T.layout,I=T.syncMethod,q=E.state.updateId,D=j.dataStartIndex,L=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)E.setState(ke({dataStartIndex:D,dataEndIndex:L},v({props:E.props,dataStartIndex:D,dataEndIndex:L,updateId:q},E.state)));else if(j.activeTooltipIndex!==void 0){var V=j.chartX,K=j.chartY,Y=j.activeTooltipIndex,J=E.state,te=J.offset,U=J.tooltipTicks;if(!te)return;if(typeof I=="function")Y=I(U,j);else if(I==="value"){Y=-1;for(var X=0;X<U.length;X++)if(U[X].value===j.activeLabel){Y=X;break}}var ie=ke(ke({},te),{},{x:te.left,y:te.top}),G=Math.min(V,ie.x+ie.width),F=Math.min(K,ie.y+ie.height),Q=U[Y]&&U[Y].value,le=BS(E.state,E.props.data,Y),xe=U[Y]?{x:M==="horizontal"?U[Y].coordinate:G,y:M==="horizontal"?F:U[Y].coordinate}:B$;E.setState(ke(ke({},j),{},{activeLabel:Q,activeCoordinate:xe,activePayload:le,activeTooltipIndex:Y}))}else E.setState(j)}),gt(E,"renderCursor",function(j){var T,M=E.state,I=M.isTooltipActive,q=M.activeCoordinate,D=M.activePayload,L=M.offset,V=M.activeTooltipIndex,K=M.tooltipAxisBandSize,Y=E.getTooltipEventType(),J=(T=j.props.active)!==null&&T!==void 0?T:I,te=E.props.layout,U=j.key||"_recharts-cursor";return W.createElement(cye,{key:U,activeCoordinate:q,activePayload:D,activeTooltipIndex:V,chartName:r,element:j,isActive:J,layout:te,offset:L,tooltipAxisBandSize:K,tooltipEventType:Y})}),gt(E,"renderPolarAxis",function(j,T,M){var I=is(j,"type.axisType"),q=is(E.state,"".concat(I,"Map")),D=j.type.defaultProps,L=D!==void 0?ke(ke({},D),j.props):j.props,V=q&&q[L["".concat(I,"Id")]];return _.cloneElement(j,ke(ke({},V),{},{className:Mt(I,V.className),key:j.key||"".concat(T,"-").concat(M),ticks:Fa(V,!0)}))}),gt(E,"renderPolarGrid",function(j){var T=j.props,M=T.radialLines,I=T.polarAngles,q=T.polarRadius,D=E.state,L=D.radiusAxisMap,V=D.angleAxisMap,K=qo(L),Y=qo(V),J=Y.cx,te=Y.cy,U=Y.innerRadius,X=Y.outerRadius;return _.cloneElement(j,{polarAngles:Array.isArray(I)?I:Fa(Y,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(q)?q:Fa(K,!0).map(function(ie){return ie.coordinate}),cx:J,cy:te,innerRadius:U,outerRadius:X,key:j.key||"polar-grid",radialLines:M})}),gt(E,"renderLegend",function(){var j=E.state.formattedGraphicalItems,T=E.props,M=T.children,I=T.width,q=T.height,D=E.props.margin||{},L=I-(D.left||0)-(D.right||0),V=EB({children:M,formattedGraphicalItems:j,legendWidth:L,legendContent:u});if(!V)return null;var K=V.item,Y=tR(V,uye);return _.cloneElement(K,ke(ke({},Y),{},{chartWidth:I,chartHeight:q,margin:D,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),gt(E,"renderTooltip",function(){var j,T=E.props,M=T.children,I=T.accessibilityLayer,q=Oi(M,Cs);if(!q)return null;var D=E.state,L=D.isTooltipActive,V=D.activeCoordinate,K=D.activePayload,Y=D.activeLabel,J=D.offset,te=(j=q.props.active)!==null&&j!==void 0?j:L;return _.cloneElement(q,{viewBox:ke(ke({},J),{},{x:J.left,y:J.top}),active:te,label:Y,payload:te?K:[],coordinate:V,accessibilityLayer:I})}),gt(E,"renderBrush",function(j){var T=E.props,M=T.margin,I=T.data,q=E.state,D=q.offset,L=q.dataStartIndex,V=q.dataEndIndex,K=q.updateId;return _.cloneElement(j,{key:j.key||"_recharts-brush",onChange:rm(E.handleBrushChange,j.props.onChange),data:I,x:Ue(j.props.x)?j.props.x:D.left,y:Ue(j.props.y)?j.props.y:D.top+D.height+D.brushBottom-(M.bottom||0),width:Ue(j.props.width)?j.props.width:D.width,startIndex:L,endIndex:V,updateId:"brush-".concat(K)})}),gt(E,"renderReferenceElement",function(j,T,M){if(!j)return null;var I=E,q=I.clipPathId,D=E.state,L=D.xAxisMap,V=D.yAxisMap,K=D.offset,Y=j.type.defaultProps||{},J=j.props,te=J.xAxisId,U=te===void 0?Y.xAxisId:te,X=J.yAxisId,ie=X===void 0?Y.yAxisId:X;return _.cloneElement(j,{key:j.key||"".concat(T,"-").concat(M),xAxis:L[U],yAxis:V[ie],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:q})}),gt(E,"renderActivePoints",function(j){var T=j.item,M=j.activePoint,I=j.basePoint,q=j.childIndex,D=j.isRange,L=[],V=T.props.key,K=T.item.type.defaultProps!==void 0?ke(ke({},T.item.type.defaultProps),T.item.props):T.item.props,Y=K.activeDot,J=K.dataKey,te=ke(ke({index:q,dataKey:J,cx:M.x,cy:M.y,r:4,fill:G8(T.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},Nt(Y,!1)),ig(Y));return L.push(S.renderActiveDot(Y,te,"".concat(V,"-activePoint-").concat(q))),I?L.push(S.renderActiveDot(Y,ke(ke({},te),{},{cx:I.x,cy:I.y}),"".concat(V,"-basePoint-").concat(q))):D&&L.push(null),L}),gt(E,"renderGraphicChild",function(j,T,M){var I=E.filterFormatItem(j,T,M);if(!I)return null;var q=E.getTooltipEventType(),D=E.state,L=D.isTooltipActive,V=D.tooltipAxis,K=D.activeTooltipIndex,Y=D.activeLabel,J=E.props.children,te=Oi(J,Cs),U=I.props,X=U.points,ie=U.isRange,G=U.baseLine,F=I.item.type.defaultProps!==void 0?ke(ke({},I.item.type.defaultProps),I.item.props):I.item.props,Q=F.activeDot,le=F.hide,xe=F.activeBar,be=F.activeShape,ae=!!(!le&&L&&te&&(Q||xe||be)),we={};q!=="axis"&&te&&te.props.trigger==="click"?we={onClick:rm(E.handleItemMouseEnter,j.props.onClick)}:q!=="axis"&&(we={onMouseLeave:rm(E.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:rm(E.handleItemMouseEnter,j.props.onMouseEnter)});var fe=_.cloneElement(j,ke(ke({},I.props),we));function Se(re){return typeof V.dataKey=="function"?V.dataKey(re.payload):null}if(ae)if(K>=0){var Pe,he;if(V.dataKey&&!V.allowDuplicatedCategory){var Be=typeof V.dataKey=="function"?Se:"payload.".concat(V.dataKey.toString());Pe=ng(X,Be,Y),he=ie&&G&&ng(G,Be,Y)}else Pe=X==null?void 0:X[K],he=ie&&G&&G[K];if(be||xe){var Te=j.props.activeIndex!==void 0?j.props.activeIndex:K;return[_.cloneElement(j,ke(ke(ke({},I.props),we),{},{activeIndex:Te})),null,null]}if(!_t(Pe))return[fe].concat(fd(E.renderActivePoints({item:I,activePoint:Pe,basePoint:he,childIndex:K,isRange:ie})))}else{var We,Me=(We=E.getItemByXY(E.state.activeCoordinate))!==null&&We!==void 0?We:{graphicalItem:fe},ve=Me.graphicalItem,Ae=ve.item,H=Ae===void 0?j:Ae,se=ve.childIndex,me=ke(ke(ke({},I.props),we),{},{activeIndex:se});return[_.cloneElement(H,me),null,null]}return ie?[fe,null,null]:[fe,null]}),gt(E,"renderCustomized",function(j,T,M){return _.cloneElement(j,ke(ke({key:"recharts-customized-".concat(M)},E.props),E.state))}),gt(E,"renderMap",{CartesianGrid:{handler:om,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:om},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:om},YAxis:{handler:om},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((A=N.id)!==null&&A!==void 0?A:bc("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=AF(E.triggeredAfterMouseMove,(k=N.throttleDelay)!==null&&k!==void 0?k:1e3/60),E.state={},E}return Sye(S,b),yye(S,[{key:"componentDidMount",value:function(){var A,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,k=A.children,E=A.data,j=A.height,T=A.layout,M=Oi(k,Cs);if(M){var I=M.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,D=BS(this.state,E,I,q),L=this.state.tooltipTicks[I].coordinate,V=(this.state.offset.top+j)/2,K=T==="horizontal",Y=K?{x:L,y:V}:{y:L,x:V},J=this.state.formattedGraphicalItems.find(function(U){var X=U.item;return X.type.name==="Scatter"});J&&(Y=ke(ke({},Y),J.props.points[I].tooltipPosition),D=J.props.points[I].tooltipPayload);var te={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:q,activePayload:D,activeCoordinate:Y};this.setState(te),this.renderCursor(M),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var E,j;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(A){S3([Oi(A.children,Cs)],[Oi(this.props.children,Cs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Oi(this.props.children,Cs);if(A&&typeof A.props.shared=="boolean"){var k=A.props.shared?"axis":"item";return o.indexOf(k)>=0?k:s}return s}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var k=this.container,E=k.getBoundingClientRect(),j=sle(E),T={chartX:Math.round(A.pageX-j.left),chartY:Math.round(A.pageY-j.top)},M=E.width/k.offsetWidth||1,I=this.inRange(T.chartX,T.chartY,M);if(!I)return null;var q=this.state,D=q.xAxisMap,L=q.yAxisMap,V=this.getTooltipEventType(),K=nR(this.state,this.props.data,this.props.layout,I);if(V!=="axis"&&D&&L){var Y=qo(D).scale,J=qo(L).scale,te=Y&&Y.invert?Y.invert(T.chartX):null,U=J&&J.invert?J.invert(T.chartY):null;return ke(ke({},T),{},{xValue:te,yValue:U},K)}return K?ke(ke({},T),K):null}},{key:"inRange",value:function(A,k){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,T=A/E,M=k/E;if(j==="horizontal"||j==="vertical"){var I=this.state.offset,q=T>=I.left&&T<=I.left+I.width&&M>=I.top&&M<=I.top+I.height;return q?{x:T,y:M}:null}var D=this.state,L=D.angleAxisMap,V=D.radiusAxisMap;if(L&&V){var K=qo(L);return fM({x:T,y:M},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,k=this.getTooltipEventType(),E=Oi(A,Cs),j={};E&&k==="axis"&&(E.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=ig(this.props,this.handleOuterEvent);return ke(ke({},T),j)}},{key:"addListener",value:function(){X4.on(Y4,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){X4.removeListener(Y4,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,k,E){for(var j=this.state.formattedGraphicalItems,T=0,M=j.length;T<M;T++){var I=j[T];if(I.item===A||I.props.key===A.key||k===Ba(I.item.type)&&E===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,k=this.state.offset,E=k.left,j=k.top,T=k.height,M=k.width;return W.createElement("defs",null,W.createElement("clipPath",{id:A},W.createElement("rect",{x:E,y:j,height:T,width:M})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(k,E){var j=eR(E,2),T=j[0],M=j[1];return ke(ke({},k),{},gt({},T,M.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(k,E){var j=eR(E,2),T=j[0],M=j[1];return ke(ke({},k),{},gt({},T,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[A])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(A){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[A])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(A){var k=this.state,E=k.formattedGraphicalItems,j=k.activeItem;if(E&&E.length)for(var T=0,M=E.length;T<M;T++){var I=E[T],q=I.props,D=I.item,L=D.type.defaultProps!==void 0?ke(ke({},D.type.defaultProps),D.props):D.props,V=Ba(D.type);if(V==="Bar"){var K=(q.data||[]).find(function(U){return _pe(A,U)});if(K)return{graphicalItem:I,payload:K}}else if(V==="RadialBar"){var Y=(q.data||[]).find(function(U){return fM(A,U)});if(Y)return{graphicalItem:I,payload:Y}}else if(r1(I,j)||n1(I,j)||Wf(I,j)){var J=hme({graphicalItem:I,activeTooltipItem:j,itemData:L.data}),te=L.activeIndex===void 0?J:L.activeIndex;return{graphicalItem:ke(ke({},I),{},{childIndex:te}),payload:Wf(I,j)?L.data[J]:I.props.data[J]}}}return null}},{key:"render",value:function(){var A=this;if(!Aj(this))return null;var k=this.props,E=k.children,j=k.className,T=k.width,M=k.height,I=k.style,q=k.compact,D=k.title,L=k.desc,V=tR(k,dye),K=Nt(V,!1);if(q)return W.createElement(TO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(N3,_u({},K,{width:T,height:M,title:D,desc:L}),this.renderClipPath(),Cj(E,this.renderMap)));if(this.props.accessibilityLayer){var Y,J;K.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,K.role=(J=this.props.role)!==null&&J!==void 0?J:"application",K.onKeyDown=function(U){A.accessibilityManager.keyboardEvent(U)},K.onFocus=function(){A.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return W.createElement(TO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",_u({className:Mt("recharts-wrapper",j),style:ke({position:"relative",cursor:"default",width:T,height:M},I)},te,{ref:function(X){A.container=X}}),W.createElement(N3,_u({},K,{width:T,height:M,title:D,desc:L,style:kye}),this.renderClipPath(),Cj(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(_.Component);gt(y,"displayName",r),gt(y,"defaultProps",ke({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),gt(y,"getDerivedStateFromProps",function(b,S){var N=b.dataKey,A=b.data,k=b.children,E=b.width,j=b.height,T=b.layout,M=b.stackOffset,I=b.margin,q=S.dataStartIndex,D=S.dataEndIndex;if(S.updateId===void 0){var L=iR(b);return ke(ke(ke({},L),{},{updateId:0},v(ke(ke({props:b},L),{},{updateId:0}),S)),{},{prevDataKey:N,prevData:A,prevWidth:E,prevHeight:j,prevLayout:T,prevStackOffset:M,prevMargin:I,prevChildren:k})}if(N!==S.prevDataKey||A!==S.prevData||E!==S.prevWidth||j!==S.prevHeight||T!==S.prevLayout||M!==S.prevStackOffset||!ju(I,S.prevMargin)){var V=iR(b),K={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},Y=ke(ke({},nR(S,A,T)),{},{updateId:S.updateId+1}),J=ke(ke(ke({},V),K),Y);return ke(ke(ke({},J),v(ke({props:b},J),S)),{},{prevDataKey:N,prevData:A,prevWidth:E,prevHeight:j,prevLayout:T,prevStackOffset:M,prevMargin:I,prevChildren:k})}if(!S3(k,S.prevChildren)){var te,U,X,ie,G=Oi(k,ed),F=G&&(te=(U=G.props)===null||U===void 0?void 0:U.startIndex)!==null&&te!==void 0?te:q,Q=G&&(X=(ie=G.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&X!==void 0?X:D,le=F!==q||Q!==D,xe=!_t(A),be=xe&&!le?S.updateId:S.updateId+1;return ke(ke({updateId:be},v(ke(ke({props:b},S),{},{updateId:be,dataStartIndex:F,dataEndIndex:Q}),S)),{},{prevChildren:k,dataStartIndex:F,dataEndIndex:Q})}return null}),gt(y,"renderActiveDot",function(b,S,N){var A;return _.isValidElement(b)?A=_.cloneElement(b,S):At(b)?A=b(S):A=W.createElement(t1,S),W.createElement(Gt,{className:"recharts-active-dot",key:N},A)});var x=_.forwardRef(function(S,N){return W.createElement(y,_u({},S,{ref:N}))});return x.displayName=y.displayName,x},zye=q$({chartName:"LineChart",GraphicalChild:Nc,axisComponents:[{axisType:"xAxis",AxisComp:Rd},{axisType:"yAxis",AxisComp:Id}],formatAxisMap:QB}),Fye=q$({chartName:"ComposedChart",GraphicalChild:[Nc,cl,Md,u1],axisComponents:[{axisType:"xAxis",AxisComp:Rd},{axisType:"yAxis",AxisComp:Id},{axisType:"zAxis",AxisComp:c1}],formatAxisMap:QB});const U$=_.createContext(void 0);function Bye({children:t}){const[e,r]=_.useState(()=>{const i=localStorage.getItem("language");return i==="en"||i==="zh"?i:"en"}),n=i=>{r(i),localStorage.setItem("language",i)};return d.jsx(U$.Provider,{value:{language:e,setLanguage:n},children:t})}function bi(){const t=_.useContext(U$);if(!t)throw new Error("useLanguage must be used within LanguageProvider");return t}const $ye={en:{appTitle:"OpenTrade",subtitle:"Virtual A-share AI trading rooms",aiTraders:"AI Traders",details:"Details",tradingPanel:"Trading Panel",competition:"Competition",backtest:"Backtest",running:"RUNNING",stopped:"STOPPED",adminMode:"Admin Mode",logout:"Logout",switchTrader:"Switch Trader:",view:"View",realtimeNav:"Leaderboard",configNav:"Config",dashboardNav:"Dashboard",strategyNav:"Strategy",debateNav:"Arena",faqNav:"FAQ",footerTitle:"OpenTrade - Virtual Trading Rooms",footerWarning:"For learning & entertainment only. Not investment advice.",totalEquity:"Total Equity",availableBalance:"Available Balance",totalPnL:"Total P&L",positions:"Positions",margin:"Margin",free:"Free",currentPositions:"Current Positions",active:"Active",symbol:"Symbol",side:"Side",entryPrice:"Entry Price",stopLoss:"Stop Loss",takeProfit:"Take Profit",riskReward:"Risk/Reward",markPrice:"Mark Price",quantity:"Quantity",positionValue:"Position Value",leverage:"Leverage",unrealizedPnL:"Unrealized P&L",liqPrice:"Liq. Price",long:"LONG",short:"SHORT",noPositions:"No Positions",noActivePositions:"No active trading positions",recentDecisions:"Recent Decisions",lastCycles:"Last {count} trading cycles",noDecisionsYet:"No Decisions Yet",aiDecisionsWillAppear:"AI trading decisions will appear here",cycle:"Cycle",success:"Success",failed:"Failed",inputPrompt:"Input Prompt",aiThinking:"AI Chain of Thought",aiCommentary:"Streamer Commentary",collapse:"Collapse",expand:"Expand",accountEquityCurve:"Account Equity Curve",noHistoricalData:"No Historical Data",dataWillAppear:"Equity curve will appear after running a few cycles",initialBalance:"Initial Balance",currentEquity:"Current Equity",historicalCycles:"Historical Cycles",displayRange:"Display Range",recent:"Recent",allData:"All Data",cycles:"Cycles",comparisonMode:"Comparison Mode",dataPoints:"Data Points",currentGap:"Current Gap",count:"{count} pts",marketChart:"Market Chart",viewChart:"Click to view chart",enterSymbol:"Enter symbol...",popularSymbols:"Popular Symbols",fullscreen:"Fullscreen",exitFullscreen:"Exit Fullscreen",backtestPage:{title:"Backtest Lab",subtitle:"Pick a model + time range to replay the full AI decision loop.",start:"Start Backtest",starting:"Starting...",quickRanges:{h24:"24h",d3:"3d",d7:"7d"},actions:{pause:"Pause",resume:"Resume",stop:"Stop"},states:{running:"Running",paused:"Paused",completed:"Completed",failed:"Failed",liquidated:"Liquidated"},form:{aiModelLabel:"AI Model",selectAiModel:"Select AI model",providerLabel:"Provider",statusLabel:"Status",enabled:"Enabled",disabled:"Disabled",noModelWarning:"Please add and enable an AI model on the Model Config page first.",runIdLabel:"Run ID",runIdPlaceholder:"Leave blank to auto-generate",decisionTfLabel:"Decision TF",cadenceLabel:"Decision cadence (bars)",timeRangeLabel:"Time range",symbolsLabel:"Symbols (comma-separated)",customTfPlaceholder:"Custom TFs (comma separated, e.g. 2h,6h)",initialBalanceLabel:"Initial balance (USDT)",feeLabel:"Fee (bps)",slippageLabel:"Slippage (bps)",btcEthLeverageLabel:"BTC/ETH leverage (x)",altcoinLeverageLabel:"Altcoin leverage (x)",fillPolicies:{nextOpen:"Next open",barVwap:"Bar VWAP",midPrice:"Mid price"},promptPresets:{baseline:"Baseline",aggressive:"Aggressive",conservative:"Conservative",scalping:"Scalping"},cacheAiLabel:"Reuse AI cache",replayOnlyLabel:"Replay only",overridePromptLabel:"Use only custom prompt",customPromptLabel:"Custom prompt (optional)",customPromptPlaceholder:"Append or fully customize the strategy prompt"},runList:{title:"Runs",count:"Total {count} records"},filters:{allStates:"All states",searchPlaceholder:"Run ID / label"},tableHeaders:{runId:"Run ID",label:"Label",state:"State",progress:"Progress",equity:"Equity",lastError:"Last Error",updated:"Updated"},emptyStates:{noRuns:"No runs yet",selectRun:"Select a run to view details"},detail:{tfAndSymbols:"TF: {tf}  Symbols {count}",labelPlaceholder:"Label note",saveLabel:"Save",deleteLabel:"Delete",exportLabel:"Export",errorLabel:"Error"},toasts:{selectModel:"Please select an AI model first.",modelDisabled:"AI model {name} is disabled.",invalidRange:"End time must be later than start time.",startSuccess:"Backtest {id} started.",startFailed:"Failed to start. Please try again later.",actionSuccess:"{action} {id} succeeded.",actionFailed:"Operation failed. Please try again later.",labelSaved:"Label updated.",labelFailed:"Failed to update label.",confirmDelete:"Delete backtest {id}? This action cannot be undone.",deleteSuccess:"Backtest record deleted.",deleteFailed:"Failed to delete. Please try again later.",traceFailed:"Failed to fetch AI trace.",exportSuccess:"Exported data for {id}.",exportFailed:"Failed to export."},aiTrace:{title:"AI Trace",clear:"Clear",cyclePlaceholder:"Cycle",fetch:"Fetch",prompt:"Prompt",cot:"Chain of thought",output:"Output",cycleTag:"Cycle #{cycle}"},decisionTrail:{title:"AI Decision Trail",subtitle:"Showing last {count} cycles",empty:"No records yet",emptyHint:"The AI thought & execution log will appear once the run starts."},charts:{equityTitle:"Equity Curve",equityEmpty:"No data yet"},metrics:{title:"Metrics",totalReturn:"Total Return %",maxDrawdown:"Max Drawdown %",sharpe:"Sharpe",profitFactor:"Profit Factor",pending:"Calculating...",realized:"Realized PnL",unrealized:"Unrealized PnL"},trades:{title:"Trade Events",headers:{time:"Time",symbol:"Symbol",action:"Action",qty:"Qty",leverage:"Leverage",pnl:"PnL"},empty:"No trades yet"},metadata:{title:"Metadata",created:"Created",updated:"Updated",processedBars:"Processed Bars",maxDrawdown:"Max DD",liquidated:"Liquidated",yes:"Yes",no:"No"}},aiCompetition:"AI Competition",traders:"traders",liveBattle:"Live Battle",realTimeBattle:"Real-time Battle",leader:"Leader",leaderboard:"Leaderboard",live:"LIVE",realTime:"LIVE",performanceComparison:"Performance Comparison",realTimePnL:"Real-time PnL %",realTimePnLPercent:"Real-time PnL %",headToHead:"Head-to-Head Battle",leadingBy:"Leading by {gap}%",behindBy:"Behind by {gap}%",equity:"Equity",pnl:"P&L",pos:"Pos",manageAITraders:"Manage your AI trading bots",aiModels:"AI Models",exchanges:"Exchanges",createTrader:"Create Trader",modelConfiguration:"Model Configuration",configured:"Configured",notConfigured:"Not Configured",currentTraders:"Current Traders",noTraders:"No AI Traders",createFirstTrader:"Create your first AI trader to get started",dashboardEmptyTitle:"Let's Get Started!",dashboardEmptyDescription:"Create your first AI trader to automate your trading strategy. Connect an exchange, choose an AI model, and start trading in minutes!",goToTradersPage:"Create Your First Trader",configureModelsFirst:"Please configure AI models first",configureExchangesFirst:"Please configure exchanges first",configureModelsAndExchangesFirst:"Please configure AI models and exchanges first",modelNotConfigured:"Selected model is not configured",exchangeNotConfigured:"Selected exchange is not configured",confirmDeleteTrader:"Are you sure you want to delete this trader?",status:"Status",start:"Start",stop:"Stop",createNewTrader:"Create New AI Trader",selectAIModel:"Select AI Model",selectExchange:"Select Exchange",traderName:"Trader Name",enterTraderName:"Enter trader name",cancel:"Cancel",create:"Create",configureAIModels:"Configure AI Models",configureExchanges:"Configure Exchanges",aiScanInterval:"AI Scan Decision Interval (minutes)",scanIntervalRecommend:"Recommended: 3-10 minutes",useTestnet:"Use Testnet",enabled:"Enabled",save:"Save",fetchBalanceEditModeOnly:"Only can fetch current balance in edit mode",balanceFetched:"Current balance fetched",balanceFetchFailed:"Failed to fetch balance",balanceFetchNetworkError:"Failed to fetch balance, please check network connection",saving:"Saving...",saveSuccess:"Saved successfully",saveFailed:"Save failed",editTraderConfig:"Edit Trader Configuration",selectStrategyAndConfigParams:"Select Strategy and Configure Basic Parameters",basicConfig:"Basic Configuration",traderNameRequired:"Trader Name *",enterTraderNamePlaceholder:"Enter trader name",aiModelRequired:"AI Model *",exchangeRequired:"Exchange *",noExchangeAccount:"Don't have an exchange account? Click to register",discount:"Discount",selectTradingStrategy:"Select Trading Strategy",useStrategy:"Use Strategy",noStrategyManual:"-- No Strategy (Manual Configuration) --",activeSuffix:" (Active)",default:" [Default]",noStrategyHint:"No strategies yet, please create in Strategy Studio first",strategyDetails:"Strategy Details",activating:"Activating",coinSource:"Coin Source",marginLimit:"Margin Limit",tradingParams:"Trading Parameters",marginMode:"Margin Mode",crossMargin:"Cross Margin",isolatedMargin:"Isolated Margin",competitionDisplay:"Show in Competition",show:"Show",hide:"Hide",hiddenInCompetition:"This trader will not be shown in the competition page when hidden",initialBalanceLabel:"Initial Balance ($)",fetching:"Fetching...",fetchCurrentBalance:"Fetch Current Balance",balanceUpdateHint:"Used to manually update the initial balance baseline (e.g., after deposit/withdrawal)",autoFetchBalanceInfo:"The system will automatically fetch your account equity as the initial balance",fetchingBalance:"Fetching balance...",editTrader:"Save Changes",createTraderButton:"Create Trader",officialAPI:"Official API",customAPI:"Custom API",apiKey:"API Key",customAPIURL:"Custom API URL",enterAPIKey:"Enter API Key",enterCustomAPIURL:"Enter custom API endpoint URL",useOfficialAPI:"Use official API service",useCustomAPI:"Use custom API endpoint",secretKey:"Secret Key",privateKey:"Private Key",walletAddress:"Wallet Address",user:"User",signer:"Signer",passphrase:"Passphrase",enterPrivateKey:"Enter Private Key",enterWalletAddress:"Enter Wallet Address",enterUser:"Enter User",enterSigner:"Enter Signer Address",enterSecretKey:"Enter Secret Key",enterPassphrase:"Enter Passphrase",hyperliquidPrivateKeyDesc:"Hyperliquid uses private key for trading authentication",hyperliquidWalletAddressDesc:"Wallet address corresponding to the private key",hyperliquidAgentWalletTitle:"Hyperliquid Agent Wallet Configuration",hyperliquidAgentWalletDesc:"Use Agent Wallet for secure trading: Agent wallet signs transactions (balance ~0), Main wallet holds funds (never expose private key)",hyperliquidAgentPrivateKey:"Agent Private Key",enterHyperliquidAgentPrivateKey:"Enter Agent wallet private key",hyperliquidAgentPrivateKeyDesc:"Agent wallet private key for signing transactions (keep balance near 0 for security)",hyperliquidMainWalletAddress:"Main Wallet Address",enterHyperliquidMainWalletAddress:"Enter Main wallet address",hyperliquidMainWalletAddressDesc:"Main wallet address that holds your trading funds (never expose its private key)",asterApiProTitle:"Aster API Pro Wallet Configuration",asterApiProDesc:"Use API Pro wallet for secure trading: API wallet signs transactions, main wallet holds funds (never expose main wallet private key)",asterUserDesc:"Main wallet address - The EVM wallet address you use to log in to Aster (Note: Only EVM wallets are supported)",asterSignerDesc:"API Pro wallet address (0x...) - Generate from https://www.asterdex.com/en/api-wallet",asterPrivateKeyDesc:"API Pro wallet private key - Get from https://www.asterdex.com/en/api-wallet (only used locally for signing, never transmitted)",asterUsdtWarning:"Important: Aster only tracks USDT balance. Please ensure you use USDT as margin currency to avoid P&L calculation errors caused by price fluctuations of other assets (BNB, ETH, etc.)",asterUserLabel:"Main Wallet Address",asterSignerLabel:"API Pro Wallet Address",asterPrivateKeyLabel:"API Pro Wallet Private Key",enterAsterUser:"Enter main wallet address (0x...)",enterAsterSigner:"Enter API Pro wallet address (0x...)",enterAsterPrivateKey:"Enter API Pro wallet private key",lighterWalletAddress:"L1 Wallet Address",lighterPrivateKey:"L1 Private Key",lighterApiKeyPrivateKey:"API Key Private Key",enterLighterWalletAddress:"Enter Ethereum wallet address (0x...)",enterLighterPrivateKey:"Enter L1 private key (32 bytes)",enterLighterApiKeyPrivateKey:"Enter API Key private key (40 bytes, optional)",lighterWalletAddressDesc:"Your Ethereum wallet address for account identification",lighterPrivateKeyDesc:"L1 private key for account identification (32-byte ECDSA key)",lighterApiKeyPrivateKeyDesc:"API Key private key for transaction signing (40-byte Poseidon2 key)",lighterApiKeyOptionalNote:"Without API Key, system will use limited V1 mode",lighterV1Description:"Basic Mode - Limited functionality, testing framework only",lighterV2Description:"Full Mode - Supports Poseidon2 signing and real trading",lighterPrivateKeyImported:"LIGHTER private key imported",hyperliquidExchangeName:"Hyperliquid",asterExchangeName:"Aster DEX",secureInputButton:"Secure Input",secureInputReenter:"Re-enter Securely",secureInputClear:"Clear",secureInputHint:'Captured via secure two-step input. Use "Re-enter Securely" to update this value.',twoStageModalTitle:"Secure Key Input",twoStageModalDescription:"Use a two-step flow to enter your {length}-character private key safely.",twoStageStage1Title:"Step 1  Enter the first half",twoStageStage1Placeholder:"First 32 characters (include 0x if present)",twoStageStage1Hint:"Continuing copies an obfuscation string to your clipboard as a diversion.",twoStageStage1Error:"Please enter the first part before continuing.",twoStageNext:"Next",twoStageProcessing:"Processing",twoStageCancel:"Cancel",twoStageStage2Title:"Step 2  Enter the rest",twoStageStage2Placeholder:"Remaining characters of your private key",twoStageStage2Hint:"Paste the obfuscation string somewhere neutral, then finish entering your key.",twoStageClipboardSuccess:"Obfuscation string copied. Paste it into any text field once before completing.",twoStageClipboardReminder:"Remember to paste the obfuscation string before submitting to avoid clipboard leaks.",twoStageClipboardManual:"Automatic copy failed. Copy the obfuscation string below manually.",twoStageBack:"Back",twoStageSubmit:"Confirm",twoStageInvalidFormat:"Invalid private key format. Expected {length} hexadecimal characters (optional 0x prefix).",testnetDescription:"Enable to connect to exchange test environment for simulated trading",securityWarning:"Security Warning",saveConfiguration:"Save Configuration",positionMode:"Position Mode",crossMarginMode:"Cross Margin",isolatedMarginMode:"Isolated Margin",crossMarginDescription:"Cross margin: All positions share account balance as collateral",isolatedMarginDescription:"Isolated margin: Each position manages collateral independently, risk isolation",leverageConfiguration:"Leverage Configuration",btcEthLeverage:"BTC/ETH Leverage",altcoinLeverage:"Altcoin Leverage",leverageRecommendation:"Recommended: BTC/ETH 5-10x, Altcoins 3-5x for risk control",tradingSymbols:"Trading Symbols",tradingSymbolsPlaceholder:"Enter symbols, comma separated (e.g., BTCUSDT,ETHUSDT,SOLUSDT)",selectSymbols:"Select Symbols",selectTradingSymbols:"Select Trading Symbols",selectedSymbolsCount:"Selected {count} symbols",clearSelection:"Clear All",confirmSelection:"Confirm",tradingSymbolsDescription:"Empty = use default symbols. Must end with USDT (e.g., BTCUSDT, ETHUSDT)",btcEthLeverageValidation:"BTC/ETH leverage must be between 1-50x",altcoinLeverageValidation:"Altcoin leverage must be between 1-20x",invalidSymbolFormat:"Invalid symbol format: {symbol}, must end with USDT",systemPromptTemplate:"System Prompt Template",promptTemplateDefault:"Default Stable",promptTemplateAdaptive:"Conservative Strategy",promptTemplateAdaptiveRelaxed:"Aggressive Strategy",promptTemplateHansen:"Hansen Strategy",promptTemplateNof1:"NoF1 English Framework",promptTemplateTaroLong:"Taro Long Position",promptDescDefault:" Default Stable Strategy",promptDescDefaultContent:"Maximize Sharpe ratio, balanced risk-reward, suitable for beginners and stable long-term trading",promptDescAdaptive:" Conservative Strategy (v6.0.0)",promptDescAdaptiveContent:"Strict risk control, BTC mandatory confirmation, high win rate priority, suitable for conservative traders",promptDescAdaptiveRelaxed:" Aggressive Strategy (v6.0.0)",promptDescAdaptiveRelaxedContent:"High-frequency trading, BTC optional confirmation, pursue trading opportunities, suitable for volatile markets",promptDescHansen:" Hansen Strategy",promptDescHansenContent:"Hansen custom strategy, maximize Sharpe ratio, for professional traders",promptDescNof1:" NoF1 English Framework",promptDescNof1Content:"Hyperliquid exchange specialist, English prompts, maximize risk-adjusted returns",promptDescTaroLong:" Taro Long Position Strategy",promptDescTaroLongContent:"Data-driven decisions, multi-dimensional validation, continuous learning evolution, long position specialist",loading:"Loading...",inUse:"In Use",noModelsConfigured:"No configured AI models",noExchangesConfigured:"No configured exchanges",signalSource:"Signal Source",signalSourceConfig:"Signal Source Configuration",ai500Description:"API endpoint for AI500 data provider, leave blank to disable this signal source",oiTopDescription:"API endpoint for open interest rankings, leave blank to disable this signal source",information:"Information",signalSourceInfo1:" Signal source configuration is per-user, each user can set their own URLs",signalSourceInfo2:" When creating traders, you can choose whether to use these signal sources",signalSourceInfo3:" Configured URLs will be used to fetch market data and trading signals",editAIModel:"Edit AI Model",addAIModel:"Add AI Model",confirmDeleteModel:"Are you sure you want to delete this AI model configuration?",cannotDeleteModelInUse:"Cannot delete this AI model because it is being used by traders",tradersUsing:"Traders using this configuration",pleaseDeleteTradersFirst:"Please delete or reconfigure these traders first",selectModel:"Select AI Model",pleaseSelectModel:"Please select a model",customBaseURL:"Base URL (Optional)",customBaseURLPlaceholder:"Custom API base URL, e.g.: https://api.openai.com/v1",leaveBlankForDefault:"Leave blank to use default API address",modelConfigInfo1:" For official API, only API Key is required, leave other fields blank",modelConfigInfo2:" Custom Base URL and Model Name only needed for third-party proxies",modelConfigInfo3:" API Key is encrypted and stored securely",defaultModel:"Default model",applyApiKey:"Apply API Key",kimiApiNote:"Kimi requires API Key from international site (moonshot.ai), China region keys are not compatible",leaveBlankForDefaultModel:"Leave blank to use default model",customModelName:"Model Name (Optional)",customModelNamePlaceholder:"e.g.: deepseek-chat, qwen3-max, gpt-4o",saveConfig:"Save Configuration",editExchange:"Edit Exchange",addExchange:"Add Exchange",confirmDeleteExchange:"Are you sure you want to delete this exchange configuration?",cannotDeleteExchangeInUse:"Cannot delete this exchange because it is being used by traders",pleaseSelectExchange:"Please select an exchange",exchangeConfigWarning1:" API keys will be encrypted, recommend using read-only or futures trading permissions",exchangeConfigWarning2:" Do not grant withdrawal permissions to ensure fund security",exchangeConfigWarning3:" After deleting configuration, related traders will not be able to trade",edit:"Edit",viewGuide:"View Guide",binanceSetupGuide:"Binance Setup Guide",closeGuide:"Close",whitelistIP:"Whitelist IP",whitelistIPDesc:"Binance requires adding server IP to API whitelist",serverIPAddresses:"Server IP Addresses",copyIP:"Copy",ipCopied:"IP Copied",copyIPFailed:"Failed to copy IP address. Please copy manually",loadingServerIP:"Loading server IP...",createTraderFailed:"Failed to create trader",getTraderConfigFailed:"Failed to get trader configuration",modelConfigNotExist:"Model configuration does not exist or is not enabled",exchangeConfigNotExist:"Exchange configuration does not exist or is not enabled",updateTraderFailed:"Failed to update trader",deleteTraderFailed:"Failed to delete trader",operationFailed:"Operation failed",deleteConfigFailed:"Failed to delete configuration",modelNotExist:"Model does not exist",saveConfigFailed:"Failed to save configuration",exchangeNotExist:"Exchange does not exist",deleteExchangeConfigFailed:"Failed to delete exchange configuration",saveSignalSourceFailed:"Failed to save signal source configuration",encryptionFailed:"Failed to encrypt sensitive data",login:"Sign In",register:"Sign Up",username:"Username",email:"Email",password:"Password",confirmPassword:"Confirm Password",usernamePlaceholder:"your username",emailPlaceholder:"your@email.com",passwordPlaceholder:"Enter your password",confirmPasswordPlaceholder:"Re-enter your password",passwordRequirements:"Password requirements",passwordRuleMinLength:"Minimum 8 characters",passwordRuleUppercase:"At least 1 uppercase letter",passwordRuleLowercase:"At least 1 lowercase letter",passwordRuleNumber:"At least 1 number",passwordRuleSpecial:"At least 1 special character (@#$%!&*?)",passwordRuleMatch:"Passwords match",passwordNotMeetRequirements:"Password does not meet the security requirements",otpPlaceholder:"000000",loginTitle:"Sign in to your account",registerTitle:"Create a new account",loginButton:"Sign In",registerButton:"Sign Up",back:"Back",noAccount:"Don't have an account?",hasAccount:"Already have an account?",registerNow:"Sign up now",loginNow:"Sign in now",forgotPassword:"Forgot password?",rememberMe:"Remember me",otpCode:"OTP Code",resetPassword:"Reset Password",resetPasswordTitle:"Reset your password",newPassword:"New Password",newPasswordPlaceholder:"Enter new password (at least 6 characters)",resetPasswordButton:"Reset Password",resetPasswordSuccess:"Password reset successful! Please login with your new password",resetPasswordFailed:"Password reset failed",backToLogin:"Back to Login",scanQRCode:"Scan QR Code",enterOTPCode:"Enter 6-digit OTP code",verifyOTP:"Verify OTP",setupTwoFactor:"Set up two-factor authentication",setupTwoFactorDesc:"Follow the steps below to secure your account with Google Authenticator",scanQRCodeInstructions:"Scan this QR code with Google Authenticator or Authy",otpSecret:"Or enter this secret manually:",qrCodeHint:"QR code (if scanning fails, use the secret below):",authStep1Title:"Step 1: Install Google Authenticator",authStep1Desc:"Download and install Google Authenticator from your app store",authStep2Title:"Step 2: Add account",authStep2Desc:'Tap "+", then choose "Scan QR code" or "Enter a setup key"',authStep3Title:"Step 3: Verify setup",authStep3Desc:"After setup, continue to enter the 6-digit code",setupCompleteContinue:"I have completed setup, continue",copy:"Copy",completeRegistration:"Complete Registration",completeRegistrationSubtitle:"to complete registration",loginSuccess:"Login successful",registrationSuccess:"Registration successful",loginFailed:"Login failed. Please check your email and password.",registrationFailed:"Registration failed. Please try again.",verificationFailed:"OTP verification failed. Please check the code and try again.",sessionExpired:"Session expired, please login again",invalidCredentials:"Invalid email or password",weak:"Weak",medium:"Medium",strong:"Strong",passwordStrength:"Password strength",passwordStrengthHint:"Use at least 8 characters with mix of letters, numbers and symbols",passwordMismatch:"Passwords do not match",emailRequired:"Email is required",passwordRequired:"Password is required",invalidEmail:"Invalid email format",passwordTooShort:"Password must be at least 6 characters",features:"Features",howItWorks:"How it Works",community:"Community",language:"Language",loggedInAs:"Logged in as",exitLogin:"Sign Out",signIn:"Sign In",signUp:"Sign Up",registrationClosed:"Registration Closed",registrationClosedMessage:"User registration is currently disabled. Please contact the administrator for access.",githubStarsInDays:"2.5K+ GitHub Stars in 3 days",heroTitle1:"Read the Market.",heroTitle2:"Write the Trade.",heroDescription:"NOFX is the future standard for AI trading  an open, community-driven agentic trading OS. Supporting Binance, Aster DEX and other exchanges, self-hosted, multi-agent competition, let AI automatically make decisions, execute and optimize trades for you.",poweredBy:"Powered by Aster DEX and Binance.",readyToDefine:"Ready to define the future of AI trading?",startWithCrypto:"Starting with crypto markets, expanding to TradFi. NOFX is the infrastructure of AgentFi.",getStartedNow:"Get Started Now",viewSourceCode:"View Source Code",coreFeatures:"Core Features",whyChooseNofx:"Why Choose NOFX?",openCommunityDriven:"Open source, transparent, community-driven AI trading OS",openSourceSelfHosted:"100% Open Source & Self-Hosted",openSourceDesc:"Your framework, your rules. Non-black box, supports custom prompts and multi-models.",openSourceFeatures1:"Fully open source code",openSourceFeatures2:"Self-hosting deployment support",openSourceFeatures3:"Custom AI prompts",openSourceFeatures4:"Multi-model support (DeepSeek, Qwen)",multiAgentCompetition:"Multi-Agent Intelligent Competition",multiAgentDesc:"AI strategies battle at high speed in sandbox, survival of the fittest, achieving strategy evolution.",multiAgentFeatures1:"Multiple AI agents running in parallel",multiAgentFeatures2:"Automatic strategy optimization",multiAgentFeatures3:"Sandbox security testing",multiAgentFeatures4:"Cross-market strategy porting",secureReliableTrading:"Secure and Reliable Trading",secureDesc:"Enterprise-grade security, complete control over your funds and trading strategies.",secureFeatures1:"Local private key management",secureFeatures2:"Fine-grained API permission control",secureFeatures3:"Real-time risk monitoring",secureFeatures4:"Trading log auditing",aboutNofx:"About NOFX",whatIsNofx:"What is NOFX?",nofxNotAnotherBot:"NOFX is not another trading bot, but the 'Linux' of AI trading ",nofxDescription1:"a transparent, trustworthy open source OS that provides a unified",nofxDescription2:"'decision-risk-execution' layer, supporting all asset classes.",nofxDescription3:"Starting with crypto markets (24/7, high volatility perfect testing ground), future expansion to stocks, futures, forex. Core: open architecture, AI",nofxDescription4:"Darwinism (multi-agent self-competition, strategy evolution), CodeFi",nofxDescription5:"flywheel (developers get point rewards for PR contributions).",youFullControl:"You 100% Control",fullControlDesc:"Complete control over AI prompts and funds",startupMessages1:"Starting automated trading system...",startupMessages2:"API server started on port 8080",startupMessages3:"Web console http://127.0.0.1:3000",howToStart:"How to Get Started with NOFX",fourSimpleSteps:"Four simple steps to start your AI automated trading journey",step1Title:"Clone GitHub Repository",step1Desc:"git clone https://github.com/NoFxAiOS/nofx and switch to dev branch to test new features.",step2Title:"Configure Environment",step2Desc:"Frontend setup for exchange APIs (like Binance, Hyperliquid), AI models and custom prompts.",step3Title:"Deploy & Run",step3Desc:"One-click Docker deployment, start AI agents. Note: High-risk market, only test with money you can afford to lose.",step4Title:"Optimize & Contribute",step4Desc:"Monitor trading, submit PRs to improve framework. Join Telegram to share strategies.",importantRiskWarning:"Important Risk Warning",riskWarningText:"Dev branch is unstable, do not use funds you cannot afford to lose. NOFX is non-custodial, no official strategies. Trading involves risks, invest carefully.",futureStandardAI:"The future standard of AI trading",links:"Links",resources:"Resources",documentation:"Documentation",supporters:"Supporters",strategicInvestment:"(Strategic Investment)",accessNofxPlatform:"Access NOFX Platform",loginRegisterPrompt:"Please login or register to access the full AI trading platform",registerNewAccount:"Register New Account",candidateCoins:"Candidate Coins",candidateCoinsZeroWarning:"Candidate Coins Count is 0",possibleReasons:"Possible Reasons:",ai500ApiNotConfigured:"AI500 data provider API not configured or inaccessible (check signal source settings)",apiConnectionTimeout:"API connection timeout or returned empty data",noCustomCoinsAndApiFailed:"No custom coins configured and API fetch failed",solutions:"Solutions:",setCustomCoinsInConfig:"Set custom coin list in trader configuration",orConfigureCorrectApiUrl:"Or configure correct data provider API address",orDisableAI500Options:'Or disable "Use AI500 Data Provider" and "Use OI Top" options',signalSourceNotConfigured:"Signal Source Not Configured",signalSourceWarningMessage:'You have traders that enabled "Use AI500 Data Provider" or "Use OI Top", but signal source API address is not configured yet. This will cause candidate coins count to be 0, and traders cannot work properly.',configureSignalSourceNow:"Configure Signal Source Now",faqTitle:"Frequently Asked Questions",faqSubtitle:"Find answers to common questions about NOFX",faqStillHaveQuestions:"Still Have Questions?",faqContactUs:"Join our community or check our GitHub for more help",faqCategoryGettingStarted:"Getting Started",faqCategoryInstallation:"Installation",faqCategoryConfiguration:"Configuration",faqCategoryTrading:"Trading",faqCategoryTechnicalIssues:"Technical Issues",faqCategorySecurity:"Security",faqCategoryFeatures:"Features",faqCategoryAIModels:"AI Models",faqCategoryContributing:"Contributing",faqWhatIsNOFX:"What is NOFX?",faqWhatIsNOFXAnswer:"NOFX is an open-source AI-powered trading operating system for cryptocurrency and US stock markets. It uses large language models (LLMs) like DeepSeek, GPT, Claude, Gemini to analyze market data and make autonomous trading decisions. Key features include: multi-AI model support, multi-exchange trading, visual strategy builder, backtesting, and AI debate arena for consensus decisions.",faqHowDoesItWork:"How does NOFX work?",faqHowDoesItWorkAnswer:'NOFX works in 5 steps: 1) Configure AI models and exchange API credentials; 2) Create a trading strategy (coin selection, indicators, risk controls); 3) Create a "Trader" combining AI model + Exchange + Strategy; 4) Start the trader - it will analyze market data at regular intervals and make buy/sell/hold decisions; 5) Monitor performance on the dashboard. The AI uses Chain of Thought reasoning to explain each decision.',faqIsProfitable:"Is NOFX profitable?",faqIsProfitableAnswer:"AI trading is experimental and NOT guaranteed to be profitable. Cryptocurrency futures are highly volatile and risky. NOFX is designed for educational and research purposes. We strongly recommend: starting with small amounts (10-50 USDT), never investing more than you can afford to lose, thoroughly testing with backtests before live trading, and understanding that past performance does not guarantee future results.",faqSupportedExchanges:"Which exchanges are supported?",faqSupportedExchangesAnswer:"CEX (Centralized): Binance Futures, Bybit, OKX, Bitget. DEX (Decentralized): Hyperliquid, Aster DEX, Lighter. Each exchange has different features - Binance has the most liquidity, Hyperliquid is fully on-chain with no KYC required. Check the documentation for setup guides for each exchange.",faqSupportedAIModels:"Which AI models are supported?",faqSupportedAIModelsAnswer:"NOFX supports 7+ AI models: DeepSeek (recommended for cost/performance), Alibaba Qwen, OpenAI (GPT-5.2), Anthropic Claude, Google Gemini, xAI Grok, and Kimi (Moonshot). You can also use any OpenAI-compatible API endpoint. Each model has different strengths - DeepSeek is cost-effective, OpenAI models are powerful but expensive, Claude excels at reasoning.",faqSystemRequirements:"What are the system requirements?",faqSystemRequirementsAnswer:"Minimum: 2 CPU cores, 2GB RAM, 1GB disk space, stable internet. Recommended: 4GB RAM for running multiple traders. Supported OS: Linux, macOS, or Windows (via Docker or WSL2). Docker is the easiest installation method. For manual installation, you need Go 1.21+, Node.js 18+, and TA-Lib library.",faqHowToInstall:"How do I install NOFX?",faqHowToInstallAnswer:'Easiest method (Linux/macOS): Run "curl -fsSL https://raw.githubusercontent.com/NoFxAiOS/nofx/main/install.sh | bash" - this installs Docker containers automatically. Then open http://127.0.0.1:3000 in your browser. For manual installation or development, clone the repository and follow the README instructions.',faqWindowsInstallation:"How do I install on Windows?",faqWindowsInstallationAnswer:'Three options: 1) Docker Desktop (Recommended) - Install Docker Desktop, then run "docker compose -f docker-compose.prod.yml up -d" in PowerShell; 2) WSL2 - Install Windows Subsystem for Linux, then follow Linux installation; 3) Docker in WSL2 - Best of both worlds, run the install script in WSL2 terminal. Access via http://127.0.0.1:3000',faqDockerDeployment:"Docker deployment keeps failing",faqDockerDeploymentAnswer:'Common solutions: 1) Check Docker is running: "docker info"; 2) Ensure sufficient memory (2GB minimum); 3) If stuck on "go build", try: "docker compose down && docker compose build --no-cache && docker compose up -d"; 4) Check logs: "docker compose logs -f"; 5) For slow pulls, configure a Docker mirror in daemon.json.',faqManualInstallation:"How do I install manually for development?",faqManualInstallationAnswer:'Prerequisites: Go 1.21+, Node.js 18+, TA-Lib. Steps: 1) Clone repo: "git clone https://github.com/NoFxAiOS/nofx.git"; 2) Install backend deps: "go mod download"; 3) Install frontend deps: "cd web && npm install"; 4) Build backend: "go build -o nofx"; 5) Run backend: "./nofx"; 6) Run frontend (new terminal): "cd web && npm run dev". Access at http://127.0.0.1:3000',faqServerDeployment:"How do I deploy to a remote server?",faqServerDeploymentAnswer:'Run the install script on your server - it auto-detects the server IP. Access via http://YOUR_SERVER_IP:3000. For HTTPS: 1) Use Cloudflare (free) - add domain, create A record pointing to server IP, set SSL to "Flexible"; 2) Enable TRANSPORT_ENCRYPTION=true in .env for browser-side encryption; 3) Access via https://your-domain.com',faqUpdateNOFX:"How do I update NOFX?",faqUpdateNOFXAnswer:'For Docker: Run "docker compose pull && docker compose up -d" to pull latest images and restart. For manual installation: "git pull && go build -o nofx" for backend, "cd web && npm install && npm run build" for frontend. Your configurations in data.db are preserved during updates.',faqConfigureAIModels:"How do I configure AI models?",faqConfigureAIModelsAnswer:"Go to Config page  AI Models section. For each model: 1) Get API key from the provider (links provided in UI); 2) Enter API key; 3) Optionally customize base URL and model name; 4) Save. API keys are encrypted before storage. Test the connection after saving to verify it works.",faqConfigureExchanges:"How do I configure exchange connections?",faqConfigureExchangesAnswer:'Go to Config page  Exchanges section. Click "Add Exchange", select exchange type, and enter credentials. For CEX (Binance/Bybit/OKX): Need API Key + Secret Key (+ Passphrase for OKX). For DEX (Hyperliquid/Aster/Lighter): Need wallet address and private key. Always enable only necessary permissions (Futures Trading) and consider IP whitelisting.',faqBinanceAPISetup:"How do I set up Binance API correctly?",faqBinanceAPISetupAnswer:'Important steps: 1) Create API key in Binance  API Management; 2) Enable ONLY "Enable Futures" permission; 3) Consider adding IP whitelist for security; 4) CRITICAL: Switch to Hedge Mode () in Futures settings  Preferences  Position Mode; 5) Ensure funds are in Futures wallet (not Spot). Common error -4061 means you need Hedge Mode.',faqHyperliquidSetup:"How do I set up Hyperliquid?",faqHyperliquidSetupAnswer:"Hyperliquid is a decentralized exchange requiring wallet authentication. Steps: 1) Go to app.hyperliquid.xyz; 2) Connect your wallet; 3) Generate an API wallet (recommended) or use your main wallet; 4) Copy the wallet address and private key; 5) In NOFX, add Hyperliquid exchange with these credentials. No KYC required, fully on-chain.",faqCreateStrategy:"How do I create a trading strategy?",faqCreateStrategyAnswer:"Go to Strategy Studio: 1) Coin Source - select which coins to trade (static list, AI500 pool, or OI Top ranking); 2) Indicators - enable technical indicators (EMA, MACD, RSI, ATR, Volume, OI, Funding Rate); 3) Risk Controls - set leverage limits, max positions, margin usage cap, position size limits; 4) Custom Prompt (optional) - add specific instructions for the AI. Save and assign to a trader.",faqCreateTrader:"How do I create and start a trader?",faqCreateTraderAnswer:'Go to Traders page: 1) Click "Create Trader"; 2) Select AI Model (must be configured first); 3) Select Exchange (must be configured first); 4) Select Strategy (or use default); 5) Set decision interval (e.g., 5 minutes); 6) Save, then click "Start" to begin trading. Monitor performance on Dashboard page.',faqHowAIDecides:"How does the AI make trading decisions?",faqHowAIDecidesAnswer:"The AI uses Chain of Thought (CoT) reasoning in 4 steps: 1) Position Analysis - reviews current holdings and P/L; 2) Risk Assessment - checks account margin, available balance; 3) Opportunity Evaluation - analyzes market data, indicators, candidate coins; 4) Final Decision - outputs specific action (buy/sell/hold) with reasoning. You can view the full reasoning in decision logs.",faqDecisionFrequency:"How often does the AI make decisions?",faqDecisionFrequencyAnswer:'Configurable per trader, default is 3-5 minutes. Considerations: Too frequent (1-2 min) = overtrading, high fees; Too slow (30+ min) = missed opportunities. Recommended: 5 minutes for active trading, 15-30 minutes for swing trading. The AI may decide to "hold" (no action) in many cycles.',faqNoTradesExecuting:"Why isn't my trader executing any trades?",faqNoTradesExecutingAnswer:"Common causes: 1) AI decided to wait (check decision logs for reasoning); 2) Insufficient balance in futures account; 3) Max positions limit reached (default: 3); 4) Exchange API issues (check error messages); 5) Strategy constraints too restrictive. Check Dashboard  Decision Logs for detailed AI reasoning each cycle.",faqOnlyShortPositions:"Why is the AI only opening short positions?",faqOnlyShortPositionsAnswer:"This is usually due to Binance Position Mode. Solution: Switch to Hedge Mode () in Binance Futures  Preferences  Position Mode. You must close all positions first. After switching, the AI can open both long and short positions independently.",faqLeverageSettings:"How do leverage settings work?",faqLeverageSettingsAnswer:"Leverage is set in Strategy  Risk Controls: BTC/ETH leverage (typically 5-20x) and Altcoin leverage (typically 3-10x). Higher leverage = higher risk and potential returns. Subaccounts may have restrictions (e.g., Binance subaccounts limited to 5x). The AI respects these limits when placing orders.",faqStopLossTakeProfit:"Does NOFX support stop-loss and take-profit?",faqStopLossTakeProfitAnswer:"The AI can suggest stop-loss/take-profit levels in its decisions, but these are guidance-based rather than hard-coded exchange orders. The AI monitors positions each cycle and may decide to close based on P/L. For guaranteed stop-loss, you can set exchange-level orders manually or adjust the strategy prompt to be more conservative.",faqMultipleTraders:"Can I run multiple traders?",faqMultipleTradersAnswer:"Yes! NOFX supports running 20+ concurrent traders. Each trader can have different: AI model, exchange account, strategy, decision interval. Use this to A/B test strategies, compare AI models, or diversify across exchanges. Monitor all traders on the Competition page.",faqAICosts:"How much do AI API calls cost?",faqAICostsAnswer:"Approximate daily costs per trader (5-min intervals): DeepSeek: $0.10-0.50; Qwen: $0.20-0.80; OpenAI: $2-5; Claude: $1-3. Costs depend on prompt length and response tokens. DeepSeek offers the best cost/performance ratio. Longer decision intervals reduce costs.",faqPortInUse:"Port 8080 or 3000 already in use",faqPortInUseAnswer:`Check what's using the port: "lsof -i :8080" (macOS/Linux) or "netstat -ano | findstr 8080" (Windows). Kill the process or change ports in .env: NOFX_BACKEND_PORT=8081, NOFX_FRONTEND_PORT=3001. Restart with "docker compose down && docker compose up -d".`,faqFrontendNotLoading:'Frontend shows "Loading..." forever',faqFrontendNotLoadingAnswer:'Backend may not be running or reachable. Check: 1) "curl http://127.0.0.1:8080/api/health" should return {"status":"ok"}; 2) "docker compose ps" to verify containers are running; 3) Check backend logs: "docker compose logs nofx-backend"; 4) Ensure firewall allows port 8080.',faqDatabaseLocked:"Database locked error",faqDatabaseLockedAnswer:'Multiple processes accessing SQLite simultaneously. Solution: 1) Stop all processes: "docker compose down" or "pkill nofx"; 2) Remove lock files if present: "rm -f data/data.db-wal data/data.db-shm"; 3) Restart: "docker compose up -d". Only one backend instance should access the database.',faqTALibNotFound:"TA-Lib not found during build",faqTALibNotFoundAnswer:'TA-Lib is required for technical indicators. Install: macOS: "brew install ta-lib"; Ubuntu/Debian: "sudo apt-get install libta-lib0-dev"; CentOS: "yum install ta-lib-devel". After installing, rebuild: "go build -o nofx". Docker images include TA-Lib pre-installed.',faqAIAPITimeout:"AI API timeout or connection refused",faqAIAPITimeoutAnswer:"Check: 1) API key is valid (test with curl); 2) Network can reach API endpoint (ping/curl); 3) API provider is not down (check status page); 4) VPN/firewall not blocking; 5) Rate limits not exceeded. Default timeout is 120 seconds.",faqBinancePositionMode:"Binance error code -4061 (Position Mode)",faqBinancePositionModeAnswer:`Error: "Order's position side does not match user's setting". You're in One-way Mode but NOFX requires Hedge Mode. Fix: 1) Close ALL positions first; 2) Binance Futures  Settings (gear icon)  Preferences  Position Mode  Switch to "Hedge Mode" (); 3) Restart your trader.`,faqBalanceShowsZero:"Account balance shows 0",faqBalanceShowsZeroAnswer:"Funds are likely in Spot wallet, not Futures wallet. Solution: 1) In Binance, go to Wallet  Futures  Transfer; 2) Transfer USDT from Spot to Futures; 3) Refresh NOFX dashboard. Also check: funds not locked in savings/staking products.",faqDockerPullFailed:"Docker image pull failed or slow",faqDockerPullFailedAnswer:'Docker Hub can be slow in some regions. Solutions: 1) Configure a Docker mirror in /etc/docker/daemon.json: {"registry-mirrors": ["https://mirror.gcr.io"]}; 2) Restart Docker; 3) Retry pull. Alternatively, use GitHub Container Registry (ghcr.io) which may have better connectivity in your region.',faqAPIKeyStorage:"How are API keys stored?",faqAPIKeyStorageAnswer:"API keys are encrypted using AES-256-GCM before storage in the local SQLite database. The encryption key (DATA_ENCRYPTION_KEY) is stored in your .env file. Keys are decrypted only in memory when needed for API calls. Never share your data.db or .env files.",faqEncryptionDetails:"What encryption does NOFX use?",faqEncryptionDetailsAnswer:"NOFX uses multiple encryption layers: 1) AES-256-GCM for database storage (API keys, secrets); 2) RSA-2048 for optional transport encryption (browser to server); 3) JWT for authentication tokens. Keys are generated during installation. Enable TRANSPORT_ENCRYPTION=true for HTTPS environments.",faqSecurityBestPractices:"What are security best practices?",faqSecurityBestPracticesAnswer:"Recommended: 1) Use exchange API keys with IP whitelist and minimal permissions (Futures Trading only); 2) Use dedicated subaccount for NOFX; 3) Enable TRANSPORT_ENCRYPTION for remote deployments; 4) Never share .env or data.db files; 5) Use HTTPS with valid certificates; 6) Regularly rotate API keys; 7) Monitor account activity.",faqCanNOFXStealFunds:"Can NOFX steal my funds?",faqCanNOFXStealFundsAnswer:"NOFX is open-source (AGPL-3.0 license) - you can audit all code on GitHub. API keys are stored locally on YOUR machine, never sent to external servers. NOFX only has the permissions you grant via API keys. For maximum safety: use API keys with trading-only permissions (no withdrawal), enable IP whitelist, use a dedicated subaccount.",faqStrategyStudio:"What is Strategy Studio?",faqStrategyStudioAnswer:"Strategy Studio is a visual strategy builder where you configure: 1) Coin Sources - which cryptocurrencies to trade (static list, AI500 top coins, OI ranking); 2) Technical Indicators - EMA, MACD, RSI, ATR, Volume, Open Interest, Funding Rate; 3) Risk Controls - leverage limits, position sizing, margin caps; 4) Custom Prompts - specific instructions for AI. No coding required.",faqBacktestLab:"What is Backtest Lab?",faqBacktestLabAnswer:"Backtest Lab tests your strategy against historical data without risking real funds. Features: 1) Configure AI model, date range, initial balance; 2) Watch real-time progress with equity curve; 3) View metrics: Return %, Max Drawdown, Sharpe Ratio, Win Rate; 4) Analyze individual trades and AI reasoning. Essential for validating strategies before live trading.",faqDebateArena:"What is Debate Arena?",faqDebateArenaAnswer:"Debate Arena lets multiple AI models debate trading decisions before execution. Setup: 1) Choose 2-5 AI models; 2) Assign personalities (Bull, Bear, Analyst, Contrarian, Risk Manager); 3) Watch them debate in rounds; 4) Final decision based on consensus voting. Useful for high-conviction trades where you want multiple perspectives.",faqCompetitionMode:"What is Competition Mode?",faqCompetitionModeAnswer:'Competition page shows a real-time leaderboard of all your traders. Compare: ROI, P&L, Sharpe ratio, win rate, number of trades. Use this to A/B test different AI models, strategies, or configurations. Traders can be marked as "Show in Competition" to appear on the leaderboard.',faqChainOfThought:"What is Chain of Thought (CoT)?",faqChainOfThoughtAnswer:"Chain of Thought is the AI's reasoning process, visible in decision logs. The AI explains its thinking in 4 steps: 1) Current position analysis; 2) Account risk assessment; 3) Market opportunity evaluation; 4) Final decision rationale. This transparency helps you understand WHY the AI made each decision, useful for improving strategies.",faqWhichAIModelBest:"Which AI model should I use?",faqWhichAIModelBestAnswer:"Recommended: DeepSeek for best cost/performance ratio ($0.10-0.50/day). Alternatives: OpenAI for best reasoning but expensive ($2-5/day); Claude for nuanced analysis; Qwen for competitive pricing. You can run multiple traders with different models to compare. Check the Competition page to see which performs best for your strategy.",faqCustomAIAPI:"Can I use a custom AI API?",faqCustomAIAPIAnswer:"Yes! NOFX supports any OpenAI-compatible API. In Config  AI Models  Custom API: 1) Enter your API endpoint URL (e.g., https://your-api.com/v1); 2) Enter API key; 3) Specify model name. This works with self-hosted models, alternative providers, or Claude via third-party proxies.",faqAIHallucinations:"What about AI hallucinations?",faqAIHallucinationsAnswer:`AI models can sometimes produce incorrect or fabricated information ("hallucinations"). NOFX mitigates this by: 1) Providing structured prompts with real market data; 2) Enforcing JSON output format for decisions; 3) Validating orders before execution. However, AI trading is experimental - always monitor decisions and don't rely solely on AI judgment.`,faqCompareAIModels:"How do I compare different AI models?",faqCompareAIModelsAnswer:"Create multiple traders with different AI models but same strategy/exchange. Run them simultaneously and compare on Competition page. Metrics to watch: ROI, win rate, Sharpe ratio, max drawdown. Alternatively, use Backtest Lab to test models against same historical data. The Debate Arena also shows how different models reason about the same situation.",faqHowToContribute:"How can I contribute to NOFX?",faqHowToContributeAnswer:'NOFX is open-source and welcomes contributions! Ways to contribute: 1) Code - fix bugs, add features (check GitHub Issues); 2) Documentation - improve guides, translate; 3) Bug Reports - report issues with details; 4) Feature Ideas - suggest improvements. Start with issues labeled "good first issue". All contributors may receive airdrop rewards.',faqPRGuidelines:"What are the PR guidelines?",faqPRGuidelinesAnswer:'PR Process: 1) Fork repo to your account; 2) Create feature branch from dev: "git checkout -b feat/your-feature"; 3) Make changes, run lint: "npm --prefix web run lint"; 4) Commit with Conventional Commits format; 5) Push and create PR to NoFxAiOS/nofx:dev; 6) Reference related issue (Closes #123); 7) Wait for review. Keep PRs small and focused.',faqBountyProgram:"Is there a bounty program?",faqBountyProgramAnswer:'Yes! Contributors receive airdrop rewards based on contributions: Code commits (highest weight), bug fixes, feature suggestions, documentation. Issues with "bounty" label have cash rewards. After completing work, submit a Bounty Claim. Check CONTRIBUTING.md for details on the reward structure.',faqReportBugs:"How do I report bugs?",faqReportBugsAnswer:"For bugs: Open a GitHub Issue with: 1) Clear description of the problem; 2) Steps to reproduce; 3) Expected vs actual behavior; 4) System info (OS, Docker version, browser); 5) Relevant logs. For SECURITY vulnerabilities: Do NOT open public issues - DM @Web3Tinkle on Twitter instead.",environmentCheck:{button:"Check Secure Environment",checking:"Checking...",description:"Automatically verifying whether this browser context allows Web Crypto before entering sensitive keys.",secureTitle:"Secure context detected",secureDesc:"Web Crypto API is available. You can continue entering secrets with encryption enabled.",insecureTitle:"Insecure context detected",insecureDesc:"This page is not running over HTTPS or a trusted localhost origin, so browsers block Web Crypto calls.",tipsTitle:"How to fix:",tipHTTPS:"Serve the dashboard over HTTPS with a valid certificate (IP origins also need TLS).",tipLocalhost:"During development, open the app via http://localhost or 127.0.0.1.",tipIframe:"Avoid embedding the app in insecure HTTP iframes or reverse proxies that strip HTTPS.",unsupportedTitle:"Browser does not expose Web Crypto",unsupportedDesc:"Open NOFX over HTTPS (or http://localhost during development) and avoid insecure iframes/reverse proxies so the browser can enable Web Crypto.",summary:"Current origin: {origin}  Protocol: {protocol}",disabledTitle:"Transport encryption disabled",disabledDesc:"Server-side transport encryption is disabled. API keys will be transmitted in plaintext. Enable TRANSPORT_ENCRYPTION=true for enhanced security."},environmentSteps:{checkTitle:"1. Environment check",selectTitle:"2. Select exchange"},twoStageKey:{title:"Two-Stage Private Key Input",stage1Description:"Enter the first {length} characters of your private key",stage2Description:"Enter the remaining {length} characters of your private key",stage1InputLabel:"First Part",stage2InputLabel:"Second Part",characters:"characters",processing:"Processing...",nextButton:"Next",cancelButton:"Cancel",backButton:"Back",encryptButton:"Encrypt & Submit",obfuscationCopied:"Obfuscation data copied to clipboard",obfuscationInstruction:"Paste something else to clear clipboard, then continue",obfuscationManual:"Manual obfuscation required"},errors:{privatekeyIncomplete:"Please enter at least {expected} characters",privatekeyInvalidFormat:"Invalid private key format (should be 64 hex characters)",privatekeyObfuscationFailed:"Clipboard obfuscation failed"},positionHistory:{title:"Position History",loading:"Loading position history...",noHistory:"No Position History",noHistoryDesc:"Closed positions will appear here after trading.",showingPositions:"Showing {count} of {total} positions",totalPnL:"Total P&L",totalTrades:"Total Trades",winLoss:"Win: {win} / Loss: {loss}",winRate:"Win Rate",profitFactor:"Profit Factor",profitFactorDesc:"Total Profit / Total Loss",plRatio:"P/L Ratio",plRatioDesc:"Avg Win / Avg Loss",sharpeRatio:"Sharpe Ratio",sharpeRatioDesc:"Risk-adjusted Return",maxDrawdown:"Max Drawdown",avgWin:"Avg Win",avgLoss:"Avg Loss",netPnL:"Net P&L",netPnLDesc:"After Fees",fee:"Fee",trades:"Trades",avgPnL:"Avg P&L",symbolPerformance:"Symbol Performance",symbol:"Symbol",allSymbols:"All Symbols",side:"Side",all:"All",sort:"Sort",latestFirst:"Latest First",oldestFirst:"Oldest First",highestPnL:"Highest P&L",lowestPnL:"Lowest P&L",entry:"Entry",exit:"Exit",qty:"Qty",value:"Value",lev:"Lev",pnl:"P&L",duration:"Duration",closedAt:"Closed At"},debatePage:{title:"Market Debate Arena",subtitle:"Watch AI models debate market conditions and reach consensus",newDebate:"New Debate",noDebates:"No debates yet",createFirst:"Create your first debate to get started",selectDebate:"Select a debate to view details",createDebate:"Create Debate",creating:"Creating...",debateName:"Debate Name",debateNamePlaceholder:"e.g., BTC Bull or Bear?",tradingPair:"Trading Pair",strategy:"Strategy",selectStrategy:"Select a strategy",maxRounds:"Max Rounds",autoExecute:"Auto Execute",autoExecuteHint:"Automatically execute the consensus trade",participants:"Participants",addParticipant:"Add AI Participant",noModels:"No AI models available",atLeast2:"Add at least 2 participants",personalities:{bull:"Aggressive Bull",bear:"Cautious Bear",analyst:"Data Analyst",contrarian:"Contrarian",risk_manager:"Risk Manager"},status:{pending:"Pending",running:"Running",voting:"Voting",completed:"Completed",cancelled:"Cancelled"},actions:{start:"Start Debate",starting:"Starting...",cancel:"Cancel",delete:"Delete",execute:"Execute Trade"},round:"Round",roundOf:"Round {current} of {max}",messages:"Messages",noMessages:"No messages yet",waitingStart:"Waiting for debate to start...",votes:"Votes",consensus:"Consensus",finalDecision:"Final Decision",confidence:"Confidence",votesCount:"{count} votes",decision:{open_long:"Open Long",open_short:"Open Short",close_long:"Close Long",close_short:"Close Short",hold:"Hold",wait:"Wait"},messageTypes:{analysis:"Analysis",rebuttal:"Rebuttal",vote:"Vote",summary:"Summary"}}},zh:{appTitle:"OpenTrade",subtitle:"A AI ",aiTraders:"AI",details:"",tradingPanel:"",competition:"",backtest:"",running:"",stopped:"",adminMode:"",logout:"",switchTrader:":",view:"",realtimeNav:"",configNav:"",dashboardNav:"",strategyNav:"",debateNav:"",faqNav:"",footerTitle:"OpenTrade - ",footerWarning:"",totalEquity:"",availableBalance:"",totalPnL:"",positions:"",margin:"",free:"",currentPositions:"",active:"",symbol:"",side:"",entryPrice:"",stopLoss:"",takeProfit:"",riskReward:"",markPrice:"",quantity:"",positionValue:"",leverage:"",unrealizedPnL:"",liqPrice:"",long:"",short:"",noPositions:"",noActivePositions:"",recentDecisions:"",lastCycles:" {count} ",noDecisionsYet:"",aiDecisionsWillAppear:"AI",cycle:"",success:"",failed:"",inputPrompt:"",aiThinking:" AI",aiCommentary:" ",collapse:" ",expand:" ",accountEquityCurve:"",noHistoricalData:"",dataWillAppear:"",initialBalance:"",currentEquity:"",historicalCycles:"",displayRange:"",recent:"",allData:"",cycles:"",comparisonMode:"",dataPoints:"",currentGap:"",count:"{count} ",marketChart:"",viewChart:"",enterSymbol:"...",popularSymbols:"",fullscreen:"",exitFullscreen:"",backtestPage:{title:"",subtitle:" AI ",start:"",starting:"...",quickRanges:{h24:"24",d3:"3",d7:"7"},actions:{pause:"",resume:"",stop:""},states:{running:"",paused:"",completed:"",failed:"",liquidated:""},form:{aiModelLabel:"AI ",selectAiModel:"AI",providerLabel:"Provider",statusLabel:"",enabled:"",disabled:"",noModelWarning:"AI",runIdLabel:"Run ID",runIdPlaceholder:"",decisionTfLabel:"",cadenceLabel:"",timeRangeLabel:"",symbolsLabel:"",customTfPlaceholder:" 2h,6h",initialBalanceLabel:" (USDT)",feeLabel:" (bps)",slippageLabel:" (bps)",btcEthLeverageLabel:"BTC/ETH  ()",altcoinLeverageLabel:" ()",fillPolicies:{nextOpen:"",barVwap:"K VWAP",midPrice:""},promptPresets:{baseline:"",aggressive:"",conservative:"",scalping:""},cacheAiLabel:"AI",replayOnlyLabel:"",overridePromptLabel:"",customPromptLabel:"",customPromptPlaceholder:""},runList:{title:"",count:" {count} "},filters:{allStates:"",searchPlaceholder:"Run ID / "},tableHeaders:{runId:"Run ID",label:"",state:"",progress:"",equity:"",lastError:"",updated:""},emptyStates:{noRuns:"",selectRun:""},detail:{tfAndSymbols:": {tf}   {count}",labelPlaceholder:"",saveLabel:"",deleteLabel:"",exportLabel:"",errorLabel:""},toasts:{selectModel:"AI",modelDisabled:"AI {name} ",invalidRange:"",startSuccess:" {id} ",startFailed:"",actionSuccess:"{action} {id} ",actionFailed:"",labelSaved:"",labelFailed:"",confirmDelete:" {id} ",deleteSuccess:"",deleteFailed:"",traceFailed:"AI",exportSuccess:" {id} ",exportFailed:""},aiTrace:{title:"AI ",clear:"",cyclePlaceholder:"",fetch:"",prompt:"",cot:"",output:"",cycleTag:" #{cycle}"},decisionTrail:{title:"AI ",subtitle:" {count} ",empty:"",emptyHint:" AI "},charts:{equityTitle:"",equityEmpty:""},metrics:{title:"",totalReturn:" %",maxDrawdown:" %",sharpe:"",profitFactor:"",pending:"...",realized:"",unrealized:""},trades:{title:"",headers:{time:"",symbol:"",action:"",qty:"",leverage:"",pnl:""},empty:""},metadata:{title:"",created:"",updated:"",processedBars:"K",maxDrawdown:"",liquidated:"",yes:"",no:""}},aiCompetition:"AI",traders:"",liveBattle:"",realTimeBattle:"",leader:"",leaderboard:"",live:"",realTime:"",performanceComparison:"",realTimePnL:"",realTimePnLPercent:"",headToHead:"",leadingBy:" {gap}%",behindBy:" {gap}%",equity:"",pnl:"",pos:"",manageAITraders:"AI",aiModels:"AI",exchanges:"",createTrader:"",modelConfiguration:"",configured:"",notConfigured:"",currentTraders:"",noTraders:"AI",createFirstTrader:"AI",dashboardEmptyTitle:"",dashboardEmptyDescription:" AI  AI ",goToTradersPage:"",configureModelsFirst:"AI",configureExchangesFirst:"",configureModelsAndExchangesFirst:"AI",modelNotConfigured:"",exchangeNotConfigured:"",confirmDeleteTrader:"",status:"",start:"",stop:"",createNewTrader:"AI",selectAIModel:"AI",selectExchange:"",traderName:"",enterTraderName:"",cancel:"",create:"",configureAIModels:"AI",configureExchanges:"",aiScanInterval:"AI  ()",scanIntervalRecommend:": 3-10",useTestnet:"",enabled:"",save:"",fetchBalanceEditModeOnly:"",balanceFetched:"",balanceFetchFailed:"",balanceFetchNetworkError:"",saving:"",saveSuccess:"",saveFailed:"",editTraderConfig:"",selectStrategyAndConfigParams:"",basicConfig:"",traderNameRequired:" *",enterTraderNamePlaceholder:"",aiModelRequired:"AI *",exchangeRequired:" *",noExchangeAccount:"",discount:"",selectTradingStrategy:"",useStrategy:"",noStrategyManual:"--  --",activeSuffix:" ()",default:" []",noStrategyHint:"",strategyDetails:"",activating:"",coinSource:"",marginLimit:"",tradingParams:"",marginMode:"",crossMargin:"",isolatedMargin:"",competitionDisplay:"",show:"",hide:"",hiddenInCompetition:"",initialBalanceLabel:" ($)",fetching:"...",fetchCurrentBalance:"",balanceUpdateHint:"/",autoFetchBalanceInfo:"",fetchingBalance:"",editTrader:"",createTraderButton:"",officialAPI:"API",customAPI:"API",apiKey:"API",customAPIURL:"API",enterAPIKey:"API",enterCustomAPIURL:"API",useOfficialAPI:"API",useCustomAPI:"API",secretKey:"",privateKey:"",walletAddress:"",user:"",signer:"",passphrase:"",enterSecretKey:"",enterPrivateKey:"",enterWalletAddress:"",enterUser:"",enterSigner:"",enterPassphrase:"Passphrase",hyperliquidPrivateKeyDesc:"Hyperliquid ",hyperliquidWalletAddressDesc:"",hyperliquidAgentWalletTitle:"Hyperliquid ",hyperliquidAgentWalletDesc:"~0",hyperliquidAgentPrivateKey:"",enterHyperliquidAgentPrivateKey:"",hyperliquidAgentPrivateKeyDesc:"",hyperliquidMainWalletAddress:"",enterHyperliquidMainWalletAddress:"",hyperliquidMainWalletAddressDesc:"",asterApiProTitle:"Aster API Pro ",asterApiProDesc:" API Pro ",asterUserDesc:" -  Aster  EVM  EVM ",asterSignerDesc:"API Pro  (0x...) -  https://www.asterdex.com/zh-CN/api-wallet ",asterPrivateKeyDesc:"API Pro  -  https://www.asterdex.com/zh-CN/api-wallet ",asterUsdtWarning:"Aster  USDT  USDT BNBETH",asterUserLabel:"",asterSignerLabel:"API Pro ",asterPrivateKeyLabel:"API Pro ",enterAsterUser:" (0x...)",enterAsterSigner:" API Pro  (0x...)",enterAsterPrivateKey:" API Pro ",lighterWalletAddress:"L1 ",lighterPrivateKey:"L1 ",lighterApiKeyPrivateKey:"API Key ",enterLighterWalletAddress:"0x...",enterLighterPrivateKey:" L1 32 ",enterLighterApiKeyPrivateKey:" API Key 40 ",lighterWalletAddressDesc:"",lighterPrivateKeyDesc:"L1 32  ECDSA ",lighterApiKeyPrivateKeyDesc:"API Key 40  Poseidon2 ",lighterApiKeyOptionalNote:" API Key V1 ",lighterV1Description:" - ",lighterV2Description:" -  Poseidon2 ",lighterPrivateKeyImported:"LIGHTER ",hyperliquidExchangeName:"Hyperliquid",asterExchangeName:"Aster DEX",secureInputButton:"",secureInputReenter:"",secureInputClear:"",secureInputHint:'""',twoStageModalTitle:"",twoStageModalDescription:" {length} ",twoStageStage1Title:"  ",twoStageStage1Placeholder:" 32  0x ",twoStageStage1Hint:"",twoStageStage1Error:"",twoStageNext:"",twoStageProcessing:"",twoStageCancel:"",twoStageStage2Title:"  ",twoStageStage2Placeholder:"",twoStageStage2Hint:"",twoStageClipboardSuccess:"",twoStageClipboardReminder:"",twoStageClipboardManual:"",twoStageBack:"",twoStageSubmit:"",twoStageInvalidFormat:" {length}  0x ",testnetDescription:",",securityWarning:"",saveConfiguration:"",positionMode:"",crossMarginMode:"",isolatedMarginMode:"",crossMarginDescription:"",isolatedMarginDescription:"",leverageConfiguration:"",btcEthLeverage:"BTC/ETH",altcoinLeverage:"",leverageRecommendation:"BTC/ETH 5-10 3-5",tradingSymbols:"",tradingSymbolsPlaceholder:"BTCUSDT,ETHUSDT,SOLUSDT",selectSymbols:"",selectTradingSymbols:"",selectedSymbolsCount:" {count} ",clearSelection:"",confirmSelection:"",tradingSymbolsDescription:" = USDTBTCUSDT, ETHUSDT",btcEthLeverageValidation:"BTC/ETH1-50",altcoinLeverageValidation:"1-20",invalidSymbolFormat:"{symbol}USDT",systemPromptTemplate:"",promptTemplateDefault:"",promptTemplateAdaptive:"",promptTemplateAdaptiveRelaxed:"",promptTemplateHansen:"Hansen ",promptTemplateNof1:"NoF1 ",promptTemplateTaroLong:"Taro ",promptDescDefault:" ",promptDescDefaultContent:"",promptDescAdaptive:"  (v6.0.0)",promptDescAdaptiveContent:"BTC ",promptDescAdaptiveRelaxed:"  (v6.0.0)",promptDescAdaptiveRelaxedContent:"BTC ",promptDescHansen:" Hansen ",promptDescHansenContent:"Hansen ",promptDescNof1:" NoF1 ",promptDescNof1Content:"Hyperliquid ",promptDescTaroLong:" Taro ",promptDescTaroLongContent:"",loading:"...",inUse:"",noModelsConfigured:"AI",noExchangesConfigured:"",signalSource:"",signalSourceConfig:"",ai500Description:" AI500  API ",oiTopDescription:"API",information:"",signalSourceInfo1:" URL",signalSourceInfo2:" ",signalSourceInfo3:" URL",editAIModel:"AI",addAIModel:"AI",confirmDeleteModel:"AI",cannotDeleteModelInUse:"AI",tradersUsing:"",pleaseDeleteTradersFirst:"",selectModel:"AI",pleaseSelectModel:"",customBaseURL:"Base URL ()",customBaseURLPlaceholder:"APIURL: https://api.openai.com/v1",leaveBlankForDefault:"API",modelConfigInfo1:"  API  API Key",modelConfigInfo2:"  Base URL  Model Name ",modelConfigInfo3:" API Key ",defaultModel:"",applyApiKey:" API Key",kimiApiNote:"Kimi  API Key (moonshot.ai) Key ",leaveBlankForDefaultModel:"",customModelName:"Model Name ()",customModelNamePlaceholder:": deepseek-chat, qwen3-max, gpt-4o",saveConfig:"",editExchange:"",addExchange:"",confirmDeleteExchange:"",cannotDeleteExchangeInUse:"",pleaseSelectExchange:"",exchangeConfigWarning1:" API",exchangeConfigWarning2:" ",exchangeConfigWarning3:" ",edit:"",viewGuide:"",binanceSetupGuide:"",closeGuide:"",whitelistIP:"IP",whitelistIPDesc:"IP",serverIPAddresses:"IP",copyIP:"",ipCopied:"IP",copyIPFailed:"IP",loadingServerIP:"IP...",createTraderFailed:"",getTraderConfigFailed:"",modelConfigNotExist:"AI",exchangeConfigNotExist:"",updateTraderFailed:"",deleteTraderFailed:"",operationFailed:"",deleteConfigFailed:"",modelNotExist:"",saveConfigFailed:"",exchangeNotExist:"",deleteExchangeConfigFailed:"",saveSignalSourceFailed:"",encryptionFailed:"",login:"",register:"",username:"",email:"",password:"",confirmPassword:"",usernamePlaceholder:"",emailPlaceholder:"",passwordPlaceholder:"6",confirmPasswordPlaceholder:"",passwordRequirements:"",passwordRuleMinLength:" 8 ",passwordRuleUppercase:" 1 ",passwordRuleLowercase:" 1 ",passwordRuleNumber:" 1 ",passwordRuleSpecial:" 1 @#$%!&*?",passwordRuleMatch:"",passwordNotMeetRequirements:"",otpPlaceholder:"000000",loginTitle:"",registerTitle:"",loginButton:"",registerButton:"",back:"",noAccount:"",hasAccount:"",registerNow:"",loginNow:"",forgotPassword:"",rememberMe:"",resetPassword:"",resetPasswordTitle:"",newPassword:"",newPasswordPlaceholder:"6",resetPasswordButton:"",resetPasswordSuccess:"",resetPasswordFailed:"",backToLogin:"",otpCode:"OTP",scanQRCode:"",enterOTPCode:"6OTP",verifyOTP:"OTP",setupTwoFactor:"",setupTwoFactorDesc:"Google",scanQRCodeInstructions:"Google AuthenticatorAuthy",otpSecret:"",qrCodeHint:"",authStep1Title:"1Google Authenticator",authStep1Desc:"Google Authenticator",authStep2Title:"2",authStep2Desc:"+",authStep3Title:"3",authStep3Desc:"6",setupCompleteContinue:"",copy:"",completeRegistration:"",completeRegistrationSubtitle:"",loginSuccess:"",registrationSuccess:"",loginFailed:"",registrationFailed:"",verificationFailed:"OTP ",sessionExpired:"",invalidCredentials:"",weak:"",medium:"",strong:"",passwordStrength:"",passwordStrengthHint:"8",passwordMismatch:"",emailRequired:"",passwordRequired:"",invalidEmail:"",passwordTooShort:"6",features:"",howItWorks:"",community:"",language:"",loggedInAs:"",exitLogin:"",signIn:"",signUp:"",registrationClosed:"",registrationClosedMessage:"",githubStarsInDays:"3  2.5K+ GitHub Stars",heroTitle1:"Read the Market.",heroTitle2:"Write the Trade.",heroDescription:"NOFX  AI  BinanceAster DEX  AI ",poweredBy:" Aster DEX  Binance ",readyToDefine:" AI ",startWithCrypto:" TradFiNOFX  AgentFi ",getStartedNow:"",viewSourceCode:"",coreFeatures:"",whyChooseNofx:" NOFX",openCommunityDriven:" AI ",openSourceSelfHosted:"100% ",openSourceDesc:"",openSourceFeatures1:"",openSourceFeatures2:"",openSourceFeatures3:" AI ",openSourceFeatures4:"DeepSeekQwen",multiAgentCompetition:"",multiAgentDesc:"AI ",multiAgentFeatures1:" AI ",multiAgentFeatures2:"",multiAgentFeatures3:"",multiAgentFeatures4:"",secureReliableTrading:"",secureDesc:"",secureFeatures1:"",secureFeatures2:"API ",secureFeatures3:"",secureFeatures4:"",aboutNofx:" NOFX",whatIsNofx:" NOFX",nofxNotAnotherBot:"NOFX  AI  'Linux' ",nofxDescription1:" OS '--'",nofxDescription2:"",nofxDescription3:"24/7AI",nofxDescription4:"CodeFi  PR",nofxDescription5:"",youFullControl:" 100% ",fullControlDesc:" AI ",startupMessages1:"...",startupMessages2:"API 8080",startupMessages3:"Web  http://127.0.0.1:3000",howToStart:" NOFX",fourSimpleSteps:" AI ",step1Title:" GitHub ",step1Desc:"git clone https://github.com/NoFxAiOS/nofx  dev ",step2Title:"",step2Desc:" API BinanceHyperliquidAI ",step3Title:"",step3Desc:" Docker  AI ",step4Title:"",step4Desc:" PR  Telegram ",importantRiskWarning:"",riskWarningText:"dev NOFX ",futureStandardAI:"AI ",links:"",resources:"",documentation:"",supporters:"",strategicInvestment:"()",accessNofxPlatform:" NOFX ",loginRegisterPrompt:" AI ",registerNewAccount:"",candidateCoins:"",candidateCoinsZeroWarning:" 0",possibleReasons:"",ai500ApiNotConfigured:"AI500  API ",apiConnectionTimeout:"API",noCustomCoinsAndApiFailed:"API",solutions:"",setCustomCoinsInConfig:"",orConfigureCorrectApiUrl:" API ",orDisableAI500Options:'" AI500 "" OI Top"',signalSourceNotConfigured:"",signalSourceWarningMessage:'" AI500 "" OI Top" API  0',configureSignalSourceNow:"",faqTitle:"",faqSubtitle:" NOFX ",faqStillHaveQuestions:"",faqContactUs:" GitHub ",faqCategoryGettingStarted:"",faqCategoryInstallation:"",faqCategoryConfiguration:"",faqCategoryTrading:"",faqCategoryTechnicalIssues:"",faqCategorySecurity:"",faqCategoryFeatures:"",faqCategoryAIModels:"AI ",faqCategoryContributing:"",faqWhatIsNOFX:"NOFX ",faqWhatIsNOFXAnswer:"NOFX  AI LLM DeepSeekGPTClaudeGemini  AI  AI ",faqHowDoesItWork:"NOFX ",faqHowDoesItWorkAnswer:'NOFX  5 1 AI  API 23"" AI  +  + 4 - //5AI Chain of Thought',faqIsProfitable:"NOFX ",faqIsProfitableAnswer:"AI NOFX 10-50 USDT",faqSupportedExchanges:"",faqSupportedExchangesAnswer:"CEXBybitOKXBitgetDEXHyperliquidAster DEXLighter - Hyperliquid  KYC",faqSupportedAIModels:" AI ",faqSupportedAIModelsAnswer:"NOFX  7+  AI DeepSeekOpenAIGPT-5.2Anthropic ClaudeGoogle GeminixAI GrokKimi OpenAI  API  - DeepSeek OpenAI Claude ",faqSystemRequirements:"",faqSystemRequirementsAnswer:"2  CPU2GB 1GB 4GB LinuxmacOS  Windows Docker  WSL2Docker  Go 1.21+Node.js 18+  TA-Lib ",faqHowToInstall:" NOFX",faqHowToInstallAnswer:'Linux/macOS "curl -fsSL https://raw.githubusercontent.com/NoFxAiOS/nofx/main/install.sh | bash" -  Docker  http://127.0.0.1:3000 README ',faqWindowsInstallation:"Windows ",faqWindowsInstallationAnswer:'1Docker Desktop-  Docker Desktop PowerShell  "docker compose -f docker-compose.prod.yml up -d"2WSL2 -  Windows  Linux Linux 3WSL2 + Docker -  WSL2  http://127.0.0.1:3000 ',faqDockerDeployment:"Docker ",faqDockerDeploymentAnswer:'1 Docker "docker info"2 2GB3 "go build""docker compose down && docker compose build --no-cache && docker compose up -d"4"docker compose logs -f"5 daemon.json  Docker ',faqManualInstallation:"",faqManualInstallationAnswer:'Go 1.21+Node.js 18+TA-Lib1"git clone https://github.com/NoFxAiOS/nofx.git"2"go mod download"3"cd web && npm install"4"go build -o nofx"5"./nofx"6"cd web && npm run dev" http://127.0.0.1:3000',faqServerDeployment:"",faqServerDeploymentAnswer:' -  IP http://IP:3000  HTTPS1 Cloudflare-  A  IPSSL ""2 .env  TRANSPORT_ENCRYPTION=true 3 https://.com ',faqUpdateNOFX:" NOFX",faqUpdateNOFXAnswer:'Docker  "docker compose pull && docker compose up -d"  "git pull && go build -o nofx" "cd web && npm install && npm run build"data.db ',faqConfigureAIModels:" AI ",faqConfigureAIModelsAnswer:"  AI 1 API 2 API 3 URL 4API ",faqConfigureExchanges:"",faqConfigureExchangesAnswer:'  ""CEX/Bybit/OKX API Key + Secret KeyOKX  PassphraseDEXHyperliquid/Aster/Lighter IP ',faqBinanceAPISetup:" API",faqBinanceAPISetupAnswer:'1  API  API 2""3 IP 4    5-4061 ',faqHyperliquidSetup:" Hyperliquid",faqHyperliquidSetupAnswer:"Hyperliquid 1 app.hyperliquid.xyz23 API 45 NOFX  Hyperliquid  KYC",faqCreateStrategy:"",faqCreateStrategyAnswer:"1 - AI500  OI 2 - EMAMACDRSIATROI3 - 4-  AI ",faqCreateTrader:"",faqCreateTraderAnswer:'1""2 AI 345 5 6""',faqHowAIDecides:"AI ",faqHowAIDecidesAnswer:"AI CoT 4 1 - 2 - 3 - 4 - //",faqDecisionFrequency:"AI ",faqDecisionFrequencyAnswer:' 3-5 1-2 = 30+ =  5  15-30 AI ""',faqNoTradesExecuting:"",faqNoTradesExecutingAnswer:"1AI 2334 API 5   AI ",faqOnlyShortPositions:" AI ",faqOnlyShortPositionsAnswer:"    AI ",faqLeverageSettings:"",faqLeverageSettingsAnswer:"  BTC/ETH  5-20  3-10  =  5 AI ",faqStopLossTakeProfit:"NOFX ",faqStopLossTakeProfitAnswer:"AI /AI ",faqMultipleTraders:"",faqMultipleTradersAnswer:"NOFX  20+ AI  A/B  AI ",faqAICosts:"AI API ",faqAICostsAnswer:"5 DeepSeek$0.10-0.50Qwen$0.20-0.80OpenAI$2-5Claude$1-3 token DeepSeek ",faqPortInUse:" 8080  3000 ",faqPortInUseAnswer:'macOS/Linux  "lsof -i :8080"Windows  "netstat -ano | findstr 8080" .env NOFX_BACKEND_PORT=8081NOFX_FRONTEND_PORT=3001 "docker compose down && docker compose up -d" ',faqFrontendNotLoading:'"..."',faqFrontendNotLoadingAnswer:'1"curl http://127.0.0.1:8080/api/health"  {"status":"ok"}2"docker compose ps" 3"docker compose logs nofx-backend"4 8080 ',faqDatabaseLocked:"",faqDatabaseLockedAnswer:' SQLite 1"docker compose down"  "pkill nofx"2"rm -f data/data.db-wal data/data.db-shm"3"docker compose up -d"',faqTALibNotFound:" TA-Lib",faqTALibNotFoundAnswer:'TA-Lib macOS"brew install ta-lib"Ubuntu/Debian"sudo apt-get install libta-lib0-dev"CentOS"yum install ta-lib-devel""go build -o nofx"Docker  TA-Lib',faqAIAPITimeout:"AI API ",faqAIAPITimeoutAnswer:"1API  curl 2 API ping/curl3API 4VPN/5 120 ",faqBinancePositionMode:" -4061",faqBinancePositionModeAnswer:`"Order's position side does not match user's setting" NOFX 12       ""3`,faqBalanceShowsZero:" 0",faqBalanceShowsZeroAnswer:"1    2 USDT 3 NOFX /",faqDockerPullFailed:"Docker ",faqDockerPullFailedAnswer:'Docker Hub 1 /etc/docker/daemon.json  Docker {"registry-mirrors": ["https://mirror.gcr.io"]}2 Docker3 GitHub Container Registryghcr.io',faqAPIKeyStorage:"API ",faqAPIKeyStorageAnswer:"API  AES-256-GCM  SQLite DATA_ENCRYPTION_KEY .env  API  data.db  .env ",faqEncryptionDetails:"NOFX ",faqEncryptionDetailsAnswer:"NOFX 1AES-256-GCM API 2RSA-2048 3JWT HTTPS  TRANSPORT_ENCRYPTION=true",faqSecurityBestPractices:"",faqSecurityBestPracticesAnswer:"1 IP  API 2 NOFX 3 TRANSPORT_ENCRYPTION4 .env  data.db 5 HTTPS6 API 7",faqCanNOFXStealFunds:"NOFX ",faqCanNOFXStealFundsAnswer:"NOFX AGPL-3.0 -  GitHub API NOFX  API  API  IP ",faqStrategyStudio:"",faqStrategyStudioAnswer:"1 - AI500 OI 2 - EMAMACDRSIATR3 - 4 - AI ",faqBacktestLab:"",faqBacktestLabAnswer:"1 AI 234 AI ",faqDebateArena:"",faqDebateArenaAnswer:" AI 1 2-5  AI 234",faqCompetitionMode:"",faqCompetitionModeAnswer:'ROI A/B  AI ""',faqChainOfThought:"CoT",faqChainOfThoughtAnswer:" AI AI  4 1234 AI ",faqWhichAIModelBest:" AI ",faqWhichAIModelBestAnswer:"DeepSeek  $0.10-0.50OpenAI  $2-5Claude Qwen ",faqCustomAIAPI:" AI API ",faqCustomAIAPIAnswer:"NOFX  OpenAI  API  AI    API 1 API  URL https://your-api.com/v12 API 3 Claude",faqAIHallucinations:"AI ",faqAIHallucinationsAnswer:'AI ""NOFX 12 JSON 3 AI  -  AI ',faqCompareAIModels:" AI ",faqCompareAIModelsAnswer:" AI /ROI",faqHowToContribute:" NOFX ",faqHowToContributeAnswer:'NOFX 1 -  bug GitHub Issues2 - 3Bug  - 4 - "good first issue"',faqPRGuidelines:"PR ",faqPRGuidelinesAnswer:'PR 1Fork 2 dev "git checkout -b feat/your-feature"3 lint"npm --prefix web run lint"4 Conventional Commits 5 PR  NoFxAiOS/nofx:dev6 issueCloses #1237 PR ',faqBountyProgram:"",faqBountyProgramAnswer:'bug "bounty" issue  Bounty Claim CONTRIBUTING.md ',faqReportBugs:" bug",faqReportBugsAnswer:"Bug  GitHub  Issue123 vs 4OSDocker 5 issue -  Twitter  @Web3Tinkle",environmentCheck:{button:"",checking:"...",description:" Web Crypto",secureTitle:" Web Crypto",secureDesc:"",insecureTitle:"",insecureDesc:" HTTPS  localhost Web Crypto ",tipsTitle:"",tipHTTPS:" HTTPS  IP  TLS ",tipLocalhost:" http://localhost  127.0.0.1",tipIframe:" HTTP iframe ",unsupportedTitle:" Web Crypto",unsupportedDesc:" HTTPS  localhost  NOFX iframe/ Web Crypto ",summary:"{origin}  {protocol}",disabledTitle:"",disabledDesc:"API  TRANSPORT_ENCRYPTION=true"},environmentSteps:{checkTitle:"1. ",selectTitle:"2. "},twoStageKey:{title:"",stage1Description:" {length} ",stage2Description:" {length} ",stage1InputLabel:"",stage2InputLabel:"",characters:"",processing:"...",nextButton:"",cancelButton:"",backButton:"",encryptButton:"",obfuscationCopied:"",obfuscationInstruction:"",obfuscationManual:""},errors:{privatekeyIncomplete:" {expected} ",privatekeyInvalidFormat:"64",privatekeyObfuscationFailed:""},positionHistory:{title:"",loading:"...",noHistory:"",noHistoryDesc:"",showingPositions:" {count} / {total} ",totalPnL:"",totalTrades:"",winLoss:": {win} / : {loss}",winRate:"",profitFactor:"",profitFactorDesc:" / ",plRatio:"",plRatioDesc:" / ",sharpeRatio:"",sharpeRatioDesc:"",maxDrawdown:"",avgWin:"",avgLoss:"",netPnL:"",netPnLDesc:"",fee:"",trades:"",avgPnL:"",symbolPerformance:"",symbol:"",allSymbols:"",side:"",all:"",sort:"",latestFirst:"",oldestFirst:"",highestPnL:"",lowestPnL:"",entry:"",exit:"",qty:"",value:"",lev:"",pnl:"",duration:"",closedAt:""},debatePage:{title:"",subtitle:"AI",newDebate:"",noDebates:"",createFirst:"",selectDebate:"",createDebate:"",creating:"...",debateName:"",debateNamePlaceholder:"BTC",tradingPair:"",strategy:"",selectStrategy:"",maxRounds:"",autoExecute:"",autoExecuteHint:"",participants:"",addParticipant:"AI",noModels:"AI",atLeast2:"2",personalities:{bull:"",bear:"",analyst:"",contrarian:"",risk_manager:""},status:{pending:"",running:"",voting:"",completed:"",cancelled:""},actions:{start:"",starting:"...",cancel:"",delete:"",execute:""},round:"",roundOf:" {current} / {max} ",messages:"",noMessages:"",waitingStart:"...",votes:"",consensus:"",finalDecision:"",confidence:"",votesCount:"{count} ",decision:{open_long:"",open_short:"",close_long:"",close_short:"",hold:"",wait:""},messageTypes:{analysis:"",rebuttal:"",vote:"",summary:""}}}};function de(t,e,r){const n=t.split(".");let i=$ye[e];for(const a of n)i=i==null?void 0:i[a];let s=typeof i=="string"?i:t;return r&&Object.entries(r).forEach(([a,o])=>{s=s.replace(`{${a}}`,String(o))}),s}/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qye=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uye=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),aR=t=>{const e=Uye(t);return e.charAt(0).toUpperCase()+e.slice(1)},V$=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Vye=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hye=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>_.createElement("svg",{ref:l,...Wye,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:V$("lucide",i),...!s&&!Vye(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,f])=>_.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(t,e)=>{const r=_.forwardRef(({className:n,...i},s)=>_.createElement(Hye,{ref:s,iconNode:e,className:V$(`lucide-${qye(aR(t))}`,`lucide-${t}`,n),...i}));return r.displayName=aR(t),r};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kye=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],W$=Lt("arrow-left",Kye);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gye=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xye=Lt("arrow-right",Gye);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yye=[["path",{d:"M9 5v4",key:"14uxtq"}],["rect",{width:"4",height:"6",x:"7",y:"9",rx:"1",key:"f4fvz0"}],["path",{d:"M9 15v2",key:"r5rk32"}],["path",{d:"M17 3v2",key:"1l2re6"}],["rect",{width:"4",height:"8",x:"15",y:"5",rx:"1",key:"z38je5"}],["path",{d:"M17 13v3",key:"5l0wba"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}]],Jye=Lt("chart-candlestick",Yye);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qye=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],s7=Lt("chart-column",Qye);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zye=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],exe=Lt("chart-no-axes-column",Zye);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const txe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$S=Lt("chevron-down",txe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nxe=Lt("circle-question-mark",rxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ixe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sxe=Lt("dollar-sign",ixe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const axe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qf=Lt("eye-off",axe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oxe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zf=Lt("eye",oxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cxe=Lt("info",lxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uxe=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],dxe=Lt("key-round",uxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hxe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fxe=Lt("lock",hxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pxe=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],mxe=Lt("log-in",pxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gxe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],vxe=Lt("menu",gxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yxe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xxe=Lt("message-square",yxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bxe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],wxe=Lt("pause",bxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sxe=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],_xe=Lt("percent",Sxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nxe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Axe=Lt("play",Nxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Exe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],oR=Lt("rotate-ccw",Exe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cxe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kxe=Lt("search",Cxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jxe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Pxe=Lt("send",jxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Txe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mxe=Lt("settings",Txe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oxe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Rxe=Lt("shield-alert",Oxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ixe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Dxe=Lt("sparkles",Ixe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lxe=[["path",{d:"M10.029 4.285A2 2 0 0 0 7 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"1ystz2"}],["path",{d:"M3 4v16",key:"1ph11n"}]],zxe=Lt("step-forward",Lxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fxe=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Bxe=Lt("terminal",Fxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $xe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],H$=Lt("trending-down",$xe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qxe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qS=Lt("trending-up",qxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uxe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],K$=Lt("triangle-alert",Uxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vxe=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Lm=Lt("trophy",Vxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wxe=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Hxe=Lt("twitter",Wxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kxe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Gxe=Lt("user-plus",Kxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xxe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],a7=Lt("x",Xxe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yxe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Jxe=Lt("zap",Yxe);function Qxe({traderId:t,embedded:e=!1}){const{language:r}=bi(),[n,i]=_.useState("dollar"),s="CNY",{data:a,error:o,isLoading:l}=qr(t?`equity-history-${t}`:null,()=>It.getEquityHistory(t),{refreshInterval:3e4,revalidateOnFocus:!1,dedupingInterval:2e4}),{data:u}=qr(t?`account-${t}`:null,()=>It.getAccount(t),{refreshInterval:15e3,revalidateOnFocus:!1,dedupingInterval:1e4});if(l)return d.jsxs("div",{className:e?"p-6":"binance-card p-6",children:[!e&&d.jsx("h3",{className:"text-lg font-semibold mb-6",style:{color:"#EAECEF"},children:de("accountEquityCurve",r)}),d.jsx("div",{className:"animate-pulse",children:d.jsx("div",{className:"skeleton h-64 w-full rounded"})})]});if(o)return d.jsx("div",{className:e?"p-6":"binance-card p-6",children:d.jsxs("div",{className:"flex items-center gap-3 p-4 rounded",style:{background:"rgba(246, 70, 93, 0.1)",border:"1px solid rgba(246, 70, 93, 0.2)"},children:[d.jsx(K$,{className:"w-6 h-6",style:{color:"#F6465D"}}),d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold",style:{color:"#F6465D"},children:de("loadingError",r)}),d.jsx("div",{className:"text-sm",style:{color:"#848E9C"},children:o.message})]})]})});const f=(a==null?void 0:a.filter(A=>A.total_equity>1))||[];if(!f||f.length===0)return d.jsxs("div",{className:e?"p-6":"binance-card p-6",children:[!e&&d.jsx("h3",{className:"text-lg font-semibold mb-6",style:{color:"#EAECEF"},children:de("accountEquityCurve",r)}),d.jsxs("div",{className:"text-center py-16",style:{color:"#848E9C"},children:[d.jsx("div",{className:"mb-4 flex justify-center opacity-50",children:d.jsx(s7,{className:"w-16 h-16"})}),d.jsx("div",{className:"text-lg font-semibold mb-2",children:de("noHistoricalData",r)}),d.jsx("div",{className:"text-sm",children:de("dataWillAppear",r)})]})]});const p=2e3,m=f.length>p?f.slice(-p):f,v=(u==null?void 0:u.initial_balance)||(f[0]?f[0].total_equity-f[0].pnl:void 0)||1e3,y=m.map(A=>{const k=A.total_equity-v,E=(k/v*100).toFixed(2);return{time:new Date(A.timestamp).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),value:n==="dollar"?A.total_equity:parseFloat(E),cycle:A.cycle_number,raw_equity:A.total_equity,raw_pnl:k,raw_pnl_pct:parseFloat(E)}}),x=y[y.length-1],b=x.raw_pnl>=0,S=()=>{if(n==="percent"){const A=y.map(M=>M.value),k=Math.min(...A),E=Math.max(...A),j=Math.max(Math.abs(E),Math.abs(k)),T=Math.max(j*.2,1);return[Math.floor(k-T),Math.ceil(E+T)]}else{const A=y.map(M=>M.value),k=Math.min(...A,v),E=Math.max(...A,v),j=E-k,T=Math.max(j*.15,v*.01);return[Math.floor(k-T),Math.ceil(E+T)]}},N=({active:A,payload:k})=>{if(A&&k&&k.length){const E=k[0].payload;return d.jsxs("div",{className:"rounded p-3 shadow-xl",style:{background:"#1E2329",border:"1px solid #2B3139"},children:[d.jsxs("div",{className:"text-xs mb-1",style:{color:"#848E9C"},children:["Cycle #",E.cycle]}),d.jsxs("div",{className:"font-bold mono",style:{color:"#EAECEF"},children:[E.raw_equity.toFixed(2)," ",s]}),d.jsxs("div",{className:"text-sm mono font-bold",style:{color:E.raw_pnl>=0?"#0ECB81":"#F6465D"},children:[E.raw_pnl>=0?"+":"",E.raw_pnl.toFixed(2)," ",s," (",E.raw_pnl_pct>=0?"+":"",E.raw_pnl_pct,"%)"]})]})}return null};return d.jsxs("div",{className:e?"p-3 sm:p-5":"binance-card p-3 sm:p-5 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[d.jsxs("div",{className:"flex-1",children:[!e&&d.jsx("h3",{className:"text-base sm:text-lg font-bold mb-2",style:{color:"#EAECEF"},children:de("accountEquityCurve",r)}),d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-baseline gap-2 sm:gap-4",children:[d.jsxs("span",{className:"text-2xl sm:text-3xl font-bold mono",style:{color:"#EAECEF"},children:[(u==null?void 0:u.total_equity.toFixed(2))||"0.00",d.jsx("span",{className:"text-base sm:text-lg ml-1",style:{color:"#848E9C"},children:s})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsxs("span",{className:"text-sm sm:text-lg font-bold mono px-2 sm:px-3 py-1 rounded flex items-center gap-1",style:{color:b?"#0ECB81":"#F6465D",background:b?"rgba(14, 203, 129, 0.1)":"rgba(246, 70, 93, 0.1)",border:`1px solid ${b?"rgba(14, 203, 129, 0.2)":"rgba(246, 70, 93, 0.2)"}`},children:[b?d.jsx(qS,{className:"w-4 h-4"}):d.jsx(H$,{className:"w-4 h-4"}),b?"+":"",x.raw_pnl_pct,"%"]}),d.jsxs("span",{className:"text-xs sm:text-sm mono",style:{color:"#848E9C"},children:["(",b?"+":"",x.raw_pnl.toFixed(2)," ",s,")"]})]})]})]}),d.jsxs("div",{className:"flex gap-0.5 sm:gap-1 rounded p-0.5 sm:p-1 self-start sm:self-auto",style:{background:"#0B0E11",border:"1px solid #2B3139"},children:[d.jsxs("button",{onClick:()=>i("dollar"),className:"px-3 sm:px-4 py-1.5 sm:py-2 rounded text-xs sm:text-sm font-bold transition-all flex items-center gap-1",style:n==="dollar"?{background:"#F0B90B",color:"#000",boxShadow:"0 2px 8px rgba(240, 185, 11, 0.4)"}:{background:"transparent",color:"#848E9C"},children:[d.jsx(sxe,{className:"w-4 h-4"})," ",s]}),d.jsx("button",{onClick:()=>i("percent"),className:"px-3 sm:px-4 py-1.5 sm:py-2 rounded text-xs sm:text-sm font-bold transition-all flex items-center gap-1",style:n==="percent"?{background:"#F0B90B",color:"#000",boxShadow:"0 2px 8px rgba(240, 185, 11, 0.4)"}:{background:"transparent",color:"#848E9C"},children:d.jsx(_xe,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"my-2",style:{borderRadius:"8px",overflow:"hidden",position:"relative"},children:[d.jsx("div",{style:{position:"absolute",top:"15px",right:"15px",fontSize:"20px",fontWeight:"bold",color:"rgba(240, 185, 11, 0.15)",zIndex:10,pointerEvents:"none",fontFamily:"monospace"},children:"NOFX"}),d.jsx(EF,{width:"100%",height:280,children:d.jsxs(zye,{data:y,margin:{top:10,right:20,left:5,bottom:30},children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#F0B90B",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#FCD535",stopOpacity:.2})]})}),d.jsx(i7,{strokeDasharray:"3 3",stroke:"#2B3139"}),d.jsx(Rd,{dataKey:"time",stroke:"#5E6673",tick:{fill:"#848E9C",fontSize:11},tickLine:{stroke:"#2B3139"},interval:Math.floor(y.length/10),angle:-15,textAnchor:"end",height:60}),d.jsx(Id,{stroke:"#5E6673",tick:{fill:"#848E9C",fontSize:12},tickLine:{stroke:"#2B3139"},domain:S(),tickFormatter:A=>n==="dollar"?`${A.toFixed(0)}`:`${A}%`}),d.jsx(Cs,{content:d.jsx(N,{})}),d.jsx(N0,{y:n==="dollar"?v:0,stroke:"#474D57",strokeDasharray:"3 3",label:{value:n==="dollar"?de("initialBalance",r).split(" ")[0]:"0%",fill:"#848E9C",fontSize:12}}),d.jsx(Nc,{type:"natural",dataKey:"value",stroke:"url(#colorGradient)",strokeWidth:3,dot:y.length>50?!1:{fill:"#F0B90B",r:3},activeDot:{r:6,fill:"#FCD535",stroke:"#F0B90B",strokeWidth:2},connectNulls:!0})]})})]}),d.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 pt-3",style:{borderTop:"1px solid #2B3139"},children:[d.jsxs("div",{className:"p-2 rounded transition-all hover:bg-opacity-50",style:{background:"rgba(240, 185, 11, 0.05)"},children:[d.jsx("div",{className:"text-xs mb-1 uppercase tracking-wider",style:{color:"#848E9C"},children:de("initialBalance",r)}),d.jsxs("div",{className:"text-xs sm:text-sm font-bold mono",style:{color:"#EAECEF"},children:[v.toFixed(2)," ",s]})]}),d.jsxs("div",{className:"p-2 rounded transition-all hover:bg-opacity-50",style:{background:"rgba(240, 185, 11, 0.05)"},children:[d.jsx("div",{className:"text-xs mb-1 uppercase tracking-wider",style:{color:"#848E9C"},children:de("currentEquity",r)}),d.jsxs("div",{className:"text-xs sm:text-sm font-bold mono",style:{color:"#EAECEF"},children:[x.raw_equity.toFixed(2)," ",s]})]}),d.jsxs("div",{className:"p-2 rounded transition-all hover:bg-opacity-50",style:{background:"rgba(240, 185, 11, 0.05)"},children:[d.jsx("div",{className:"text-xs mb-1 uppercase tracking-wider",style:{color:"#848E9C"},children:de("historicalCycles",r)}),d.jsxs("div",{className:"text-xs sm:text-sm font-bold mono",style:{color:"#EAECEF"},children:[f.length," ",de("cycles",r)]})]}),d.jsxs("div",{className:"p-2 rounded transition-all hover:bg-opacity-50",style:{background:"rgba(240, 185, 11, 0.05)"},children:[d.jsx("div",{className:"text-xs mb-1 uppercase tracking-wider",style:{color:"#848E9C"},children:de("displayRange",r)}),d.jsx("div",{className:"text-xs sm:text-sm font-bold mono",style:{color:"#EAECEF"},children:f.length>p?`${de("recent",r)} ${p}`:de("allData",r)})]})]})]})}function Zxe(t,e){const r=[];for(let n=e-1;n<t.length;n++){let i=0;for(let s=0;s<e;s++)i+=t[n-s].close;r.push({time:t[n].time,value:i/e})}return r}function ebe(t,e){const r=[],n=2/(e+1);let i=0;for(let s=0;s<e;s++)i+=t[s].close;i=i/e,r.push({time:t[e-1].time,value:i});for(let s=e;s<t.length;s++)i=(t[s].close-i)*n+i,r.push({time:t[s].time,value:i});return r}function tbe(t,e=20,r=2){const n=[];for(let i=e-1;i<t.length;i++){let s=0;for(let u=0;u<e;u++)s+=t[i-u].close;const a=s/e;let o=0;for(let u=0;u<e;u++)o+=Math.pow(t[i-u].close-a,2);const l=Math.sqrt(o/e);n.push({time:t[i].time,upper:a+r*l,middle:a,lower:a-r*l})}return n}const rbe=t=>["alpaca"].includes(t)?"USD":["sim-cn","cn","ashare","a-share"].includes(t)?"CNY":["forex","metals"].includes(t)?"":"USDT",nbe=(t,e)=>["alpaca"].includes(t)||["sim-cn","cn","ashare","a-share"].includes(t)?"":["forex","metals"].includes(t)?"":e.replace(/USDT$|USD$|BUSD$/,"")||"",Q4=t=>t>=1e9?(t/1e9).toFixed(2)+"B":t>=1e6?(t/1e6).toFixed(2)+"M":t>=1e3?(t/1e3).toFixed(2)+"K":t.toFixed(2);function ibe({symbol:t="600519.SH",interval:e="5m",traderID:r,height:n=550,exchange:i="sim-cn",onSymbolChange:s}){var be,ae,we,fe;const o=(...Se)=>{},{language:l}=bi(),u=rbe(i),f=nbe(i,t),p=_.useRef(null),m=_.useRef(null),v=_.useRef(null),y=_.useRef(null),x=_.useRef(new Map),b=_.useRef(null),S=_.useRef([]),N=_.useRef(new Map),A=_.useRef([]),[k,E]=_.useState(!0),[j,T]=_.useState(null),[M,I]=_.useState(!1),[q,D]=_.useState(!0),L=_.useRef(!0),[V,K]=_.useState(null),Y=_.useRef(null),[J,te]=_.useState(null),[U,X]=_.useState([{id:"volume",name:"Volume",enabled:!0,color:"#3B82F6"},{id:"ma5",name:"MA5",enabled:!1,color:"#FF6B6B",params:{period:5}},{id:"ma10",name:"MA10",enabled:!1,color:"#4ECDC4",params:{period:10}},{id:"ma20",name:"MA20",enabled:!1,color:"#FFD93D",params:{period:20}},{id:"ma60",name:"MA60",enabled:!1,color:"#95E1D3",params:{period:60}},{id:"ema12",name:"EMA12",enabled:!1,color:"#A8E6CF",params:{period:12}},{id:"ema26",name:"EMA26",enabled:!1,color:"#FFD3B6",params:{period:26}},{id:"bb",name:"Bollinger Bands",enabled:!1,color:"#9B59B6"}]),ie=async(Se,Pe)=>{var he;try{const Be=Pe==="1d"?90:Pe==="1m"?600:320,Te=`/api/market/frames?symbol=${Se}&interval=${Pe}&limit=${Be}`,We=await Ke.get(Te);let Me=[];if(We.success&&((he=We.data)!=null&&he.frames)&&Array.isArray(We.data.frames))Me=We.data.frames.map(H=>({time:Math.floor(H.window.start_ts_ms/1e3),open:H.bar.open,high:H.bar.high,low:H.bar.low,close:H.bar.close,volume:H.bar.volume_shares,quoteVolume:H.bar.turnover_cny}));else{const H=`/api/klines?symbol=${Se}&interval=${Pe}&limit=${Be}&exchange=${i}`,se=await Ke.get(H);if(!se.success||!se.data)throw new Error("Failed to fetch market data");Me=se.data.map(me=>({time:Math.floor(me.openTime/1e3),open:me.open,high:me.high,low:me.low,close:me.close,volume:me.volume,quoteVolume:me.quoteVolume}))}return Me.sort((H,se)=>H.time-se.time).filter((H,se,me)=>se===0||H.time!==me[se-1].time)}catch(Be){throw console.error("[AdvancedChart] Error fetching kline:",Be),Be}},G=Se=>{if(!Se)return 0;if(typeof Se=="number")return Se>1e12?Math.floor(Se/1e3):Se;const Pe=String(Se),he=new Date(Pe).getTime();if(!isNaN(he)&&he>0)return Math.floor(he/1e3);const Be=Pe.match(/(\d{2})-(\d{2})\s+(\d{2}):(\d{2})\s+UTC/);if(Be){const Te=new Date().getFullYear(),[We,Me,ve,Ae,H]=Be,se=new Date(Date.UTC(Te,parseInt(Me)-1,parseInt(ve),parseInt(Ae),parseInt(H)));return Math.floor(se.getTime()/1e3)}return console.error("[AdvancedChart]  Failed to parse time:",Pe),0},F=async(Se,Pe)=>{try{o("[AdvancedChart] Fetching orders for trader:",Se,"symbol:",Pe);const he=await Ke.get(`/api/orders?trader_id=${Se}&symbol=${Pe}&status=FILLED&limit=200`);if(o("[AdvancedChart] Orders API response:",he),!he.success||!he.data)return[];const Be=he.data;o("[AdvancedChart] Raw orders data:",Be);const Te=[];return Be.forEach(We=>{var Ve;o("[AdvancedChart] Processing order:",We);const Me=We.filled_at||We.FilledAt||We.created_at||We.CreatedAt,ve=We.avg_fill_price||We.AvgFillPrice||We.price||We.Price,Ae=We.order_action||We.OrderAction,H=(Ve=We.side||We.Side)==null?void 0:Ve.toLowerCase(),se=We.symbol||We.Symbol;if(!Me||!ve||ve===0)return;const me=G(Me);if(me===0)return;let re="open",je="long";Ae?Ae.includes("OPEN")?(re="open",je=Ae.includes("LONG")?"long":"short"):Ae.includes("CLOSE")&&(re="close",je=Ae.includes("LONG")?"long":"short"):je=H==="buy"?"long":"short",o("[AdvancedChart] Order marker:",{time:me,price:ve,side:je,rawSide:H,action:re,orderAction:Ae}),Te.push({time:me,price:ve,side:je,rawSide:H,action:re,symbol:se})}),o("[AdvancedChart] Final markers:",Te),Te}catch(he){return console.error("[AdvancedChart] Error fetching orders:",he),[]}},Q=async(Se,Pe)=>{try{o("[AdvancedChart] Fetching open orders for trader:",Se,"symbol:",Pe);const he=await Ke.get(`/api/open-orders?trader_id=${Se}&symbol=${Pe}`);return o("[AdvancedChart] Open orders API response:",he),!he.success||!he.data?[]:he.data}catch(he){return console.error("[AdvancedChart] Error fetching open orders:",he),[]}};_.useEffect(()=>{if(!p.current)return;const Se=JI(p.current,{width:p.current.clientWidth||800,height:p.current.clientHeight||n,layout:{background:{color:"#0B0E11"},textColor:"#B7BDC6",fontSize:12},grid:{vertLines:{color:"rgba(43, 49, 57, 0.2)",style:1,visible:!0},horzLines:{color:"rgba(43, 49, 57, 0.2)",style:1,visible:!0}},crosshair:{mode:1,vertLine:{color:"rgba(240, 185, 11, 0.5)",width:1,style:2,labelBackgroundColor:"#F0B90B"},horzLine:{color:"rgba(240, 185, 11, 0.5)",width:1,style:2,labelBackgroundColor:"#F0B90B"}},rightPriceScale:{borderColor:"#2B3139",scaleMargins:{top:.1,bottom:.25},borderVisible:!0,entireTextOnly:!1},timeScale:{borderColor:"#2B3139",timeVisible:!0,secondsVisible:!1,borderVisible:!0,rightOffset:5,barSpacing:8},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:!0,mouseWheel:!0,pinch:!0},localization:{timeFormatter:Te=>new Date(Te*1e3).toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}});m.current=Se;const Pe=Se.addSeries(ZI,{upColor:"#0ECB81",downColor:"#F6465D",borderUpColor:"#0ECB81",borderDownColor:"#F6465D",wickUpColor:"#0ECB81",wickDownColor:"#F6465D"});v.current=Pe;const he=Se.addSeries(eD,{color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",lastValueVisible:!1,priceLineVisible:!1});y.current=he;const Be=new ResizeObserver(Te=>{if(Te.length===0||!Te[0].contentRect)return;const{width:We,height:Me}=Te[0].contentRect;Se.applyOptions({width:We,height:Me})});return p.current&&Be.observe(p.current),Se.subscribeCrosshairMove(Te=>{if(!Te.time||!Te.point||!v.current){K(null);return}const We=Te.seriesData.get(v.current);if(!We){K(null);return}const Me=We,ve=N.current.get(Te.time)||{volume:0,quoteVolume:0};K({time:Te.time,open:Me.open,high:Me.high,low:Me.low,close:Me.close,volume:ve.volume,quoteVolume:ve.quoteVolume,x:Te.point.x,y:Te.point.y})}),()=>{Be.disconnect(),Se.remove()}},[]),_.useEffect(()=>{if(L.current=!0,S.current=[],b.current){try{b.current.setMarkers([])}catch{}b.current=null}const Se=async(Be=!1)=>{var Te,We;if(v.current){Be||E(!0),T(null);try{const Me=await ie(t,e);if(o("[AdvancedChart] Loaded",Me.length,"klines"),v.current.setData(Me),N.current.clear(),Me.forEach(ve=>{N.current.set(ve.time,{volume:ve.volume||0,quoteVolume:ve.quoteVolume||0})}),Me.length>1){const ve=Me[Me.length-1],Ae=Me[Me.length-2],H=ve.close-Ae.close,se=H/Ae.close*100;te({price:ve.close,priceChange:H,priceChangePercent:se,high:ve.high,low:ve.low,volume:ve.volume||0,quoteVolume:ve.quoteVolume||0})}else if(Me.length===1){const ve=Me[0];te({price:ve.close,priceChange:0,priceChangePercent:0,high:ve.high,low:ve.low,volume:ve.volume||0,quoteVolume:ve.quoteVolume||0})}if(y.current)if((Te=U.find(Ae=>Ae.id==="volume"))==null?void 0:Te.enabled){const Ae=Me.map(H=>({time:H.time,value:H.volume||0,color:H.close>=H.open?"rgba(14, 203, 129, 0.5)":"rgba(246, 70, 93, 0.5)"}));y.current.setData(Ae)}else y.current.setData([]);if(le(Me),r&&v.current){o("[AdvancedChart] Starting to fetch orders...");const ve=await F(r,t);if(o("[AdvancedChart] Received orders:",ve),ve.length>0){o("[AdvancedChart] Creating markers from",ve.length,"orders");const Ae=Me.map(Ve=>Ve.time),H=Ae[0]||0,se=Ae[Ae.length-1]||0;o("[AdvancedChart] Kline time range:",H,"-",se,"(",Ae.length,"candles)");const me=Ve=>{if(Ve<H||Ve>se)return null;let Xe=0,vt=Ae.length-1;for(;Xe<vt;){const Ct=Math.ceil((Xe+vt+1)/2);Ae[Ct]<=Ve?Xe=Ct:vt=Ct-1}return Ae[Xe]},re=new Map;ve.forEach(Ve=>{const Xe=me(Ve.time);if(Xe===null)return;const vt=re.get(Xe)||{buys:0,sells:0};Ve.rawSide==="buy"?vt.buys++:vt.sells++,re.set(Xe,vt)});const je=[];re.forEach((Ve,Xe)=>{Ve.buys>0&&je.push({time:Xe,position:"belowBar",color:"#0ECB81",shape:"circle",text:Ve.buys>1?`B${Ve.buys}`:"B",size:1}),Ve.sells>0&&je.push({time:Xe,position:"aboveBar",color:"#F6465D",shape:"circle",text:Ve.sells>1?`S${Ve.sells}`:"S",size:1})}),je.sort((Ve,Xe)=>Ve.time-Xe.time),o("[AdvancedChart] Valid markers:",je.length,"out of",ve.length),o("[AdvancedChart] Setting",je.length,"markers on candlestick series");try{S.current=je;const Ve=q?je:[];b.current?b.current.setMarkers(Ve):b.current=HG(v.current,Ve),o("[AdvancedChart] Markers updated. Count:",Ve.length,"Visible:",q)}catch(Ve){console.error("[AdvancedChart]  Failed to set markers:",Ve)}}else{o("[AdvancedChart] No orders found, clearing markers");try{b.current&&b.current.setMarkers([])}catch(Ae){console.error("[AdvancedChart] Failed to clear markers:",Ae)}}}else o("[AdvancedChart] Skipping markers:",{hasTraderID:!!r,hasSeries:!!v.current});L.current&&((We=m.current)==null||We.timeScale().fitContent(),L.current=!1),E(!1)}catch(Me){console.error("[AdvancedChart] Error loading data:",Me),T(Me.message||"Failed to load chart data"),E(!1)}}};Se(!1);const he=setInterval(()=>Se(!0),e==="1d"?3e5:e==="1m"?1e3:15e3);return()=>clearInterval(he)},[t,e,r,i]),_.useEffect(()=>{if(!r||!v.current)return;const Se=async()=>{try{A.current.forEach(Te=>{var We;try{(We=v.current)==null||We.removePriceLine(Te)}catch{}}),A.current=[];const Be=await Q(r,t);o("[AdvancedChart] Open orders for price lines:",Be),Be.length>0&&v.current&&(Be.forEach(Te=>{var je;const We=Te.stop_price>0?Te.stop_price:Te.price;if(We<=0)return;const Me=Te.type.includes("STOP")||Te.type.includes("SL"),ve=Te.type.includes("TAKE_PROFIT")||Te.type.includes("TP"),Ae=Te.type==="LIMIT";let H="#F0B90B";const se=2;let me="";Me?(H="#F6465D",me=`SL ${Te.quantity}`):ve?(H="#0ECB81",me=`TP ${Te.quantity}`):Ae?(H="#F0B90B",me=`Limit ${Te.side} ${Te.quantity}`):me=`${Te.type} ${Te.quantity}`;const re=(je=v.current)==null?void 0:je.createPriceLine({price:We,color:H,lineWidth:1,lineStyle:se,axisLabelVisible:!0,title:me});re&&A.current.push(re)}),o("[AdvancedChart] Created",A.current.length,"price lines for pending orders"))}catch(Be){console.error("[AdvancedChart] Error loading open orders:",Be)}},Pe=setTimeout(Se,1e3),he=setInterval(Se,6e4);return()=>{clearTimeout(Pe),clearInterval(he)}},[t,r]),_.useEffect(()=>{if(b.current)try{const Se=q?S.current:[];b.current.setMarkers(Se),o("[AdvancedChart] Toggled markers visibility:",q,"Count:",Se.length)}catch(Se){console.error("[AdvancedChart]  Failed to toggle markers:",Se)}},[q]);const le=Se=>{m.current&&(x.current.forEach(Pe=>{var he;(he=m.current)==null||he.removeSeries(Pe)}),x.current.clear(),U.forEach(Pe=>{if(!(!Pe.enabled||!m.current)){if(Pe.id.startsWith("ma")){const he=Zxe(Se,Pe.params.period),Be=m.current.addSeries(wh,{color:Pe.color,lineWidth:2,title:Pe.name});Be.setData(he),x.current.set(Pe.id,Be)}else if(Pe.id.startsWith("ema")){const he=ebe(Se,Pe.params.period),Be=m.current.addSeries(wh,{color:Pe.color,lineWidth:2,title:Pe.name,lineStyle:2});Be.setData(he),x.current.set(Pe.id,Be)}else if(Pe.id==="bb"){const he=tbe(Se),Be=m.current.addSeries(wh,{color:Pe.color,lineWidth:1,title:"BB Upper"});Be.setData(he.map(Me=>({time:Me.time,value:Me.upper})));const Te=m.current.addSeries(wh,{color:Pe.color,lineWidth:1,lineStyle:2,title:"BB Middle"});Te.setData(he.map(Me=>({time:Me.time,value:Me.middle})));const We=m.current.addSeries(wh,{color:Pe.color,lineWidth:1,title:"BB Lower"});We.setData(he.map(Me=>({time:Me.time,value:Me.lower}))),x.current.set(Pe.id+"_upper",Be),x.current.set(Pe.id+"_middle",Te),x.current.set(Pe.id+"_lower",We)}}}))},xe=Se=>{X(Pe=>Pe.map(he=>he.id===Se?{...he,enabled:!he.enabled}:he))};return d.jsxs("div",{className:"relative shadow-xl",style:{background:"linear-gradient(180deg, #0F1215 0%, #0B0E11 100%)",borderRadius:"12px",overflow:"hidden",border:"1px solid rgba(43, 49, 57, 0.5)",height:"100%",display:"flex",flexDirection:"column"},children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-2",style:{borderBottom:"1px solid rgba(43, 49, 57, 0.6)",background:"#0D1117",flexShrink:0},children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm font-bold text-white",children:t}),d.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-[#1F2937] text-gray-400",children:e}),d.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-medium uppercase",style:{background:"rgba(243, 186, 47, 0.1)",color:"#F3BA2F"},children:i==="sim-cn"?"CN-SIM":i==null?void 0:i.toUpperCase()})]}),J&&d.jsxs("div",{className:"flex items-center gap-3 pl-3 border-l border-[#2B3139]",children:[d.jsx("span",{className:"text-base font-bold tabular-nums",style:{color:J.priceChange>=0?"#10B981":"#EF4444"},children:J.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:i==="forex"||i==="metals"?4:2})}),d.jsxs("span",{className:"text-xs font-medium px-1.5 py-0.5 rounded tabular-nums",style:{background:J.priceChange>=0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:J.priceChange>=0?"#10B981":"#EF4444"},children:[J.priceChange>=0?"+":"",J.priceChangePercent.toFixed(2),"%"]}),d.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-gray-500",children:[d.jsxs("span",{children:["H"," ",d.jsx("span",{className:"text-gray-300",children:J.high.toFixed(2)})]}),d.jsxs("span",{children:["L"," ",d.jsx("span",{className:"text-gray-300",children:J.low.toFixed(2)})]}),J.volume>0&&f&&d.jsxs("span",{children:["Vol"," ",d.jsx("span",{className:"text-gray-300",children:Q4(J.volume)})]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[k&&d.jsx("span",{className:"text-[10px] text-yellow-400 animate-pulse mr-2",children:l==="zh"?"...":"Updating..."}),d.jsxs("button",{onClick:()=>I(!M),className:"flex items-center gap-1 px-2 py-1 rounded text-[11px] font-medium transition-all",style:{background:M?"rgba(96, 165, 250, 0.15)":"transparent",color:M?"#60A5FA":"#6B7280"},children:[d.jsx(Mxe,{className:"w-3 h-3"}),d.jsx("span",{children:l==="zh"?"":"Indicators"})]}),d.jsx("button",{onClick:()=>D(!q),className:"flex items-center gap-1 px-2 py-1 rounded text-[11px] font-medium transition-all",style:{background:q?"rgba(16, 185, 129, 0.15)":"transparent",color:q?"#10B981":"#6B7280"},title:l==="zh"?"":"Order Markers",children:d.jsx("span",{children:"B/S"})})]})]}),M&&d.jsxs("div",{className:"absolute top-16 right-4 z-10 rounded-lg shadow-2xl backdrop-blur-sm",style:{background:"linear-gradient(135deg, #1A1E23 0%, #0F1215 100%)",border:"1px solid rgba(240, 185, 11, 0.2)",maxHeight:"500px",minWidth:"280px",overflowY:"auto"},children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"rgba(43, 49, 57, 0.5)"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(exe,{className:"w-4 h-4 text-yellow-400"}),d.jsx("h4",{className:"text-sm font-bold text-white",children:l==="zh"?"":"Technical Indicators"})]}),d.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-white transition-colors",children:d.jsx("span",{className:"text-lg",children:""})})]}),d.jsx("div",{className:"p-3 space-y-1",children:U.map(Se=>d.jsxs("label",{className:"flex items-center gap-3 p-2.5 rounded-md hover:bg-white/5 cursor-pointer transition-all group",children:[d.jsx("div",{className:"relative",children:d.jsx("input",{type:"checkbox",checked:Se.enabled,onChange:()=>xe(Se.id),className:"w-4 h-4 rounded border-gray-600 text-yellow-500 focus:ring-2 focus:ring-yellow-500/50"})}),d.jsx("div",{className:"w-8 h-3 rounded-sm border border-white/10",style:{backgroundColor:Se.color}}),d.jsx("span",{className:"text-sm text-gray-300 group-hover:text-white transition-colors flex-1",children:Se.name}),Se.enabled&&d.jsx("span",{className:"text-xs text-yellow-400",children:""})]},Se.id))}),d.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-t",style:{borderColor:"rgba(43, 49, 57, 0.5)"},children:l==="zh"?"":"Click to toggle indicators"})]}),d.jsxs("div",{style:{position:"relative",flex:1,minHeight:0},children:[d.jsx("div",{ref:p,style:{height:"100%",width:"100%"}}),V&&d.jsxs("div",{ref:Y,style:{position:"absolute",left:"10px",top:"10px",padding:"8px 12px",background:"rgba(15, 18, 21, 0.95)",border:"1px solid rgba(240, 185, 11, 0.3)",borderRadius:"6px",color:"#EAECEF",fontSize:"12px",fontFamily:"monospace",pointerEvents:"none",zIndex:10,backdropFilter:"blur(10px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)"},children:[d.jsx("div",{style:{marginBottom:"6px",color:"#F0B90B",fontWeight:"bold",fontSize:"11px"},children:new Date(V.time*1e3).toLocaleString(l==="zh"?"zh-CN":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"4px 12px",fontSize:"11px"},children:[d.jsx("span",{style:{color:"#848E9C"},children:"O:"}),d.jsx("span",{style:{color:"#EAECEF",fontWeight:"500"},children:(be=V.open)==null?void 0:be.toFixed(2)}),d.jsx("span",{style:{color:"#848E9C"},children:"H:"}),d.jsx("span",{style:{color:"#0ECB81",fontWeight:"500"},children:(ae=V.high)==null?void 0:ae.toFixed(2)}),d.jsx("span",{style:{color:"#848E9C"},children:"L:"}),d.jsx("span",{style:{color:"#F6465D",fontWeight:"500"},children:(we=V.low)==null?void 0:we.toFixed(2)}),d.jsx("span",{style:{color:"#848E9C"},children:"C:"}),d.jsx("span",{style:{color:V.close>=V.open?"#0ECB81":"#F6465D",fontWeight:"bold"},children:(fe=V.close)==null?void 0:fe.toFixed(2)}),V.volume>0&&f&&d.jsxs(d.Fragment,{children:[d.jsxs("span",{style:{color:"#848E9C"},children:["V(",f,"):"]}),d.jsx("span",{style:{color:"#3B82F6",fontWeight:"500"},children:Q4(V.volume)})]}),V.quoteVolume>0&&u&&d.jsxs(d.Fragment,{children:[d.jsxs("span",{style:{color:"#848E9C"},children:["V(",u,"):"]}),d.jsx("span",{style:{color:"#3B82F6",fontWeight:"500"},children:Q4(V.quoteVolume)})]})]})]}),d.jsx("div",{style:{position:"absolute",bottom:"20%",right:"5%",pointerEvents:"none",userSelect:"none",zIndex:1},children:d.jsx("div",{style:{fontSize:"56px",fontWeight:"700",color:"rgba(240, 185, 11, 0.12)",letterSpacing:"4px",fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif",textShadow:"0 2px 30px rgba(240, 185, 11, 0.2)"},children:"NOFX"})})]}),j&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:"rgba(11, 14, 17, 0.9)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:""}),d.jsx("div",{style:{color:"#F6465D"},children:j})]})})]})}const sbe=[{value:"1m",label:"1m"},{value:"5m",label:"5m"},{value:"15m",label:"15m"},{value:"30m",label:"30m"},{value:"1h",label:"1h"},{value:"4h",label:"4h"},{value:"1d",label:"1d"}];function abe({traderId:t,selectedSymbol:e,updateKey:r,exchangeId:n}){const{language:i}=bi(),[s,a]=_.useState("equity"),[o,l]=_.useState("600519.SH"),[u,f]=_.useState("1m"),[p,m]=_.useState(""),[v,y]=_.useState([]),[x,b]=_.useState(!1),[S,N]=_.useState(""),A=_.useRef(null),k=n||"sim-cn";_.useEffect(()=>{const M=new URLSearchParams({exchange:"sim-cn"});t&&M.set("trader_id",t),fetch(`/api/symbols?${M.toString()}`).then(I=>I.json()).then(I=>{const q=Array.isArray(I==null?void 0:I.symbols)?I.symbols:[];if(q.length>0){const D=[...q].sort((L,V)=>L.symbol.localeCompare(V.symbol));y(D);return}y([{symbol:"600519.SH",name:"",category:"stock"},{symbol:"601318.SH",name:"",category:"stock"},{symbol:"300750.SZ",name:"",category:"stock"}])}).catch(()=>{y([{symbol:"600519.SH",name:"",category:"stock"},{symbol:"601318.SH",name:"",category:"stock"},{symbol:"300750.SZ",name:"",category:"stock"}])})},[t]),_.useEffect(()=>{const M=I=>{A.current&&!A.current.contains(I.target)&&b(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const E=v.filter(M=>M.symbol.toLowerCase().includes(S.toLowerCase())||M.name.toLowerCase().includes(S.toLowerCase())),j=v.find(M=>M.symbol===o);_.useEffect(()=>{e&&(l(e),a("kline"))},[e,r]);const T=M=>{if(M.preventDefault(),p.trim()){const I=p.trim().toUpperCase();l(I),m("")}};return d.jsxs("div",{className:`nofx-glass rounded-lg border border-white/5 relative z-10 w-full flex flex-col transition-all duration-300 ${typeof window<"u"&&window.innerWidth<768?"h-[500px]":"h-[600px]"}`,children:[d.jsxs("div",{className:"relative z-20 flex flex-wrap md:flex-nowrap items-center justify-between gap-y-2 px-3 py-2 shrink-0 backdrop-blur-md bg-[#0B0E11]/80 rounded-t-lg",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.05)"},children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[d.jsxs("button",{onClick:()=>a("equity"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-[11px] font-medium transition-all ${s==="equity"?"bg-nofx-gold/10 text-nofx-gold border border-nofx-gold/20 shadow-[0_0_10px_rgba(240,185,11,0.1)]":"text-nofx-text-muted hover:text-nofx-text-main hover:bg-white/5"}`,children:[d.jsx(s7,{className:"w-3.5 h-3.5"}),d.jsx("span",{className:"hidden md:inline",children:de("accountEquityCurve",i)}),d.jsx("span",{className:"md:hidden",children:"Eq"})]}),d.jsxs("button",{onClick:()=>a("kline"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-[11px] font-medium transition-all ${s==="kline"?"bg-nofx-gold/10 text-nofx-gold border border-nofx-gold/20 shadow-[0_0_10px_rgba(240,185,11,0.1)]":"text-nofx-text-muted hover:text-nofx-text-main hover:bg-white/5"}`,children:[d.jsx(Jye,{className:"w-3.5 h-3.5"}),d.jsx("span",{className:"hidden md:inline",children:de("marketChart",i)}),d.jsx("span",{className:"md:hidden",children:"Kline"})]}),s==="kline"&&d.jsx("div",{className:"hidden md:flex items-center gap-2 ml-2 border-l border-white/10 pl-2",children:d.jsx("span",{className:"text-[10px] px-2 py-1 rounded border border-nofx-gold/25 bg-nofx-gold/10 text-nofx-gold font-semibold",children:i==="zh"?"A":"A-Shares"})})]}),s==="kline"&&d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 w-full md:w-auto min-w-0",children:[d.jsx("div",{className:"shrink-0 relative",ref:A,children:d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>b(!x),className:"flex items-center gap-1.5 px-2.5 py-1 bg-black/40 border border-white/10 rounded text-[11px] font-bold text-nofx-text-main hover:border-nofx-gold/30 hover:text-nofx-gold transition-all",children:[d.jsx("span",{children:o}),(j==null?void 0:j.name)&&d.jsx("span",{className:"text-[9px] opacity-55 hidden md:inline",children:j.name}),d.jsx($S,{className:`w-3 h-3 text-nofx-text-muted transition-transform ${x?"rotate-180":""}`})]}),x&&d.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-[#0B0E11] border border-white/10 rounded-lg shadow-[0_10px_40px_-10px_rgba(0,0,0,0.5)] z-50 overflow-hidden nofx-glass ring-1 ring-white/5",children:[d.jsx("div",{className:"p-2 border-b border-white/5",children:d.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5 bg-black/40 rounded border border-white/10 focus-within:border-nofx-gold/50 transition-colors",children:[d.jsx(kxe,{className:"w-3.5 h-3.5 text-nofx-text-muted"}),d.jsx("input",{type:"text",value:S,onChange:M=>N(M.target.value),placeholder:i==="zh"?"...":"Search symbol...",className:"flex-1 bg-transparent text-[11px] text-white placeholder-gray-600 focus:outline-none font-mono",autoFocus:!0})]})}),d.jsx("div",{className:"overflow-y-auto max-h-60 custom-scrollbar",children:E.map(M=>d.jsxs("button",{onClick:()=>{l(M.symbol),b(!1),N("")},className:`w-full px-3 py-2 text-left text-[11px] font-mono hover:bg-white/5 transition-all flex items-center justify-between ${o===M.symbol?"bg-nofx-gold/10 text-nofx-gold":"text-nofx-text-muted"}`,children:[d.jsx("span",{children:M.symbol}),d.jsx("span",{className:"text-[10px] opacity-75",children:M.name})]},M.symbol))})]})]})}),d.jsx("div",{className:"flex items-center bg-black/40 rounded border border-white/10 overflow-x-auto no-scrollbar max-w-[200px] md:max-w-none",children:sbe.map(M=>d.jsx("button",{onClick:()=>f(M.value),className:`px-2 py-1 text-[10px] font-medium transition-all ${u===M.value?"bg-nofx-gold/20 text-nofx-gold":"text-nofx-text-muted hover:text-white hover:bg-white/5"}`,children:M.label},M.value))}),d.jsxs("form",{onSubmit:T,className:"hidden md:flex items-center shrink-0",children:[d.jsx("input",{type:"text",value:p,onChange:M=>m(M.target.value),placeholder:"Sym",className:"w-16 px-2 py-1 bg-black/40 border border-white/10 rounded-l text-[10px] text-white placeholder-gray-600 focus:outline-none focus:border-nofx-gold/50 font-mono transition-colors"}),d.jsx("button",{type:"submit",className:"px-2 py-1 bg-white/5 border border-white/10 border-l-0 rounded-r text-[10px] text-nofx-text-muted hover:text-white hover:bg-white/10 transition-all",children:"Go"})]})]})]}),d.jsx("div",{className:"relative flex-1 bg-[#0B0E11]/50 rounded-b-lg overflow-hidden h-full min-h-0",children:d.jsx(da,{mode:"wait",children:s==="equity"?d.jsx(Pr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-full w-full absolute inset-0",children:d.jsx(Qxe,{traderId:t,embedded:!0})},"equity"):d.jsx(Pr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"h-full w-full absolute inset-0",children:d.jsx(ibe,{symbol:o,interval:u,traderID:t,exchange:k,onSymbolChange:l})},`kline-${o}-${u}-${k}`)})})]})}const lR={buy:{color:"#0ECB81",bg:"rgba(14, 203, 129, 0.15)",icon:"",label:"BUY"},sell:{color:"#F6465D",bg:"rgba(246, 70, 93, 0.15)",icon:"",label:"SELL"},open_long:{color:"#0ECB81",bg:"rgba(14, 203, 129, 0.15)",icon:"",label:"LONG"},open_short:{color:"#F6465D",bg:"rgba(246, 70, 93, 0.15)",icon:"",label:"SHORT"},close_long:{color:"#F0B90B",bg:"rgba(240, 185, 11, 0.15)",icon:"",label:"CLOSE"},close_short:{color:"#F0B90B",bg:"rgba(240, 185, 11, 0.15)",icon:"",label:"CLOSE"},hold:{color:"#848E9C",bg:"rgba(132, 142, 156, 0.15)",icon:"",label:"HOLD"},wait:{color:"#848E9C",bg:"rgba(132, 142, 156, 0.15)",icon:"",label:"WAIT"}};function Z4(t){return!t||t===0?"-":t>=1e3?t.toFixed(2):t>=1?t.toFixed(4):t.toFixed(6)}function cR(t,e,r){if(!t||!e||t===0)return"-";const n=(e-t)/t*100,i=r?n:-n;return`${i>=0?"+":""}${i.toFixed(2)}%`}function uR(t){return t?t>=80?"#0ECB81":t>=60?"#F0B90B":"#F6465D":"#848E9C"}function obe({action:t,language:e,onSymbolClick:r}){const n=String(t.action||"").toLowerCase(),i=lR[n]||lR.wait,s=n.includes("long")||n==="buy",a=n.includes("open")||n==="buy"||n==="sell";return d.jsxs("div",{className:"rounded-lg p-4 transition-all duration-200 hover:scale-[1.01]",style:{background:"linear-gradient(135deg, #1E2329 0%, #181C21 100%)",border:`1px solid ${i.color}33`,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.03)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xl",children:i.icon}),d.jsx("span",{className:"font-mono font-bold text-lg cursor-pointer transition-all duration-200 hover:scale-110",style:{color:"#EAECEF"},onClick:()=>r==null?void 0:r(t.symbol),title:"Click to view chart",children:t.symbol}),d.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider",style:{background:i.bg,color:i.color,border:`1px solid ${i.color}55`},children:i.label})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[t.confidence!==void 0&&t.confidence>0&&d.jsxs("div",{className:"px-2 py-1 rounded text-xs font-semibold",style:{background:`${uR(t.confidence)}22`,color:uR(t.confidence)},children:[t.confidence.toFixed(0),"%"]}),d.jsx("div",{className:"w-2 h-2 rounded-full",style:{background:t.success?"#0ECB81":"#F6465D"}})]})]}),a&&d.jsxs("div",{className:"grid grid-cols-4 gap-3 mt-3 pt-3",style:{borderTop:"1px solid #2B3139"},children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs mb-1",style:{color:"#848E9C"},children:de("entryPrice",e)}),d.jsx("div",{className:"font-mono font-semibold",style:{color:"#EAECEF"},children:Z4(t.price)})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs mb-1",style:{color:"#F6465D"},children:de("stopLoss",e)}),d.jsx("div",{className:"font-mono font-semibold",style:{color:"#F6465D"},children:Z4(t.stop_loss)}),t.stop_loss&&t.price&&d.jsx("div",{className:"text-xs mt-0.5",style:{color:"#848E9C"},children:cR(t.price,t.stop_loss,s)})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs mb-1",style:{color:"#0ECB81"},children:de("takeProfit",e)}),d.jsx("div",{className:"font-mono font-semibold",style:{color:"#0ECB81"},children:Z4(t.take_profit)}),t.take_profit&&t.price&&d.jsx("div",{className:"text-xs mt-0.5",style:{color:"#848E9C"},children:cR(t.price,t.take_profit,s)})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs mb-1",style:{color:"#848E9C"},children:e==="zh"?"":"Size"}),d.jsx("div",{className:"font-mono font-semibold",style:{color:"#F0B90B"},children:t.quantity||0})]})]}),a&&t.stop_loss&&t.take_profit&&t.price&&d.jsxs("div",{className:"mt-3 pt-3 flex items-center justify-between",style:{borderTop:"1px solid #2B3139"},children:[d.jsx("span",{className:"text-xs",style:{color:"#848E9C"},children:de("riskReward",e)}),d.jsx("div",{className:"flex items-center gap-2",children:(()=>{const o=Math.abs(t.price-t.stop_loss),l=Math.abs(t.take_profit-t.price),u=o>0?l/o:0,f=u>=3?"#0ECB81":u>=2?"#F0B90B":"#F6465D";return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex gap-1",children:[d.jsx("span",{style:{color:"#F6465D"},children:"1"}),d.jsx("span",{style:{color:"#848E9C"},children:":"}),d.jsx("span",{style:{color:"#0ECB81"},children:u.toFixed(1)})]}),d.jsx("div",{className:"h-1.5 rounded-full",style:{width:"60px",background:"#2B3139"},children:d.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${Math.min(u/5*100,100)}%`,background:f}})})]})})()})]}),t.reasoning&&d.jsx("div",{className:"mt-3 pt-3",style:{borderTop:"1px solid #2B3139"},children:d.jsxs("div",{className:"text-xs line-clamp-2",style:{color:"#848E9C"},children:[" ",t.reasoning]})}),t.error&&d.jsxs("div",{className:"mt-3 rounded p-2 text-xs",style:{background:"rgba(246, 70, 93, 0.1)",border:"1px solid rgba(246, 70, 93, 0.3)",color:"#F6465D"},children:[" ",t.error]})]})}function lbe({decision:t,language:e,onSymbolClick:r}){const[n,i]=_.useState(!1),[s,a]=_.useState(!1),[o,l]=_.useState(!1),[u,f]=_.useState(!1),p=Array.isArray(t.reasoning_steps_cn)?t.reasoning_steps_cn:[],m=async(y,x)=>{try{await navigator.clipboard.writeText(y),alert(`${x} copied!`)}catch(b){console.error("Failed to copy:",b)}},v=(y,x)=>{const b=new Blob([y],{type:"text/plain;charset=utf-8"}),S=URL.createObjectURL(b),N=document.createElement("a");N.href=S,N.download=x,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(S)};return d.jsxs("div",{className:"rounded-xl p-5 transition-all duration-300 hover:translate-y-[-2px]",style:{border:"1px solid #2B3139",background:"linear-gradient(180deg, #1E2329 0%, #181C21 100%)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.3)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:"rgba(240, 185, 11, 0.15)"},children:d.jsx("span",{className:"text-xl",children:""})}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-bold",style:{color:"#EAECEF"},children:[de("cycle",e)," #",t.cycle_number]}),d.jsx("div",{className:"text-xs",style:{color:"#848E9C"},children:new Date(t.timestamp).toLocaleString()})]})]}),d.jsx("div",{className:"px-4 py-1.5 rounded-full text-xs font-bold tracking-wider",style:t.success?{background:"rgba(14, 203, 129, 0.15)",color:"#0ECB81",border:"1px solid rgba(14, 203, 129, 0.3)"}:{background:"rgba(246, 70, 93, 0.15)",color:"#F6465D",border:"1px solid rgba(246, 70, 93, 0.3)"},children:de(t.success?"success":"failed",e)})]}),t.decisions&&t.decisions.length>0&&d.jsx("div",{className:"space-y-3 mb-4",children:t.decisions.map((y,x)=>d.jsx(obe,{action:y,language:e,onSymbolClick:r},`${y.symbol}-${x}`))}),d.jsxs("div",{className:"space-y-2",children:[t.system_prompt&&d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-2 text-sm transition-colors w-full justify-between p-2 rounded hover:bg-white/5",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-base",children:""}),d.jsx("span",{className:"font-semibold",style:{color:"#a78bfa"},children:"System Prompt"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:y=>{y.stopPropagation(),m(t.system_prompt,"System Prompt")},className:"text-xs px-2.5 py-1 rounded hover:opacity-80 transition-opacity flex items-center gap-1",style:{background:"rgba(167, 139, 250, 0.2)",color:"#a78bfa",border:"1px solid rgba(167, 139, 250, 0.3)"},title:"Copy to clipboard",children:d.jsx("span",{children:""})}),d.jsx("button",{onClick:y=>{y.stopPropagation(),v(t.system_prompt,`system-prompt-cycle-${t.cycle_number}.txt`)},className:"text-xs px-2.5 py-1 rounded hover:opacity-80 transition-opacity flex items-center gap-1",style:{background:"rgba(167, 139, 250, 0.2)",color:"#a78bfa",border:"1px solid rgba(167, 139, 250, 0.3)"},title:"Download as file",children:d.jsx("span",{children:""})}),d.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:"rgba(167, 139, 250, 0.15)",color:"#a78bfa"},children:de(n?"collapse":"expand",e)})]})]}),n&&d.jsx("div",{className:"mt-2 rounded-lg p-4 text-sm font-mono whitespace-pre-wrap max-h-96 overflow-y-auto",style:{background:"#0B0E11",border:"1px solid #2B3139",color:"#EAECEF"},children:t.system_prompt})]}),t.input_prompt&&d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-2 text-sm transition-colors w-full justify-between p-2 rounded hover:bg-white/5",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-base",children:""}),d.jsx("span",{className:"font-semibold",style:{color:"#60a5fa"},children:"User Prompt"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:y=>{y.stopPropagation(),m(t.input_prompt,"User Prompt")},className:"text-xs px-2.5 py-1 rounded hover:opacity-80 transition-opacity flex items-center gap-1",style:{background:"rgba(96, 165, 250, 0.2)",color:"#60a5fa",border:"1px solid rgba(96, 165, 250, 0.3)"},title:"Copy to clipboard",children:d.jsx("span",{children:""})}),d.jsx("button",{onClick:y=>{y.stopPropagation(),v(t.input_prompt,`user-prompt-cycle-${t.cycle_number}.txt`)},className:"text-xs px-2.5 py-1 rounded hover:opacity-80 transition-opacity flex items-center gap-1",style:{background:"rgba(96, 165, 250, 0.2)",color:"#60a5fa",border:"1px solid rgba(96, 165, 250, 0.3)"},title:"Download as file",children:d.jsx("span",{children:""})}),d.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:"rgba(96, 165, 250, 0.15)",color:"#60a5fa"},children:de(s?"collapse":"expand",e)})]})]}),s&&d.jsx("div",{className:"mt-2 rounded-lg p-4 text-sm font-mono whitespace-pre-wrap max-h-96 overflow-y-auto",style:{background:"#0B0E11",border:"1px solid #2B3139",color:"#EAECEF"},children:t.input_prompt})]}),p.length>0&&d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>l(!o),className:"flex items-center gap-2 text-sm transition-colors w-full justify-between p-2 rounded hover:bg-white/5",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-base",children:""}),d.jsx("span",{className:"font-semibold",style:{color:"#0ECB81"},children:de("aiCommentary",e)})]}),d.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:"rgba(14, 203, 129, 0.12)",color:"#0ECB81"},children:de(o?"collapse":"expand",e)})]}),o&&d.jsx("div",{className:"mt-2 rounded-lg p-4 text-sm whitespace-pre-wrap max-h-96 overflow-y-auto space-y-2",style:{background:"#0B0E11",border:"1px solid rgba(14, 203, 129, 0.25)",color:"#EAECEF"},children:p.map((y,x)=>d.jsx("div",{children:y},`${x}-${y}`))})]}),t.cot_trace&&d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-2 text-sm transition-colors w-full justify-between p-2 rounded hover:bg-white/5",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-base",children:""}),d.jsx("span",{className:"font-semibold",style:{color:"#F0B90B"},children:de("aiThinking",e)})]}),d.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{background:"rgba(240, 185, 11, 0.15)",color:"#F0B90B"},children:de(u?"collapse":"expand",e)})]}),u&&d.jsx("div",{className:"mt-2 rounded-lg p-4 text-sm font-mono whitespace-pre-wrap max-h-96 overflow-y-auto",style:{background:"#0B0E11",border:"1px solid #2B3139",color:"#EAECEF"},children:t.cot_trace})]})]}),t.execution_log&&t.execution_log.length>0&&d.jsx("div",{className:"rounded-lg p-3 mt-4 text-xs font-mono space-y-1",style:{background:"#0B0E11",border:"1px solid #2B3139"},children:t.execution_log.map((y,x)=>d.jsx("div",{style:{color:"#EAECEF"},children:y},`${y}-${x}`))}),t.error_message&&d.jsxs("div",{className:"rounded-lg p-3 mt-4 text-sm",style:{background:"rgba(246, 70, 93, 0.1)",border:"1px solid rgba(246, 70, 93, 0.4)",color:"#F6465D"},children:[" ",t.error_message]})]})}class hi{constructor(e,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=n}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new hi(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class zi{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new zi(r,hi.range(this,e))}}class $e{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,i,s,a=r&&r.loc;if(a&&a.start<=a.end){var o=a.lexer.input;i=a.start,s=a.end,i===o.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var l=o.slice(i,s).replace(/[^]/g,"$&"),u;i>15?u=""+o.slice(i-15,i):u=o.slice(0,i);var f;s+15<o.length?f=o.slice(s,s+15)+"":f=o.slice(s),n+=u+l+f}var p=new Error(n);return p.name="ParseError",p.__proto__=$e.prototype,p.position=i,i!=null&&s!=null&&(p.length=s-i),p.rawMessage=e,p}}$e.prototype.__proto__=Error.prototype;var cbe=function(e,r){return e===void 0?r:e},ube=/([A-Z])/g,dbe=function(e){return e.replace(ube,"-$1").toLowerCase()},hbe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},fbe=/[&><"']/g;function pbe(t){return String(t).replace(fbe,e=>hbe[e])}var G$=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},mbe=function(e){var r=G$(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},gbe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},vbe=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},Ht={deflt:cbe,escape:pbe,hyphenate:dbe,getBaseElem:G$,isCharacterBox:mbe,protocolFromUrl:vbe},zm={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function ybe(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class o7{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in zm)if(zm.hasOwnProperty(r)){var n=zm[r];this[r]=e[r]!==void 0?n.processor?n.processor(e[r]):e[r]:ybe(n)}}reportNonstrict(e,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new $e("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,n){var i=this.strict;if(typeof i=="function")try{i=i(e,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=Ht.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}let Io=class{constructor(e,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=n}sup(){return Qs[xbe[this.id]]}sub(){return Qs[bbe[this.id]]}fracNum(){return Qs[wbe[this.id]]}fracDen(){return Qs[Sbe[this.id]]}cramp(){return Qs[_be[this.id]]}text(){return Qs[Nbe[this.id]]}isTight(){return this.size>=2}};var l7=0,tv=1,Mu=2,Ua=3,e0=4,rs=5,pd=6,Yn=7,Qs=[new Io(l7,0,!1),new Io(tv,0,!0),new Io(Mu,1,!1),new Io(Ua,1,!0),new Io(e0,2,!1),new Io(rs,2,!0),new Io(pd,3,!1),new Io(Yn,3,!0)],xbe=[e0,rs,e0,rs,pd,Yn,pd,Yn],bbe=[rs,rs,rs,rs,Yn,Yn,Yn,Yn],wbe=[Mu,Ua,e0,rs,pd,Yn,pd,Yn],Sbe=[Ua,Ua,rs,rs,Yn,Yn,Yn,Yn],_be=[tv,tv,Ua,Ua,rs,rs,Yn,Yn],Nbe=[l7,tv,Mu,Ua,Mu,Ua,Mu,Ua],ft={DISPLAY:Qs[l7],TEXT:Qs[Mu],SCRIPT:Qs[e0],SCRIPTSCRIPT:Qs[pd]},US=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Abe(t){for(var e=0;e<US.length;e++)for(var r=US[e],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(t>=i[0]&&t<=i[1])return r.name}return null}var Fm=[];US.forEach(t=>t.blocks.forEach(e=>Fm.push(...e)));function X$(t){for(var e=0;e<Fm.length;e+=2)if(t>=Fm[e]&&t<=Fm[e+1])return!0;return!1}var lu=80,Ebe=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},Cbe=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},kbe=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},jbe=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},Pbe=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},Tbe=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},Mbe=function(e,r,n){var i=n-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},Obe=function(e,r,n){r=1e3*r;var i="";switch(e){case"sqrtMain":i=Ebe(r,lu);break;case"sqrtSize1":i=Cbe(r,lu);break;case"sqrtSize2":i=kbe(r,lu);break;case"sqrtSize3":i=jbe(r,lu);break;case"sqrtSize4":i=Pbe(r,lu);break;case"sqrtTall":i=Mbe(r,lu,n)}return i},Rbe=function(e,r){switch(e){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},dR={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Ibe=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class A0{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var na={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},lm={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},hR={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Dbe(t,e){na[t]=e}function c7(t,e,r){if(!na[e])throw new Error("Font metrics not found for font: "+e+".");var n=t.charCodeAt(0),i=na[e][n];if(!i&&t[0]in hR&&(n=hR[t[0]].charCodeAt(0),i=na[e][n]),!i&&r==="text"&&X$(n)&&(i=na[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var e5={};function Lbe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!e5[e]){var r=e5[e]={cssEmPerMu:lm.quad[e]/18};for(var n in lm)lm.hasOwnProperty(n)&&(r[n]=lm[n][e])}return e5[e]}var zbe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],fR=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],pR=function(e,r){return r.size<2?e:zbe[e-1][r.size-1]};class Ma{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Ma.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=fR[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return new Ma(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:pR(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:fR[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=pR(Ma.BASESIZE,e);return this.size===r&&this.textSize===Ma.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ma.BASESIZE?["sizing","reset-size"+this.size,"size"+Ma.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Lbe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ma.BASESIZE=6;var VS={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Fbe={ex:!0,em:!0,mu:!0},Y$=function(e){return typeof e!="string"&&(e=e.unit),e in VS||e in Fbe||e==="ex"},Sr=function(e,r){var n;if(e.unit in VS)n=VS[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")n=i.fontMetrics().xHeight;else if(e.unit==="em")n=i.fontMetrics().quad;else throw new $e("Invalid unit: '"+e.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*n,r.maxSize)},He=function(e){return+e.toFixed(4)+"em"},Qo=function(e){return e.filter(r=>r).join(" ")},J$=function(e,r,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},Q$=function(e){var r=document.createElement(e);r.className=Qo(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r},Bbe=/[\s"'>/=\x00-\x1f]/,Z$=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+Ht.escape(Qo(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Ht.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+Ht.escape(n)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(Bbe.test(s))throw new $e("Invalid attribute name '"+s+"'");r+=" "+s+'="'+Ht.escape(this.attributes[s])+'"'}r+=">";for(var a=0;a<this.children.length;a++)r+=this.children[a].toMarkup();return r+="</"+e+">",r};class E0{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,J$.call(this,e,n,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return Q$.call(this,"span")}toMarkup(){return Z$.call(this,"span")}}class u7{constructor(e,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,J$.call(this,r,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return Q$.call(this,"a")}toMarkup(){return Z$.call(this,"a")}}class $be{constructor(e,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+Ht.escape(this.src)+'"'+(' alt="'+Ht.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Ht.hyphenate(n)+":"+this.style[n]+";");return r&&(e+=' style="'+Ht.escape(r)+'"'),e+="'/>",e}}var qbe={:"",:"",:"",:""};class as{constructor(e,r,n,i,s,a,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=Abe(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=qbe[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=He(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Qo(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=Ht.escape(Qo(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Ht.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,r+=' style="'+Ht.escape(n)+'"');var s=Ht.escape(this.text);return e?(r+=">",r+=s,r+="</span>",r):s}}class eo{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Ht.escape(this.attributes[r])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class Zo{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",dR[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+Ht.escape(this.alternate)+'"/>':'<path d="'+Ht.escape(dR[this.pathName])+'"/>'}}class WS{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+Ht.escape(this.attributes[r])+'"');return e+="/>",e}}function mR(t){if(t instanceof as)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Ube(t){if(t instanceof E0)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Vbe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Wbe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},or={math:{},text:{}};function P(t,e,r,n,i,s){or[t][i]={font:e,group:r,replace:n},s&&n&&(or[t][n]=or[t][i])}var R="math",Re="text",z="main",ee="ams",yr="accent-token",Qe="bin",Qn="close",Dd="inner",ht="mathord",Vr="op-token",Fi="open",h1="punct",ne="rel",oo="spacing",ce="textord";P(R,z,ne,"","\\equiv",!0);P(R,z,ne,"","\\prec",!0);P(R,z,ne,"","\\succ",!0);P(R,z,ne,"","\\sim",!0);P(R,z,ne,"","\\perp");P(R,z,ne,"","\\preceq",!0);P(R,z,ne,"","\\succeq",!0);P(R,z,ne,"","\\simeq",!0);P(R,z,ne,"","\\mid",!0);P(R,z,ne,"","\\ll",!0);P(R,z,ne,"","\\gg",!0);P(R,z,ne,"","\\asymp",!0);P(R,z,ne,"","\\parallel");P(R,z,ne,"","\\bowtie",!0);P(R,z,ne,"","\\smile",!0);P(R,z,ne,"","\\sqsubseteq",!0);P(R,z,ne,"","\\sqsupseteq",!0);P(R,z,ne,"","\\doteq",!0);P(R,z,ne,"","\\frown",!0);P(R,z,ne,"","\\ni",!0);P(R,z,ne,"","\\propto",!0);P(R,z,ne,"","\\vdash",!0);P(R,z,ne,"","\\dashv",!0);P(R,z,ne,"","\\owns");P(R,z,h1,".","\\ldotp");P(R,z,h1,"","\\cdotp");P(R,z,ce,"#","\\#");P(Re,z,ce,"#","\\#");P(R,z,ce,"&","\\&");P(Re,z,ce,"&","\\&");P(R,z,ce,"","\\aleph",!0);P(R,z,ce,"","\\forall",!0);P(R,z,ce,"","\\hbar",!0);P(R,z,ce,"","\\exists",!0);P(R,z,ce,"","\\nabla",!0);P(R,z,ce,"","\\flat",!0);P(R,z,ce,"","\\ell",!0);P(R,z,ce,"","\\natural",!0);P(R,z,ce,"","\\clubsuit",!0);P(R,z,ce,"","\\wp",!0);P(R,z,ce,"","\\sharp",!0);P(R,z,ce,"","\\diamondsuit",!0);P(R,z,ce,"","\\Re",!0);P(R,z,ce,"","\\heartsuit",!0);P(R,z,ce,"","\\Im",!0);P(R,z,ce,"","\\spadesuit",!0);P(R,z,ce,"","\\S",!0);P(Re,z,ce,"","\\S");P(R,z,ce,"","\\P",!0);P(Re,z,ce,"","\\P");P(R,z,ce,"","\\dag");P(Re,z,ce,"","\\dag");P(Re,z,ce,"","\\textdagger");P(R,z,ce,"","\\ddag");P(Re,z,ce,"","\\ddag");P(Re,z,ce,"","\\textdaggerdbl");P(R,z,Qn,"","\\rmoustache",!0);P(R,z,Fi,"","\\lmoustache",!0);P(R,z,Qn,"","\\rgroup",!0);P(R,z,Fi,"","\\lgroup",!0);P(R,z,Qe,"","\\mp",!0);P(R,z,Qe,"","\\ominus",!0);P(R,z,Qe,"","\\uplus",!0);P(R,z,Qe,"","\\sqcap",!0);P(R,z,Qe,"","\\ast");P(R,z,Qe,"","\\sqcup",!0);P(R,z,Qe,"","\\bigcirc",!0);P(R,z,Qe,"","\\bullet",!0);P(R,z,Qe,"","\\ddagger");P(R,z,Qe,"","\\wr",!0);P(R,z,Qe,"","\\amalg");P(R,z,Qe,"&","\\And");P(R,z,ne,"","\\longleftarrow",!0);P(R,z,ne,"","\\Leftarrow",!0);P(R,z,ne,"","\\Longleftarrow",!0);P(R,z,ne,"","\\longrightarrow",!0);P(R,z,ne,"","\\Rightarrow",!0);P(R,z,ne,"","\\Longrightarrow",!0);P(R,z,ne,"","\\leftrightarrow",!0);P(R,z,ne,"","\\longleftrightarrow",!0);P(R,z,ne,"","\\Leftrightarrow",!0);P(R,z,ne,"","\\Longleftrightarrow",!0);P(R,z,ne,"","\\mapsto",!0);P(R,z,ne,"","\\longmapsto",!0);P(R,z,ne,"","\\nearrow",!0);P(R,z,ne,"","\\hookleftarrow",!0);P(R,z,ne,"","\\hookrightarrow",!0);P(R,z,ne,"","\\searrow",!0);P(R,z,ne,"","\\leftharpoonup",!0);P(R,z,ne,"","\\rightharpoonup",!0);P(R,z,ne,"","\\swarrow",!0);P(R,z,ne,"","\\leftharpoondown",!0);P(R,z,ne,"","\\rightharpoondown",!0);P(R,z,ne,"","\\nwarrow",!0);P(R,z,ne,"","\\rightleftharpoons",!0);P(R,ee,ne,"","\\nless",!0);P(R,ee,ne,"","\\@nleqslant");P(R,ee,ne,"","\\@nleqq");P(R,ee,ne,"","\\lneq",!0);P(R,ee,ne,"","\\lneqq",!0);P(R,ee,ne,"","\\@lvertneqq");P(R,ee,ne,"","\\lnsim",!0);P(R,ee,ne,"","\\lnapprox",!0);P(R,ee,ne,"","\\nprec",!0);P(R,ee,ne,"","\\npreceq",!0);P(R,ee,ne,"","\\precnsim",!0);P(R,ee,ne,"","\\precnapprox",!0);P(R,ee,ne,"","\\nsim",!0);P(R,ee,ne,"","\\@nshortmid");P(R,ee,ne,"","\\nmid",!0);P(R,ee,ne,"","\\nvdash",!0);P(R,ee,ne,"","\\nvDash",!0);P(R,ee,ne,"","\\ntriangleleft");P(R,ee,ne,"","\\ntrianglelefteq",!0);P(R,ee,ne,"","\\subsetneq",!0);P(R,ee,ne,"","\\@varsubsetneq");P(R,ee,ne,"","\\subsetneqq",!0);P(R,ee,ne,"","\\@varsubsetneqq");P(R,ee,ne,"","\\ngtr",!0);P(R,ee,ne,"","\\@ngeqslant");P(R,ee,ne,"","\\@ngeqq");P(R,ee,ne,"","\\gneq",!0);P(R,ee,ne,"","\\gneqq",!0);P(R,ee,ne,"","\\@gvertneqq");P(R,ee,ne,"","\\gnsim",!0);P(R,ee,ne,"","\\gnapprox",!0);P(R,ee,ne,"","\\nsucc",!0);P(R,ee,ne,"","\\nsucceq",!0);P(R,ee,ne,"","\\succnsim",!0);P(R,ee,ne,"","\\succnapprox",!0);P(R,ee,ne,"","\\ncong",!0);P(R,ee,ne,"","\\@nshortparallel");P(R,ee,ne,"","\\nparallel",!0);P(R,ee,ne,"","\\nVDash",!0);P(R,ee,ne,"","\\ntriangleright");P(R,ee,ne,"","\\ntrianglerighteq",!0);P(R,ee,ne,"","\\@nsupseteqq");P(R,ee,ne,"","\\supsetneq",!0);P(R,ee,ne,"","\\@varsupsetneq");P(R,ee,ne,"","\\supsetneqq",!0);P(R,ee,ne,"","\\@varsupsetneqq");P(R,ee,ne,"","\\nVdash",!0);P(R,ee,ne,"","\\precneqq",!0);P(R,ee,ne,"","\\succneqq",!0);P(R,ee,ne,"","\\@nsubseteqq");P(R,ee,Qe,"","\\unlhd");P(R,ee,Qe,"","\\unrhd");P(R,ee,ne,"","\\nleftarrow",!0);P(R,ee,ne,"","\\nrightarrow",!0);P(R,ee,ne,"","\\nLeftarrow",!0);P(R,ee,ne,"","\\nRightarrow",!0);P(R,ee,ne,"","\\nleftrightarrow",!0);P(R,ee,ne,"","\\nLeftrightarrow",!0);P(R,ee,ne,"","\\vartriangle");P(R,ee,ce,"","\\hslash");P(R,ee,ce,"","\\triangledown");P(R,ee,ce,"","\\lozenge");P(R,ee,ce,"","\\circledS");P(R,ee,ce,"","\\circledR");P(Re,ee,ce,"","\\circledR");P(R,ee,ce,"","\\measuredangle",!0);P(R,ee,ce,"","\\nexists");P(R,ee,ce,"","\\mho");P(R,ee,ce,"","\\Finv",!0);P(R,ee,ce,"","\\Game",!0);P(R,ee,ce,"","\\backprime");P(R,ee,ce,"","\\blacktriangle");P(R,ee,ce,"","\\blacktriangledown");P(R,ee,ce,"","\\blacksquare");P(R,ee,ce,"","\\blacklozenge");P(R,ee,ce,"","\\bigstar");P(R,ee,ce,"","\\sphericalangle",!0);P(R,ee,ce,"","\\complement",!0);P(R,ee,ce,"","\\eth",!0);P(Re,z,ce,"","");P(R,ee,ce,"","\\diagup");P(R,ee,ce,"","\\diagdown");P(R,ee,ce,"","\\square");P(R,ee,ce,"","\\Box");P(R,ee,ce,"","\\Diamond");P(R,ee,ce,"","\\yen",!0);P(Re,ee,ce,"","\\yen",!0);P(R,ee,ce,"","\\checkmark",!0);P(Re,ee,ce,"","\\checkmark");P(R,ee,ce,"","\\beth",!0);P(R,ee,ce,"","\\daleth",!0);P(R,ee,ce,"","\\gimel",!0);P(R,ee,ce,"","\\digamma",!0);P(R,ee,ce,"","\\varkappa");P(R,ee,Fi,"","\\@ulcorner",!0);P(R,ee,Qn,"","\\@urcorner",!0);P(R,ee,Fi,"","\\@llcorner",!0);P(R,ee,Qn,"","\\@lrcorner",!0);P(R,ee,ne,"","\\leqq",!0);P(R,ee,ne,"","\\leqslant",!0);P(R,ee,ne,"","\\eqslantless",!0);P(R,ee,ne,"","\\lesssim",!0);P(R,ee,ne,"","\\lessapprox",!0);P(R,ee,ne,"","\\approxeq",!0);P(R,ee,Qe,"","\\lessdot");P(R,ee,ne,"","\\lll",!0);P(R,ee,ne,"","\\lessgtr",!0);P(R,ee,ne,"","\\lesseqgtr",!0);P(R,ee,ne,"","\\lesseqqgtr",!0);P(R,ee,ne,"","\\doteqdot");P(R,ee,ne,"","\\risingdotseq",!0);P(R,ee,ne,"","\\fallingdotseq",!0);P(R,ee,ne,"","\\backsim",!0);P(R,ee,ne,"","\\backsimeq",!0);P(R,ee,ne,"","\\subseteqq",!0);P(R,ee,ne,"","\\Subset",!0);P(R,ee,ne,"","\\sqsubset",!0);P(R,ee,ne,"","\\preccurlyeq",!0);P(R,ee,ne,"","\\curlyeqprec",!0);P(R,ee,ne,"","\\precsim",!0);P(R,ee,ne,"","\\precapprox",!0);P(R,ee,ne,"","\\vartriangleleft");P(R,ee,ne,"","\\trianglelefteq");P(R,ee,ne,"","\\vDash",!0);P(R,ee,ne,"","\\Vvdash",!0);P(R,ee,ne,"","\\smallsmile");P(R,ee,ne,"","\\smallfrown");P(R,ee,ne,"","\\bumpeq",!0);P(R,ee,ne,"","\\Bumpeq",!0);P(R,ee,ne,"","\\geqq",!0);P(R,ee,ne,"","\\geqslant",!0);P(R,ee,ne,"","\\eqslantgtr",!0);P(R,ee,ne,"","\\gtrsim",!0);P(R,ee,ne,"","\\gtrapprox",!0);P(R,ee,Qe,"","\\gtrdot");P(R,ee,ne,"","\\ggg",!0);P(R,ee,ne,"","\\gtrless",!0);P(R,ee,ne,"","\\gtreqless",!0);P(R,ee,ne,"","\\gtreqqless",!0);P(R,ee,ne,"","\\eqcirc",!0);P(R,ee,ne,"","\\circeq",!0);P(R,ee,ne,"","\\triangleq",!0);P(R,ee,ne,"","\\thicksim");P(R,ee,ne,"","\\thickapprox");P(R,ee,ne,"","\\supseteqq",!0);P(R,ee,ne,"","\\Supset",!0);P(R,ee,ne,"","\\sqsupset",!0);P(R,ee,ne,"","\\succcurlyeq",!0);P(R,ee,ne,"","\\curlyeqsucc",!0);P(R,ee,ne,"","\\succsim",!0);P(R,ee,ne,"","\\succapprox",!0);P(R,ee,ne,"","\\vartriangleright");P(R,ee,ne,"","\\trianglerighteq");P(R,ee,ne,"","\\Vdash",!0);P(R,ee,ne,"","\\shortmid");P(R,ee,ne,"","\\shortparallel");P(R,ee,ne,"","\\between",!0);P(R,ee,ne,"","\\pitchfork",!0);P(R,ee,ne,"","\\varpropto");P(R,ee,ne,"","\\blacktriangleleft");P(R,ee,ne,"","\\therefore",!0);P(R,ee,ne,"","\\backepsilon");P(R,ee,ne,"","\\blacktriangleright");P(R,ee,ne,"","\\because",!0);P(R,ee,ne,"","\\llless");P(R,ee,ne,"","\\gggtr");P(R,ee,Qe,"","\\lhd");P(R,ee,Qe,"","\\rhd");P(R,ee,ne,"","\\eqsim",!0);P(R,z,ne,"","\\Join");P(R,ee,ne,"","\\Doteq",!0);P(R,ee,Qe,"","\\dotplus",!0);P(R,ee,Qe,"","\\smallsetminus");P(R,ee,Qe,"","\\Cap",!0);P(R,ee,Qe,"","\\Cup",!0);P(R,ee,Qe,"","\\doublebarwedge",!0);P(R,ee,Qe,"","\\boxminus",!0);P(R,ee,Qe,"","\\boxplus",!0);P(R,ee,Qe,"","\\divideontimes",!0);P(R,ee,Qe,"","\\ltimes",!0);P(R,ee,Qe,"","\\rtimes",!0);P(R,ee,Qe,"","\\leftthreetimes",!0);P(R,ee,Qe,"","\\rightthreetimes",!0);P(R,ee,Qe,"","\\curlywedge",!0);P(R,ee,Qe,"","\\curlyvee",!0);P(R,ee,Qe,"","\\circleddash",!0);P(R,ee,Qe,"","\\circledast",!0);P(R,ee,Qe,"","\\centerdot");P(R,ee,Qe,"","\\intercal",!0);P(R,ee,Qe,"","\\doublecap");P(R,ee,Qe,"","\\doublecup");P(R,ee,Qe,"","\\boxtimes",!0);P(R,ee,ne,"","\\dashrightarrow",!0);P(R,ee,ne,"","\\dashleftarrow",!0);P(R,ee,ne,"","\\leftleftarrows",!0);P(R,ee,ne,"","\\leftrightarrows",!0);P(R,ee,ne,"","\\Lleftarrow",!0);P(R,ee,ne,"","\\twoheadleftarrow",!0);P(R,ee,ne,"","\\leftarrowtail",!0);P(R,ee,ne,"","\\looparrowleft",!0);P(R,ee,ne,"","\\leftrightharpoons",!0);P(R,ee,ne,"","\\curvearrowleft",!0);P(R,ee,ne,"","\\circlearrowleft",!0);P(R,ee,ne,"","\\Lsh",!0);P(R,ee,ne,"","\\upuparrows",!0);P(R,ee,ne,"","\\upharpoonleft",!0);P(R,ee,ne,"","\\downharpoonleft",!0);P(R,z,ne,"","\\origof",!0);P(R,z,ne,"","\\imageof",!0);P(R,ee,ne,"","\\multimap",!0);P(R,ee,ne,"","\\leftrightsquigarrow",!0);P(R,ee,ne,"","\\rightrightarrows",!0);P(R,ee,ne,"","\\rightleftarrows",!0);P(R,ee,ne,"","\\twoheadrightarrow",!0);P(R,ee,ne,"","\\rightarrowtail",!0);P(R,ee,ne,"","\\looparrowright",!0);P(R,ee,ne,"","\\curvearrowright",!0);P(R,ee,ne,"","\\circlearrowright",!0);P(R,ee,ne,"","\\Rsh",!0);P(R,ee,ne,"","\\downdownarrows",!0);P(R,ee,ne,"","\\upharpoonright",!0);P(R,ee,ne,"","\\downharpoonright",!0);P(R,ee,ne,"","\\rightsquigarrow",!0);P(R,ee,ne,"","\\leadsto");P(R,ee,ne,"","\\Rrightarrow",!0);P(R,ee,ne,"","\\restriction");P(R,z,ce,"","`");P(R,z,ce,"$","\\$");P(Re,z,ce,"$","\\$");P(Re,z,ce,"$","\\textdollar");P(R,z,ce,"%","\\%");P(Re,z,ce,"%","\\%");P(R,z,ce,"_","\\_");P(Re,z,ce,"_","\\_");P(Re,z,ce,"_","\\textunderscore");P(R,z,ce,"","\\angle",!0);P(R,z,ce,"","\\infty",!0);P(R,z,ce,"","\\prime");P(R,z,ce,"","\\triangle");P(R,z,ce,"","\\Gamma",!0);P(R,z,ce,"","\\Delta",!0);P(R,z,ce,"","\\Theta",!0);P(R,z,ce,"","\\Lambda",!0);P(R,z,ce,"","\\Xi",!0);P(R,z,ce,"","\\Pi",!0);P(R,z,ce,"","\\Sigma",!0);P(R,z,ce,"","\\Upsilon",!0);P(R,z,ce,"","\\Phi",!0);P(R,z,ce,"","\\Psi",!0);P(R,z,ce,"","\\Omega",!0);P(R,z,ce,"A","");P(R,z,ce,"B","");P(R,z,ce,"E","");P(R,z,ce,"Z","");P(R,z,ce,"H","");P(R,z,ce,"I","");P(R,z,ce,"K","");P(R,z,ce,"M","");P(R,z,ce,"N","");P(R,z,ce,"O","");P(R,z,ce,"P","");P(R,z,ce,"T","");P(R,z,ce,"X","");P(R,z,ce,"","\\neg",!0);P(R,z,ce,"","\\lnot");P(R,z,ce,"","\\top");P(R,z,ce,"","\\bot");P(R,z,ce,"","\\emptyset");P(R,ee,ce,"","\\varnothing");P(R,z,ht,"","\\alpha",!0);P(R,z,ht,"","\\beta",!0);P(R,z,ht,"","\\gamma",!0);P(R,z,ht,"","\\delta",!0);P(R,z,ht,"","\\epsilon",!0);P(R,z,ht,"","\\zeta",!0);P(R,z,ht,"","\\eta",!0);P(R,z,ht,"","\\theta",!0);P(R,z,ht,"","\\iota",!0);P(R,z,ht,"","\\kappa",!0);P(R,z,ht,"","\\lambda",!0);P(R,z,ht,"","\\mu",!0);P(R,z,ht,"","\\nu",!0);P(R,z,ht,"","\\xi",!0);P(R,z,ht,"","\\omicron",!0);P(R,z,ht,"","\\pi",!0);P(R,z,ht,"","\\rho",!0);P(R,z,ht,"","\\sigma",!0);P(R,z,ht,"","\\tau",!0);P(R,z,ht,"","\\upsilon",!0);P(R,z,ht,"","\\phi",!0);P(R,z,ht,"","\\chi",!0);P(R,z,ht,"","\\psi",!0);P(R,z,ht,"","\\omega",!0);P(R,z,ht,"","\\varepsilon",!0);P(R,z,ht,"","\\vartheta",!0);P(R,z,ht,"","\\varpi",!0);P(R,z,ht,"","\\varrho",!0);P(R,z,ht,"","\\varsigma",!0);P(R,z,ht,"","\\varphi",!0);P(R,z,Qe,"","*",!0);P(R,z,Qe,"+","+");P(R,z,Qe,"","-",!0);P(R,z,Qe,"","\\cdot",!0);P(R,z,Qe,"","\\circ",!0);P(R,z,Qe,"","\\div",!0);P(R,z,Qe,"","\\pm",!0);P(R,z,Qe,"","\\times",!0);P(R,z,Qe,"","\\cap",!0);P(R,z,Qe,"","\\cup",!0);P(R,z,Qe,"","\\setminus",!0);P(R,z,Qe,"","\\land");P(R,z,Qe,"","\\lor");P(R,z,Qe,"","\\wedge",!0);P(R,z,Qe,"","\\vee",!0);P(R,z,ce,"","\\surd");P(R,z,Fi,"","\\langle",!0);P(R,z,Fi,"","\\lvert");P(R,z,Fi,"","\\lVert");P(R,z,Qn,"?","?");P(R,z,Qn,"!","!");P(R,z,Qn,"","\\rangle",!0);P(R,z,Qn,"","\\rvert");P(R,z,Qn,"","\\rVert");P(R,z,ne,"=","=");P(R,z,ne,":",":");P(R,z,ne,"","\\approx",!0);P(R,z,ne,"","\\cong",!0);P(R,z,ne,"","\\ge");P(R,z,ne,"","\\geq",!0);P(R,z,ne,"","\\gets");P(R,z,ne,">","\\gt",!0);P(R,z,ne,"","\\in",!0);P(R,z,ne,"","\\@not");P(R,z,ne,"","\\subset",!0);P(R,z,ne,"","\\supset",!0);P(R,z,ne,"","\\subseteq",!0);P(R,z,ne,"","\\supseteq",!0);P(R,ee,ne,"","\\nsubseteq",!0);P(R,ee,ne,"","\\nsupseteq",!0);P(R,z,ne,"","\\models");P(R,z,ne,"","\\leftarrow",!0);P(R,z,ne,"","\\le");P(R,z,ne,"","\\leq",!0);P(R,z,ne,"<","\\lt",!0);P(R,z,ne,"","\\rightarrow",!0);P(R,z,ne,"","\\to");P(R,ee,ne,"","\\ngeq",!0);P(R,ee,ne,"","\\nleq",!0);P(R,z,oo,"","\\ ");P(R,z,oo,"","\\space");P(R,z,oo,"","\\nobreakspace");P(Re,z,oo,"","\\ ");P(Re,z,oo,""," ");P(Re,z,oo,"","\\space");P(Re,z,oo,"","\\nobreakspace");P(R,z,oo,null,"\\nobreak");P(R,z,oo,null,"\\allowbreak");P(R,z,h1,",",",");P(R,z,h1,";",";");P(R,ee,Qe,"","\\barwedge",!0);P(R,ee,Qe,"","\\veebar",!0);P(R,z,Qe,"","\\odot",!0);P(R,z,Qe,"","\\oplus",!0);P(R,z,Qe,"","\\otimes",!0);P(R,z,ce,"","\\partial",!0);P(R,z,Qe,"","\\oslash",!0);P(R,ee,Qe,"","\\circledcirc",!0);P(R,ee,Qe,"","\\boxdot",!0);P(R,z,Qe,"","\\bigtriangleup");P(R,z,Qe,"","\\bigtriangledown");P(R,z,Qe,"","\\dagger");P(R,z,Qe,"","\\diamond");P(R,z,Qe,"","\\star");P(R,z,Qe,"","\\triangleleft");P(R,z,Qe,"","\\triangleright");P(R,z,Fi,"{","\\{");P(Re,z,ce,"{","\\{");P(Re,z,ce,"{","\\textbraceleft");P(R,z,Qn,"}","\\}");P(Re,z,ce,"}","\\}");P(Re,z,ce,"}","\\textbraceright");P(R,z,Fi,"{","\\lbrace");P(R,z,Qn,"}","\\rbrace");P(R,z,Fi,"[","\\lbrack",!0);P(Re,z,ce,"[","\\lbrack",!0);P(R,z,Qn,"]","\\rbrack",!0);P(Re,z,ce,"]","\\rbrack",!0);P(R,z,Fi,"(","\\lparen",!0);P(R,z,Qn,")","\\rparen",!0);P(Re,z,ce,"<","\\textless",!0);P(Re,z,ce,">","\\textgreater",!0);P(R,z,Fi,"","\\lfloor",!0);P(R,z,Qn,"","\\rfloor",!0);P(R,z,Fi,"","\\lceil",!0);P(R,z,Qn,"","\\rceil",!0);P(R,z,ce,"\\","\\backslash");P(R,z,ce,"","|");P(R,z,ce,"","\\vert");P(Re,z,ce,"|","\\textbar",!0);P(R,z,ce,"","\\|");P(R,z,ce,"","\\Vert");P(Re,z,ce,"","\\textbardbl");P(Re,z,ce,"~","\\textasciitilde");P(Re,z,ce,"\\","\\textbackslash");P(Re,z,ce,"^","\\textasciicircum");P(R,z,ne,"","\\uparrow",!0);P(R,z,ne,"","\\Uparrow",!0);P(R,z,ne,"","\\downarrow",!0);P(R,z,ne,"","\\Downarrow",!0);P(R,z,ne,"","\\updownarrow",!0);P(R,z,ne,"","\\Updownarrow",!0);P(R,z,Vr,"","\\coprod");P(R,z,Vr,"","\\bigvee");P(R,z,Vr,"","\\bigwedge");P(R,z,Vr,"","\\biguplus");P(R,z,Vr,"","\\bigcap");P(R,z,Vr,"","\\bigcup");P(R,z,Vr,"","\\int");P(R,z,Vr,"","\\intop");P(R,z,Vr,"","\\iint");P(R,z,Vr,"","\\iiint");P(R,z,Vr,"","\\prod");P(R,z,Vr,"","\\sum");P(R,z,Vr,"","\\bigotimes");P(R,z,Vr,"","\\bigoplus");P(R,z,Vr,"","\\bigodot");P(R,z,Vr,"","\\oint");P(R,z,Vr,"","\\oiint");P(R,z,Vr,"","\\oiiint");P(R,z,Vr,"","\\bigsqcup");P(R,z,Vr,"","\\smallint");P(Re,z,Dd,"","\\textellipsis");P(R,z,Dd,"","\\mathellipsis");P(Re,z,Dd,"","\\ldots",!0);P(R,z,Dd,"","\\ldots",!0);P(R,z,Dd,"","\\@cdots",!0);P(R,z,Dd,"","\\ddots",!0);P(R,z,ce,"","\\varvdots");P(Re,z,ce,"","\\varvdots");P(R,z,yr,"","\\acute");P(R,z,yr,"","\\grave");P(R,z,yr,"","\\ddot");P(R,z,yr,"~","\\tilde");P(R,z,yr,"","\\bar");P(R,z,yr,"","\\breve");P(R,z,yr,"","\\check");P(R,z,yr,"^","\\hat");P(R,z,yr,"","\\vec");P(R,z,yr,"","\\dot");P(R,z,yr,"","\\mathring");P(R,z,ht,"","\\@imath");P(R,z,ht,"","\\@jmath");P(R,z,ce,"","");P(R,z,ce,"","");P(Re,z,ce,"","\\i",!0);P(Re,z,ce,"","\\j",!0);P(Re,z,ce,"","\\ss",!0);P(Re,z,ce,"","\\ae",!0);P(Re,z,ce,"","\\oe",!0);P(Re,z,ce,"","\\o",!0);P(Re,z,ce,"","\\AE",!0);P(Re,z,ce,"","\\OE",!0);P(Re,z,ce,"","\\O",!0);P(Re,z,yr,"","\\'");P(Re,z,yr,"","\\`");P(Re,z,yr,"","\\^");P(Re,z,yr,"","\\~");P(Re,z,yr,"","\\=");P(Re,z,yr,"","\\u");P(Re,z,yr,"","\\.");P(Re,z,yr,"","\\c");P(Re,z,yr,"","\\r");P(Re,z,yr,"","\\v");P(Re,z,yr,"",'\\"');P(Re,z,yr,"","\\H");P(Re,z,yr,"","\\textcircled");var eq={"--":!0,"---":!0,"``":!0,"''":!0};P(Re,z,ce,"","--",!0);P(Re,z,ce,"","\\textendash");P(Re,z,ce,"","---",!0);P(Re,z,ce,"","\\textemdash");P(Re,z,ce,"","`",!0);P(Re,z,ce,"","\\textquoteleft");P(Re,z,ce,"","'",!0);P(Re,z,ce,"","\\textquoteright");P(Re,z,ce,"","``",!0);P(Re,z,ce,"","\\textquotedblleft");P(Re,z,ce,"","''",!0);P(Re,z,ce,"","\\textquotedblright");P(R,z,ce,"","\\degree",!0);P(Re,z,ce,"","\\degree");P(Re,z,ce,"","\\textdegree",!0);P(R,z,ce,"","\\pounds");P(R,z,ce,"","\\mathsterling",!0);P(Re,z,ce,"","\\pounds");P(Re,z,ce,"","\\textsterling",!0);P(R,ee,ce,"","\\maltese");P(Re,ee,ce,"","\\maltese");var gR='0123456789/@."';for(var t5=0;t5<gR.length;t5++){var vR=gR.charAt(t5);P(R,z,ce,vR,vR)}var yR='0123456789!@*()-=+";:?/.,';for(var r5=0;r5<yR.length;r5++){var xR=yR.charAt(r5);P(Re,z,ce,xR,xR)}var rv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var n5=0;n5<rv.length;n5++){var cm=rv.charAt(n5);P(R,z,ht,cm,cm),P(Re,z,ce,cm,cm)}P(R,ee,ce,"C","");P(Re,ee,ce,"C","");P(R,ee,ce,"H","");P(Re,ee,ce,"H","");P(R,ee,ce,"N","");P(Re,ee,ce,"N","");P(R,ee,ce,"P","");P(Re,ee,ce,"P","");P(R,ee,ce,"Q","");P(Re,ee,ce,"Q","");P(R,ee,ce,"R","");P(Re,ee,ce,"R","");P(R,ee,ce,"Z","");P(Re,ee,ce,"Z","");P(R,z,ht,"h","");P(Re,z,ht,"h","");var yt="";for(var Hn=0;Hn<rv.length;Hn++){var Cr=rv.charAt(Hn);yt=String.fromCharCode(55349,56320+Hn),P(R,z,ht,Cr,yt),P(Re,z,ce,Cr,yt),yt=String.fromCharCode(55349,56372+Hn),P(R,z,ht,Cr,yt),P(Re,z,ce,Cr,yt),yt=String.fromCharCode(55349,56424+Hn),P(R,z,ht,Cr,yt),P(Re,z,ce,Cr,yt),yt=String.fromCharCode(55349,56580+Hn),P(R,z,ht,Cr,yt),P(Re,z,ce,Cr,yt),yt=String.fromCharCode(55349,56684+Hn),P(R,z,ht,Cr,yt),P(Re,z,ce,Cr,yt),yt=String.fromCharCode(55349,56736+Hn),P(R,z,ht,Cr,yt),P(Re,z,ce,Cr,yt),yt=String.fromCharCode(55349,56788+Hn),P(R,z,ht,Cr,yt),P(Re,z,ce,Cr,yt),yt=String.fromCharCode(55349,56840+Hn),P(R,z,ht,Cr,yt),P(Re,z,ce,Cr,yt),yt=String.fromCharCode(55349,56944+Hn),P(R,z,ht,Cr,yt),P(Re,z,ce,Cr,yt),Hn<26&&(yt=String.fromCharCode(55349,56632+Hn),P(R,z,ht,Cr,yt),P(Re,z,ce,Cr,yt),yt=String.fromCharCode(55349,56476+Hn),P(R,z,ht,Cr,yt),P(Re,z,ce,Cr,yt))}yt="";P(R,z,ht,"k",yt);P(Re,z,ce,"k",yt);for(var Ll=0;Ll<10;Ll++){var Do=Ll.toString();yt=String.fromCharCode(55349,57294+Ll),P(R,z,ht,Do,yt),P(Re,z,ce,Do,yt),yt=String.fromCharCode(55349,57314+Ll),P(R,z,ht,Do,yt),P(Re,z,ce,Do,yt),yt=String.fromCharCode(55349,57324+Ll),P(R,z,ht,Do,yt),P(Re,z,ce,Do,yt),yt=String.fromCharCode(55349,57334+Ll),P(R,z,ht,Do,yt),P(Re,z,ce,Do,yt)}var HS="";for(var i5=0;i5<HS.length;i5++){var um=HS.charAt(i5);P(R,z,ht,um,um),P(Re,z,ce,um,um)}var dm=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],bR=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Hbe=function(e,r){var n=e.charCodeAt(0),i=e.charCodeAt(1),s=(n-55296)*1024+(i-56320)+65536,a=r==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[dm[o][2],dm[o][a]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[bR[l][2],bR[l][a]]}else{if(s===120485||s===120486)return[dm[0][2],dm[0][a]];if(120486<s&&s<120782)return["",""];throw new $e("Unsupported character: "+e)}},f1=function(e,r,n){return or[n][e]&&or[n][e].replace&&(e=or[n][e].replace),{value:e,metrics:c7(e,r,n)}},Ps=function(e,r,n,i,s){var a=f1(e,r,n),o=a.metrics;e=a.value;var l;if(o){var u=o.italic;(n==="text"||i&&i.font==="mathit")&&(u=0),l=new as(e,o.height,o.depth,u,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+n+"'")),l=new as(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var f=i.getColor();f&&(l.style.color=f)}return l},Kbe=function(e,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&f1(e,"Main-Bold",r).metrics?Ps(e,"Main-Bold",r,n,i.concat(["mathbf"])):e==="\\"||or[r][e].font==="main"?Ps(e,"Main-Regular",r,n,i):Ps(e,"AMS-Regular",r,n,i.concat(["amsrm"]))},Gbe=function(e,r,n,i,s){return s!=="textord"&&f1(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Xbe=function(e,r,n){var i=e.mode,s=e.text,a=["mord"],o=i==="math"||i==="text"&&r.font,l=o?r.font:r.fontFamily,u="",f="";if(s.charCodeAt(0)===55349&&([u,f]=Hbe(s,i)),u.length>0)return Ps(s,u,i,r,a.concat(f));if(l){var p,m;if(l==="boldsymbol"){var v=Gbe(s,i,r,a,n);p=v.fontName,m=[v.fontClass]}else o?(p=nq[l].fontName,m=[l]):(p=hm(l,r.fontWeight,r.fontShape),m=[l,r.fontWeight,r.fontShape]);if(f1(s,p,i).metrics)return Ps(s,p,i,r,a.concat(m));if(eq.hasOwnProperty(s)&&p.slice(0,10)==="Typewriter"){for(var y=[],x=0;x<s.length;x++)y.push(Ps(s[x],p,i,r,a.concat(m)));return rq(y)}}if(n==="mathord")return Ps(s,"Math-Italic",i,r,a.concat(["mathnormal"]));if(n==="textord"){var b=or[i][s]&&or[i][s].font;if(b==="ams"){var S=hm("amsrm",r.fontWeight,r.fontShape);return Ps(s,S,i,r,a.concat("amsrm",r.fontWeight,r.fontShape))}else if(b==="main"||!b){var N=hm("textrm",r.fontWeight,r.fontShape);return Ps(s,N,i,r,a.concat(r.fontWeight,r.fontShape))}else{var A=hm(b,r.fontWeight,r.fontShape);return Ps(s,A,i,r,a.concat(A,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},Ybe=(t,e)=>{if(Qo(t.classes)!==Qo(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},Jbe=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],n=t[e+1];r instanceof as&&n instanceof as&&Ybe(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,t.splice(e+1,1),e--)}return t},d7=function(e){for(var r=0,n=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>r&&(r=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=r,e.depth=n,e.maxFontSize=i},ui=function(e,r,n,i){var s=new E0(e,r,n,i);return d7(s),s},tq=(t,e,r,n)=>new E0(t,e,r,n),Qbe=function(e,r,n){var i=ui([e],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=He(i.height),i.maxFontSize=1,i},Zbe=function(e,r,n,i){var s=new u7(e,r,n,i);return d7(s),s},rq=function(e){var r=new A0(e);return d7(r),r},ewe=function(e,r){return e instanceof A0?ui([],[e],r):e},twe=function(e){if(e.positionType==="individualShift"){for(var r=e.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,s=i,a=1;a<r.length;a++){var o=-r[a].shift-s-r[a].elem.depth,l=o-(r[a-1].elem.height+r[a-1].elem.depth);s=s+o,n.push({type:"kern",size:l}),n.push(r[a])}return{children:n,depth:i}}var u;if(e.positionType==="top"){for(var f=e.positionData,p=0;p<e.children.length;p++){var m=e.children[p];f-=m.type==="kern"?m.size:m.elem.height+m.elem.depth}u=f}else if(e.positionType==="bottom")u=-e.positionData;else{var v=e.children[0];if(v.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-v.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-v.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},rwe=function(e,r){for(var{children:n,depth:i}=twe(e),s=0,a=0;a<n.length;a++){var o=n[a];if(o.type==="elem"){var l=o.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var u=ui(["pstrut"],[]);u.style.height=He(s);for(var f=[],p=i,m=i,v=i,y=0;y<n.length;y++){var x=n[y];if(x.type==="kern")v+=x.size;else{var b=x.elem,S=x.wrapperClasses||[],N=x.wrapperStyle||{},A=ui(S,[u,b],void 0,N);A.style.top=He(-s-v-b.depth),x.marginLeft&&(A.style.marginLeft=x.marginLeft),x.marginRight&&(A.style.marginRight=x.marginRight),f.push(A),v+=b.height+b.depth}p=Math.min(p,v),m=Math.max(m,v)}var k=ui(["vlist"],f);k.style.height=He(m);var E;if(p<0){var j=ui([],[]),T=ui(["vlist"],[j]);T.style.height=He(-p);var M=ui(["vlist-s"],[new as("")]);E=[ui(["vlist-r"],[k,M]),ui(["vlist-r"],[T])]}else E=[ui(["vlist-r"],[k])];var I=ui(["vlist-t"],E);return E.length===2&&I.classes.push("vlist-t2"),I.height=m,I.depth=-p,I},nwe=(t,e)=>{var r=ui(["mspace"],[],e),n=Sr(t,e);return r.style.marginRight=He(n),r},hm=function(e,r,n){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return r==="textbf"&&n==="textit"?s="BoldItalic":r==="textbf"?s="Bold":r==="textit"?s="Italic":s="Regular",i+"-"+s},nq={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},iq={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},iwe=function(e,r){var[n,i,s]=iq[e],a=new Zo(n),o=new eo([a],{width:He(i),height:He(s),style:"width:"+He(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=tq(["overlay"],[o],r);return l.height=s,l.style.height=He(s),l.style.width=He(i),l},ge={fontMap:nq,makeSymbol:Ps,mathsym:Kbe,makeSpan:ui,makeSvgSpan:tq,makeLineSpan:Qbe,makeAnchor:Zbe,makeFragment:rq,wrapFragment:ewe,makeVList:rwe,makeOrd:Xbe,makeGlue:nwe,staticSvg:iwe,svgData:iq,tryCombineChars:Jbe},wr={number:3,unit:"mu"},zl={number:4,unit:"mu"},ja={number:5,unit:"mu"},swe={mord:{mop:wr,mbin:zl,mrel:ja,minner:wr},mop:{mord:wr,mop:wr,mrel:ja,minner:wr},mbin:{mord:zl,mop:zl,mopen:zl,minner:zl},mrel:{mord:ja,mop:ja,mopen:ja,minner:ja},mopen:{},mclose:{mop:wr,mbin:zl,mrel:ja,minner:wr},mpunct:{mord:wr,mop:wr,mrel:ja,mopen:wr,mclose:wr,mpunct:wr,minner:wr},minner:{mord:wr,mop:wr,mbin:zl,mrel:ja,mopen:wr,mpunct:wr,minner:wr}},awe={mord:{mop:wr},mop:{mord:wr,mop:wr},mbin:{},mrel:{},mopen:{},mclose:{mop:wr},mpunct:{},minner:{mop:wr}},sq={},nv={},iv={};function Ye(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)sq[r[l]]=o;e&&(s&&(nv[e]=s),a&&(iv[e]=a))}function Ac(t){var{type:e,htmlBuilder:r,mathmlBuilder:n}=t;Ye({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var sv=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ir=function(e){return e.type==="ordgroup"?e.body:[e]},to=ge.makeSpan,owe=["leftmost","mbin","mopen","mrel","mop","mpunct"],lwe=["rightmost","mrel","mclose","mpunct"],cwe={display:ft.DISPLAY,text:ft.TEXT,script:ft.SCRIPT,scriptscript:ft.SCRIPTSCRIPT},uwe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},nn=function(e,r,n,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=Bt(e[a],r);if(o instanceof A0){var l=o.children;s.push(...l)}else s.push(o)}if(ge.tryCombineChars(s),!n)return s;var u=r;if(e.length===1){var f=e[0];f.type==="sizing"?u=r.havingSize(f.size):f.type==="styling"&&(u=r.havingStyle(cwe[f.style]))}var p=to([i[0]||"leftmost"],[],r),m=to([i[1]||"rightmost"],[],r),v=n==="root";return wR(s,(y,x)=>{var b=x.classes[0],S=y.classes[0];b==="mbin"&&lwe.includes(S)?x.classes[0]="mord":S==="mbin"&&owe.includes(b)&&(y.classes[0]="mord")},{node:p},m,v),wR(s,(y,x)=>{var b=KS(x),S=KS(y),N=b&&S?y.hasClass("mtight")?awe[b][S]:swe[b][S]:null;if(N)return ge.makeGlue(N,u)},{node:p},m,v),s},wR=function t(e,r,n,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var o=e[a],l=aq(o);if(l){t(l.children,r,n,null,s);continue}var u=!o.hasClass("mspace");if(u){var f=r(o,n.node);f&&(n.insertAfter?n.insertAfter(f):(e.unshift(f),a++))}u?n.node=o:s&&o.hasClass("newline")&&(n.node=to(["leftmost"])),n.insertAfter=(p=>m=>{e.splice(p+1,0,m),a++})(a)}i&&e.pop()},aq=function(e){return e instanceof A0||e instanceof u7||e instanceof E0&&e.hasClass("enclosing")?e:null},dwe=function t(e,r){var n=aq(e);if(n){var i=n.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},KS=function(e,r){return e?(r&&(e=dwe(e,r)),uwe[e.classes[0]]||null):null},t0=function(e,r){var n=["nulldelimiter"].concat(e.baseSizingClasses());return to(r.concat(n))},Bt=function(e,r,n){if(!e)return to();if(nv[e.type]){var i=nv[e.type](e,r);if(n&&r.size!==n.size){i=to(r.sizingClasses(n),[i],r);var s=r.sizeMultiplier/n.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new $e("Got group of unknown type: '"+e.type+"'")};function fm(t,e){var r=to(["base"],t,e),n=to(["strut"]);return n.style.height=He(r.height+r.depth),r.depth&&(n.style.verticalAlign=He(-r.depth)),r.children.unshift(n),r}function GS(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var n=nn(t,e,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var s=[],a=[],o=0;o<n.length;o++)if(a.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var l=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,a.push(n[o]),n[o].hasClass("nobreak")&&(l=!0);l||(s.push(fm(a,e)),a=[])}else n[o].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(fm(a,e)),a=[]),s.push(n[o]));a.length>0&&s.push(fm(a,e));var u;r?(u=fm(nn(r,e,!0)),u.classes=["tag"],s.push(u)):i&&s.push(i);var f=to(["katex-html"],s);if(f.setAttribute("aria-hidden","true"),u){var p=u.children[0];p.style.height=He(f.height+f.depth),f.depth&&(p.style.verticalAlign=He(-f.depth))}return f}function oq(t){return new A0(t)}class Di{constructor(e,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=Qo(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof ia&&this.children[n+1]instanceof ia){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof ia;)i+=this.children[++n].toText();e.appendChild(new ia(i).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=Ht.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+Ht.escape(Qo(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class ia{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ht.escape(this.toText())}toText(){return this.text}}class hwe{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",He(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+He(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Fe={MathNode:Di,TextNode:ia,SpaceNode:hwe,newDocumentFragment:oq},os=function(e,r,n){return or[r][e]&&or[r][e].replace&&e.charCodeAt(0)!==55349&&!(eq.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=or[r][e].replace),new Fe.TextNode(e)},h7=function(e){return e.length===1?e[0]:new Fe.MathNode("mrow",e)},f7=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var s=e.text;if(["\\imath","\\jmath"].includes(s))return null;or[i][s]&&or[i][s].replace&&(s=or[i][s].replace);var a=ge.fontMap[n].fontName;return c7(s,a,i)?ge.fontMap[n].variant:null};function s5(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof ia&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof ia&&r.text===","}else return!1}var wi=function(e,r,n){if(e.length===1){var i=ir(e[0],r);return n&&i instanceof Di&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,o=0;o<e.length;o++){var l=ir(e[o],r);if(l instanceof Di&&a instanceof Di){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(s5(l)&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mn"&&s5(a))l.children=[...a.children,...l.children],s.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(a.type==="mn"||s5(a))){var u=l.children[0];u instanceof Di&&u.type==="mn"&&(u.children=[...a.children,...u.children],s.pop())}else if(a.type==="mi"&&a.children.length===1){var f=a.children[0];if(f instanceof ia&&f.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var p=l.children[0];p instanceof ia&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),s.pop())}}}s.push(l),a=l}return s},el=function(e,r,n){return h7(wi(e,r,n))},ir=function(e,r){if(!e)return new Fe.MathNode("mrow");if(iv[e.type]){var n=iv[e.type](e,r);return n}else throw new $e("Got group of unknown type: '"+e.type+"'")};function SR(t,e,r,n,i){var s=wi(t,r),a;s.length===1&&s[0]instanceof Di&&["mrow","mtable"].includes(s[0].type)?a=s[0]:a=new Fe.MathNode("mrow",s);var o=new Fe.MathNode("annotation",[new Fe.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new Fe.MathNode("semantics",[a,o]),u=new Fe.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var f=i?"katex":"katex-mathml";return ge.makeSpan([f],[u])}var lq=function(e){return new Ma({style:e.displayMode?ft.DISPLAY:ft.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},cq=function(e,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),e=ge.makeSpan(n,[e])}return e},fwe=function(e,r,n){var i=lq(n),s;if(n.output==="mathml")return SR(e,r,i,n.displayMode,!0);if(n.output==="html"){var a=GS(e,i);s=ge.makeSpan(["katex"],[a])}else{var o=SR(e,r,i,n.displayMode,!1),l=GS(e,i);s=ge.makeSpan(["katex"],[o,l])}return cq(s,n)},pwe=function(e,r,n){var i=lq(n),s=GS(e,i),a=ge.makeSpan(["katex"],[s]);return cq(a,n)},mwe={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},gwe=function(e){var r=new Fe.MathNode("mo",[new Fe.TextNode(mwe[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},vwe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},ywe=function(e){return e.type==="ordgroup"?e.body.length:1},xwe=function(e,r){function n(){var o=4e5,l=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(l)){var u=e,f=ywe(u.base),p,m,v;if(f>5)l==="widehat"||l==="widecheck"?(p=420,o=2364,v=.42,m=l+"4"):(p=312,o=2340,v=.34,m="tilde4");else{var y=[1,1,2,2,3,3][f];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][y],p=[0,239,300,360,420][y],v=[0,.24,.3,.3,.36,.42][y],m=l+y):(o=[0,600,1033,2339,2340][y],p=[0,260,286,306,312][y],v=[0,.26,.286,.3,.306,.34][y],m="tilde"+y)}var x=new Zo(m),b=new eo([x],{width:"100%",height:He(v),viewBox:"0 0 "+o+" "+p,preserveAspectRatio:"none"});return{span:ge.makeSvgSpan([],[b],r),minWidth:0,height:v}}else{var S=[],N=vwe[l],[A,k,E]=N,j=E/1e3,T=A.length,M,I;if(T===1){var q=N[3];M=["hide-tail"],I=[q]}else if(T===2)M=["halfarrow-left","halfarrow-right"],I=["xMinYMin","xMaxYMin"];else if(T===3)M=["brace-left","brace-center","brace-right"],I=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+T+" children.");for(var D=0;D<T;D++){var L=new Zo(A[D]),V=new eo([L],{width:"400em",height:He(j),viewBox:"0 0 "+o+" "+E,preserveAspectRatio:I[D]+" slice"}),K=ge.makeSvgSpan([M[D]],[V],r);if(T===1)return{span:K,minWidth:k,height:j};K.style.height=He(j),S.push(K)}return{span:ge.makeSpan(["stretchy"],S,r),minWidth:k,height:j}}}var{span:i,minWidth:s,height:a}=n();return i.height=a,i.style.height=He(a),s>0&&(i.style.minWidth=He(s)),i},bwe=function(e,r,n,i,s){var a,o=e.height+e.depth+n+i;if(/fbox|color|angl/.test(r)){if(a=ge.makeSpan(["stretchy",r],[],s),r==="fbox"){var l=s.color&&s.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new WS({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new WS({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var f=new eo(u,{width:"100%",height:He(o)});a=ge.makeSvgSpan([],[f],s)}return a.height=o,a.style.height=He(o),a},ro={encloseSpan:bwe,mathMLnode:gwe,svgSpan:xwe};function kt(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function p7(t){var e=p1(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function p1(t){return t&&(t.type==="atom"||Wbe.hasOwnProperty(t.type))?t:null}var m7=(t,e)=>{var r,n,i;t&&t.type==="supsub"?(n=kt(t.base,"accent"),r=n.base,t.base=r,i=Ube(Bt(t,e)),t.base=n):(n=kt(t,"accent"),r=n.base);var s=Bt(r,e.havingCrampedStyle()),a=n.isShifty&&Ht.isCharacterBox(r),o=0;if(a){var l=Ht.getBaseElem(r),u=Bt(l,e.havingCrampedStyle());o=mR(u).skew}var f=n.label==="\\c",p=f?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),m;if(n.isStretchy)m=ro.svgSpan(n,e),m=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:m,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+He(2*o)+")",marginLeft:He(2*o)}:void 0}]},e);else{var v,y;n.label==="\\vec"?(v=ge.staticSvg("vec",e),y=ge.svgData.vec[1]):(v=ge.makeOrd({mode:n.mode,text:n.label},e,"textord"),v=mR(v),v.italic=0,y=v.width,f&&(p+=v.depth)),m=ge.makeSpan(["accent-body"],[v]);var x=n.label==="\\textcircled";x&&(m.classes.push("accent-full"),p=s.height);var b=o;x||(b-=y/2),m.style.left=He(b),n.label==="\\textcircled"&&(m.style.top=".2em"),m=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-p},{type:"elem",elem:m}]},e)}var S=ge.makeSpan(["mord","accent"],[m],e);return i?(i.children[0]=S,i.height=Math.max(S.height,i.height),i.classes[0]="mord",i):S},uq=(t,e)=>{var r=t.isStretchy?ro.mathMLnode(t.label):new Fe.MathNode("mo",[os(t.label,t.mode)]),n=new Fe.MathNode("mover",[ir(t.base,e),r]);return n.setAttribute("accent","true"),n},wwe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Ye({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=sv(e[0]),n=!wwe.test(t.funcName),i=!n||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:m7,mathmlBuilder:uq});Ye({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],n=t.parser.mode;return n==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:m7,mathmlBuilder:uq});Ye({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(t,e)=>{var r=Bt(t.base,e),n=ro.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=ge.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return ge.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var r=ro.mathMLnode(t.label),n=new Fe.MathNode("munder",[ir(t.base,e),r]);return n.setAttribute("accentunder","true"),n}});var pm=t=>{var e=new Fe.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Ye({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n,funcName:i}=t;return{type:"xArrow",mode:n.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,n=e.havingStyle(r.sup()),i=ge.wrapFragment(Bt(t.body,n,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;t.below&&(n=e.havingStyle(r.sub()),a=ge.wrapFragment(Bt(t.below,n,e),e),a.classes.push(s+"-arrow-pad"));var o=ro.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var f;if(a){var p=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;f=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:a,shift:p}]},e)}else f=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},e);return f.children[0].children[0].children[1].classes.push("svg-align"),ge.makeSpan(["mrel","x-arrow"],[f],e)},mathmlBuilder(t,e){var r=ro.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(t.body){var i=pm(ir(t.body,e));if(t.below){var s=pm(ir(t.below,e));n=new Fe.MathNode("munderover",[r,s,i])}else n=new Fe.MathNode("mover",[r,i])}else if(t.below){var a=pm(ir(t.below,e));n=new Fe.MathNode("munder",[r,a])}else n=pm(),n=new Fe.MathNode("mover",[r,n]);return n}});var Swe=ge.makeSpan;function dq(t,e){var r=nn(t.body,e,!0);return Swe([t.mclass],r,e)}function hq(t,e){var r,n=wi(t.body,e);return t.mclass==="minner"?r=new Fe.MathNode("mpadded",n):t.mclass==="mord"?t.isCharacterBox?(r=n[0],r.type="mi"):r=new Fe.MathNode("mi",n):(t.isCharacterBox?(r=n[0],r.type="mo"):r=new Fe.MathNode("mo",n),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Ye({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:Ir(i),isCharacterBox:Ht.isCharacterBox(i)}},htmlBuilder:dq,mathmlBuilder:hq});var m1=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Ye({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:m1(e[0]),body:Ir(e[1]),isCharacterBox:Ht.isCharacterBox(e[1])}}});Ye({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:n}=t,i=e[1],s=e[0],a;n!=="\\stackrel"?a=m1(i):a="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Ir(i)},l={type:"supsub",mode:s.mode,base:o,sup:n==="\\underset"?null:s,sub:n==="\\underset"?s:null};return{type:"mclass",mode:r.mode,mclass:a,body:[l],isCharacterBox:Ht.isCharacterBox(l)}},htmlBuilder:dq,mathmlBuilder:hq});Ye({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:m1(e[0]),body:Ir(e[0])}},htmlBuilder(t,e){var r=nn(t.body,e,!0),n=ge.makeSpan([t.mclass],r,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(t,e){var r=wi(t.body,e),n=new Fe.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var _we={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},_R=()=>({type:"styling",body:[],mode:"math",style:"display"}),NR=t=>t.type==="textord"&&t.text==="@",Nwe=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function Awe(t,e,r){var n=_we[t];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:n,mode:"math",family:"rel"},a=r.callFunction("\\Big",[s],[]),o=r.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,a,o]};return r.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Ewe(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new $e("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var n=[],i=[n],s=0;s<e.length;s++){for(var a=e[s],o=_R(),l=0;l<a.length;l++)if(!NR(a[l]))o.body.push(a[l]);else{n.push(o),l+=1;var u=p7(a[l]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var p=0;p<2;p++){for(var m=!0,v=l+1;v<a.length;v++){if(Nwe(a[v],u)){m=!1,l=v;break}if(NR(a[v]))throw new $e("Missing a "+u+" character to complete a CD arrow.",a[v]);f[p].body.push(a[v])}if(m)throw new $e("Missing a "+u+" character to complete a CD arrow.",a[l])}else throw new $e('Expected one of "<>AV=|." after @',a[l]);var y=Awe(u,f,t),x={type:"styling",body:[y],mode:"math",style:"display"};n.push(x),o=_R()}s%2===0?n.push(o):n.shift(),n=[],i.push(n)}t.gullet.endGroup(),t.gullet.endGroup();var b=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Ye({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),n=ge.wrapFragment(Bt(t.label,r,e),e);return n.classes.push("cd-label-"+t.side),n.style.bottom=He(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(t,e){var r=new Fe.MathNode("mrow",[ir(t.label,e)]);return r=new Fe.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new Fe.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Ye({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=ge.wrapFragment(Bt(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new Fe.MathNode("mrow",[ir(t.fragment,e)])}});Ye({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,n=kt(e[0],"ordgroup"),i=n.body,s="",a=0;a<i.length;a++){var o=kt(i[a],"textord");s+=o.text}var l=parseInt(s),u;if(isNaN(l))throw new $e("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new $e("\\@char with invalid code point "+s);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var fq=(t,e)=>{var r=nn(t.body,e.withColor(t.color),!1);return ge.makeFragment(r)},pq=(t,e)=>{var r=wi(t.body,e.withColor(t.color)),n=new Fe.MathNode("mstyle",r);return n.setAttribute("mathcolor",t.color),n};Ye({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,n=kt(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:n,body:Ir(i)}},htmlBuilder:fq,mathmlBuilder:pq});Ye({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:n}=t,i=kt(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var s=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:s}},htmlBuilder:fq,mathmlBuilder:pq});Ye({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:n}=t,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,s=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:s,size:i&&kt(i,"size").value}},htmlBuilder(t,e){var r=ge.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=He(Sr(t.size,e)))),r},mathmlBuilder(t,e){var r=new Fe.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",He(Sr(t.size,e)))),r}});var XS={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},mq=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new $e("Expected a control sequence",t);return e},Cwe=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},gq=(t,e,r,n)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,n)};Ye({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var n=e.fetch();if(XS[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=XS[n.text]),kt(e.parseFunction(),"internal");throw new $e("Invalid token after macro prefix",n)}});Ye({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=e.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new $e("Expected a control sequence",n);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new $e('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new $e('Argument number "'+n.text+'" out of order');s++,o.push([])}else{if(n.text==="EOF")throw new $e("Expected a macro definition");o[s].push(n.text)}var{tokens:l}=e.gullet.consumeArg();return a&&l.unshift(a),(r==="\\edef"||r==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:o},r===XS[r]),{type:"internal",mode:e.mode}}});Ye({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=mq(e.gullet.popToken());e.gullet.consumeSpaces();var i=Cwe(e);return gq(e,n,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});Ye({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,n=mq(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return gq(e,n,s,r==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Bh=function(e,r,n){var i=or.math[e]&&or.math[e].replace,s=c7(i||e,r,n);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return s},g7=function(e,r,n,i){var s=n.havingBaseStyle(r),a=ge.makeSpan(i.concat(s.sizingClasses(n)),[e],n),o=s.sizeMultiplier/n.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},vq=function(e,r,n){var i=r.havingBaseStyle(n),s=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=He(s),e.height-=s,e.depth+=s},kwe=function(e,r,n,i,s,a){var o=ge.makeSymbol(e,"Main-Regular",s,i),l=g7(o,r,i,a);return n&&vq(l,i,r),l},jwe=function(e,r,n,i){return ge.makeSymbol(e,"Size"+r+"-Regular",n,i)},yq=function(e,r,n,i,s,a){var o=jwe(e,r,s,i),l=g7(ge.makeSpan(["delimsizing","size"+r],[o],i),ft.TEXT,i,a);return n&&vq(l,i,ft.TEXT),l},a5=function(e,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=ge.makeSpan(["delimsizinginner",i],[ge.makeSpan([],[ge.makeSymbol(e,r,n)])]);return{type:"elem",elem:s}},o5=function(e,r,n){var i=na["Size4-Regular"][e.charCodeAt(0)]?na["Size4-Regular"][e.charCodeAt(0)][4]:na["Size1-Regular"][e.charCodeAt(0)][4],s=new Zo("inner",Rbe(e,Math.round(1e3*r))),a=new eo([s],{width:He(i),height:He(r),style:"width:"+He(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),o=ge.makeSvgSpan([],[a],n);return o.height=r,o.style.height=He(r),o.style.width=He(i),{type:"elem",elem:o}},YS=.008,mm={type:"kern",size:-1*YS},Pwe=["|","\\lvert","\\rvert","\\vert"],Twe=["\\|","\\lVert","\\rVert","\\Vert"],xq=function(e,r,n,i,s,a){var o,l,u,f,p="",m=0;o=u=f=e,l=null;var v="Size1-Regular";e==="\\uparrow"?u=f="":e==="\\Uparrow"?u=f="":e==="\\downarrow"?o=u="":e==="\\Downarrow"?o=u="":e==="\\updownarrow"?(o="\\uparrow",u="",f="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="",f="\\Downarrow"):Pwe.includes(e)?(u="",p="vert",m=333):Twe.includes(e)?(u="",p="doublevert",m=556):e==="["||e==="\\lbrack"?(o="",u="",f="",v="Size4-Regular",p="lbrack",m=667):e==="]"||e==="\\rbrack"?(o="",u="",f="",v="Size4-Regular",p="rbrack",m=667):e==="\\lfloor"||e===""?(u=o="",f="",v="Size4-Regular",p="lfloor",m=667):e==="\\lceil"||e===""?(o="",u=f="",v="Size4-Regular",p="lceil",m=667):e==="\\rfloor"||e===""?(u=o="",f="",v="Size4-Regular",p="rfloor",m=667):e==="\\rceil"||e===""?(o="",u=f="",v="Size4-Regular",p="rceil",m=667):e==="("||e==="\\lparen"?(o="",u="",f="",v="Size4-Regular",p="lparen",m=875):e===")"||e==="\\rparen"?(o="",u="",f="",v="Size4-Regular",p="rparen",m=875):e==="\\{"||e==="\\lbrace"?(o="",l="",f="",u="",v="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",l="",f="",u="",v="Size4-Regular"):e==="\\lgroup"||e===""?(o="",f="",u="",v="Size4-Regular"):e==="\\rgroup"||e===""?(o="",f="",u="",v="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",f="",u="",v="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",f="",u="",v="Size4-Regular");var y=Bh(o,v,s),x=y.height+y.depth,b=Bh(u,v,s),S=b.height+b.depth,N=Bh(f,v,s),A=N.height+N.depth,k=0,E=1;if(l!==null){var j=Bh(l,v,s);k=j.height+j.depth,E=2}var T=x+A+k,M=Math.max(0,Math.ceil((r-T)/(E*S))),I=T+M*E*S,q=i.fontMetrics().axisHeight;n&&(q*=i.sizeMultiplier);var D=I/2-q,L=[];if(p.length>0){var V=I-x-A,K=Math.round(I*1e3),Y=Ibe(p,Math.round(V*1e3)),J=new Zo(p,Y),te=(m/1e3).toFixed(3)+"em",U=(K/1e3).toFixed(3)+"em",X=new eo([J],{width:te,height:U,viewBox:"0 0 "+m+" "+K}),ie=ge.makeSvgSpan([],[X],i);ie.height=K/1e3,ie.style.width=te,ie.style.height=U,L.push({type:"elem",elem:ie})}else{if(L.push(a5(f,v,s)),L.push(mm),l===null){var G=I-x-A+2*YS;L.push(o5(u,G,i))}else{var F=(I-x-A-k)/2+2*YS;L.push(o5(u,F,i)),L.push(mm),L.push(a5(l,v,s)),L.push(mm),L.push(o5(u,F,i))}L.push(mm),L.push(a5(o,v,s))}var Q=i.havingBaseStyle(ft.TEXT),le=ge.makeVList({positionType:"bottom",positionData:D,children:L},Q);return g7(ge.makeSpan(["delimsizing","mult"],[le],Q),ft.TEXT,i,a)},l5=80,c5=.08,u5=function(e,r,n,i,s){var a=Obe(e,i,n),o=new Zo(e,a),l=new eo([o],{width:"400em",height:He(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return ge.makeSvgSpan(["hide-tail"],[l],s)},Mwe=function(e,r){var n=r.havingBaseSizing(),i=_q("\\surd",e*n.sizeMultiplier,Sq,n),s=n.sizeMultiplier,a=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),o,l=0,u=0,f=0,p;return i.type==="small"?(f=1e3+1e3*a+l5,e<1?s=1:e<1.4&&(s=.7),l=(1+a+c5)/s,u=(1+a)/s,o=u5("sqrtMain",l,f,a,r),o.style.minWidth="0.853em",p=.833/s):i.type==="large"?(f=(1e3+l5)*nf[i.size],u=(nf[i.size]+a)/s,l=(nf[i.size]+a+c5)/s,o=u5("sqrtSize"+i.size,l,f,a,r),o.style.minWidth="1.02em",p=1/s):(l=e+a+c5,u=e+a,f=Math.floor(1e3*e+a)+l5,o=u5("sqrtTall",l,f,a,r),o.style.minWidth="0.742em",p=1.056),o.height=u,o.style.height=He(l),{span:o,advanceWidth:p,ruleWidth:(r.fontMetrics().sqrtRuleThickness+a)*s}},bq=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Owe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],wq=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],nf=[0,1.2,1.8,2.4,3],Rwe=function(e,r,n,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),bq.includes(e)||wq.includes(e))return yq(e,r,!1,n,i,s);if(Owe.includes(e))return xq(e,nf[r],!1,n,i,s);throw new $e("Illegal delimiter: '"+e+"'")},Iwe=[{type:"small",style:ft.SCRIPTSCRIPT},{type:"small",style:ft.SCRIPT},{type:"small",style:ft.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Dwe=[{type:"small",style:ft.SCRIPTSCRIPT},{type:"small",style:ft.SCRIPT},{type:"small",style:ft.TEXT},{type:"stack"}],Sq=[{type:"small",style:ft.SCRIPTSCRIPT},{type:"small",style:ft.SCRIPT},{type:"small",style:ft.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Lwe=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},_q=function(e,r,n,i){for(var s=Math.min(2,3-i.style.size),a=s;a<n.length&&n[a].type!=="stack";a++){var o=Bh(e,Lwe(n[a]),"math"),l=o.height+o.depth;if(n[a].type==="small"){var u=i.havingBaseStyle(n[a].style);l*=u.sizeMultiplier}if(l>r)return n[a]}return n[n.length-1]},Nq=function(e,r,n,i,s,a){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;wq.includes(e)?o=Iwe:bq.includes(e)?o=Sq:o=Dwe;var l=_q(e,r,o,i);return l.type==="small"?kwe(e,l.style,n,i,s,a):l.type==="large"?yq(e,l.size,n,i,s,a):xq(e,r,n,i,s,a)},zwe=function(e,r,n,i,s,a){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,f=Math.max(r-o,n+o),p=Math.max(f/500*l,2*f-u);return Nq(e,p,!0,i,s,a)},Va={sqrtImage:Mwe,sizedDelim:Rwe,sizeToMaxHeight:nf,customSizedDelim:Nq,leftRightDelim:zwe},AR={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Fwe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function g1(t,e){var r=p1(t);if(r&&Fwe.includes(r.text))return r;throw r?new $e("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new $e("Invalid delimiter type '"+t.type+"'",t)}Ye({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=g1(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:AR[t.funcName].size,mclass:AR[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?ge.makeSpan([t.mclass]):Va.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(os(t.delim,t.mode));var r=new Fe.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=He(Va.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function ER(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ye({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new $e("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:g1(e[0],t).text,color:r}}});Ye({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=g1(e[0],t),n=t.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var s=kt(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{ER(t);for(var r=nn(t.body,e,!0,["mopen","mclose"]),n=0,i=0,s=!1,a=0;a<r.length;a++)r[a].isMiddle?s=!0:(n=Math.max(r[a].height,n),i=Math.max(r[a].depth,i));n*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=t0(e,["mopen"]):o=Va.leftRightDelim(t.left,n,i,e,t.mode,["mopen"]),r.unshift(o),s)for(var l=1;l<r.length;l++){var u=r[l],f=u.isMiddle;f&&(r[l]=Va.leftRightDelim(f.delim,n,i,f.options,t.mode,[]))}var p;if(t.right===".")p=t0(e,["mclose"]);else{var m=t.rightColor?e.withColor(t.rightColor):e;p=Va.leftRightDelim(t.right,n,i,m,t.mode,["mclose"])}return r.push(p),ge.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{ER(t);var r=wi(t.body,e);if(t.left!=="."){var n=new Fe.MathNode("mo",[os(t.left,t.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(t.right!=="."){var i=new Fe.MathNode("mo",[os(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return h7(r)}});Ye({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=g1(e[0],t);if(!t.parser.leftrightDepth)throw new $e("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=t0(e,[]);else{r=Va.sizedDelim(t.delim,1,e,t.mode,[]);var n={delim:t.delim,options:e};r.isMiddle=n}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?os("|","text"):os(t.delim,t.mode),n=new Fe.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var v7=(t,e)=>{var r=ge.wrapFragment(Bt(t.body,e),e),n=t.label.slice(1),i=e.sizeMultiplier,s,a=0,o=Ht.isCharacterBox(t.body);if(n==="sout")s=ge.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var l=Sr({number:.6,unit:"pt"},e),u=Sr({number:.35,unit:"ex"},e),f=e.havingBaseSizing();i=i/f.sizeMultiplier;var p=r.height+r.depth+l+u;r.style.paddingLeft=He(p/2+l);var m=Math.floor(1e3*p*i),v=Tbe(m),y=new eo([new Zo("phase",v)],{width:"400em",height:He(m/1e3),viewBox:"0 0 400000 "+m,preserveAspectRatio:"xMinYMin slice"});s=ge.makeSvgSpan(["hide-tail"],[y],e),s.style.height=He(p),a=r.depth+l+u}else{/cancel/.test(n)?o||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var x=0,b=0,S=0;/box/.test(n)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),x=e.fontMetrics().fboxsep+(n==="colorbox"?0:S),b=x):n==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),x=4*S,b=Math.max(0,.25-r.depth)):(x=o?.2:0,b=x),s=ro.encloseSpan(r,n,x,b,e),/fbox|boxed|fcolorbox/.test(n)?(s.style.borderStyle="solid",s.style.borderWidth=He(S)):n==="angl"&&S!==.049&&(s.style.borderTopWidth=He(S),s.style.borderRightWidth=He(S)),a=r.depth+b,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var N;if(t.backgroundColor)N=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:r,shift:0}]},e);else{var A=/cancel|phase/.test(n)?["svg-align"]:[];N=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:A}]},e)}return/cancel/.test(n)&&(N.height=r.height,N.depth=r.depth),/cancel/.test(n)&&!o?ge.makeSpan(["mord","cancel-lap"],[N],e):ge.makeSpan(["mord"],[N],e)},y7=(t,e)=>{var r=0,n=new Fe.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ir(t.body,e)]);switch(t.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&n.setAttribute("mathbackground",t.backgroundColor),n};Ye({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,s=kt(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:v7,mathmlBuilder:y7});Ye({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:n,funcName:i}=t,s=kt(e[0],"color-token").color,a=kt(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:v7,mathmlBuilder:y7});Ye({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});Ye({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:v7,mathmlBuilder:y7});Ye({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var Aq={};function fa(t){for(var{type:e,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)Aq[r[l]]=o;s&&(nv[e]=s),a&&(iv[e]=a)}var Eq={};function $(t,e){Eq[t]=e}function CR(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var v1=t=>{var e=t.parser.settings;if(!e.displayMode)throw new $e("{"+t.envName+"} can be used only in display mode.")};function x7(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function ul(t,e,r){var{hskipBeforeAndAfter:n,addJot:i,cols:s,arraystretch:a,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:f,maxNumCols:p,leqno:m}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var v=t.gullet.expandMacroAsText("\\arraystretch");if(v==null)a=1;else if(a=parseFloat(v),!a||a<0)throw new $e("Invalid \\arraystretch: "+v)}t.gullet.beginGroup();var y=[],x=[y],b=[],S=[],N=l!=null?[]:void 0;function A(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function k(){N&&(t.gullet.macros.get("\\df@tag")?(N.push(t.subparse([new zi("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):N.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),S.push(CR(t));;){var E=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),E={type:"ordgroup",mode:t.mode,body:E},r&&(E={type:"styling",mode:t.mode,style:r,body:[E]}),y.push(E);var j=t.fetch().text;if(j==="&"){if(p&&y.length===p){if(u||o)throw new $e("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(j==="\\end"){k(),y.length===1&&E.type==="styling"&&E.body[0].body.length===0&&(x.length>1||!f)&&x.pop(),S.length<x.length+1&&S.push([]);break}else if(j==="\\\\"){t.consume();var T=void 0;t.gullet.future().text!==" "&&(T=t.parseSizeGroup(!0)),b.push(T?T.value:null),k(),S.push(CR(t)),y=[],x.push(y),A()}else throw new $e("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:x,cols:s,rowGaps:b,hskipBeforeAndAfter:n,hLinesBeforeRow:S,colSeparationType:o,tags:N,leqno:m}}function b7(t){return t.slice(0,1)==="d"?"display":"text"}var pa=function(e,r){var n,i,s=e.body.length,a=e.hLinesBeforeRow,o=0,l=new Array(s),u=[],f=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),p=1/r.fontMetrics().ptPerEm,m=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var v=r.havingStyle(ft.SCRIPT).sizeMultiplier;m=.2778*(v/r.sizeMultiplier)}var y=e.colSeparationType==="CD"?Sr({number:3,unit:"ex"},r):12*p,x=3*p,b=e.arraystretch*y,S=.7*b,N=.3*b,A=0;function k(Ae){for(var H=0;H<Ae.length;++H)H>0&&(A+=.25),u.push({pos:A,isDashed:Ae[H]})}for(k(a[0]),n=0;n<e.body.length;++n){var E=e.body[n],j=S,T=N;o<E.length&&(o=E.length);var M=new Array(E.length);for(i=0;i<E.length;++i){var I=Bt(E[i],r);T<I.depth&&(T=I.depth),j<I.height&&(j=I.height),M[i]=I}var q=e.rowGaps[n],D=0;q&&(D=Sr(q,r),D>0&&(D+=N,T<D&&(T=D),D=0)),e.addJot&&(T+=x),M.height=j,M.depth=T,A+=j,M.pos=A,A+=T+D,l[n]=M,k(a[n+1])}var L=A/2+r.fontMetrics().axisHeight,V=e.cols||[],K=[],Y,J,te=[];if(e.tags&&e.tags.some(Ae=>Ae))for(n=0;n<s;++n){var U=l[n],X=U.pos-L,ie=e.tags[n],G=void 0;ie===!0?G=ge.makeSpan(["eqn-num"],[],r):ie===!1?G=ge.makeSpan([],[],r):G=ge.makeSpan([],nn(ie,r,!0),r),G.depth=U.depth,G.height=U.height,te.push({type:"elem",elem:G,shift:X})}for(i=0,J=0;i<o||J<V.length;++i,++J){for(var F=V[J]||{},Q=!0;F.type==="separator";){if(Q||(Y=ge.makeSpan(["arraycolsep"],[]),Y.style.width=He(r.fontMetrics().doubleRuleSep),K.push(Y)),F.separator==="|"||F.separator===":"){var le=F.separator==="|"?"solid":"dashed",xe=ge.makeSpan(["vertical-separator"],[],r);xe.style.height=He(A),xe.style.borderRightWidth=He(f),xe.style.borderRightStyle=le,xe.style.margin="0 "+He(-f/2);var be=A-L;be&&(xe.style.verticalAlign=He(-be)),K.push(xe)}else throw new $e("Invalid separator type: "+F.separator);J++,F=V[J]||{},Q=!1}if(!(i>=o)){var ae=void 0;(i>0||e.hskipBeforeAndAfter)&&(ae=Ht.deflt(F.pregap,m),ae!==0&&(Y=ge.makeSpan(["arraycolsep"],[]),Y.style.width=He(ae),K.push(Y)));var we=[];for(n=0;n<s;++n){var fe=l[n],Se=fe[i];if(Se){var Pe=fe.pos-L;Se.depth=fe.depth,Se.height=fe.height,we.push({type:"elem",elem:Se,shift:Pe})}}we=ge.makeVList({positionType:"individualShift",children:we},r),we=ge.makeSpan(["col-align-"+(F.align||"c")],[we]),K.push(we),(i<o-1||e.hskipBeforeAndAfter)&&(ae=Ht.deflt(F.postgap,m),ae!==0&&(Y=ge.makeSpan(["arraycolsep"],[]),Y.style.width=He(ae),K.push(Y)))}}if(l=ge.makeSpan(["mtable"],K),u.length>0){for(var he=ge.makeLineSpan("hline",r,f),Be=ge.makeLineSpan("hdashline",r,f),Te=[{type:"elem",elem:l,shift:0}];u.length>0;){var We=u.pop(),Me=We.pos-L;We.isDashed?Te.push({type:"elem",elem:Be,shift:Me}):Te.push({type:"elem",elem:he,shift:Me})}l=ge.makeVList({positionType:"individualShift",children:Te},r)}if(te.length===0)return ge.makeSpan(["mord"],[l],r);var ve=ge.makeVList({positionType:"individualShift",children:te},r);return ve=ge.makeSpan(["tag"],[ve],r),ge.makeFragment([l,ve])},Bwe={c:"center ",l:"left ",r:"right "},ma=function(e,r){for(var n=[],i=new Fe.MathNode("mtd",[],["mtr-glue"]),s=new Fe.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],l=[],u=0;u<o.length;u++)l.push(new Fe.MathNode("mtd",[ir(o[u],r)]));e.tags&&e.tags[a]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),n.push(new Fe.MathNode("mtr",l))}var f=new Fe.MathNode("mtable",n),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);f.setAttribute("rowspacing",He(p));var m="",v="";if(e.cols&&e.cols.length>0){var y=e.cols,x="",b=!1,S=0,N=y.length;y[0].type==="separator"&&(m+="top ",S=1),y[y.length-1].type==="separator"&&(m+="bottom ",N-=1);for(var A=S;A<N;A++)y[A].type==="align"?(v+=Bwe[y[A].align],b&&(x+="none "),b=!0):y[A].type==="separator"&&b&&(x+=y[A].separator==="|"?"solid ":"dashed ",b=!1);f.setAttribute("columnalign",v.trim()),/[sd]/.test(x)&&f.setAttribute("columnlines",x.trim())}if(e.colSeparationType==="align"){for(var k=e.cols||[],E="",j=1;j<k.length;j++)E+=j%2?"0em ":"1em ";f.setAttribute("columnspacing",E.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?f.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?f.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?f.setAttribute("columnspacing","0.5em"):f.setAttribute("columnspacing","1em");var T="",M=e.hLinesBeforeRow;m+=M[0].length>0?"left ":"",m+=M[M.length-1].length>0?"right ":"";for(var I=1;I<M.length-1;I++)T+=M[I].length===0?"none ":M[I][0]?"dashed ":"solid ";return/[sd]/.test(T)&&f.setAttribute("rowlines",T.trim()),m!==""&&(f=new Fe.MathNode("menclose",[f]),f.setAttribute("notation",m.trim())),e.arraystretch&&e.arraystretch<1&&(f=new Fe.MathNode("mstyle",[f]),f.setAttribute("scriptlevel","1")),f},Cq=function(e,r){e.envName.indexOf("ed")===-1&&v1(e);var n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=ul(e.parser,{cols:n,addJot:!0,autoTag:s?void 0:x7(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var f="",p=0;p<r[0].body.length;p++){var m=kt(r[0].body[p],"textord");f+=m.text}o=Number(f),l=o*2}var v=!l;a.body.forEach(function(S){for(var N=1;N<S.length;N+=2){var A=kt(S[N],"styling"),k=kt(A.body[0],"ordgroup");k.body.unshift(u)}if(v)l<S.length&&(l=S.length);else{var E=S.length/2;if(o<E)throw new $e("Too many math in a row: "+("expected "+o+", but got "+E),S[0])}});for(var y=0;y<l;++y){var x="r",b=0;y%2===1?x="l":y>0&&v&&(b=1),n[y]={type:"align",align:x,pregap:b,postgap:0}}return a.colSeparationType=v?"align":"alignat",a};fa({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=p1(e[0]),n=r?[e[0]]:kt(e[0],"ordgroup").body,i=n.map(function(a){var o=p7(a),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new $e("Unknown column alignment: "+l,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return ul(t.parser,s,b7(t.envName))},htmlBuilder:pa,mathmlBuilder:ma});fa({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new $e("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var s=ul(t.parser,n,b7(t.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:pa,mathmlBuilder:ma});fa({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=ul(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:pa,mathmlBuilder:ma});fa({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=p1(e[0]),n=r?[e[0]]:kt(e[0],"ordgroup").body,i=n.map(function(a){var o=p7(a),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new $e("Unknown column alignment: "+l,a)});if(i.length>1)throw new $e("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=ul(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new $e("{subarray} can contain only one column");return s},htmlBuilder:pa,mathmlBuilder:ma});fa({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=ul(t.parser,e,b7(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:pa,mathmlBuilder:ma});fa({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Cq,htmlBuilder:pa,mathmlBuilder:ma});fa({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&v1(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:x7(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return ul(t.parser,e,"display")},htmlBuilder:pa,mathmlBuilder:ma});fa({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Cq,htmlBuilder:pa,mathmlBuilder:ma});fa({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){v1(t);var e={autoTag:x7(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return ul(t.parser,e,"display")},htmlBuilder:pa,mathmlBuilder:ma});fa({type:"array",names:["CD"],props:{numArgs:0},handler(t){return v1(t),Ewe(t.parser)},htmlBuilder:pa,mathmlBuilder:ma});$("\\nonumber","\\gdef\\@eqnsw{0}");$("\\notag","\\nonumber");Ye({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new $e(t.funcName+" valid only within array environment")}});var kR=Aq;Ye({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];if(i.type!=="ordgroup")throw new $e("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=kt(i.body[a],"textord").text;if(n==="\\begin"){if(!kR.hasOwnProperty(s))throw new $e("No such environment: "+s,i);var o=kR[s],{args:l,optArgs:u}=r.parseArguments("\\begin{"+s+"}",o),f={mode:r.mode,envName:s,parser:r},p=o.handler(f,l,u);r.expect("\\end",!1);var m=r.nextToken,v=kt(r.parseFunction(),"environment");if(v.name!==s)throw new $e("Mismatch: \\begin{"+s+"} matched by \\end{"+v.name+"}",m);return p}return{type:"environment",mode:r.mode,name:s,nameGroup:i}}});var kq=(t,e)=>{var r=t.font,n=e.withFont(r);return Bt(t.body,n)},jq=(t,e)=>{var r=t.font,n=e.withFont(r);return ir(t.body,n)},jR={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ye({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=sv(e[0]),s=n;return s in jR&&(s=jR[s]),{type:"font",mode:r.mode,font:s.slice(1),body:i}},htmlBuilder:kq,mathmlBuilder:jq});Ye({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,n=e[0],i=Ht.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:m1(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});Ye({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,breakOnTokenText:i}=t,{mode:s}=r,a=r.parseExpression(!0,i),o="math"+n.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:kq,mathmlBuilder:jq});var Pq=(t,e)=>{var r=e;return t==="display"?r=r.id>=ft.SCRIPT.id?r.text():ft.DISPLAY:t==="text"&&r.size===ft.DISPLAY.size?r=ft.TEXT:t==="script"?r=ft.SCRIPT:t==="scriptscript"&&(r=ft.SCRIPTSCRIPT),r},w7=(t,e)=>{var r=Pq(t.size,e.style),n=r.fracNum(),i=r.fracDen(),s;s=e.havingStyle(n);var a=Bt(t.numer,s,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<l?l:a.depth}s=e.havingStyle(i);var u=Bt(t.denom,s,e),f,p,m;t.hasBarLine?(t.barSize?(p=Sr(t.barSize,e),f=ge.makeLineSpan("frac-line",e,p)):f=ge.makeLineSpan("frac-line",e),p=f.height,m=f.height):(f=null,p=0,m=e.fontMetrics().defaultRuleThickness);var v,y,x;r.size===ft.DISPLAY.size||t.size==="display"?(v=e.fontMetrics().num1,p>0?y=3*m:y=7*m,x=e.fontMetrics().denom1):(p>0?(v=e.fontMetrics().num2,y=m):(v=e.fontMetrics().num3,y=3*m),x=e.fontMetrics().denom2);var b;if(f){var N=e.fontMetrics().axisHeight;v-a.depth-(N+.5*p)<y&&(v+=y-(v-a.depth-(N+.5*p))),N-.5*p-(u.height-x)<y&&(x+=y-(N-.5*p-(u.height-x)));var A=-(N-.5*p);b=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:x},{type:"elem",elem:f,shift:A},{type:"elem",elem:a,shift:-v}]},e)}else{var S=v-a.depth-(u.height-x);S<y&&(v+=.5*(y-S),x+=.5*(y-S)),b=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:x},{type:"elem",elem:a,shift:-v}]},e)}s=e.havingStyle(r),b.height*=s.sizeMultiplier/e.sizeMultiplier,b.depth*=s.sizeMultiplier/e.sizeMultiplier;var k;r.size===ft.DISPLAY.size?k=e.fontMetrics().delim1:r.size===ft.SCRIPTSCRIPT.size?k=e.havingStyle(ft.SCRIPT).fontMetrics().delim2:k=e.fontMetrics().delim2;var E,j;return t.leftDelim==null?E=t0(e,["mopen"]):E=Va.customSizedDelim(t.leftDelim,k,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?j=ge.makeSpan([]):t.rightDelim==null?j=t0(e,["mclose"]):j=Va.customSizedDelim(t.rightDelim,k,!0,e.havingStyle(r),t.mode,["mclose"]),ge.makeSpan(["mord"].concat(s.sizingClasses(e)),[E,ge.makeSpan(["mfrac"],[b]),j],e)},S7=(t,e)=>{var r=new Fe.MathNode("mfrac",[ir(t.numer,e),ir(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var n=Sr(t.barSize,e);r.setAttribute("linethickness",He(n))}var i=Pq(t.size,e.style);if(i.size!==e.style.size){r=new Fe.MathNode("mstyle",[r]);var s=i.size===ft.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",s),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var o=new Fe.MathNode("mo",[new Fe.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(r),t.rightDelim!=null){var l=new Fe.MathNode("mo",[new Fe.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return h7(a)}return r};Ye({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],s=e[1],a,o=null,l=null,u="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",l=")";break;case"\\\\bracefrac":a=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":a=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:w7,mathmlBuilder:S7});Ye({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],s=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ye({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:n}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:n}}});var PR=["display","text","script","scriptscript"],TR=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};Ye({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,n=e[4],i=e[5],s=sv(e[0]),a=s.type==="atom"&&s.family==="open"?TR(s.text):null,o=sv(e[1]),l=o.type==="atom"&&o.family==="close"?TR(o.text):null,u=kt(e[2],"size"),f,p=null;u.isBlank?f=!0:(p=u.value,f=p.number>0);var m="auto",v=e[3];if(v.type==="ordgroup"){if(v.body.length>0){var y=kt(v.body[0],"textord");m=PR[Number(y.text)]}}else v=kt(v,"textord"),m=PR[Number(v.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:f,barSize:p,leftDelim:a,rightDelim:l,size:m}},htmlBuilder:w7,mathmlBuilder:S7});Ye({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:n,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:kt(e[0],"size").value,token:i}}});Ye({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0],s=gbe(kt(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:w7,mathmlBuilder:S7});var Tq=(t,e)=>{var r=e.style,n,i;t.type==="supsub"?(n=t.sup?Bt(t.sup,e.havingStyle(r.sup()),e):Bt(t.sub,e.havingStyle(r.sub()),e),i=kt(t.base,"horizBrace")):i=kt(t,"horizBrace");var s=Bt(i.base,e.havingBaseStyle(ft.DISPLAY)),a=ro.svgSpan(i,e),o;if(i.isOver?(o=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=ge.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),n){var l=ge.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},e):o=ge.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return ge.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},$we=(t,e)=>{var r=ro.mathMLnode(t.label);return new Fe.MathNode(t.isOver?"mover":"munder",[ir(t.base,e),r])};Ye({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:n}=t;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:Tq,mathmlBuilder:$we});Ye({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[1],i=kt(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:Ir(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=nn(t.body,e,!1);return ge.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=el(t.body,e);return r instanceof Di||(r=new Di("mrow",[r])),r.setAttribute("href",t.href),r}});Ye({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=kt(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:Ir(o)}}});Ye({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:Ir(e[0])}},htmlBuilder(t,e){var r=nn(t.body,e,!1);return ge.makeFragment(r)},mathmlBuilder(t,e){return new Fe.MathNode("mrow",wi(t.body,e))}});Ye({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n,token:i}=t,s=kt(e[0],"raw").string,a=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(n){case"\\htmlClass":l.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),f=0;f<u.length;f++){var p=u[f],m=p.indexOf("=");if(m<0)throw new $e("\\htmlData key/value '"+p+"' missing equals sign");var v=p.slice(0,m),y=p.slice(m+1);l["data-"+v.trim()]=y}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(o)?{type:"html",mode:r.mode,attributes:l,body:Ir(a)}:r.formatUnsupportedCmd(n)},htmlBuilder:(t,e)=>{var r=nn(t.body,e,!1),n=["enclosing"];t.attributes.class&&n.push(...t.attributes.class.trim().split(/\s+/));var i=ge.makeSpan(n,r,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>el(t.body,e)});Ye({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:Ir(e[0]),mathml:Ir(e[1])}},htmlBuilder:(t,e)=>{var r=nn(t.html,e,!1);return ge.makeFragment(r)},mathmlBuilder:(t,e)=>el(t.mathml,e)});var d5=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new $e("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!Y$(n))throw new $e("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Ye({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:n}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(r[0])for(var l=kt(r[0],"raw").string,u=l.split(","),f=0;f<u.length;f++){var p=u[f].split("=");if(p.length===2){var m=p[1].trim();switch(p[0].trim()){case"alt":o=m;break;case"width":i=d5(m);break;case"height":s=d5(m);break;case"totalheight":a=d5(m);break;default:throw new $e("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var v=kt(e[0],"url").url;return o===""&&(o=v,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:v})?{type:"includegraphics",mode:n.mode,alt:o,width:i,height:s,totalheight:a,src:v}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=Sr(t.height,e),n=0;t.totalheight.number>0&&(n=Sr(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=Sr(t.width,e));var s={height:He(r+n)};i>0&&(s.width=He(i)),n>0&&(s.verticalAlign=He(-n));var a=new $be(t.src,t.alt,s);return a.height=r,a.depth=n,a},mathmlBuilder:(t,e)=>{var r=new Fe.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var n=Sr(t.height,e),i=0;if(t.totalheight.number>0&&(i=Sr(t.totalheight,e)-n,r.setAttribute("valign",He(-i))),r.setAttribute("height",He(n+i)),t.width.number>0){var s=Sr(t.width,e);r.setAttribute("width",He(s))}return r.setAttribute("src",t.src),r}});Ye({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=kt(e[0],"size");if(r.settings.strict){var s=n[1]==="m",a=i.value.unit==="mu";s?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return ge.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=Sr(t.dimension,e);return new Fe.SpaceNode(r)}});Ye({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=ge.makeSpan([],[Bt(t.body,e)]),r=ge.makeSpan(["inner"],[r],e)):r=ge.makeSpan(["inner"],[Bt(t.body,e)]);var n=ge.makeSpan(["fix"],[]),i=ge.makeSpan([t.alignment],[r,n],e),s=ge.makeSpan(["strut"]);return s.style.height=He(i.height+i.depth),i.depth&&(s.style.verticalAlign=He(-i.depth)),i.children.unshift(s),i=ge.makeSpan(["thinbox"],[i],e),ge.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new Fe.MathNode("mpadded",[ir(t.body,e)]);if(t.alignment!=="rlap"){var n=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});Ye({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:n}=t,i=n.mode;n.switchMode("math");var s=r==="\\("?"\\)":"$",a=n.parseExpression(!1,s);return n.expect(s),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:a}}});Ye({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new $e("Mismatched "+t.funcName)}});var MR=(t,e)=>{switch(e.style.size){case ft.DISPLAY.size:return t.display;case ft.TEXT.size:return t.text;case ft.SCRIPT.size:return t.script;case ft.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Ye({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:Ir(e[0]),text:Ir(e[1]),script:Ir(e[2]),scriptscript:Ir(e[3])}},htmlBuilder:(t,e)=>{var r=MR(t,e),n=nn(r,e,!1);return ge.makeFragment(n)},mathmlBuilder:(t,e)=>{var r=MR(t,e);return el(r,e)}});var Mq=(t,e,r,n,i,s,a)=>{t=ge.makeSpan([],[t]);var o=r&&Ht.isCharacterBox(r),l,u;if(e){var f=Bt(e,n.havingStyle(i.sup()),n);u={elem:f,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-f.depth)}}if(r){var p=Bt(r,n.havingStyle(i.sub()),n);l={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-p.height)}}var m;if(u&&l){var v=n.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+a;m=ge.makeVList({positionType:"bottom",positionData:v,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:He(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:He(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(l){var y=t.height-a;m=ge.makeVList({positionType:"top",positionData:y,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:He(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},n)}else if(u){var x=t.depth+a;m=ge.makeVList({positionType:"bottom",positionData:x,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:He(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return t;var b=[m];if(l&&s!==0&&!o){var S=ge.makeSpan(["mspace"],[],n);S.style.marginRight=He(s),b.unshift(S)}return ge.makeSpan(["mop","op-limits"],b,n)},Oq=["\\smallint"],Ld=(t,e)=>{var r,n,i=!1,s;t.type==="supsub"?(r=t.sup,n=t.sub,s=kt(t.base,"op"),i=!0):s=kt(t,"op");var a=e.style,o=!1;a.size===ft.DISPLAY.size&&s.symbol&&!Oq.includes(s.name)&&(o=!0);var l;if(s.symbol){var u=o?"Size2-Regular":"Size1-Regular",f="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(f=s.name.slice(1),s.name=f==="oiint"?"\\iint":"\\iiint"),l=ge.makeSymbol(s.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),f.length>0){var p=l.italic,m=ge.staticSvg(f+"Size"+(o?"2":"1"),e);l=ge.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:m,shift:o?.08:0}]},e),s.name="\\"+f,l.classes.unshift("mop"),l.italic=p}}else if(s.body){var v=nn(s.body,e,!0);v.length===1&&v[0]instanceof as?(l=v[0],l.classes[0]="mop"):l=ge.makeSpan(["mop"],v,e)}else{for(var y=[],x=1;x<s.name.length;x++)y.push(ge.mathsym(s.name[x],s.mode,e));l=ge.makeSpan(["mop"],y,e)}var b=0,S=0;return(l instanceof as||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(b=(l.height-l.depth)/2-e.fontMetrics().axisHeight,S=l.italic),i?Mq(l,r,n,e,a,S,b):(b&&(l.style.position="relative",l.style.top=He(b)),l)},C0=(t,e)=>{var r;if(t.symbol)r=new Di("mo",[os(t.name,t.mode)]),Oq.includes(t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new Di("mo",wi(t.body,e));else{r=new Di("mi",[new ia(t.name.slice(1))]);var n=new Di("mo",[os("","text")]);t.parentIsSupSub?r=new Di("mrow",[r,n]):r=oq([r,n])}return r},qwe={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Ye({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=n;return i.length===1&&(i=qwe[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Ld,mathmlBuilder:C0});Ye({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ir(n)}},htmlBuilder:Ld,mathmlBuilder:C0});var Uwe={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Ye({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Ld,mathmlBuilder:C0});Ye({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Ld,mathmlBuilder:C0});Ye({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:r}=t,n=r;return n.length===1&&(n=Uwe[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Ld,mathmlBuilder:C0});var Rq=(t,e)=>{var r,n,i=!1,s;t.type==="supsub"?(r=t.sup,n=t.sub,s=kt(t.base,"operatorname"),i=!0):s=kt(t,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(p=>{var m=p.text;return typeof m=="string"?{type:"textord",mode:p.mode,text:m}:p}),l=nn(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var f=l[u];f instanceof as&&(f.text=f.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=ge.makeSpan(["mop"],l,e)}else a=ge.makeSpan(["mop"],[],e);return i?Mq(a,r,n,e,e.style,0,0):a},Vwe=(t,e)=>{for(var r=wi(t.body,e.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var s=r[i];if(!(s instanceof Fe.SpaceNode))if(s instanceof Fe.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof Fe.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=r.map(f=>f.toText()).join("");r=[new Fe.TextNode(o)]}var l=new Fe.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new Fe.MathNode("mo",[os("","text")]);return t.parentIsSupSub?new Fe.MathNode("mrow",[l,u]):Fe.newDocumentFragment([l,u])};Ye({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:n}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:Ir(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Rq,mathmlBuilder:Vwe});$("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ac({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ge.makeFragment(nn(t.body,e,!1)):ge.makeSpan(["mord"],nn(t.body,e,!0),e)},mathmlBuilder(t,e){return el(t.body,e,!0)}});Ye({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,n=e[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(t,e){var r=Bt(t.body,e.havingCrampedStyle()),n=ge.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},e);return ge.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var r=new Fe.MathNode("mo",[new Fe.TextNode("")]);r.setAttribute("stretchy","true");var n=new Fe.MathNode("mover",[ir(t.body,e),r]);return n.setAttribute("accent","true"),n}});Ye({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"phantom",mode:r.mode,body:Ir(n)}},htmlBuilder:(t,e)=>{var r=nn(t.body,e.withPhantom(),!1);return ge.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=wi(t.body,e);return new Fe.MathNode("mphantom",r)}});Ye({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=ge.makeSpan([],[Bt(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),ge.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=wi(Ir(t.body),e),n=new Fe.MathNode("mphantom",r),i=new Fe.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Ye({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,n=e[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(t,e)=>{var r=ge.makeSpan(["inner"],[Bt(t.body,e.withPhantom())]),n=ge.makeSpan(["fix"],[]);return ge.makeSpan(["mord","rlap"],[r,n],e)},mathmlBuilder:(t,e)=>{var r=wi(Ir(t.body),e),n=new Fe.MathNode("mphantom",r),i=new Fe.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});Ye({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,n=kt(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(t,e){var r=Bt(t.body,e),n=Sr(t.dy,e);return ge.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new Fe.MathNode("mpadded",[ir(t.body,e)]),n=t.dy.number+t.dy.unit;return r.setAttribute("voffset",n),r}});Ye({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Ye({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:n}=t,i=r[0],s=kt(e[0],"size"),a=kt(e[1],"size");return{type:"rule",mode:n.mode,shift:i&&kt(i,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var r=ge.makeSpan(["mord","rule"],[],e),n=Sr(t.width,e),i=Sr(t.height,e),s=t.shift?Sr(t.shift,e):0;return r.style.borderRightWidth=He(n),r.style.borderTopWidth=He(i),r.style.bottom=He(s),r.width=n,r.height=i+s,r.depth=-s,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=Sr(t.width,e),n=Sr(t.height,e),i=t.shift?Sr(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new Fe.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",He(r)),a.setAttribute("height",He(n));var o=new Fe.MathNode("mpadded",[a]);return i>=0?o.setAttribute("height",He(i)):(o.setAttribute("height",He(i)),o.setAttribute("depth",He(-i))),o.setAttribute("voffset",He(i)),o}});function Iq(t,e,r){for(var n=nn(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,s=0;s<n.length;s++){var a=n[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[s].classes,e.sizingClasses(r)):n[s].classes[a+1]==="reset-size"+e.size&&(n[s].classes[a+1]="reset-size"+r.size),n[s].height*=i,n[s].depth*=i}return ge.makeFragment(n)}var OR=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Wwe=(t,e)=>{var r=e.havingSize(t.size);return Iq(t.body,r,e)};Ye({type:"sizing",names:OR,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:n,parser:i}=t,s=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:OR.indexOf(n)+1,body:s}},htmlBuilder:Wwe,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),n=wi(t.body,r),i=new Fe.MathNode("mstyle",n);return i.setAttribute("mathsize",He(r.sizeMultiplier)),i}});Ye({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:n}=t,i=!1,s=!1,a=r[0]&&kt(r[0],"ordgroup");if(a)for(var o="",l=0;l<a.body.length;++l){var u=a.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var f=e[0];return{type:"smash",mode:n.mode,body:f,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var r=ge.makeSpan([],[Bt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var s=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return ge.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var r=new Fe.MathNode("mpadded",[ir(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});Ye({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:n}=t,i=r[0],s=e[0];return{type:"sqrt",mode:n.mode,body:s,index:i}},htmlBuilder(t,e){var r=Bt(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=ge.wrapFragment(r,e);var n=e.fontMetrics(),i=n.defaultRuleThickness,s=i;e.style.id<ft.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,o=r.height+r.depth+a+i,{span:l,ruleWidth:u,advanceWidth:f}=Va.sqrtImage(o,e),p=l.height-u;p>r.height+r.depth+a&&(a=(a+p-r.height-r.depth)/2);var m=l.height-r.height-a-u;r.style.paddingLeft=He(f);var v=ge.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+m)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var y=e.havingStyle(ft.SCRIPTSCRIPT),x=Bt(t.index,y,e),b=.6*(v.height-v.depth),S=ge.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:x}]},e),N=ge.makeSpan(["root"],[S]);return ge.makeSpan(["mord","sqrt"],[N,v],e)}else return ge.makeSpan(["mord","sqrt"],[v],e)},mathmlBuilder(t,e){var{body:r,index:n}=t;return n?new Fe.MathNode("mroot",[ir(r,e),ir(n,e)]):new Fe.MathNode("msqrt",[ir(r,e)])}});var RR={display:ft.DISPLAY,text:ft.TEXT,script:ft.SCRIPT,scriptscript:ft.SCRIPTSCRIPT};Ye({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:n,parser:i}=t,s=i.parseExpression(!0,r),a=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(t,e){var r=RR[t.style],n=e.havingStyle(r).withFont("");return Iq(t.body,n,e)},mathmlBuilder(t,e){var r=RR[t.style],n=e.havingStyle(r),i=wi(t.body,n),s=new Fe.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[t.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var Hwe=function(e,r){var n=e.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===ft.DISPLAY.size||n.alwaysHandleSupSub);return i?Ld:null}else if(n.type==="operatorname"){var s=n.alwaysHandleSupSub&&(r.style.size===ft.DISPLAY.size||n.limits);return s?Rq:null}else{if(n.type==="accent")return Ht.isCharacterBox(n.base)?m7:null;if(n.type==="horizBrace"){var a=!e.sub;return a===n.isOver?Tq:null}else return null}else return null};Ac({type:"supsub",htmlBuilder(t,e){var r=Hwe(t,e);if(r)return r(t,e);var{base:n,sup:i,sub:s}=t,a=Bt(n,e),o,l,u=e.fontMetrics(),f=0,p=0,m=n&&Ht.isCharacterBox(n);if(i){var v=e.havingStyle(e.style.sup());o=Bt(i,v,e),m||(f=a.height-v.fontMetrics().supDrop*v.sizeMultiplier/e.sizeMultiplier)}if(s){var y=e.havingStyle(e.style.sub());l=Bt(s,y,e),m||(p=a.depth+y.fontMetrics().subDrop*y.sizeMultiplier/e.sizeMultiplier)}var x;e.style===ft.DISPLAY?x=u.sup1:e.style.cramped?x=u.sup3:x=u.sup2;var b=e.sizeMultiplier,S=He(.5/u.ptPerEm/b),N=null;if(l){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof as||A)&&(N=He(-a.italic))}var k;if(o&&l){f=Math.max(f,x,o.depth+.25*u.xHeight),p=Math.max(p,u.sub2);var E=u.defaultRuleThickness,j=4*E;if(f-o.depth-(l.height-p)<j){p=j-(f-o.depth)+l.height;var T=.8*u.xHeight-(f-o.depth);T>0&&(f+=T,p-=T)}var M=[{type:"elem",elem:l,shift:p,marginRight:S,marginLeft:N},{type:"elem",elem:o,shift:-f,marginRight:S}];k=ge.makeVList({positionType:"individualShift",children:M},e)}else if(l){p=Math.max(p,u.sub1,l.height-.8*u.xHeight);var I=[{type:"elem",elem:l,marginLeft:N,marginRight:S}];k=ge.makeVList({positionType:"shift",positionData:p,children:I},e)}else if(o)f=Math.max(f,x,o.depth+.25*u.xHeight),k=ge.makeVList({positionType:"shift",positionData:-f,children:[{type:"elem",elem:o,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var q=KS(a,"right")||"mord";return ge.makeSpan([q],[a,ge.makeSpan(["msupsub"],[k])],e)},mathmlBuilder(t,e){var r=!1,n,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,n=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[ir(t.base,e)];t.sub&&s.push(ir(t.sub,e)),t.sup&&s.push(ir(t.sup,e));var a;if(r)a=n?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===ft.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===ft.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===ft.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===ft.DISPLAY)?a="munder":a="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===ft.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===ft.DISPLAY)?a="mover":a="msup"}return new Fe.MathNode(a,s)}});Ac({type:"atom",htmlBuilder(t,e){return ge.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new Fe.MathNode("mo",[os(t.text,t.mode)]);if(t.family==="bin"){var n=f7(t,e);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var Dq={mi:"italic",mn:"normal",mtext:"normal"};Ac({type:"mathord",htmlBuilder(t,e){return ge.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new Fe.MathNode("mi",[os(t.text,t.mode,e)]),n=f7(t,e)||"italic";return n!==Dq[r.type]&&r.setAttribute("mathvariant",n),r}});Ac({type:"textord",htmlBuilder(t,e){return ge.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=os(t.text,t.mode,e),n=f7(t,e)||"normal",i;return t.mode==="text"?i=new Fe.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new Fe.MathNode("mn",[r]):t.text==="\\prime"?i=new Fe.MathNode("mo",[r]):i=new Fe.MathNode("mi",[r]),n!==Dq[i.type]&&i.setAttribute("mathvariant",n),i}});var h5={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},f5={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ac({type:"spacing",htmlBuilder(t,e){if(f5.hasOwnProperty(t.text)){var r=f5[t.text].className||"";if(t.mode==="text"){var n=ge.makeOrd(t,e,"textord");return n.classes.push(r),n}else return ge.makeSpan(["mspace",r],[ge.mathsym(t.text,t.mode,e)],e)}else{if(h5.hasOwnProperty(t.text))return ge.makeSpan(["mspace",h5[t.text]],[],e);throw new $e('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(f5.hasOwnProperty(t.text))r=new Fe.MathNode("mtext",[new Fe.TextNode("")]);else{if(h5.hasOwnProperty(t.text))return new Fe.MathNode("mspace");throw new $e('Unknown type of space "'+t.text+'"')}return r}});var IR=()=>{var t=new Fe.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Ac({type:"tag",mathmlBuilder(t,e){var r=new Fe.MathNode("mtable",[new Fe.MathNode("mtr",[IR(),new Fe.MathNode("mtd",[el(t.body,e)]),IR(),new Fe.MathNode("mtd",[el(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var DR={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},LR={"\\textbf":"textbf","\\textmd":"textmd"},Kwe={"\\textit":"textit","\\textup":"textup"},zR=(t,e)=>{var r=t.font;if(r){if(DR[r])return e.withTextFontFamily(DR[r]);if(LR[r])return e.withTextFontWeight(LR[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(Kwe[r])};Ye({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:n}=t,i=e[0];return{type:"text",mode:r.mode,body:Ir(i),font:n}},htmlBuilder(t,e){var r=zR(t,e),n=nn(t.body,r,!0);return ge.makeSpan(["mord","text"],n,r)},mathmlBuilder(t,e){var r=zR(t,e);return el(t.body,r)}});Ye({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Bt(t.body,e),n=ge.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=ge.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return ge.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var r=new Fe.MathNode("mo",[new Fe.TextNode("")]);r.setAttribute("stretchy","true");var n=new Fe.MathNode("munder",[ir(t.body,e),r]);return n.setAttribute("accentunder","true"),n}});Ye({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=Bt(t.body,e),n=e.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return ge.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new Fe.MathNode("mpadded",[ir(t.body,e)],["vcenter"])}});Ye({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new $e("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=FR(t),n=[],i=e.havingStyle(e.style.text()),s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),n.push(ge.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return ge.makeSpan(["mord","text"].concat(i.sizingClasses(e)),ge.tryCombineChars(n),i)},mathmlBuilder(t,e){var r=new Fe.TextNode(FR(t)),n=new Fe.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var FR=t=>t.body.replace(/ /g,t.star?"":""),Ko=sq,Lq=`[ \r
	]`,Gwe="\\\\[a-zA-Z@]+",Xwe="\\\\[^\uD800-\uDFFF]",Ywe="("+Gwe+")"+Lq+"*",Jwe=`\\\\(
|[ \r	]+
?)[ \r	]*`,JS="[-]",Qwe=new RegExp(JS+"+$"),Zwe="("+Lq+"+)|"+(Jwe+"|")+"([!-\\[\\]---]"+(JS+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(JS+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Ywe)+("|"+Xwe+")");class BR{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(Zwe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new zi("EOF",new hi(this,r,r));var n=this.tokenRegex.exec(e);if(n===null||n.index!==r)throw new $e("Unexpected character: '"+e[r]+"'",new zi(e[r],new hi(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new zi(i,new hi(this,r,this.tokenRegex.lastIndex))}}class e2e{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new $e("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var t2e=Eq;$("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});$("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});$("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});$("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});$("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});$("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");$("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var $R={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};$("\\char",function(t){var e=t.popToken(),r,n="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new $e("\\char` missing argument");n=e.text.charCodeAt(0)}else r=10;if(r){if(n=$R[e.text],n==null||n>=r)throw new $e("Invalid base-"+r+" digit "+e.text);for(var i;(i=$R[t.future().text])!=null&&i<r;)n*=r,n+=i,t.popToken()}return"\\@char{"+n+"}"});var _7=(t,e,r,n)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new $e("\\newcommand's first argument must be a macro name");var s=i[0].text,a=t.isDefined(s);if(a&&!e)throw new $e("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!a&&!r)throw new $e("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var o=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new $e("Invalid number of arguments: "+l);o=parseInt(l),i=t.consumeArg().tokens}return a&&n||t.macros.set(s,{tokens:i,numArgs:o}),""};$("\\newcommand",t=>_7(t,!1,!0,!1));$("\\renewcommand",t=>_7(t,!0,!1,!1));$("\\providecommand",t=>_7(t,!0,!0,!0));$("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});$("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});$("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Ko[r],or.math[r],or.text[r]),""});$("\\bgroup","{");$("\\egroup","}");$("~","\\nobreakspace");$("\\lq","`");$("\\rq","'");$("\\aa","\\r a");$("\\AA","\\r A");$("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");$("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");$("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");$("","\\mathscr{B}");$("","\\mathscr{E}");$("","\\mathscr{F}");$("","\\mathscr{H}");$("","\\mathscr{I}");$("","\\mathscr{L}");$("","\\mathscr{M}");$("","\\mathscr{R}");$("","\\mathfrak{C}");$("","\\mathfrak{H}");$("","\\mathfrak{Z}");$("\\Bbbk","\\Bbb{k}");$("","\\cdotp");$("\\llap","\\mathllap{\\textrm{#1}}");$("\\rlap","\\mathrlap{\\textrm{#1}}");$("\\clap","\\mathclap{\\textrm{#1}}");$("\\mathstrut","\\vphantom{(}");$("\\underbar","\\underline{\\text{#1}}");$("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');$("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");$("\\ne","\\neq");$("","\\neq");$("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");$("","\\notin");$("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");$("","\\perp");$("","\\mathclose{!\\mkern-0.8mu!}");$("","\\notni");$("","\\ulcorner");$("","\\urcorner");$("","\\llcorner");$("","\\lrcorner");$("","\\copyright");$("","\\textregistered");$("","\\textregistered");$("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');$("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');$("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');$("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');$("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");$("","\\vdots");$("\\varGamma","\\mathit{\\Gamma}");$("\\varDelta","\\mathit{\\Delta}");$("\\varTheta","\\mathit{\\Theta}");$("\\varLambda","\\mathit{\\Lambda}");$("\\varXi","\\mathit{\\Xi}");$("\\varPi","\\mathit{\\Pi}");$("\\varSigma","\\mathit{\\Sigma}");$("\\varUpsilon","\\mathit{\\Upsilon}");$("\\varPhi","\\mathit{\\Phi}");$("\\varPsi","\\mathit{\\Psi}");$("\\varOmega","\\mathit{\\Omega}");$("\\substack","\\begin{subarray}{c}#1\\end{subarray}");$("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");$("\\boxed","\\fbox{$\\displaystyle{#1}$}");$("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");$("\\implies","\\DOTSB\\;\\Longrightarrow\\;");$("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");$("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");$("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var qR={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};$("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in qR?e=qR[r]:(r.slice(0,4)==="\\not"||r in or.math&&["bin","rel"].includes(or.math[r].group))&&(e="\\dotsb"),e});var N7={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};$("\\dotso",function(t){var e=t.future().text;return e in N7?"\\ldots\\,":"\\ldots"});$("\\dotsc",function(t){var e=t.future().text;return e in N7&&e!==","?"\\ldots\\,":"\\ldots"});$("\\cdots",function(t){var e=t.future().text;return e in N7?"\\@cdots\\,":"\\@cdots"});$("\\dotsb","\\cdots");$("\\dotsm","\\cdots");$("\\dotsi","\\!\\cdots");$("\\dotsx","\\ldots\\,");$("\\DOTSI","\\relax");$("\\DOTSB","\\relax");$("\\DOTSX","\\relax");$("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");$("\\,","\\tmspace+{3mu}{.1667em}");$("\\thinspace","\\,");$("\\>","\\mskip{4mu}");$("\\:","\\tmspace+{4mu}{.2222em}");$("\\medspace","\\:");$("\\;","\\tmspace+{5mu}{.2777em}");$("\\thickspace","\\;");$("\\!","\\tmspace-{3mu}{.1667em}");$("\\negthinspace","\\!");$("\\negmedspace","\\tmspace-{4mu}{.2222em}");$("\\negthickspace","\\tmspace-{5mu}{.277em}");$("\\enspace","\\kern.5em ");$("\\enskip","\\hskip.5em\\relax");$("\\quad","\\hskip1em\\relax");$("\\qquad","\\hskip2em\\relax");$("\\tag","\\@ifstar\\tag@literal\\tag@paren");$("\\tag@paren","\\tag@literal{({#1})}");$("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new $e("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});$("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");$("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");$("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");$("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");$("\\newline","\\\\\\relax");$("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var zq=He(na["Main-Regular"][84][1]-.7*na["Main-Regular"][65][1]);$("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+zq+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");$("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+zq+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");$("\\hspace","\\@ifstar\\@hspacer\\@hspace");$("\\@hspace","\\hskip #1\\relax");$("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");$("\\ordinarycolon",":");$("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");$("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');$("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');$("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');$("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');$("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');$("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');$("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');$("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');$("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');$("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');$("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');$("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');$("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');$("","\\dblcolon");$("","\\eqcolon");$("","\\coloneqq");$("","\\eqqcolon");$("","\\Coloneqq");$("\\ratio","\\vcentcolon");$("\\coloncolon","\\dblcolon");$("\\colonequals","\\coloneqq");$("\\coloncolonequals","\\Coloneqq");$("\\equalscolon","\\eqqcolon");$("\\equalscoloncolon","\\Eqqcolon");$("\\colonminus","\\coloneq");$("\\coloncolonminus","\\Coloneq");$("\\minuscolon","\\eqcolon");$("\\minuscoloncolon","\\Eqcolon");$("\\coloncolonapprox","\\Colonapprox");$("\\coloncolonsim","\\Colonsim");$("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");$("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");$("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");$("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");$("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");$("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");$("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");$("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");$("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");$("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");$("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");$("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");$("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");$("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");$("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");$("\\ngeqq","\\html@mathml{\\@ngeqq}{}");$("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");$("\\nleqq","\\html@mathml{\\@nleqq}{}");$("\\nleqslant","\\html@mathml{\\@nleqslant}{}");$("\\nshortmid","\\html@mathml{\\@nshortmid}{}");$("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");$("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");$("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");$("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");$("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");$("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");$("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");$("\\imath","\\html@mathml{\\@imath}{}");$("\\jmath","\\html@mathml{\\@jmath}{}");$("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");$("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");$("","\\llbracket");$("","\\rrbracket");$("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");$("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");$("","\\lBrace");$("","\\rBrace");$("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");$("","\\minuso");$("\\darr","\\downarrow");$("\\dArr","\\Downarrow");$("\\Darr","\\Downarrow");$("\\lang","\\langle");$("\\rang","\\rangle");$("\\uarr","\\uparrow");$("\\uArr","\\Uparrow");$("\\Uarr","\\Uparrow");$("\\N","\\mathbb{N}");$("\\R","\\mathbb{R}");$("\\Z","\\mathbb{Z}");$("\\alef","\\aleph");$("\\alefsym","\\aleph");$("\\Alpha","\\mathrm{A}");$("\\Beta","\\mathrm{B}");$("\\bull","\\bullet");$("\\Chi","\\mathrm{X}");$("\\clubs","\\clubsuit");$("\\cnums","\\mathbb{C}");$("\\Complex","\\mathbb{C}");$("\\Dagger","\\ddagger");$("\\diamonds","\\diamondsuit");$("\\empty","\\emptyset");$("\\Epsilon","\\mathrm{E}");$("\\Eta","\\mathrm{H}");$("\\exist","\\exists");$("\\harr","\\leftrightarrow");$("\\hArr","\\Leftrightarrow");$("\\Harr","\\Leftrightarrow");$("\\hearts","\\heartsuit");$("\\image","\\Im");$("\\infin","\\infty");$("\\Iota","\\mathrm{I}");$("\\isin","\\in");$("\\Kappa","\\mathrm{K}");$("\\larr","\\leftarrow");$("\\lArr","\\Leftarrow");$("\\Larr","\\Leftarrow");$("\\lrarr","\\leftrightarrow");$("\\lrArr","\\Leftrightarrow");$("\\Lrarr","\\Leftrightarrow");$("\\Mu","\\mathrm{M}");$("\\natnums","\\mathbb{N}");$("\\Nu","\\mathrm{N}");$("\\Omicron","\\mathrm{O}");$("\\plusmn","\\pm");$("\\rarr","\\rightarrow");$("\\rArr","\\Rightarrow");$("\\Rarr","\\Rightarrow");$("\\real","\\Re");$("\\reals","\\mathbb{R}");$("\\Reals","\\mathbb{R}");$("\\Rho","\\mathrm{P}");$("\\sdot","\\cdot");$("\\sect","\\S");$("\\spades","\\spadesuit");$("\\sub","\\subset");$("\\sube","\\subseteq");$("\\supe","\\supseteq");$("\\Tau","\\mathrm{T}");$("\\thetasym","\\vartheta");$("\\weierp","\\wp");$("\\Zeta","\\mathrm{Z}");$("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");$("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");$("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");$("\\bra","\\mathinner{\\langle{#1}|}");$("\\ket","\\mathinner{|{#1}\\rangle}");$("\\braket","\\mathinner{\\langle{#1}\\rangle}");$("\\Bra","\\left\\langle#1\\right|");$("\\Ket","\\left|#1\\right\\rangle");var Fq=t=>e=>{var r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=p=>m=>{t&&(m.macros.set("|",a),i.length&&m.macros.set("\\|",o));var v=p;if(!p&&i.length){var y=m.future();y.text==="|"&&(m.popToken(),v=!0)}return{tokens:v?i:n,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,f=e.expandTokens([...s,...u,...r]);return e.macros.endGroup(),{tokens:f.reverse(),numArgs:0}};$("\\bra@ket",Fq(!1));$("\\bra@set",Fq(!0));$("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");$("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");$("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");$("\\angln","{\\angl n}");$("\\blue","\\textcolor{##6495ed}{#1}");$("\\orange","\\textcolor{##ffa500}{#1}");$("\\pink","\\textcolor{##ff00af}{#1}");$("\\red","\\textcolor{##df0030}{#1}");$("\\green","\\textcolor{##28ae7b}{#1}");$("\\gray","\\textcolor{gray}{#1}");$("\\purple","\\textcolor{##9d38bd}{#1}");$("\\blueA","\\textcolor{##ccfaff}{#1}");$("\\blueB","\\textcolor{##80f6ff}{#1}");$("\\blueC","\\textcolor{##63d9ea}{#1}");$("\\blueD","\\textcolor{##11accd}{#1}");$("\\blueE","\\textcolor{##0c7f99}{#1}");$("\\tealA","\\textcolor{##94fff5}{#1}");$("\\tealB","\\textcolor{##26edd5}{#1}");$("\\tealC","\\textcolor{##01d1c1}{#1}");$("\\tealD","\\textcolor{##01a995}{#1}");$("\\tealE","\\textcolor{##208170}{#1}");$("\\greenA","\\textcolor{##b6ffb0}{#1}");$("\\greenB","\\textcolor{##8af281}{#1}");$("\\greenC","\\textcolor{##74cf70}{#1}");$("\\greenD","\\textcolor{##1fab54}{#1}");$("\\greenE","\\textcolor{##0d923f}{#1}");$("\\goldA","\\textcolor{##ffd0a9}{#1}");$("\\goldB","\\textcolor{##ffbb71}{#1}");$("\\goldC","\\textcolor{##ff9c39}{#1}");$("\\goldD","\\textcolor{##e07d10}{#1}");$("\\goldE","\\textcolor{##a75a05}{#1}");$("\\redA","\\textcolor{##fca9a9}{#1}");$("\\redB","\\textcolor{##ff8482}{#1}");$("\\redC","\\textcolor{##f9685d}{#1}");$("\\redD","\\textcolor{##e84d39}{#1}");$("\\redE","\\textcolor{##bc2612}{#1}");$("\\maroonA","\\textcolor{##ffbde0}{#1}");$("\\maroonB","\\textcolor{##ff92c6}{#1}");$("\\maroonC","\\textcolor{##ed5fa6}{#1}");$("\\maroonD","\\textcolor{##ca337c}{#1}");$("\\maroonE","\\textcolor{##9e034e}{#1}");$("\\purpleA","\\textcolor{##ddd7ff}{#1}");$("\\purpleB","\\textcolor{##c6b9fc}{#1}");$("\\purpleC","\\textcolor{##aa87ff}{#1}");$("\\purpleD","\\textcolor{##7854ab}{#1}");$("\\purpleE","\\textcolor{##543b78}{#1}");$("\\mintA","\\textcolor{##f5f9e8}{#1}");$("\\mintB","\\textcolor{##edf2df}{#1}");$("\\mintC","\\textcolor{##e0e5cc}{#1}");$("\\grayA","\\textcolor{##f6f7f7}{#1}");$("\\grayB","\\textcolor{##f0f1f2}{#1}");$("\\grayC","\\textcolor{##e3e5e6}{#1}");$("\\grayD","\\textcolor{##d6d8da}{#1}");$("\\grayE","\\textcolor{##babec2}{#1}");$("\\grayF","\\textcolor{##888d93}{#1}");$("\\grayG","\\textcolor{##626569}{#1}");$("\\grayH","\\textcolor{##3b3e40}{#1}");$("\\grayI","\\textcolor{##21242c}{#1}");$("\\kaBlue","\\textcolor{##314453}{#1}");$("\\kaGreen","\\textcolor{##71B307}{#1}");var Bq={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class r2e{constructor(e,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new e2e(t2e,r.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new BR(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,n,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new zi("EOF",n.loc)),this.pushTokens(i),new zi("",hi.range(r,n))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],n=e&&e.length>0;n||this.consumeSpaces();var i=this.future(),s,a=0,o=0;do{if(s=this.popToken(),r.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new $e("Extra }",s)}else if(s.text==="EOF")throw new $e("Unexpected end of input in a macro argument, expected '"+(e&&n?e[o]:"}")+"'",s);if(e&&n)if((a===0||a===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){r.splice(-o,o);break}}else o=0}while(a!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:s}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new $e("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var s=this.popToken();if(n[i]!==s.text)throw new $e("Use of the macro doesn't match its definition",s)}}for(var a=[],o=0;o<e;o++)a.push(this.consumeArg(r&&r[o+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new $e("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new $e("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var l=s[o];if(l.text==="#"){if(o===0)throw new $e("Incomplete placeholder at end of macro body",l);if(l=s[--o],l.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(l.text))s.splice(o,2,...a[+l.text-1]);else throw new $e("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new zi(e)]):void 0}expandTokens(e){var r=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(n=>n.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var o=new BR(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var f={tokens:l,numArgs:s};return f}return i}isDefined(e){return this.macros.has(e)||Ko.hasOwnProperty(e)||or.math.hasOwnProperty(e)||or.text.hasOwnProperty(e)||Bq.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Ko.hasOwnProperty(e)&&!Ko[e].primitive}}var UR=/^[]/,gm=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),p5={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},VR={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class y1{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new r2e(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new $e("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new zi("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(e,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(y1.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&Ko[i.text]&&Ko[i.text].infix)break;var s=this.parseAtom(r);if(s){if(s.type==="internal")continue}else break;n.push(s)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var r=-1,n,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new $e("only one infix operator per group",e[i].token);r=i,n=e[i].replaceWith}if(r!==-1&&n){var s,a,o=e.slice(0,r),l=e.slice(r+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l};var u;return n==="\\\\abovefrac"?u=this.callFunction(n,[s,e[r],a],[]):u=this.callFunction(n,[s,a],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(e)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new $e("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],n=0;n<e.length;n++)r.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:r},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var r=this.parseGroup("atom",e);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(r&&r.type==="op"){var a=s.text==="\\limits";r.limits=a,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=s.text==="\\limits");else throw new $e("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(n)throw new $e("Double superscript",s);n=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new $e("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(n)throw new $e("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:l}}else if(gm[s.text]){var u=UR.test(s.text),f=[];for(f.push(new zi(gm[s.text])),this.consume();;){var p=this.fetch().text;if(!gm[p]||UR.test(p)!==u)break;f.unshift(new zi(gm[p])),this.consume()}var m=this.subparse(f);u?i={type:"ordgroup",mode:"math",body:m}:n={type:"ordgroup",mode:"math",body:m}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(e,r){var n=this.fetch(),i=n.text,s=Ko[i];if(!s)return null;if(this.consume(),r&&r!=="atom"&&!s.allowedInArgument)throw new $e("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!s.allowedInText)throw new $e("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&s.allowedInMath===!1)throw new $e("Can't use function '"+i+"' in math mode",n);var{args:a,optArgs:o}=this.parseArguments(i,s);return this.callFunction(i,a,o,n,e)}callFunction(e,r,n,i,s){var a={funcName:e,parser:this,token:i,breakOnTokenText:s},o=Ko[e];if(o&&o.handler)return o.handler(a,r,n);throw new $e("No function handler for "+e)}parseArguments(e,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<n;a++){var o=r.argTypes&&r.argTypes[a],l=a<r.numOptionalArgs;(r.primitive&&o==null||r.type==="sqrt"&&a===1&&s[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)s.push(u);else if(u!=null)i.push(u);else throw new $e("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",n);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(n)throw new $e("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new $e("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new $e("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(e,r){for(var n=this.fetch(),i=n,s="",a;(a=this.fetch()).text!=="EOF"&&e.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new $e("Invalid "+r+": '"+n.text+"'",n);return n.range(i,s)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new $e("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new $e("Invalid size: '"+r.text+"'",r);var s={number:+(i[1]+i[2]),unit:i[3]};if(!Y$(s))throw new $e("Invalid unit: '"+s.unit+"'",r);return{type:"size",mode:this.mode,value:s,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,r){var n=this.gullet.scanArgument(e);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:n.loc,body:s};return r&&this.switchMode(i),a}parseGroup(e,r){var n=this.fetch(),i=n.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,a),l=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:hi.range(n,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(r,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!Bq.hasOwnProperty(i)){if(this.settings.throwOnError)throw new $e("Undefined control sequence: "+i,n);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var r=e.length-1,n=0;n<r;++n){var i=e[n],s=i.text;s==="-"&&e[n+1].text==="-"&&(n+1<r&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:hi.range(i,e[n+2]),text:"---"}),r-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:hi.range(i,e[n+1]),text:"--"}),r-=1)),(s==="'"||s==="`")&&e[n+1].text===s&&(e.splice(n,2,{type:"textord",mode:"text",loc:hi.range(i,e[n+1]),text:s+s}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new $e(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}VR.hasOwnProperty(r[0])&&!or[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=VR[r[0]]+r.slice(1));var s=Qwe.exec(r);s&&(r=r.substring(0,s.index),r==="i"?r="":r==="j"&&(r=""));var a;if(or[this.mode][r]){this.settings.strict&&this.mode==="math"&&HS.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var o=or[this.mode][r].group,l=hi.range(e),u;if(Vbe.hasOwnProperty(o)){var f=o;u={type:"atom",mode:this.mode,family:f,loc:l,text:r}}else u={type:o,mode:this.mode,loc:l,text:r};a=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(X$(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:hi.range(e),text:r};else return null;if(this.consume(),s)for(var p=0;p<s[0].length;p++){var m=s[0][p];if(!p5[m])throw new $e("Unknown accent ' "+m+"'",e);var v=p5[m][this.mode]||p5[m].text;if(!v)throw new $e("Accent "+m+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:hi.range(e),label:v,isStretchy:!1,isShifty:!0,base:a}}return a}}y1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var A7=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new y1(e,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new $e("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new zi("\\df@tag")])}]}return i},$q=function(e,r,n){r.textContent="";var i=E7(e,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),$q=function(){throw new $e("KaTeX doesn't work in quirks mode.")});var n2e=function(e,r){var n=E7(e,r).toMarkup();return n},i2e=function(e,r){var n=new o7(r);return A7(e,n)},qq=function(e,r,n){if(n.throwOnError||!(e instanceof $e))throw e;var i=ge.makeSpan(["katex-error"],[new as(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},E7=function(e,r){var n=new o7(r);try{var i=A7(e,n);return fwe(i,e,n)}catch(s){return qq(s,e,n)}},s2e=function(e,r){var n=new o7(r);try{var i=A7(e,n);return pwe(i,e,n)}catch(s){return qq(s,e,n)}},a2e="0.16.27",o2e={Span:E0,Anchor:u7,SymbolNode:as,SvgNode:eo,PathNode:Zo,LineNode:WS},l2e={version:a2e,render:$q,renderToString:n2e,ParseError:$e,SETTINGS_SCHEMA:zm,__parse:i2e,__renderToDomTree:E7,__renderToHTMLTree:s2e,__setFontMetrics:Dbe,__defineSymbol:P,__defineFunction:Ye,__defineMacro:$,__domTree:o2e};const c2e={total_return:{key:"total_return",nameEn:"Total Return",nameZh:"",formula:"R_{total} = \\frac{V_{end} - V_{start}}{V_{start}} \\times 100\\%",descriptionEn:"Measures overall portfolio performance from start to end",descriptionZh:""},annualized_return:{key:"annualized_return",nameEn:"Annualized Return",nameZh:"",formula:"R_{ann} = \\left(1 + R_{total}\\right)^{\\frac{252}{n}} - 1",descriptionEn:"Standardized yearly return rate (252 trading days)",descriptionZh:"252"},max_drawdown:{key:"max_drawdown",nameEn:"Maximum Drawdown",nameZh:"",formula:"MDD = \\max_{t} \\left( \\frac{Peak_t - Trough_t}{Peak_t} \\right)",descriptionEn:"Largest peak-to-trough decline during the period",descriptionZh:""},sharpe_ratio:{key:"sharpe_ratio",nameEn:"Sharpe Ratio",nameZh:"",formula:"SR = \\frac{\\bar{r} - r_f}{\\sigma}",descriptionEn:"Risk-adjusted return per unit of volatility (r=avg return, rf=risk-free rate, =std dev)",descriptionZh:"r=rf=="},sortino_ratio:{key:"sortino_ratio",nameEn:"Sortino Ratio",nameZh:"",formula:"Sortino = \\frac{\\bar{r} - r_f}{\\sigma_d}",descriptionEn:"Return per unit of downside risk (d=downside deviation)",descriptionZh:"d="},calmar_ratio:{key:"calmar_ratio",nameEn:"Calmar Ratio",nameZh:"",formula:"Calmar = \\frac{R_{ann}}{|MDD|}",descriptionEn:"Annualized return divided by maximum drawdown",descriptionZh:""},win_rate:{key:"win_rate",nameEn:"Win Rate",nameZh:"",formula:"WinRate = \\frac{N_{win}}{N_{total}} \\times 100\\%",descriptionEn:"Percentage of profitable trades",descriptionZh:""},profit_factor:{key:"profit_factor",nameEn:"Profit Factor",nameZh:"",formula:"PF = \\frac{\\sum Profits}{|\\sum Losses|}",descriptionEn:"Ratio of gross profit to gross loss",descriptionZh:""},volatility:{key:"volatility",nameEn:"Volatility",nameZh:"",formula:"\\sigma = \\sqrt{\\frac{1}{n}\\sum_{i=1}^{n}(r_i - \\bar{r})^2}",descriptionEn:"Standard deviation of returns",descriptionZh:""},var_95:{key:"var_95",nameEn:"VaR (95%)",nameZh:"",formula:"P(R < VaR_{95\\%}) = 5\\%",descriptionEn:"95% confidence level maximum expected loss",descriptionZh:"95%"},alpha:{key:"alpha",nameEn:"Alpha",nameZh:"",formula:"\\alpha = R_{portfolio} - R_{benchmark}",descriptionEn:"Excess return over benchmark",descriptionZh:""},beta:{key:"beta",nameEn:"Beta",nameZh:"",formula:"\\beta = \\frac{Cov(R_p, R_m)}{Var(R_m)}",descriptionEn:"Portfolio sensitivity to market movements",descriptionZh:""},information_ratio:{key:"information_ratio",nameEn:"Information Ratio",nameZh:"",formula:"IR = \\frac{\\alpha}{\\sigma_{tracking}}",descriptionEn:"Alpha per unit of tracking error",descriptionZh:""},avg_trade_pnl:{key:"avg_trade_pnl",nameEn:"Avg Trade PnL",nameZh:"",formula:"\\bar{PnL} = \\frac{\\sum PnL_i}{N}",descriptionEn:"Average profit/loss per trade",descriptionZh:""},expectancy:{key:"expectancy",nameEn:"Expectancy",nameZh:"",formula:"E = (WinRate \\times \\bar{W}) - (LossRate \\times \\bar{L})",descriptionEn:"Expected return per trade",descriptionZh:""}};function u2e({formula:t,displayMode:e=!0}){const r=_.useRef(null);return _.useEffect(()=>{if(r.current)try{l2e.render(t,r.current,{throwOnError:!1,displayMode:e,output:"html"})}catch(n){console.error("KaTeX render error:",n),r.current.textContent=t}},[t,e]),d.jsx("div",{ref:r,className:"formula-container"})}function d2e({metricKey:t,language:e="en",size:r=14,className:n=""}){const[i,s]=_.useState(!1),[a,o]=_.useState({top:100,left:100,placement:"bottom"}),l=_.useRef(null),u=340,f=220,p=c2e[t],m=_.useCallback(()=>{if(!l.current)return;const N=l.current.getBoundingClientRect(),A=window.innerHeight,k=window.innerWidth;let E=N.left+N.width/2-u/2;const j=16;E=Math.max(j,Math.min(E,k-u-j));const T=A-N.bottom;let M="bottom",I;T>=f+20?(M="bottom",I=N.bottom+8):(M="top",I=Math.max(8,N.top-f-8)),I=Math.max(8,I),o({top:I,left:E,placement:M})},[]),v=_.useCallback(()=>{m(),s(!0)},[m]),y=_.useCallback(()=>{s(!1)},[]);if(!p)return null;const x=e==="zh"?p.nameZh:p.nameEn,b=e==="zh"?p.descriptionZh:p.descriptionEn,S=d.jsx("div",{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{position:"fixed",top:`${a.top}px`,left:`${a.left}px`,width:`${u}px`,zIndex:99999,pointerEvents:"auto"},children:d.jsxs("div",{style:{background:"linear-gradient(145deg, #1E2329 0%, #2B3139 100%)",border:"1px solid #3B4149",borderRadius:"12px",padding:"16px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.8)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #3B4149"},children:[d.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#F0B90B"}}),d.jsx("span",{style:{fontWeight:"bold",fontSize:"14px",color:"#EAECEF"},children:x})]}),d.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"12px",marginBottom:"12px"},children:[d.jsx("div",{style:{fontSize:"12px",color:"#848E9C",marginBottom:"8px"},children:e==="zh"?"":"Formula"}),d.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"8px 4px",color:"#EAECEF",overflowX:"auto",overflowY:"hidden",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:d.jsx(u2e,{formula:p.formula,displayMode:!1})})]}),d.jsx("p",{style:{fontSize:"12px",lineHeight:"1.5",color:"#B7BDC6",margin:0},children:b})]})});return d.jsxs(d.Fragment,{children:[d.jsx("button",{ref:l,type:"button",onMouseEnter:v,onMouseLeave:y,onClick:N=>{N.stopPropagation(),i||m(),s(!i)},className:`p-0.5 rounded-full transition-colors hover:bg-white/10 ${n}`,style:{color:"#848E9C"},"aria-label":`Info about ${x}`,children:d.jsx(nxe,{size:r})}),i&&y6.createPortal(S,document.body)]})}function _n(t,e=2){if(t==null||isNaN(t)||t===0)return"0";const r=Math.abs(t);let n;r<1e-6?n=15:r<1e-4?n=12:r<.01?n=10:r<1?n=8:r<1e3?n=4:n=2,n=Math.max(n,e);let i=t.toFixed(n);if(i.includes(".")){i=i.replace(/\.?0+$/,"");const s=i.indexOf(".");if(s===-1)i+="."+"0".repeat(e);else{const a=i.length-s-1;a<e&&(i+="0".repeat(e-a))}}return i}function md(t,e=2){if(t==null||isNaN(t)||t===0)return"0";const r=Math.abs(t);let n;r>=1e6?n=0:r>=1e3?n=2:r>=1?n=4:n=8,n=Math.max(n,e);let i=t.toFixed(n);if(i.includes(".")){i=i.replace(/\.?0+$/,"");const s=i.indexOf(".");if(s===-1)i+="."+"0".repeat(e);else{const a=i.length-s-1;a<e&&(i+="0".repeat(e-a))}}return i}function av(t){return typeof t=="number"&&Number.isFinite(t)}function $h(t,e=0){return av(t)?t:e}function Bm(t,e=2,r=""){return av(t)?`${t>=0?"+":""}${t.toFixed(e)}%`:r}function Ri(t,e=2){return Math.abs(t)>=1e6?(t/1e6).toFixed(2)+"M":Math.abs(t)>=1e3?(t/1e3).toFixed(2)+"K":t.toFixed(e)}function h2e(t){return!t||t<=0?"-":t<60?`${t.toFixed(0)}m`:t<1440?`${(t/60).toFixed(1)}h`:`${(t/1440).toFixed(1)}d`}function Uq(t){if(!t)return"-";const e=new Date(t);return isNaN(e.getTime())?"-":e.toLocaleDateString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function Js({title:t,value:e,suffix:r,color:n,icon:i,subtitle:s,metricKey:a,language:o="en"}){return d.jsxs("div",{className:"rounded-lg p-4 transition-all duration-200 hover:scale-[1.02]",style:{background:"linear-gradient(135deg, #1E2329 0%, #181C21 100%)",border:"1px solid #2B3139",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)"},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-lg",children:i}),d.jsx("span",{className:"text-xs",style:{color:"#848E9C"},children:t}),a&&d.jsx(d2e,{metricKey:a,language:o,size:12})]}),d.jsxs("div",{className:"flex items-baseline gap-1",children:[d.jsx("span",{className:"text-xl font-bold font-mono",style:{color:n||"#EAECEF"},children:e}),r&&d.jsx("span",{className:"text-sm",style:{color:"#848E9C"},children:r})]}),s&&d.jsx("div",{className:"text-xs mt-1",style:{color:"#848E9C"},children:s})]})}function f2e({stat:t,language:e}){const r=t.total_pnl||0,n=t.win_rate||0,i=r>=0?"#0ECB81":"#F6465D",s=n>=60?"#0ECB81":n>=40?"#F0B90B":"#F6465D";return d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg transition-all duration-200 hover:bg-white/5",style:{borderBottom:"1px solid #2B3139"},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"font-mono font-semibold",style:{color:"#EAECEF"},children:t.symbol||"-"}),d.jsxs("span",{className:"text-xs",style:{color:"#848E9C"},children:[t.total_trades||0," ",e==="zh"?"":"trades"]})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-xs",style:{color:"#848E9C"},children:e==="zh"?"":"Win Rate"}),d.jsxs("div",{className:"font-mono font-semibold",style:{color:s},children:[n.toFixed(1),"%"]})]}),d.jsxs("div",{className:"text-right min-w-[80px]",children:[d.jsx("div",{className:"text-xs",style:{color:"#848E9C"},children:e==="zh"?"":"PnL"}),d.jsxs("div",{className:"font-mono font-semibold",style:{color:i},children:[r>=0?"+":"",Ri(r)]})]})]})]})}function p2e({stat:t,language:e}){const r=(t.side||"").toLowerCase()==="long",n=r?"#0ECB81":"#F6465D",i=t.total_pnl||0,s=t.win_rate||0,a=t.trade_count||0,o=t.avg_pnl||0,l=i>=0?"#0ECB81":"#F6465D";return d.jsxs("div",{className:"rounded-lg p-4",style:{background:"linear-gradient(135deg, #1E2329 0%, #181C21 100%)",border:`1px solid ${n}33`},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("span",{className:"text-xl",children:r?"":""}),d.jsx("span",{className:"font-bold uppercase",style:{color:n},children:t.side||"Unknown"})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs mb-1",style:{color:"#848E9C"},children:de("positionHistory.trades",e)}),d.jsx("div",{className:"font-mono font-semibold",style:{color:"#EAECEF"},children:a})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs mb-1",style:{color:"#848E9C"},children:de("positionHistory.winRate",e)}),d.jsxs("div",{className:"font-mono font-semibold",style:{color:s>=60?"#0ECB81":s>=40?"#F0B90B":"#F6465D"},children:[s.toFixed(1),"%"]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs mb-1",style:{color:"#848E9C"},children:de("positionHistory.totalPnL",e)}),d.jsxs("div",{className:"font-mono font-semibold",style:{color:l},children:[i>=0?"+":"",Ri(i)]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs mb-1",style:{color:"#848E9C"},children:de("positionHistory.avgPnL",e)}),d.jsxs("div",{className:"font-mono font-semibold",style:{color:o>=0?"#0ECB81":"#F6465D"},children:[o>=0?"+":"",Ri(o)]})]})]})]})}function m2e({position:t}){const e=t.side||"",r=e.toUpperCase()==="LONG",n=t.realized_pnl||0,i=n>=0,s=r?"#0ECB81":"#F6465D",a=i?"#0ECB81":"#F6465D",o=t.entry_time?new Date(t.entry_time).getTime():0,l=t.exit_time?new Date(t.exit_time).getTime():0,u=o&&l&&l>o?(l-o)/6e4:0,f=t.entry_price||0,p=t.exit_price||0;let m=0;f>0&&(r?m=(p-f)/f*100:m=(f-p)/f*100);const v=t.entry_quantity||t.quantity||0;return d.jsxs("tr",{className:"transition-all duration-200 hover:bg-white/5",style:{borderBottom:"1px solid #2B3139"},children:[d.jsx("td",{className:"py-3 px-4",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-mono font-semibold",style:{color:"#EAECEF"},children:t.symbol||"-"}),d.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-semibold uppercase",style:{background:`${s}22`,color:s,border:`1px solid ${s}44`},children:e})]})}),d.jsx("td",{className:"py-3 px-4 text-right font-mono",style:{color:"#EAECEF"},children:_n(f)}),d.jsx("td",{className:"py-3 px-4 text-right font-mono",style:{color:"#EAECEF"},children:_n(p)}),d.jsx("td",{className:"py-3 px-4 text-right font-mono",style:{color:"#848E9C"},children:md(v)}),d.jsx("td",{className:"py-3 px-4 text-right font-mono",style:{color:"#EAECEF"},children:Ri(f*v)}),d.jsxs("td",{className:"py-3 px-4 text-right",children:[d.jsxs("div",{className:"font-mono font-semibold",style:{color:a},children:[i?"+":"",Ri(n)]}),d.jsxs("div",{className:"text-xs",style:{color:a},children:[m>=0?"+":"",m.toFixed(2),"%"]})]}),d.jsxs("td",{className:"py-3 px-4 text-right font-mono text-xs",style:{color:"#848E9C"},children:["-",(t.fee||0)<.01&&(t.fee||0)>0?(t.fee||0).toFixed(4):(t.fee||0).toFixed(2)]}),d.jsx("td",{className:"py-3 px-4 text-center text-sm",style:{color:"#848E9C"},children:h2e(u)}),d.jsx("td",{className:"py-3 px-4 text-right text-xs",style:{color:"#848E9C"},children:Uq(t.exit_time)})]})}function g2e({traderId:t}){const{language:e}=bi(),[r,n]=_.useState(!0),[i,s]=_.useState(!1),[a,o]=_.useState(null),[l,u]=_.useState([]),[f,p]=_.useState([]),[m,v]=_.useState(null),[y,x]=_.useState([]),[b,S]=_.useState([]),[N,A]=_.useState(20),[k,E]=_.useState(1),[j,T]=_.useState("all"),[M,I]=_.useState("all"),[q,D]=_.useState("time"),[L,V]=_.useState("desc");_.useEffect(()=>{let F=!1,Q=!1;const le=async()=>{try{Q?s(!0):n(!0),o(null);const be=await It.getPositionHistory(t,Math.max(200,N*5));if(F)return;u(be.positions||[]),p(Array.isArray(be.trade_events)?be.trade_events:[]),v(be.stats),x(be.symbol_stats||[]),S(be.direction_stats||[]),Q=!0}catch(be){if(F)return;o(be instanceof Error?be.message:"Failed to load history")}finally{F||(n(!1),s(!1))}};t&&le();const xe=setInterval(()=>{t&&le()},5e3);return()=>{F=!0,clearInterval(xe)}},[t,N]);const K=_.useMemo(()=>{const F=new Set(l.map(Q=>Q.symbol));return Array.from(F).sort()},[l]),Y=_.useMemo(()=>{let F=[...l];return j!=="all"&&(F=F.filter(Q=>Q.symbol===j)),M!=="all"&&(F=F.filter(Q=>(Q.side||"").toUpperCase()===M.toUpperCase())),F.sort((Q,le)=>{let xe=0;switch(q){case"time":xe=new Date(Q.exit_time||0).getTime()-new Date(le.exit_time||0).getTime();break;case"pnl":xe=(Q.realized_pnl||0)-(le.realized_pnl||0);break;case"pnl_pct":{const be=Q.entry_price||1,ae=le.entry_price||1,we=((Q.exit_price||0)-be)/be*100,fe=((le.exit_price||0)-ae)/ae*100;xe=we-fe;break}}return L==="desc"?-xe:xe}),F},[l,j,M,q,L]),J=Y.length,te=Math.ceil(J/N);_.useEffect(()=>{E(1)},[j,M,q,L,N]);const X=_.useMemo(()=>{const F=(k-1)*N;return Y.slice(F,F+N)},[Y,k,N]),ie=_.useMemo(()=>{if(!m)return 0;const F=m.avg_win||0,Q=m.avg_loss||0;return Q===0?F>0?1/0:0:F/Q},[m]);if(r)return d.jsxs("div",{className:"flex items-center justify-center p-12",style:{color:"#848E9C"},children:[d.jsx("div",{className:"animate-spin mr-3",children:d.jsxs("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}),de("positionHistory.loading",e)]});if(a)return d.jsx("div",{className:"rounded-lg p-6 text-center",style:{background:"rgba(246, 70, 93, 0.1)",border:"1px solid rgba(246, 70, 93, 0.3)",color:"#F6465D"},children:a});const G=f.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"rounded-lg p-4",style:{background:"linear-gradient(135deg, #1E2329 0%, #181C21 100%)",border:"1px solid #2B3139"},children:[d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsx("div",{className:"text-sm font-semibold",style:{color:"#EAECEF"},children:e==="zh"?"":"Transaction History (Realtime)"}),i&&d.jsx("div",{className:"text-[11px] font-mono",style:{color:"#848E9C"},children:e==="zh"?"":"Refreshing..."})]}),d.jsx("div",{className:"text-xs mt-1",style:{color:"#848E9C"},children:e==="zh"?"/":"Every executed buy/sell is recorded here with post-trade position/cash."})]}),d.jsx("div",{className:"rounded-lg overflow-hidden",style:{border:"1px solid #2B3139"},children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{style:{background:"rgba(30, 35, 41, 0.8)"},children:[d.jsx("th",{className:"py-3 px-4 text-left text-xs font-semibold",style:{color:"#848E9C"},children:e==="zh"?"":"Time"}),d.jsx("th",{className:"py-3 px-4 text-left text-xs font-semibold",style:{color:"#848E9C"},children:e==="zh"?"":"Side"}),d.jsx("th",{className:"py-3 px-4 text-left text-xs font-semibold",style:{color:"#848E9C"},children:e==="zh"?"":"Symbol"}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold",style:{color:"#848E9C"},children:e==="zh"?"":"Qty"}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold",style:{color:"#848E9C"},children:e==="zh"?"":"Price"}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold",style:{color:"#848E9C"},children:e==="zh"?"":"Fee"}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold",style:{color:"#848E9C"},children:e==="zh"?"":"Pos After"}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold",style:{color:"#848E9C"},children:e==="zh"?"":"Cash After"})]})}),d.jsx("tbody",{children:f.slice(0,200).map(F=>d.jsxs("tr",{style:{borderTop:"1px solid rgba(255,255,255,0.06)"},children:[d.jsx("td",{className:"py-3 px-4 text-left text-xs",style:{color:"#848E9C"},children:Uq(F.ts)}),d.jsx("td",{className:"py-3 px-4 text-left text-sm font-semibold",style:{color:F.side==="BUY"?"#0ECB81":"#F6465D"},children:F.side}),d.jsx("td",{className:"py-3 px-4 text-left text-sm",style:{color:"#EAECEF"},children:F.symbol}),d.jsx("td",{className:"py-3 px-4 text-right text-sm",style:{color:"#EAECEF"},children:md(F.quantity)}),d.jsx("td",{className:"py-3 px-4 text-right text-sm",style:{color:"#EAECEF"},children:_n(F.price)}),d.jsx("td",{className:"py-3 px-4 text-right text-sm",style:{color:"#848E9C"},children:Ri(Math.abs(Number(F.fee||0)))}),d.jsx("td",{className:"py-3 px-4 text-right text-sm",style:{color:"#EAECEF"},children:Number.isFinite(Number(F.position_after_qty))?md(Number(F.position_after_qty)):"-"}),d.jsx("td",{className:"py-3 px-4 text-right text-sm",style:{color:"#EAECEF"},children:Number.isFinite(Number(F.cash_after))?Ri(Number(F.cash_after)):"-"})]},F.id))})]})})})]}):null;return l.length===0?G?d.jsx("div",{className:"space-y-6",children:G}):d.jsxs("div",{className:"rounded-lg p-12 text-center",style:{background:"linear-gradient(135deg, #1E2329 0%, #181C21 100%)",border:"1px solid #2B3139"},children:[d.jsx("div",{className:"text-4xl mb-4",children:""}),d.jsx("div",{className:"text-lg font-semibold mb-2",style:{color:"#EAECEF"},children:de("positionHistory.noHistory",e)}),d.jsx("div",{style:{color:"#848E9C"},children:de("positionHistory.noHistoryDesc",e)})]}):d.jsxs("div",{className:"space-y-6",children:[G,m&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[d.jsx(Js,{icon:"",title:de("positionHistory.totalTrades",e),value:m.total_trades||0,subtitle:de("positionHistory.winLoss",e,{win:m.win_trades||0,loss:m.loss_trades||0}),language:e}),d.jsx(Js,{icon:"",title:de("positionHistory.winRate",e),value:(m.win_rate||0).toFixed(1),suffix:"%",color:(m.win_rate||0)>=60?"#0ECB81":(m.win_rate||0)>=40?"#F0B90B":"#F6465D",metricKey:"win_rate",language:e}),d.jsx(Js,{icon:"",title:de("positionHistory.totalPnL",e),value:((m.total_pnl||0)>=0?"+":"")+Ri(m.total_pnl||0),color:(m.total_pnl||0)>=0?"#0ECB81":"#F6465D",subtitle:`${de("positionHistory.fee",e)}: -${Ri(m.total_fee||0)}`,metricKey:"total_return",language:e}),d.jsx(Js,{icon:"",title:de("positionHistory.profitFactor",e),value:(m.profit_factor||0).toFixed(2),color:(m.profit_factor||0)>=1.5?"#0ECB81":(m.profit_factor||0)>=1?"#F0B90B":"#F6465D",subtitle:de("positionHistory.profitFactorDesc",e),metricKey:"profit_factor",language:e}),d.jsx(Js,{icon:"",title:de("positionHistory.plRatio",e),value:ie===1/0?"":ie.toFixed(2),color:ie>=1.5?"#0ECB81":ie>=1?"#F0B90B":"#F6465D",subtitle:de("positionHistory.plRatioDesc",e),metricKey:"expectancy",language:e})]}),m&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[d.jsx(Js,{icon:"",title:de("positionHistory.sharpeRatio",e),value:(m.sharpe_ratio||0).toFixed(2),color:(m.sharpe_ratio||0)>=1?"#0ECB81":(m.sharpe_ratio||0)>=0?"#F0B90B":"#F6465D",subtitle:de("positionHistory.sharpeRatioDesc",e),metricKey:"sharpe_ratio",language:e}),d.jsx(Js,{icon:"",title:de("positionHistory.maxDrawdown",e),value:(m.max_drawdown_pct||0).toFixed(1),suffix:"%",color:(m.max_drawdown_pct||0)<=10?"#0ECB81":(m.max_drawdown_pct||0)<=20?"#F0B90B":"#F6465D",metricKey:"max_drawdown",language:e}),d.jsx(Js,{icon:"",title:de("positionHistory.avgWin",e),value:"+"+Ri(m.avg_win||0),color:"#0ECB81",metricKey:"avg_trade_pnl",language:e}),d.jsx(Js,{icon:"",title:de("positionHistory.avgLoss",e),value:"-"+Ri(m.avg_loss||0),color:"#F6465D",language:e}),d.jsx(Js,{icon:"",title:de("positionHistory.netPnL",e),value:((m.total_pnl||0)-(m.total_fee||0)>=0?"+":"")+Ri((m.total_pnl||0)-(m.total_fee||0)),color:(m.total_pnl||0)-(m.total_fee||0)>=0?"#0ECB81":"#F6465D",subtitle:de("positionHistory.netPnLDesc",e),language:e})]}),b.length>0&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(F=>d.jsx(p2e,{stat:F,language:e},F.side))}),y.length>0&&d.jsxs("div",{className:"rounded-lg p-4",style:{background:"linear-gradient(135deg, #1E2329 0%, #181C21 100%)",border:"1px solid #2B3139"},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsx("span",{className:"text-lg",children:""}),d.jsx("span",{className:"font-semibold",style:{color:"#EAECEF"},children:de("positionHistory.symbolPerformance",e)})]}),d.jsx("div",{className:"space-y-1",children:y.slice(0,10).map(F=>d.jsx(f2e,{stat:F,language:e},F.symbol))})]}),d.jsxs("div",{className:"rounded-lg overflow-hidden",style:{background:"linear-gradient(135deg, #1E2329 0%, #181C21 100%)",border:"1px solid #2B3139"},children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-4 p-4",style:{borderBottom:"1px solid #2B3139"},children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm",style:{color:"#848E9C"},children:[de("positionHistory.symbol",e),":"]}),d.jsxs("select",{value:j,onChange:F=>T(F.target.value),className:"rounded px-3 py-1.5 text-sm",style:{background:"#0B0E11",border:"1px solid #2B3139",color:"#EAECEF"},children:[d.jsx("option",{value:"all",children:de("positionHistory.allSymbols",e)}),K.map(F=>d.jsx("option",{value:F,children:F||"-"},F))]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm",style:{color:"#848E9C"},children:[de("positionHistory.side",e),":"]}),d.jsx("div",{className:"flex rounded overflow-hidden",style:{border:"1px solid #2B3139"},children:["all","LONG","SHORT"].map(F=>d.jsx("button",{onClick:()=>I(F),className:"px-3 py-1.5 text-sm capitalize transition-colors",style:{background:M===F?"#2B3139":"transparent",color:M===F?"#EAECEF":"#848E9C"},children:F==="all"?de("positionHistory.all",e):F},F))})]}),d.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[d.jsxs("span",{className:"text-sm",style:{color:"#848E9C"},children:[de("positionHistory.sort",e),":"]}),d.jsxs("select",{value:`${q}-${L}`,onChange:F=>{const[Q,le]=F.target.value.split("-");D(Q),V(le)},className:"rounded px-3 py-1.5 text-sm",style:{background:"#0B0E11",border:"1px solid #2B3139",color:"#EAECEF"},children:[d.jsx("option",{value:"time-desc",children:de("positionHistory.latestFirst",e)}),d.jsx("option",{value:"time-asc",children:de("positionHistory.oldestFirst",e)}),d.jsx("option",{value:"pnl-desc",children:de("positionHistory.highestPnL",e)}),d.jsx("option",{value:"pnl-asc",children:de("positionHistory.lowestPnL",e)})]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{style:{background:"#0B0E11"},children:[d.jsx("th",{className:"py-3 px-4 text-left text-xs font-semibold uppercase tracking-wider",style:{color:"#848E9C"},children:de("positionHistory.symbol",e)}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"#848E9C"},children:de("positionHistory.entry",e)}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"#848E9C"},children:de("positionHistory.exit",e)}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"#848E9C"},children:de("positionHistory.qty",e)}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"#848E9C"},children:de("positionHistory.value",e)}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"#848E9C"},children:de("positionHistory.pnl",e)}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"#848E9C"},children:de("positionHistory.fee",e)}),d.jsx("th",{className:"py-3 px-4 text-center text-xs font-semibold uppercase tracking-wider",style:{color:"#848E9C"},children:de("positionHistory.duration",e)}),d.jsx("th",{className:"py-3 px-4 text-right text-xs font-semibold uppercase tracking-wider",style:{color:"#848E9C"},children:de("positionHistory.closedAt",e)})]})}),d.jsx("tbody",{children:X.map(F=>d.jsx(m2e,{position:F},F.id))})]})}),d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 p-4 text-sm",style:{borderTop:"1px solid #2B3139",color:"#848E9C"},children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{children:de("positionHistory.showingPositions",e,{count:J,total:l.length})}),J>0&&d.jsxs("span",{children:[de("positionHistory.totalPnL",e),":"," ",d.jsxs("span",{style:{color:Y.reduce((F,Q)=>F+(Q.realized_pnl||0),0)>=0?"#0ECB81":"#F6465D"},children:[Y.reduce((F,Q)=>F+(Q.realized_pnl||0),0)>=0?"+":"",Ri(Y.reduce((F,Q)=>F+(Q.realized_pnl||0),0))]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-xs",style:{color:"#848E9C"},children:[e==="zh"?"":"Per page",":"]}),d.jsxs("select",{value:N,onChange:F=>A(Number(F.target.value)),className:"rounded px-2 py-1 text-sm",style:{background:"#0B0E11",border:"1px solid #2B3139",color:"#EAECEF"},children:[d.jsx("option",{value:20,children:"20"}),d.jsx("option",{value:50,children:"50"}),d.jsx("option",{value:100,children:"100"})]})]}),te>1&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>E(1),disabled:k===1,className:"px-2 py-1 rounded text-xs transition-colors disabled:opacity-30",style:{background:k===1?"transparent":"#2B3139",color:"#EAECEF"},children:""}),d.jsx("button",{onClick:()=>E(F=>Math.max(1,F-1)),disabled:k===1,className:"px-2 py-1 rounded text-xs transition-colors disabled:opacity-30",style:{background:k===1?"transparent":"#2B3139",color:"#EAECEF"},children:""}),d.jsxs("span",{className:"px-3 text-xs",style:{color:"#EAECEF"},children:[k," / ",te]}),d.jsx("button",{onClick:()=>E(F=>Math.min(te,F+1)),disabled:k===te,className:"px-2 py-1 rounded text-xs transition-colors disabled:opacity-30",style:{background:k===te?"transparent":"#2B3139",color:"#EAECEF"},children:""}),d.jsx("button",{onClick:()=>E(te),disabled:k===te,className:"px-2 py-1 rounded text-xs transition-colors disabled:opacity-30",style:{background:k===te?"transparent":"#2B3139",color:"#EAECEF"},children:""})]})]})]})]})]})}function Wa({children:t,className:e="",disableAnimation:r=!1,...n}){return d.jsxs("div",{className:`relative w-full min-h-screen bg-nofx-bg text-nofx-text overflow-hidden flex flex-col ${e}`,...n,children:[d.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 mix-blend-soft-light pointer-events-none fixed z-0"}),d.jsxs("div",{className:"absolute inset-0 pointer-events-none fixed z-0",children:[d.jsx("div",{className:"absolute inset-x-0 bottom-0 h-[50vh] bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:40px_40px] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)] opacity-50",style:{transform:"perspective(500px) rotateX(60deg) translateY(100px) scale(2)"}}),d.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-[0.03]"})]}),d.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none fixed z-0",children:[d.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40vw] h-[40vw] bg-nofx-gold/10 rounded-full blur-[120px] mix-blend-screen animate-pulse-slow"}),d.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40vw] h-[40vw] bg-nofx-accent/5 rounded-full blur-[120px] mix-blend-screen animate-pulse-slow",style:{animationDelay:"2s"}})]}),d.jsx("div",{className:"absolute inset-0 pointer-events-none fixed z-[9999] opacity-40",children:d.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] bg-[length:100%_4px,3px_100%] pointer-events-none"})}),d.jsx("div",{className:"relative z-10 flex-1 flex flex-col h-full w-full",children:t})]})}function v2e(t){return String(t||"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"")||"agent"}function y2e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x2e(t,e){const r=Math.max(0,Math.min(Number(e)||0,t.length)),n=t.slice(0,r),i=n.lastIndexOf("@");if(i<0)return null;const s=i>0?n[i-1]:"";if(s&&!/\s/.test(s))return null;const a=n.slice(i+1);return/\s/.test(a)?null:{start:i,query:a,cursor:r}}function WR(t){return Number.isFinite(Number(t))?new Date(t).toLocaleTimeString():"--:--:--"}function b2e(t){const e=String(t.sender_name||"").trim();return e||(t.sender_type==="agent"?"Agent":"You")}function w2e({roomId:t,roomAgentName:e,userSessionId:r,userNickname:n,roomSseState:i}){const[s,a]=_.useState(""),[o,l]=_.useState(!1),u=_.useRef(null),[f,p]=_.useState(null),{data:m,error:v,isLoading:y,mutate:x}=qr(t?["room-public-chat",t]:null,()=>It.getRoomPublicMessages(t,50),{refreshInterval:6e4,revalidateOnFocus:!1}),b=_.useMemo(()=>Array.isArray(m)?[...m].sort((D,L)=>Number(D.created_ts_ms)-Number(L.created_ts_ms)):[],[m]),S=_.useRef(null);_.useEffect(()=>{const D=S.current;D&&(D.scrollTop=D.scrollHeight)},[b.length]);const N=_.useMemo(()=>v2e(e),[e]),A=_.useMemo(()=>{const D=["agent",N].filter(Boolean);return Array.from(new Set(D))},[N]),k=_.useMemo(()=>{const D=A.map(L=>y2e(L)).join("|");return new RegExp(`(^|\\s)@(${D})(\\b|$)`,"i")},[A]),E=_.useMemo(()=>{const D=[{token:"agent",label:"@agent",hint:"Generic mention (always supported)"},{token:N,label:`@${N}`,hint:e?`Agent handle for ${e}`:"Agent handle"}].filter(L=>L.token);return Array.from(new Map(D.map(L=>[L.token,L])).values())},[N,e]),j=_.useMemo(()=>{if(!f)return[];const D=String(f.query||"").toLowerCase();return D?E.filter(L=>L.token.toLowerCase().startsWith(D)||L.label.toLowerCase().includes(D)):E},[f,E]);function T(D){const L=u.current;if(!L||!f)return;const V=`@${D} `,K=s.slice(0,f.start),Y=s.slice(f.cursor),J=`${K}${V}${Y}`;a(J),p(null),requestAnimationFrame(()=>{L.focus();const te=(K+V).length;L.setSelectionRange(te,te)})}async function M(D){let L=s.trim();if(!L||o)return;let V=D;V==="public_plain"&&k.test(L)&&(V="public_mention_agent"),V==="public_mention_agent"&&!k.test(L)&&(L=`@agent ${L}`),l(!0);try{await It.postRoomMessage(t,{user_session_id:r,user_nickname:n,visibility:"public",message_type:V,text:L}),a(""),p(null),await x()}finally{l(!1)}}const I=(i==null?void 0:i.status)||"connecting",q=I==="connected"?"text-[11px] font-mono text-nofx-green":I==="reconnecting"?"text-[11px] font-mono text-nofx-gold":I==="error"?"text-[11px] font-mono text-nofx-red":"text-[11px] font-mono text-nofx-text-muted";return d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs uppercase tracking-wide text-nofx-text-muted",children:"Public"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:q,children:["SSE: ",I]}),(i==null?void 0:i.last_event_ts_ms)&&d.jsxs("span",{className:"text-[11px] font-mono text-nofx-text-muted",children:["last ",WR(i.last_event_ts_ms)]}),d.jsxs("span",{className:"text-[11px] text-nofx-text-muted",children:[b.length," messages"]})]})]}),d.jsxs("div",{ref:S,className:"h-56 overflow-y-auto rounded border border-white/10 bg-black/30 p-3 space-y-2",children:[y&&d.jsx("div",{className:"text-xs text-nofx-text-muted",children:"Loading public timeline..."}),v&&d.jsx("div",{className:"text-xs text-nofx-red",children:"Failed to load public timeline."}),!y&&!v&&b.length===0&&d.jsx("div",{className:"text-xs text-nofx-text-muted",children:"No public messages yet."}),b.map(D=>d.jsxs("div",{className:"rounded border border-white/10 bg-black/40 px-2 py-1.5",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 text-[11px]",children:[d.jsx("span",{className:"font-semibold text-nofx-text-main",children:b2e(D)}),d.jsx("span",{className:"text-nofx-text-muted",children:WR(D.created_ts_ms)})]}),d.jsx("div",{className:"text-xs text-nofx-text-main mt-1 break-words",children:D.text})]},D.id))]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("textarea",{ref:u,value:s,onChange:D=>{const L=D.target.value;a(L);const V=D.target.selectionStart??L.length;p(x2e(L,V))},onBlur:()=>{setTimeout(()=>p(null),120)},placeholder:"Send a public room message (tip: type @ to mention the agent)",className:"w-full min-h-[76px] resize-y rounded bg-black/40 border border-white/10 px-3 py-2 text-sm text-nofx-text-main focus:outline-none focus:border-nofx-gold/50"}),f&&j.length>0&&d.jsx("div",{className:"rounded border border-white/10 bg-black/60 overflow-hidden",children:j.map(D=>d.jsxs("button",{type:"button",onMouseDown:L=>L.preventDefault(),onClick:()=>T(D.token),className:"w-full text-left px-3 py-2 hover:bg-white/10 transition-colors",children:[d.jsx("div",{className:"text-xs font-semibold text-nofx-text-main",children:D.label}),D.hint&&d.jsx("div",{className:"text-[11px] text-nofx-text-muted mt-0.5",children:D.hint})]},D.token))}),d.jsx("div",{className:"flex items-center gap-2 justify-end",children:d.jsx("button",{type:"button",onClick:()=>M("public_plain"),disabled:o||!s.trim(),className:"px-3 py-1.5 rounded text-xs font-semibold border border-white/15 text-nofx-text-main hover:bg-white/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})})]})]})}function S2e(t){return Number.isFinite(Number(t))?new Date(t).toLocaleTimeString():"--:--:--"}function _2e(t){const e=String(t.sender_name||"").trim();return e||(t.sender_type==="agent"?"Agent":"You")}function N2e({roomId:t,userSessionId:e,userNickname:r}){const[n,i]=_.useState(""),[s,a]=_.useState(!1),o=_.useRef(null),{data:l,error:u,isLoading:f,mutate:p}=qr(t&&e?["room-private-chat",t,e]:null,()=>It.getRoomPrivateMessages(t,e,50),{refreshInterval:2500,revalidateOnFocus:!1}),m=_.useMemo(()=>Array.isArray(l)?[...l].sort((y,x)=>Number(y.created_ts_ms)-Number(x.created_ts_ms)):[],[l]);_.useEffect(()=>{const y=o.current;y&&(y.scrollTop=y.scrollHeight)},[m.length]);async function v(){const y=n.trim();if(!(!y||s)){a(!0);try{await It.postRoomMessage(t,{user_session_id:e,user_nickname:r,visibility:"private",message_type:"private_agent_dm",text:y}),i(""),await p()}finally{a(!1)}}}return d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs uppercase tracking-wide text-nofx-text-muted",children:"Private"}),d.jsxs("span",{className:"text-[11px] text-nofx-text-muted",children:[m.length," messages"]})]}),d.jsxs("div",{ref:o,className:"h-56 overflow-y-auto rounded border border-white/10 bg-black/30 p-3 space-y-2",children:[f&&d.jsx("div",{className:"text-xs text-nofx-text-muted",children:"Loading private timeline..."}),u&&d.jsx("div",{className:"text-xs text-nofx-red",children:"Failed to load private timeline."}),!f&&!u&&m.length===0&&d.jsx("div",{className:"text-xs text-nofx-text-muted",children:"No private messages yet."}),m.map(y=>d.jsxs("div",{className:"rounded border border-white/10 bg-black/40 px-2 py-1.5",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 text-[11px]",children:[d.jsx("span",{className:"font-semibold text-nofx-text-main",children:_2e(y)}),d.jsx("span",{className:"text-nofx-text-muted",children:S2e(y.created_ts_ms)})]}),d.jsx("div",{className:"text-xs text-nofx-text-main mt-1 break-words",children:y.text})]},y.id))]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("textarea",{value:n,onChange:y=>i(y.target.value),placeholder:"Send a private message to room agent",className:"w-full min-h-[76px] resize-y rounded bg-black/40 border border-white/10 px-3 py-2 text-sm text-nofx-text-main focus:outline-none focus:border-nofx-gold/50"}),d.jsx("div",{className:"flex items-center justify-end",children:d.jsx("button",{type:"button",onClick:v,disabled:s||!n.trim(),className:"px-3 py-1.5 rounded text-xs font-semibold border border-nofx-gold/30 text-nofx-gold bg-nofx-gold/10 hover:bg-nofx-gold/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Send Private"})})]})]})}function A2e(t){const e=Number(t);if(Number.isFinite(e)&&e>0)try{return new Date(e).toLocaleTimeString()}catch{return String(e)}const r=String(t||"").trim();if(!r)return"--";const n=Date.parse(r);return Number.isFinite(n)?new Date(n).toLocaleTimeString():r}function E2e(t,e=2400){try{const r=JSON.stringify(t,null,2);return r?r.length>e?`${r.slice(0,e)}
... (truncated)`:r:""}catch{return""}}function C2e(t,e){if(String((t==null?void 0:t.action)||"").toLowerCase()!=="hold")return"";const n=String((t==null?void 0:t.hold_semantics)||"");return n==="no_position_no_order"?e==="zh"?"":"no buy/sell (flat position)":n==="keep_existing_position"?e==="zh"?"":"no new order (keep existing position)":Number((t==null?void 0:t.position_shares_on_symbol)||0)>0?e==="zh"?"":"no new order (keep position)":e==="zh"?"":"no buy/sell (no new order)"}async function k2e(t){const e=String(t||"");e&&await navigator.clipboard.writeText(e)}function j2e({roomId:t,language:e}){const[r,n]=_.useState("latest"),[i,s]=_.useState(""),[a,o]=_.useState(()=>{try{return new Date().toISOString().slice(0,10)}catch{return""}}),[l,u]=_.useState(10),[f,p]=_.useState(""),[m,v]=_.useState(""),[y,x]=_.useState("ALL"),[b,S]=_.useState(!1),N=t?`audit-${r}-${t}-${r==="day"?a:"latest"}-${l}`:null,{data:A,error:k,isLoading:E,mutate:j}=qr(N,()=>r==="day"?It.getDecisionAuditDay(t,a,l):It.getDecisionAuditLatest(t,l),{refreshInterval:r==="latest"?15e3:0,revalidateOnFocus:!1,dedupingInterval:2e3}),T=_.useMemo(()=>Array.isArray(A==null?void 0:A.records)?A.records:[],[A]),M=_.useMemo(()=>{const L=String(m||"").trim().toLowerCase(),V=String(y||"ALL").toUpperCase();return T.filter(K=>{var Y;return!(b&&(K==null?void 0:K.forced_hold)!==!0||V!=="ALL"&&String(((Y=K==null?void 0:K.data_readiness)==null?void 0:Y.level)||"").toUpperCase()!==V||L&&!String((K==null?void 0:K.symbol)||"").toLowerCase().includes(L))})},[T,m,y,b]);function I(L){const K=(Array.isArray(L)?L:[]).map(X=>{try{return JSON.stringify(X)}catch{return""}}).filter(Boolean).join(`
`);if(!K)return;const Y=`decision-audit-${t}-${r==="day"?a||"day":"latest"}.jsonl`,J=new Blob([`${K}
`],{type:"application/x-ndjson;charset=utf-8"}),te=URL.createObjectURL(J),U=document.createElement("a");U.href=te,U.download=Y,document.body.appendChild(U),U.click(),U.remove(),URL.revokeObjectURL(te)}function q(L){try{const V=Number((L==null?void 0:L.cycle_number)||0),K=String((L==null?void 0:L.timestamp)||"").trim();window.dispatchEvent(new CustomEvent("jump-to-decision",{detail:{cycle_number:V,timestamp:K}}))}catch{}}const D=async(L,V)=>{try{await k2e(L),p(V),window.setTimeout(()=>{p(K=>K===V?"":K)},1200)}catch(K){console.error("copy failed",K)}};return d.jsxs("div",{className:"nofx-glass p-5 border border-white/5 rounded-lg",children:[d.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-lg font-bold text-nofx-text-main",children:e==="zh"?"":"Audit Explorer"}),d.jsx("div",{className:"text-xs text-nofx-text-muted mt-1",children:e==="zh"?" data/audit/decision_audit JSONL":"Reads data/audit/decision_audit JSONL (read-only)."})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex items-center rounded border border-white/10 bg-black/30 overflow-hidden",children:[d.jsx("button",{type:"button",onClick:()=>{n("latest"),s(""),l>500&&u(10)},className:`text-[11px] px-2 py-1 ${r==="latest"?"text-nofx-text-main bg-white/10":"text-nofx-text-muted hover:text-nofx-text-main"}`,children:e==="zh"?"":"Latest"}),d.jsx("button",{type:"button",onClick:()=>{n("day"),s(""),l<2e3&&u(2e3)},className:`text-[11px] px-2 py-1 ${r==="day"?"text-nofx-text-main bg-white/10":"text-nofx-text-muted hover:text-nofx-text-main"}`,children:e==="zh"?"":"Day"})]}),r==="day"&&d.jsx("input",{type:"date",value:a,onChange:L=>{o(String(L.target.value||"").trim()),s("")},className:"px-2 py-1 rounded text-xs font-mono bg-black/40 text-nofx-text-main border border-white/10 hover:border-white/20 focus:outline-none",title:e==="zh"?"":"Day key"}),d.jsxs("select",{value:l,onChange:L=>u(Number(L.target.value)),className:"px-2 py-1 rounded text-xs font-mono bg-black/40 text-nofx-text-main border border-white/10 hover:border-white/20 focus:outline-none",title:e==="zh"?"":"Limit",children:[d.jsx("option",{value:10,children:"10"}),d.jsx("option",{value:20,children:"20"}),d.jsx("option",{value:50,children:"50"}),d.jsx("option",{value:100,children:"100"}),d.jsx("option",{value:200,children:"200"}),d.jsx("option",{value:500,children:"500"}),d.jsx("option",{value:2e3,children:"2000"})]}),d.jsx("button",{type:"button",onClick:()=>I(M),className:"text-[11px] px-2 py-1 rounded border border-white/10 bg-black/30 text-nofx-text-muted hover:text-nofx-text-main",title:e==="zh"?" JSONL":"Download JSONL",children:e==="zh"?"":"Download"}),d.jsx("button",{type:"button",onClick:()=>j(),className:"text-[11px] px-2 py-1 rounded border border-white/10 bg-black/30 text-nofx-text-muted hover:text-nofx-text-main",children:e==="zh"?"":"Refresh"})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[d.jsx("input",{value:m,onChange:L=>v(String(L.target.value||"")),placeholder:e==="zh"?"symbol ...":"symbol contains...",className:"px-2 py-1 rounded text-xs font-mono bg-black/40 text-nofx-text-main border border-white/10 hover:border-white/20 focus:outline-none"}),d.jsxs("select",{value:y,onChange:L=>x(String(L.target.value||"ALL")),className:"px-2 py-1 rounded text-xs font-mono bg-black/40 text-nofx-text-main border border-white/10 hover:border-white/20 focus:outline-none",title:e==="zh"?"":"Readiness",children:[d.jsx("option",{value:"ALL",children:e==="zh"?": ":"Readiness: ALL"}),d.jsx("option",{value:"OK",children:"OK"}),d.jsx("option",{value:"WARN",children:"WARN"}),d.jsx("option",{value:"ERROR",children:"ERROR"})]}),d.jsxs("label",{className:"flex items-center gap-1 text-[11px] text-nofx-text-muted select-none",children:[d.jsx("input",{type:"checkbox",checked:b,onChange:L=>S(!!L.target.checked)}),e==="zh"?" forced_hold":"forced_hold only"]}),d.jsxs("div",{className:"text-[11px] text-nofx-text-muted opacity-70",children:[M.length,"/",T.length]})]}),E&&d.jsx("div",{className:"text-xs text-nofx-text-muted",children:e==="zh"?"...":"Loading..."}),!E&&k&&d.jsx("div",{className:"text-xs text-nofx-red",children:e==="zh"?"":"Failed to load audit."}),!E&&!k&&T.length===0&&d.jsx("div",{className:"text-xs text-nofx-text-muted opacity-70",children:e==="zh"?"":"No audit records yet."}),!E&&!k&&T.length>0&&M.length===0&&d.jsx("div",{className:"text-xs text-nofx-text-muted opacity-70",children:e==="zh"?"":"No matches."}),M.length>0&&d.jsx("div",{className:"space-y-2",children:M.map((L,V)=>{const K=`${L.saved_ts_ms||L.timestamp||V}`,Y=L.data_readiness,J=String((Y==null?void 0:Y.level)||"").toUpperCase()||"--",te=L.forced_hold?"FORCED":"",U=String(L.action||"").toUpperCase()||"--",X=String(L.symbol||"")||"--",ie=A2e(L.saved_ts_ms||L.timestamp),G=C2e(L,e);return d.jsxs("div",{className:"rounded border border-white/10 bg-black/20",children:[d.jsxs("button",{type:"button",onClick:()=>s(F=>F===K?"":K),className:"w-full text-left px-3 py-2 flex items-center justify-between gap-3 hover:bg-white/5",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsxs("div",{className:"text-xs font-mono text-nofx-text-muted",children:[ie," | cycle ",String(L.cycle_number??"--")," |"," ",te]}),d.jsxs("div",{className:"text-sm text-nofx-text-main truncate",children:[X," ",U," | readiness ",J]}),!!G&&d.jsx("div",{className:"text-[11px] text-nofx-text-muted truncate",children:G})]}),d.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[d.jsx("button",{type:"button",onClick:F=>{F.preventDefault(),F.stopPropagation(),q(L)},className:"text-[11px] px-2 py-1 rounded border border-white/10 bg-black/30 text-nofx-text-muted hover:text-nofx-text-main",title:e==="zh"?"":"Jump to decision card",children:e==="zh"?"":"Jump"}),d.jsx("span",{className:"text-[11px] text-nofx-text-muted",children:de(i===K?"collapse":"expand",e)})]})]}),i===K&&d.jsxs("div",{className:"px-3 pb-3",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3 mt-1",children:[d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:"record.json"}),d.jsx("button",{type:"button",onClick:()=>D(JSON.stringify(L,null,2),`audit.${K}`),className:"text-[11px] px-2 py-1 rounded border border-white/10 bg-black/30 text-nofx-text-muted hover:text-nofx-text-main",children:f===`audit.${K}`?e==="zh"?"":"Copied":e==="zh"?"":"Copy"})]}),d.jsx("div",{className:"mt-2 rounded-lg p-3 text-[11px] font-mono whitespace-pre-wrap max-h-72 overflow-y-auto custom-scrollbar",style:{background:"#0B0E11",border:"1px solid #2B3139",color:"#EAECEF"},children:E2e(L)})]})]},K)})})]})}function P2e(t){try{return new Intl.DateTimeFormat("zh-CN",{timeZone:"Asia/Shanghai",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(new Date(t))}catch{return String(t)}}function Vq({replayRuntimeStatus:t,language:e,className:r="",showModePill:n=!0}){const[i,s]=_.useState(Date.now()),a=_.useRef(null);_.useEffect(()=>{const m=window.setInterval(()=>{s(Date.now())},1e3);return()=>{window.clearInterval(m)}},[]),_.useEffect(()=>{const m=Number(t==null?void 0:t.current_ts_ms);if(!Number.isFinite(m)||m<=0){a.current=null;return}a.current={replayTsMs:m,receivedAtMs:Date.now(),speed:Math.max(.1,Number((t==null?void 0:t.speed)||1)),running:(t==null?void 0:t.running)===!0}},[t==null?void 0:t.current_ts_ms,t==null?void 0:t.speed,t==null?void 0:t.running]);const l=String((t==null?void 0:t.data_mode)||"").trim().toLowerCase()==="replay",u=_.useMemo(()=>{if(!l)return i;const m=a.current;if(!m){const y=Number(t==null?void 0:t.current_ts_ms);return Number.isFinite(y)&&y>0?y:i}if(!m.running)return m.replayTsMs;const v=Math.max(0,i-m.receivedAtMs);return m.replayTsMs+v*m.speed},[l,t==null?void 0:t.current_ts_ms,i]),f=l?e==="zh"?"":"Replay Time":e==="zh"?"":"Beijing Time",p=l?"REPLAY":"LIVE";return d.jsxs("div",{className:`inline-flex items-center gap-2 rounded-lg border border-white/10 bg-black/35 px-3 py-1.5 ${r}`.trim(),children:[n&&d.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-mono ${l?"bg-nofx-gold/20 text-nofx-gold":"bg-nofx-green/20 text-nofx-green"}`,children:p}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:f}),d.jsx("div",{className:"text-[12px] font-mono text-nofx-text-main whitespace-nowrap",children:P2e(u)})]})]})}const HR="user_session_id",m5="user_nickname";function T2e(t){const r=String(t||"").replace(/[^a-zA-Z0-9]/g,"").slice(-4).toUpperCase();return r?`User-${r}`:"User"}function M2e(){const[t,e]=_.useState(null),[r,n]=_.useState(null),[i,s]=_.useState(!0),[a,o]=_.useState(null);return _.useEffect(()=>{let l=!0;async function u(){try{const f=localStorage.getItem(HR);if(f&&f.trim()){const y=f.trim(),x=localStorage.getItem(m5),b=x&&x.trim()?x.trim():T2e(y);if(localStorage.setItem(m5,b),!l)return;e(y),n(b),s(!1);return}const p=await It.bootstrapChatSession(),m=String(p.user_session_id||"").trim(),v=String(p.user_nickname||"").trim();if(!m)throw new Error("invalid_user_session_id");if(!v)throw new Error("invalid_user_nickname");if(localStorage.setItem(HR,m),localStorage.setItem(m5,v),!l)return;e(m),n(v),s(!1)}catch(f){if(!l)return;o(f instanceof Error?f:new Error("chat_session_init_failed")),s(!1)}}return u(),()=>{l=!1}},[]),{userSessionId:t,userNickname:r,isLoading:i,error:a}}function O2e(t){switch(t.toLowerCase()){case"deepseek":return"DeepSeek";case"qwen":return"Qwen";case"claude":return"Claude";default:return t.toUpperCase()}}function R2e(t){return!t||t.toLowerCase().includes("sim-cn")?"CN-SIM":t.toLowerCase().includes("sim-us")?"US-SIM":t.toUpperCase()}function I2e(t){return!t||t.toLowerCase().includes("sim-cn")?"sim-cn":t.toLowerCase()}function D2e({selectedTrader:t,status:e,account:r,positions:n,decisions:i,streamPacket:s,roomSseState:a,replayRuntimeStatus:o,decisionsLimit:l,onDecisionsLimitChange:u,lastUpdate:f,language:p,traders:m,tradersError:v,selectedTraderId:y,onTraderSelect:x,onNavigateToLobby:b}){var lr,Wr,Mr,An,cr,an,Ar,En,Cn,mn,lt,ct,Ot,$t,qt,Hr,Lr,gn,ur,$n,Fs,Bi,Rt,$i,fo,kn,po;const S=(lr=t==null?void 0:t.exchange_id)!=null&&lr.toLowerCase().includes("sim-us")?"USD":"CNY",N=_.useRef(null),[A,k]=_.useState(0),{data:E}=qr(t!=null&&t.trader_id?`dashboard-latest-decisions-${t.trader_id}-${l}`:null,()=>It.getLatestDecisions(t.trader_id,Math.max(5,Number(l)||5)),{refreshInterval:1e4,revalidateOnFocus:!1,dedupingInterval:2e3}),j=_.useMemo(()=>Array.isArray(i)&&i.length>0?i:Array.isArray(E)?E:[],[i,E]);_.useEffect(()=>{const Ee=at=>{try{const Pt=(at==null?void 0:at.detail)||{},Ut=Number((Pt==null?void 0:Pt.cycle_number)||0),Zn=String((Pt==null?void 0:Pt.timestamp)||"").trim(),vn=N.current;if(!vn)return;let on=null;if(Number.isFinite(Ut)&&Ut>0&&(on=vn.querySelector(`[data-decision-cycle="${String(Ut)}"]`)),!on&&Zn&&(on=vn.querySelector(`[data-decision-ts="${CSS.escape(Zn)}"]`)),!on)return;vn.scrollTop=Math.max(0,on.offsetTop-8),Number.isFinite(Ut)&&Ut>0&&(k(Ut),window.setTimeout(()=>{k(ln=>ln===Ut?0:ln)},1800))}catch{}};return window.addEventListener("jump-to-decision",Ee),()=>{window.removeEventListener("jump-to-decision",Ee)}},[]);const T=(()=>{if(!t)return null;if(!t.is_running)return p==="zh"?"":"This trader is stopped. Start it in the lobby first.";const Ee=e==null?void 0:e.market_gate;if(!Ee)return de("aiDecisionsWillAppear",p);if(Ee.kill_switch_active)return p==="zh"?"Kill Switch":"Kill switch is active: decisions are paused.";if(Ee.manual_paused)return p==="zh"?"":"Runtime is manually paused. Resume to generate decisions.";if(Ee.enabled&&Ee.session&&Ee.session.is_open===!1){const at=Ee.market==="US"?"New York":"Shanghai";return p==="zh"?`${at}`:`Market is closed (${at}). Decisions will resume next session.`}return Ee.enabled&&Ee.live_fresh_ok===!1?p==="zh"?"":"Live market data is not ready or stale. Will resume when data refreshes.":de("aiDecisionsWillAppear",p)})(),M=(()=>{var Kr,jc,hl,fl,qs,Us,us,Vs,pl,ml,ga,mo,va,ds,gl,ya,Dt,go;const Ee=((Kr=s==null?void 0:s.room_context)==null?void 0:Kr.data_readiness)||((jc=s==null?void 0:s.room_context)==null?void 0:jc.dataReadiness)||((hl=s==null?void 0:s.decision_meta)==null?void 0:hl.data_readiness)||null,at=String((Ee==null?void 0:Ee.level)||"").toUpperCase()||"OK",Pt=Array.isArray(Ee==null?void 0:Ee.reasons)?Ee.reasons.map(vl=>String(vl||"")).filter(Boolean):[],Ut=(Ee==null?void 0:Ee.metrics)||null,Zn=(Ee==null?void 0:Ee.as_of_ts_ms)??null,vn=(Ee==null?void 0:Ee.now_ts_ms)??null,on=((fl=s==null?void 0:s.decision_meta)==null?void 0:fl.session_gate)||null,ln=String(((qs=s==null?void 0:s.market_overview)==null?void 0:qs.brief)||((Us=s==null?void 0:s.room_context)==null?void 0:Us.market_overview_brief)||"").trim(),jn=((us=s==null?void 0:s.market_overview)==null?void 0:us.source_kind)||null,Pn=((Vs=s==null?void 0:s.market_overview)==null?void 0:Vs.status)||null,Zt=Array.isArray((pl=s==null?void 0:s.news_digest)==null?void 0:pl.titles)?s.news_digest.titles:Array.isArray((ml=s==null?void 0:s.room_context)==null?void 0:ml.news_digest_titles)?s.room_context.news_digest_titles:[],qn=((ga=s==null?void 0:s.news_digest)==null?void 0:ga.source_kind)||null,Bs=((mo=s==null?void 0:s.news_digest)==null?void 0:mo.status)||null,Cc=((va=s==null?void 0:s.market_breadth)==null?void 0:va.breadth)||((ds=s==null?void 0:s.room_context)==null?void 0:ds.market_breadth)||null,cs=String(((gl=s==null?void 0:s.market_breadth)==null?void 0:gl.summary)||((ya=s==null?void 0:s.room_context)==null?void 0:ya.market_breadth_summary)||"").trim(),kc=((Dt=s==null?void 0:s.market_breadth)==null?void 0:Dt.source_kind)||null,$s=((go=s==null?void 0:s.market_breadth)==null?void 0:go.status)||null,zr=!!(Pn!=null&&Pn.stale),pr=!!(Bs!=null&&Bs.stale),$d=!!($s!=null&&$s.stale);return{level:at,reasons:Pt,readinessMetrics:Ut,readinessAsOf:Zn,readinessNow:vn,sessionGate:on,overviewBrief:ln,overviewSource:jn,overviewStatus:Pn,staleOverview:zr,newsTitles:Zt,newsSource:qn,newsStatus:Bs,staleNews:pr,breadth:Cc,breadthSummary:cs,breadthSource:kc,breadthStatus:$s,staleBreadth:$d}})(),[I,q]=_.useState(!1),[D,L]=_.useState(!1),[V,K]=_.useState(""),Y=Ee=>{const at=Number(Ee);if(!Number.isFinite(at)||at<=0)return"--";try{return new Date(at).toLocaleTimeString()}catch{return String(at)}},J=Ee=>{const at=Number(Ee);if(!Number.isFinite(at)||at<0)return"--:--";const Pt=Math.floor(at/60),Ut=Math.floor(at%60);return`${String(Pt).padStart(2,"0")}:${String(Ut).padStart(2,"0")}`},te=async()=>{if(!t)return;if(!we||!fe){H(p==="zh"?"":"Chat session is not ready yet.");return}const Ee=String(Te||t.trader_id).trim(),at=Number(he);if(!Ee){H(p==="zh"?"":"Select a trader first.");return}if(!Number.isFinite(at)||at<=0){H(p==="zh"?"":"Enter a valid stake amount.");return}ve(!0),H(""),me("");try{const Pt=await It.placeViewerBet({user_session_id:we,user_nickname:fe,trader_id:Ee,stake_amount:at});await Xe(Pt,{revalidate:!1}),me(p==="zh"?"":"Bet updated.")}catch(Pt){H(Pt instanceof Error?Pt.message:"bet_place_failed")}finally{ve(!1)}},U=(Ee,at=2500)=>{try{const Pt=JSON.stringify(Ee,null,2);return Pt?Pt.length>at?`${Pt.slice(0,at)}
... (truncated)`:Pt:""}catch{return""}},X=Ee=>{try{return JSON.stringify(Ee,null,2)}catch{return""}},ie=async(Ee,at)=>{const Pt=String(Ee||"");if(Pt)try{await navigator.clipboard.writeText(Pt),K(at),window.setTimeout(()=>{K(Ut=>Ut===at?"":Ut)},1200)}catch(Ut){console.error("Failed to copy:",Ut)}},[G,F]=_.useState(void 0),[Q,le]=_.useState(0),xe=_.useRef(null),[be,ae]=_.useState("public"),{userSessionId:we,userNickname:fe,isLoading:Se,error:Pe}=M2e(),[he,Be]=_.useState("100"),[Te,We]=_.useState(""),[Me,ve]=_.useState(!1),[Ae,H]=_.useState(""),[se,me]=_.useState(""),{data:re,error:je,isLoading:Ve,mutate:Xe}=qr(t&&we?["bets-market",t.trader_id,we]:null,()=>It.getBetsMarket({traderId:t==null?void 0:t.trader_id,userSessionId:we||void 0}),{refreshInterval:8e3,revalidateOnFocus:!1});_.useEffect(()=>{const Ee=Array.isArray(re==null?void 0:re.entries)?re.entries.map(Ut=>String((Ut==null?void 0:Ut.trader_id)||"").trim()).filter(Boolean):[],at=String((t==null?void 0:t.trader_id)||"").trim(),Pt=String(Te||"").trim();if(!(Pt&&Ee.includes(Pt))){if(at&&Ee.includes(at)){We(at);return}if(Ee.length>0){We(Ee[0]);return}We(at)}},[t==null?void 0:t.trader_id,re==null?void 0:re.day_key,re==null?void 0:re.entries,Te]);const[vt,Ct]=_.useState(20),[pt,st]=_.useState(1),mt=(n==null?void 0:n.length)||0,Qt=Math.ceil(mt/vt),Nr=(n==null?void 0:n.slice((pt-1)*vt,pt*vt))||[];_.useEffect(()=>{st(1)},[y,vt]),_.useEffect(()=>{e!=null&&e.grid_symbol&&F(e.grid_symbol)},[e==null?void 0:e.grid_symbol]),_.useEffect(()=>{ae("public")},[t==null?void 0:t.trader_id]);const Xt=Ee=>{F(Ee),setTimeout(()=>{var at;(at=xe.current)==null||at.scrollIntoView({behavior:"smooth",block:"start"})},100)};return v?d.jsx("div",{className:"flex items-center justify-center min-h-[60vh] relative z-10",children:d.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[d.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full flex items-center justify-center nofx-glass",style:{background:"rgba(240, 185, 11, 0.1)",borderColor:"rgba(240, 185, 11, 0.3)"},children:d.jsx("svg",{className:"w-12 h-12 text-nofx-gold",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("h2",{className:"text-2xl font-bold mb-3 text-nofx-text-main",children:p==="zh"?"":"Connection Failed"}),d.jsx("p",{className:"text-base mb-6 text-nofx-text-muted",children:p==="zh"?"":"Please check if the backend service is running."}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105 active:scale-95 nofx-glass border border-nofx-gold/30 text-nofx-gold hover:bg-nofx-gold/10",children:p==="zh"?"":"Retry"})]})}):m&&m.length===0?d.jsx("div",{className:"flex items-center justify-center min-h-[60vh] relative z-10",children:d.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[d.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full flex items-center justify-center nofx-glass",style:{background:"rgba(240, 185, 11, 0.1)",borderColor:"rgba(240, 185, 11, 0.3)"},children:d.jsx("svg",{className:"w-12 h-12 text-nofx-gold",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),d.jsx("h2",{className:"text-2xl font-bold mb-3 text-nofx-text-main",children:de("dashboardEmptyTitle",p)}),d.jsx("p",{className:"text-base mb-6 text-nofx-text-muted",children:de("dashboardEmptyDescription",p)}),d.jsx("button",{onClick:b,className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105 active:scale-95 nofx-glass border border-nofx-gold/30 text-nofx-gold hover:bg-nofx-gold/10",children:p==="zh"?"":"Back to Lobby"})]})}):t?d.jsx(Wa,{className:"min-h-screen pb-12",disableAnimation:!0,children:d.jsxs("div",{className:"w-full px-4 md:px-8 relative z-10 pt-6","data-testid":"trader-dashboard",children:[d.jsxs("div",{className:"mb-6 rounded-lg p-6 animate-scale-in nofx-glass group",style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.6) 0%, rgba(15, 23, 42, 0.4) 100%)"},children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-4 text-nofx-text-main",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Ga,{traderId:t.trader_id,traderName:t.trader_name,avatarUrl:t.avatar_url,avatarHdUrl:t.avatar_hd_url,size:56,enableHdPreview:!0,className:"rounded-xl border-2 border-nofx-gold/30 shadow-[0_0_15px_rgba(240,185,11,0.2)]"}),d.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-nofx-green rounded-full border-2 border-[#0B0E11] shadow-[0_0_8px_rgba(14,203,129,0.8)] animate-pulse"})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"text-3xl tracking-tight text-nofx-text font-semibold",children:t.trader_name}),d.jsxs("span",{className:"text-xs font-mono text-nofx-text-muted opacity-60 flex items-center gap-2",children:[d.jsx("div",{className:"w-1.5 h-1.5 bg-nofx-gold rounded-full"}),"ID: ",t.trader_id.slice(0,8),"..."]})]})]}),d.jsx("div",{className:"flex items-center gap-4",children:m&&m.length>0&&d.jsx("div",{className:"flex items-center gap-2 nofx-glass px-1 py-1 rounded-lg border border-white/5",children:d.jsx("select",{value:y,onChange:Ee=>x(Ee.target.value),className:"bg-transparent text-sm font-medium cursor-pointer transition-colors text-nofx-text-main focus:outline-none px-2 py-1",children:m.map(Ee=>d.jsx("option",{value:Ee.trader_id,className:"bg-[#0B0E11]",children:Ee.trader_name},Ee.trader_id))})})})]}),d.jsxs("div",{className:"flex items-center gap-6 text-sm flex-wrap text-nofx-text-muted font-mono pl-2",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"opacity-60",children:"AI Model:"}),d.jsx("span",{className:"font-bold px-2 py-0.5 rounded text-xs tracking-wide",style:{background:t.ai_model.includes("qwen")?"rgba(192, 132, 252, 0.15)":"rgba(96, 165, 250, 0.15)",color:t.ai_model.includes("qwen")?"#c084fc":"#60a5fa",border:`1px solid ${t.ai_model.includes("qwen")?"#c084fc":"#60a5fa"}40`},children:O2e(t.ai_model.split("_").pop()||t.ai_model)})]}),d.jsx("span",{className:"w-px h-3 bg-white/10 hidden md:block"}),d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"opacity-60",children:"Market:"}),d.jsx("span",{className:"text-nofx-text-main font-semibold",children:R2e(t.exchange_id)})]}),d.jsx("span",{className:"w-px h-3 bg-white/10 hidden md:block"}),d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"opacity-60",children:"Persona:"}),d.jsx("span",{className:"text-nofx-gold font-semibold tracking-wide",children:t.strategy_name||"Virtual AI"})]}),d.jsx("span",{className:"w-px h-3 bg-white/10 hidden md:block"}),d.jsx(Vq,{replayRuntimeStatus:o,language:p}),e&&d.jsxs("div",{className:"hidden md:contents",children:[d.jsx("span",{className:"w-px h-3 bg-white/10"}),d.jsxs("span",{children:["Cycles:"," ",d.jsx("span",{className:"text-nofx-text-main",children:e.call_count})]}),d.jsx("span",{className:"w-px h-3 bg-white/10"}),d.jsxs("span",{children:["Runtime:"," ",d.jsxs("span",{className:"text-nofx-text-main",children:[e.runtime_minutes," min"]})]})]})]})]}),r&&d.jsxs("div",{className:"mb-4 px-3 py-1.5 rounded bg-black/40 border border-white/5 text-[10px] font-mono text-nofx-text-muted flex justify-between items-center opacity-60 hover:opacity-100 transition-opacity",children:[d.jsx("span",{children:"SYSTEM_STATUS::ONLINE"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("span",{children:["LAST_UPDATE::",f]}),d.jsxs("span",{children:["EQ::",(Wr=r==null?void 0:r.total_equity)==null?void 0:Wr.toFixed(2)]}),d.jsxs("span",{children:["PNL::",(Mr=r==null?void 0:r.total_pnl)==null?void 0:Mr.toFixed(2)]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[d.jsx(vm,{title:de("totalEquity",p),value:`${((An=r==null?void 0:r.total_equity)==null?void 0:An.toFixed(2))||"0.00"}`,unit:S,change:(r==null?void 0:r.total_pnl_pct)||0,positive:((r==null?void 0:r.total_pnl)??0)>0,icon:""}),d.jsx(vm,{title:de("availableBalance",p),value:`${((cr=r==null?void 0:r.available_balance)==null?void 0:cr.toFixed(2))||"0.00"}`,unit:S,subtitle:`${r!=null&&r.available_balance&&(r!=null&&r.total_equity)?(r.available_balance/r.total_equity*100).toFixed(1):"0.0"}% ${de("free",p)}`,icon:""}),d.jsx(vm,{title:de("totalPnL",p),value:`${(r==null?void 0:r.total_pnl)!==void 0&&r.total_pnl>=0?"+":""}${((an=r==null?void 0:r.total_pnl)==null?void 0:an.toFixed(2))||"0.00"}`,unit:S,change:(r==null?void 0:r.total_pnl_pct)||0,positive:((r==null?void 0:r.total_pnl)??0)>=0,icon:""}),d.jsx(vm,{title:de("positions",p),value:`${(r==null?void 0:r.position_count)||0}`,unit:p==="zh"?"":"ACTIVE",subtitle:p==="zh"?`: ${((Ar=r==null?void 0:r.margin_used_pct)==null?void 0:Ar.toFixed(1))||"0.0"}%`:`Capital in use: ${((En=r==null?void 0:r.margin_used_pct)==null?void 0:En.toFixed(1))||"0.0"}%`,icon:""})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{ref:xe,className:"chart-container animate-slide-in scroll-mt-32 backdrop-blur-sm",style:{animationDelay:"0.1s"},children:d.jsx(abe,{traderId:t.trader_id,selectedSymbol:G,updateKey:Q,exchangeId:I2e(t.exchange_id)})}),d.jsxs("div",{className:"nofx-glass p-6 animate-slide-in relative overflow-hidden group",style:{animationDelay:"0.15s"},children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:d.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-500 blur-3xl"})}),d.jsxs("div",{className:"flex items-center justify-between mb-5 relative z-10",children:[d.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2 text-nofx-text-main uppercase tracking-wide",children:[d.jsx("span",{className:"text-blue-500",children:""})," ",de("currentPositions",p)]}),n&&n.length>0&&d.jsxs("div",{className:"text-xs px-2 py-1 rounded bg-nofx-gold/10 text-nofx-gold border border-nofx-gold/20 font-mono shadow-[0_0_10px_rgba(240,185,11,0.1)]",children:[n.length," ",p==="zh"?"":"active positions"]})]}),n&&n.length>0?d.jsxs("div",{children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-xs",children:[d.jsx("thead",{className:"text-left border-b border-white/5",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-1 pb-3 font-semibold text-nofx-text-muted whitespace-nowrap text-left",children:de("symbol",p)}),d.jsx("th",{className:"px-1 pb-3 font-semibold text-nofx-text-muted whitespace-nowrap text-center",children:de("side",p)}),d.jsx("th",{className:"px-1 pb-3 font-semibold text-nofx-text-muted whitespace-nowrap text-right hidden md:table-cell",title:de("entryPrice",p),children:p==="zh"?"":"Entry"}),d.jsx("th",{className:"px-1 pb-3 font-semibold text-nofx-text-muted whitespace-nowrap text-right hidden md:table-cell",title:de("markPrice",p),children:p==="zh"?"":"Mark"}),d.jsx("th",{className:"px-1 pb-3 font-semibold text-nofx-text-muted whitespace-nowrap text-right",title:de("quantity",p),children:p==="zh"?"":"Shares"}),d.jsx("th",{className:"px-1 pb-3 font-semibold text-nofx-text-muted whitespace-nowrap text-right hidden md:table-cell",title:de("positionValue",p),children:p==="zh"?"":"Value"}),d.jsx("th",{className:"px-1 pb-3 font-semibold text-nofx-text-muted whitespace-nowrap text-right",title:de("unrealizedPnL",p),children:p==="zh"?"":"uPnL"})]})}),d.jsx("tbody",{children:Nr.map((Ee,at)=>d.jsxs("tr",{className:"border-b border-white/5 last:border-0 transition-all hover:bg-white/5 cursor-pointer group/row",onClick:()=>{F(Ee.symbol),le(Date.now()),xe.current&&xe.current.scrollIntoView({behavior:"smooth",block:"start"})},children:[d.jsx("td",{className:"px-1 py-3 font-mono font-semibold whitespace-nowrap text-left text-nofx-text-main group-hover/row:text-white transition-colors",children:Ee.symbol}),(()=>{const Pt=String(Ee.side||"").toLowerCase()==="long";return d.jsx("td",{className:"px-1 py-3 whitespace-nowrap text-center",children:d.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${Pt?"bg-nofx-green/10 text-nofx-green shadow-[0_0_8px_rgba(14,203,129,0.2)]":"bg-nofx-red/10 text-nofx-red shadow-[0_0_8px_rgba(246,70,93,0.2)]"}`,children:Pt?p==="zh"?"":"LONG":p==="zh"?"":"SHORT"})})})(),d.jsx("td",{className:"px-1 py-3 font-mono whitespace-nowrap text-right text-nofx-text-main hidden md:table-cell",children:_n(Ee.entry_price)}),d.jsx("td",{className:"px-1 py-3 font-mono whitespace-nowrap text-right text-nofx-text-main hidden md:table-cell",children:_n(Ee.mark_price)}),d.jsx("td",{className:"px-1 py-3 font-mono whitespace-nowrap text-right text-nofx-text-main",children:md(Ee.quantity)}),d.jsx("td",{className:"px-1 py-3 font-mono font-bold whitespace-nowrap text-right text-nofx-text-main hidden md:table-cell",children:(Ee.quantity*Ee.mark_price).toFixed(2)}),d.jsx("td",{className:"px-1 py-3 font-mono whitespace-nowrap text-right",children:d.jsxs("span",{className:`font-bold ${Ee.unrealized_pnl>=0?"text-nofx-green shadow-nofx-green":"text-nofx-red shadow-nofx-red"}`,style:{textShadow:Ee.unrealized_pnl>=0?"0 0 10px rgba(14,203,129,0.3)":"0 0 10px rgba(246,70,93,0.3)"},children:[Ee.unrealized_pnl>=0?"+":"",Ee.unrealized_pnl.toFixed(2)]})})]},at))})]})}),mt>10&&d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 pt-4 mt-4 text-xs border-t border-white/5 text-nofx-text-muted",children:[d.jsx("span",{children:p==="zh"?` ${Nr.length} / ${mt} `:`Showing ${Nr.length} of ${mt} positions`}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{children:[p==="zh"?"":"Per page",":"]}),d.jsxs("select",{value:vt,onChange:Ee=>Ct(Number(Ee.target.value)),className:"bg-black/40 border border-white/10 rounded px-2 py-1 text-xs text-nofx-text-main focus:outline-none focus:border-nofx-gold/50 transition-colors",children:[d.jsx("option",{value:20,children:"20"}),d.jsx("option",{value:50,children:"50"}),d.jsx("option",{value:100,children:"100"})]})]}),Qt>1&&d.jsx("div",{className:"flex items-center gap-1",children:["","",`${pt} / ${Qt}`,"",""].map((Ee,at)=>{const Pt=at===2,Ut=at===0,Zn=at===1,vn=at===3,on=at===4;if(Pt)return d.jsx("span",{className:"px-3 text-nofx-text-main",children:Ee},at);let ln=()=>{},jn=!1;return Ut&&(ln=()=>st(1),jn=pt===1),Zn&&(ln=()=>st(Pn=>Math.max(1,Pn-1)),jn=pt===1),vn&&(ln=()=>st(Pn=>Math.min(Qt,Pn+1)),jn=pt===Qt),on&&(ln=()=>st(Qt),jn=pt===Qt),d.jsx("button",{onClick:ln,disabled:jn,className:`px-2 py-1 rounded transition-colors ${jn?"opacity-30 cursor-not-allowed":"hover:bg-white/10 text-nofx-text-main bg-white/5"}`,children:Ee},at)})})]})]})]}):d.jsxs("div",{className:"text-center py-16 text-nofx-text-muted opacity-60",children:[d.jsx("div",{className:"text-6xl mb-4 opacity-50 grayscale",children:""}),d.jsx("div",{className:"text-lg font-semibold mb-2",children:de("noPositions",p)}),d.jsx("div",{className:"text-sm",children:de("noActivePositions",p)})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"nofx-glass p-5 animate-slide-in",style:{animationDelay:"0.18s"},children:[d.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-lg font-bold text-nofx-text-main flex items-center gap-2",children:[d.jsx(xxe,{className:"w-4 h-4 text-nofx-gold"}),p==="zh"?"":"Room Chat"]}),d.jsx("p",{className:"text-xs text-nofx-text-muted mt-1",children:p==="zh"?" Public / Private ":"Persistent Public + Private channels with anonymous session identity."})]}),d.jsxs("div",{className:"text-[11px] text-nofx-text-muted text-right",children:[d.jsx("div",{children:t.trader_id}),fe&&d.jsx("div",{children:fe})]})]}),d.jsxs("div",{className:"inline-flex rounded border border-white/10 bg-black/30 p-1 mb-3",children:[d.jsx("button",{type:"button",onClick:()=>ae("public"),className:`px-3 py-1.5 rounded text-xs font-semibold transition-colors ${be==="public"?"bg-nofx-gold text-black":"text-nofx-text-muted hover:text-nofx-text-main"}`,children:"Public"}),d.jsx("button",{type:"button",onClick:()=>ae("private"),className:`px-3 py-1.5 rounded text-xs font-semibold transition-colors ${be==="private"?"bg-nofx-gold text-black":"text-nofx-text-muted hover:text-nofx-text-main"}`,children:"Private"})]}),Se&&d.jsx("div",{className:"text-xs text-nofx-text-muted",children:"Initializing chat session..."}),!Se&&Pe&&d.jsx("div",{className:"text-xs text-nofx-red",children:"Failed to bootstrap chat session."}),!Se&&!Pe&&we&&fe&&d.jsx(d.Fragment,{children:be==="public"?d.jsx(w2e,{roomId:t.trader_id,roomAgentName:t.trader_name,userSessionId:we,userNickname:fe,roomSseState:a}):d.jsx(N2e,{roomId:t.trader_id,userSessionId:we,userNickname:fe})})]}),d.jsxs("div",{className:"nofx-glass p-5 border border-white/10 rounded-lg",children:[d.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-base font-bold text-nofx-text-main",children:p==="zh"?"":"Daily Bet Board"}),d.jsx("div",{className:"text-xs text-nofx-text-muted mt-1",children:p==="zh"?"30":"Dynamic odds by daily return; cutoff is 30 minutes before close."})]}),d.jsx("div",{className:`px-2 py-1 rounded text-[11px] font-mono border ${re!=null&&re.betting_open?"border-nofx-green/35 text-nofx-green bg-nofx-green/10":"border-nofx-red/35 text-nofx-red bg-nofx-red/10"}`,children:re!=null&&re.betting_open?"OPEN":"CLOSED"})]}),d.jsxs("div",{className:"text-[11px] text-nofx-text-muted font-mono mb-3 flex flex-wrap gap-x-3 gap-y-1",children:[d.jsx("span",{children:`day=${(re==null?void 0:re.day_key)||"--"}`}),d.jsx("span",{children:`cutoff=${J(re==null?void 0:re.cutoff_minute)}`}),d.jsx("span",{children:`close=${J(re==null?void 0:re.close_minute)}`}),d.jsx("span",{children:`pool=${_n(Number(((Cn=re==null?void 0:re.totals)==null?void 0:Cn.stake_amount)||0))}`}),(re==null?void 0:re.my_credits)&&d.jsx("span",{children:`points=${Math.max(0,Math.floor(Number(re.my_credits.credit_points||0)))}`})]}),(re==null?void 0:re.settlement)&&d.jsxs("div",{className:"mb-3 text-xs text-nofx-text-main bg-black/25 border border-white/10 rounded px-3 py-2",children:[d.jsx("div",{className:"font-semibold",children:p==="zh"?"":"Settled"}),d.jsxs("div",{className:"text-nofx-text-muted mt-1",children:[p==="zh"?"":"Winners",":"," ",(re.settlement.winning_trader_ids||[]).join(", ")||"--",re.settlement.winning_return_pct!=null&&d.jsx("span",{children:`  ret=${Number(re.settlement.winning_return_pct).toFixed(2)}%`})]})]}),Ve&&d.jsx("div",{className:"text-xs text-nofx-text-muted mb-2",children:p==="zh"?"...":"Loading market..."}),(je||Ae)&&d.jsx("div",{className:"text-xs text-nofx-red mb-2",children:String((Ae||(je==null?void 0:je.message)||"").trim()||(p==="zh"?"":"Bet market failed to load."))}),se&&d.jsx("div",{className:"text-xs text-nofx-green mb-2",children:se}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_120px_110px] gap-2 mb-3",children:[d.jsx("select",{value:Te,onChange:Ee=>We(String(Ee.target.value||"")),className:"px-3 py-2 rounded bg-black/35 border border-white/10 text-sm text-nofx-text-main",children:((re==null?void 0:re.entries)||[]).map(Ee=>d.jsx("option",{value:Ee.trader_id,children:Ee.trader_name},Ee.trader_id))}),d.jsx("input",{type:"number",min:1,max:1e5,step:1,value:he,onChange:Ee=>Be(String(Ee.target.value||"")),className:"px-3 py-2 rounded bg-black/35 border border-white/10 text-sm text-nofx-text-main",placeholder:p==="zh"?"":"Stake"}),d.jsx("button",{type:"button",onClick:te,disabled:!(re!=null&&re.betting_open)||Me||!we,className:"px-3 py-2 rounded text-sm font-semibold bg-nofx-gold text-black disabled:opacity-40 disabled:cursor-not-allowed",children:Me?p==="zh"?"...":"Placing...":p==="zh"?"":"Place"})]}),(re==null?void 0:re.my_bet)&&d.jsxs("div",{className:"mb-3 text-xs text-nofx-text-main bg-black/25 border border-white/10 rounded px-3 py-2",children:[p==="zh"?"":"My bet",":"," ",re.my_bet.trader_id," "," ",_n(re.my_bet.stake_amount),re.my_bet.estimated_odds!=null&&d.jsx("span",{className:"text-nofx-text-muted",children:`  x${Number(re.my_bet.estimated_odds).toFixed(2)}`}),re.my_bet.settlement_status==="settled"&&d.jsx("span",{className:"text-nofx-text-muted",children:re.my_bet.settled_is_winner?`  ${p==="zh"?"":"won"} +${Math.max(0,Math.floor(Number(re.my_bet.settled_credit_points||0)))} pts`:`  ${p==="zh"?"":"lost"}`})]}),d.jsx("div",{className:"space-y-2 max-h-56 overflow-y-auto pr-1",children:((re==null?void 0:re.entries)||[]).slice(0,8).map(Ee=>d.jsxs("div",{className:"rounded border border-white/10 bg-black/25 px-3 py-2 flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-sm font-semibold text-nofx-text-main truncate",children:Ee.trader_name}),d.jsxs("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:["ret ",Number(Ee.daily_return_pct||0).toFixed(2),"%  odds"," ","x",Number(Ee.odds||0).toFixed(2)]})]}),d.jsxs("div",{className:"text-right text-[11px] font-mono text-nofx-text-muted shrink-0",children:[d.jsx("div",{children:_n(Ee.total_stake)}),d.jsxs("div",{children:[Ee.ticket_count," tk"]})]})]},Ee.trader_id))})]}),d.jsxs("div",{className:"nofx-glass p-5 border border-white/5 rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between gap-4 mb-3",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-lg font-bold text-nofx-text-main",children:p==="zh"?"":"Fuel Panel"}),d.jsx("div",{className:"text-xs text-nofx-text-muted mt-1",children:p==="zh"?" +  + ":"For streamer-style context: readiness + overview + headlines."})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>q(Ee=>!Ee),className:"text-[11px] px-2 py-1 rounded font-semibold transition-colors border border-white/10 bg-black/30 text-nofx-text-muted hover:text-nofx-text-main",children:I?p==="zh"?"":"Collapse":p==="zh"?"":"Details"}),d.jsxs("div",{className:"text-[11px] px-2 py-1 rounded font-mono",style:{background:M.level==="ERROR"?"rgba(246, 70, 93, 0.15)":M.level==="WARN"?"rgba(240, 185, 11, 0.15)":"rgba(14, 203, 129, 0.12)",color:M.level==="ERROR"?"#F6465D":M.level==="WARN"?"#F0B90B":"#0ECB81",border:`1px solid ${M.level==="ERROR"?"rgba(246, 70, 93, 0.35)":M.level==="WARN"?"rgba(240, 185, 11, 0.35)":"rgba(14, 203, 129, 0.3)"}`},title:M.reasons.length?M.reasons.join(", "):"",children:[p==="zh"?"":"DATA",":",M.level]})]})]}),M.reasons.length>0&&d.jsxs("div",{className:"text-xs text-nofx-text-muted mb-3",children:[p==="zh"?"":"Reasons: ",d.jsx("span",{className:"font-mono",children:M.reasons.slice(0,4).join(" / ")})]}),I&&d.jsxs("div",{className:"mb-3 rounded-lg p-3 text-[11px] font-mono whitespace-pre-wrap",style:{background:"#0B0E11",border:"1px solid #2B3139",color:"#EAECEF"},children:[d.jsxs("div",{className:"opacity-80",children:["packet_ts: ",Y(s==null?void 0:s.ts_ms)]}),d.jsxs("div",{className:"opacity-80",children:["readiness_as_of: ",Y(M.readinessAsOf)," | readiness_now: ",Y(M.readinessNow)]}),M.readinessMetrics&&d.jsxs("div",{className:"opacity-80",children:["frames: intraday=",String(((mn=M.readinessMetrics)==null?void 0:mn.intraday_frames)??"--")," ","daily=",String(((lt=M.readinessMetrics)==null?void 0:lt.daily_frames)??"--")]}),M.sessionGate&&d.jsxs("div",{className:"opacity-80",children:["session_gate: level=",String(((ct=M.sessionGate)==null?void 0:ct.level)||"--")," ","reasons=",Array.isArray((Ot=M.sessionGate)==null?void 0:Ot.reasons)?M.sessionGate.reasons.join(","):"--"]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between gap-3",children:[d.jsx("div",{className:"opacity-70",children:"readiness.reasons"}),d.jsx("button",{type:"button",onClick:()=>{var Ee;return ie(M.reasons.join(`
`)||X((Ee=s==null?void 0:s.room_context)==null?void 0:Ee.data_readiness),"fuel.reasons")},className:"text-[11px] px-2 py-1 rounded border border-white/10 bg-black/30 text-nofx-text-muted hover:text-nofx-text-main",children:V==="fuel.reasons"?p==="zh"?"":"Copied":p==="zh"?"":"Copy"})]}),d.jsxs("div",{className:"opacity-80",children:["overview_file:"," ",String((($t=M.overviewStatus)==null?void 0:$t.file_path)||"--")," | last_load=",Y((qt=M.overviewStatus)==null?void 0:qt.last_load_ts_ms)," | err=",String(((Hr=M.overviewStatus)==null?void 0:Hr.last_error)||"")||"none"]}),d.jsxs("div",{className:"opacity-80",children:["news_file:"," ",String(((Lr=M.newsStatus)==null?void 0:Lr.file_path)||"--")," | last_load=",Y((gn=M.newsStatus)==null?void 0:gn.last_load_ts_ms)," | err=",String(((ur=M.newsStatus)==null?void 0:ur.last_error)||"")||"none"]}),d.jsxs("div",{className:"opacity-80",children:["breadth_file:"," ",String((($n=M.breadthStatus)==null?void 0:$n.file_path)||"--")," | last_load=",Y((Fs=M.breadthStatus)==null?void 0:Fs.last_load_ts_ms)," | err=",String(((Bi=M.breadthStatus)==null?void 0:Bi.last_error)||"")||"none"]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between gap-3",children:[d.jsx("div",{className:"opacity-70",children:"file_status"}),d.jsx("button",{type:"button",onClick:()=>{var Ut,Zn,vn,on,ln,jn,Pn,Zt,qn;const Ee=`overview_file: ${String(((Ut=M.overviewStatus)==null?void 0:Ut.file_path)||"--")} | last_load=${Y((Zn=M.overviewStatus)==null?void 0:Zn.last_load_ts_ms)} | err=${String(((vn=M.overviewStatus)==null?void 0:vn.last_error)||"")||"none"}`,at=`news_file: ${String(((on=M.newsStatus)==null?void 0:on.file_path)||"--")} | last_load=${Y((ln=M.newsStatus)==null?void 0:ln.last_load_ts_ms)} | err=${String(((jn=M.newsStatus)==null?void 0:jn.last_error)||"")||"none"}`,Pt=`breadth_file: ${String(((Pn=M.breadthStatus)==null?void 0:Pn.file_path)||"--")} | last_load=${Y((Zt=M.breadthStatus)==null?void 0:Zt.last_load_ts_ms)} | err=${String(((qn=M.breadthStatus)==null?void 0:qn.last_error)||"")||"none"}`;ie(`${Ee}
${at}
${Pt}`,"fuel.files")},className:"text-[11px] px-2 py-1 rounded border border-white/10 bg-black/30 text-nofx-text-muted hover:text-nofx-text-main",children:V==="fuel.files"?p==="zh"?"":"Copied":p==="zh"?"":"Copy"})]}),d.jsxs("div",{className:"mt-2",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsx("div",{className:"opacity-70",children:"decision_audit_preview.json"}),d.jsx("button",{type:"button",onClick:()=>ie(X(s==null?void 0:s.decision_audit_preview),"fuel.audit"),className:"text-[11px] px-2 py-1 rounded border border-white/10 bg-black/30 text-nofx-text-muted hover:text-nofx-text-main",children:V==="fuel.audit"?p==="zh"?"":"Copied":p==="zh"?"":"Copy"})]}),d.jsx("div",{className:"mt-2 opacity-90",children:U(s==null?void 0:s.decision_audit_preview)})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[d.jsx("div",{className:"opacity-70",children:"stream_packet.json"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:()=>ie(X(s),"fuel.packet"),className:"text-[11px] px-2 py-1 rounded border border-white/10 bg-black/30 text-nofx-text-muted hover:text-nofx-text-main",children:V==="fuel.packet"?p==="zh"?"":"Copied":p==="zh"?"":"Copy"}),d.jsx("button",{type:"button",onClick:()=>L(Ee=>!Ee),className:"text-[11px] px-2 py-1 rounded border border-white/10 bg-black/30 text-nofx-text-muted hover:text-nofx-text-main",children:D?p==="zh"?"":"Collapse":p==="zh"?"":"Expand"})]})]}),D&&d.jsx("div",{className:"mt-2 opacity-90",children:U(s)})]}),d.jsxs("div",{className:"space-y-3 text-sm",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-xs text-nofx-text-muted mb-1",children:[p==="zh"?"":"Market Overview",M.overviewSource&&d.jsxs("span",{className:"ml-2 text-[10px] font-mono opacity-70",children:["src=",String(M.overviewSource),M.staleOverview?":stale":""]})]}),d.jsx("div",{className:"text-sm text-nofx-text-main leading-snug",children:M.overviewBrief||(p==="zh"?"":"No overview yet (will fall back to proxy watchlist).")})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-xs text-nofx-text-muted mb-1",children:[p==="zh"?"":"Headlines",M.newsSource&&d.jsxs("span",{className:"ml-2 text-[10px] font-mono opacity-70",children:["src=",String(M.newsSource),M.staleNews?":stale":""]})]}),M.newsTitles.length>0?d.jsx("div",{className:"text-sm text-nofx-text-main leading-snug space-y-1",children:M.newsTitles.slice(0,3).map((Ee,at)=>d.jsxs("div",{className:"opacity-95",children:[" ",String(Ee)]},`${at}-${Ee}`))}):d.jsx("div",{className:"text-sm text-nofx-text-muted opacity-70",children:p==="zh"?"":"No digest available."})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-xs text-nofx-text-muted mb-1",children:[p==="zh"?"":"Market Breadth",M.breadthSource&&d.jsxs("span",{className:"ml-2 text-[10px] font-mono opacity-70",children:["src=",String(M.breadthSource),M.staleBreadth?":stale":""]})]}),Number.isFinite(Number((Rt=M.breadth)==null?void 0:Rt.advancers))&&Number.isFinite(Number(($i=M.breadth)==null?void 0:$i.decliners))?d.jsxs("div",{className:"text-sm text-nofx-text-main leading-snug space-y-1",children:[d.jsxs("div",{className:"font-mono",children:["R ",Number(((fo=M.breadth)==null?void 0:fo.advancers)||0).toLocaleString()," / B ",Number(((kn=M.breadth)==null?void 0:kn.decliners)||0).toLocaleString(),Number.isFinite(Number((po=M.breadth)==null?void 0:po.red_blue_ratio))&&d.jsxs("span",{className:"text-nofx-text-muted",children:[" "," ratio ",Number(M.breadth.red_blue_ratio).toFixed(2)]})]}),d.jsx("div",{className:"text-xs text-nofx-text-muted opacity-80",children:M.breadthSummary||(p==="zh"?"/":"Realtime advancers/decliners snapshot.")})]}):d.jsx("div",{className:"text-sm text-nofx-text-muted opacity-70",children:p==="zh"?"":"No breadth data available."})]})]})]}),d.jsxs("div",{className:"nofx-glass p-6 animate-slide-in h-fit lg:self-start",style:{animationDelay:"0.2s"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-5 pb-4 border-b border-white/5 shrink-0",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-xl shadow-[0_4px_14px_rgba(99,102,241,0.4)]",style:{background:"linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%)"},children:""}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h2",{className:"text-xl font-bold text-nofx-text-main",children:p==="zh"?"":"Thought & Actions"}),j.length>0&&d.jsx("div",{className:"text-xs text-nofx-text-muted",children:de("lastCycles",p,{count:j.length})})]}),d.jsxs("select",{value:l,onChange:Ee=>u(Number(Ee.target.value)),className:"px-3 py-1.5 rounded-lg text-sm font-medium cursor-pointer transition-all bg-black/40 text-nofx-text-main border border-white/10 hover:border-nofx-accent focus:outline-none",children:[d.jsx("option",{value:5,children:"5"}),d.jsx("option",{value:10,children:"10"}),d.jsx("option",{value:20,children:"20"}),d.jsx("option",{value:50,children:"50"}),d.jsx("option",{value:100,children:"100"})]})]}),d.jsx("div",{className:"space-y-4 overflow-y-auto pr-2 custom-scrollbar min-h-[260px]",style:{maxHeight:"min(70vh, 720px)"},ref:N,children:j.length>0?j.map((Ee,at)=>d.jsxs("div",{"data-decision-cycle":Ee.cycle_number,"data-decision-ts":Ee.timestamp,className:`flex items-start gap-3 ${Number(Ee.cycle_number||0)===A?"rounded-lg ring-1 ring-nofx-gold/40 bg-white/5 p-1":""}`,children:[d.jsx("div",{className:"pt-1 shrink-0",children:d.jsx(Ga,{traderId:t.trader_id,traderName:t.trader_name,avatarUrl:t.avatar_url,avatarHdUrl:t.avatar_hd_url,size:34,className:"rounded-lg border border-white/10"})}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx(lbe,{decision:Ee,language:p,onSymbolClick:Xt})})]},`${Ee.timestamp}-${at}`)):d.jsxs("div",{className:"py-16 text-center text-nofx-text-muted opacity-60",children:[d.jsx("div",{className:"text-6xl mb-4 opacity-30 grayscale",children:""}),d.jsx("div",{className:"text-lg font-semibold mb-2 text-nofx-text-main",children:de("noDecisionsYet",p)}),d.jsx("div",{className:"text-sm",children:T||de("aiDecisionsWillAppear",p)})]})})]})]})]}),t&&d.jsx("div",{className:"nofx-glass p-6 animate-slide-in",style:{animationDelay:"0.23s"},children:d.jsx(j2e,{roomId:t.trader_id,language:p})}),y&&d.jsxs("div",{className:"nofx-glass p-6 animate-slide-in",style:{animationDelay:"0.25s"},children:[d.jsx("div",{className:"flex items-center justify-between mb-5",children:d.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-nofx-text-main",children:[d.jsx("span",{className:"text-2xl",children:""}),de("positionHistory.title",p)]})}),d.jsx(g2e,{traderId:y})]})]})}):d.jsxs("div",{className:"space-y-6 relative z-10",children:[d.jsxs("div",{className:"nofx-glass p-6 animate-pulse",children:[d.jsx("div",{className:"h-8 w-48 mb-3 bg-nofx-bg/50 rounded"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"h-4 w-32 bg-nofx-bg/50 rounded"}),d.jsx("div",{className:"h-4 w-24 bg-nofx-bg/50 rounded"}),d.jsx("div",{className:"h-4 w-28 bg-nofx-bg/50 rounded"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(Ee=>d.jsxs("div",{className:"nofx-glass p-5 animate-pulse",children:[d.jsx("div",{className:"h-4 w-24 mb-3 bg-nofx-bg/50 rounded"}),d.jsx("div",{className:"h-8 w-32 bg-nofx-bg/50 rounded"})]},Ee))}),d.jsxs("div",{className:"nofx-glass p-6 animate-pulse",children:[d.jsx("div",{className:"h-6 w-40 mb-4 bg-nofx-bg/50 rounded"}),d.jsx("div",{className:"h-64 w-full bg-nofx-bg/50 rounded"})]})]})}function vm({title:t,value:e,unit:r,change:n,positive:i,subtitle:s,icon:a}){return d.jsxs("div",{className:"group nofx-glass p-5 rounded-lg transition-all duration-300 hover:bg-white/5 hover:translate-y-[-2px] border border-white/5 hover:border-nofx-gold/20 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity text-4xl grayscale group-hover:grayscale-0",children:a}),d.jsx("div",{className:"text-xs mb-2 font-mono uppercase tracking-wider text-nofx-text-muted flex items-center gap-2",children:t}),d.jsxs("div",{className:"flex items-baseline gap-1 mb-1",children:[d.jsx("div",{className:"text-2xl font-bold font-mono text-nofx-text-main tracking-tight group-hover:text-white transition-colors",children:e}),r&&d.jsx("span",{className:"text-xs font-mono text-nofx-text-muted opacity-60",children:r})]}),n!==void 0&&d.jsx("div",{className:"flex items-center gap-1",children:d.jsxs("div",{className:`text-sm mono font-bold flex items-center gap-1 ${i?"text-nofx-green":"text-nofx-red"}`,children:[d.jsx("span",{children:i?"":""}),d.jsxs("span",{children:[i?"+":"",n.toFixed(2),"%"]})]})}),s&&d.jsx("div",{className:"text-xs mt-2 mono text-nofx-text-muted opacity-80",children:s})]})}function QS(t){const e=Number(t);if(!Number.isFinite(e)||e<=0)return"--:--:--";try{return new Date(e).toLocaleTimeString()}catch{return String(e)}}function L2e(t){const e=Number(t);if(!Number.isFinite(e)||e<0)return"--:--";const r=Math.floor(e/60),n=Math.floor(e%60);return`${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}`}function C7(t){var i;if(!t)return"";const e=(i=t.decisions)==null?void 0:i[0];return e!=null&&e.reasoning?String(e.reasoning).trim():(Array.isArray(t.reasoning_steps_cn)?t.reasoning_steps_cn:[]).map(s=>String(s||"").trim()).filter(Boolean).slice(0,3).join(" / ")}function Wq(t){const e=String(t||"").toLowerCase();return e==="buy"||e==="long"?{label:"BUY",cls:"bg-nofx-green/15 text-nofx-green border-nofx-green/25"}:e==="sell"||e==="short"?{label:"SELL",cls:"bg-nofx-red/15 text-nofx-red border-nofx-red/25"}:e==="hold"?{label:"HOLD",cls:"bg-white/10 text-nofx-text-main border-white/15"}:{label:String(t||"").toUpperCase(),cls:"bg-white/10 text-nofx-text-main border-white/15"}}function z2e(t){const e=Array.isArray(t)?t:[];return e.length===0?null:[...e].sort((n,i)=>Math.abs(Number((i==null?void 0:i.unrealized_pnl)||0))-Math.abs(Number((n==null?void 0:n.unrealized_pnl)||0)))[0]||null}function F2e(t){var s,a,o;const e=String((t==null?void 0:t.thinking_symbol_live)||"").trim();if(e)return e;const r=String(((s=t==null?void 0:t.decision_meta)==null?void 0:s.thinking_symbol)||"").trim();if(r)return r;const n=String(((a=t==null?void 0:t.room_context)==null?void 0:a.thinking_symbol)||"").trim();if(n)return n;const i=(o=t==null?void 0:t.room_context)==null?void 0:o.symbol_brief;if(i&&typeof i=="object"){const l=String(i.symbol||i.focus_symbol||"").trim();if(l)return l}}function B2e({streamPacket:t,decision:e,featuredPos:r}){var l,u;const n=String(((u=(l=e==null?void 0:e.decisions)==null?void 0:l[0])==null?void 0:u.symbol)||"").trim(),i=String((e==null?void 0:e.timestamp)||""),s=i?Date.now()-new Date(i).getTime():Number.POSITIVE_INFINITY,a=F2e(t);if(a)return{symbol:a,source:"thinking"};if(n&&s<=2*6e4)return{symbol:n,source:"decision"};const o=String((r==null?void 0:r.symbol)||"").trim();return o?{symbol:o,source:"position"}:n?{symbol:n,source:"decision"}:{symbol:"600519.SH",source:"fallback"}}function ZS(t){const e=String(t.sender_name||"").trim();return e||(t.sender_type==="agent"?"Agent":"Viewer")}function $2e(t){let e=2166136261;const r=String(t||"");for(let n=0;n<r.length;n++)e^=r.charCodeAt(n),e=Math.imul(e,16777619);return e>>>0}function q2e(t){const e=["#F0B90B","#0ECB81","#60A5FA","#F97316","#A78BFA","#F472B6"],r=$2e(t)%e.length;return e[r]}function Ou(t,e=160){const r=String(t||"").replace(/[\r\n\t]+/g," ").replace(/\s{2,}/g," ").trim();return r?r.length>e?`${r.slice(0,e-1)}`:r:""}function U2e(t,e=140){let r=String(t||"").replace(/[\r\n\t]+/g," ").replace(/\s{2,}/g," ").trim();return!r||(r=r.replace(/\b\d{6}\.(SZ|SH)\b/gi,"").replace(/-?\d+(?:\.\d+)?\s*[%]/g,"").replace(/\b\d+(?:\.\d+)?\b/g,"").replace(/[,:;]{2,}/g,"").replace(/\s{2,}/g," ").trim(),!r)?"":r.length>e?`${r.slice(0,e-1)}`:r}function V2e(t){return t==="reply"?"":""}function W2e(t){let e=0;const r=String(t||"");for(let n=0;n<r.length;n+=1)e=(e<<5)-e+r.charCodeAt(n)|0;return Math.abs(e)}function H2e(t){const e=String((t==null?void 0:t.generation_tone)||"").trim().toLowerCase();if(e==="calm"||e==="focused"||e==="energetic"||e==="cautious")return e;const r=`${String((t==null?void 0:t.id)||"")}|${String((t==null?void 0:t.agent_message_kind)||"")}|${String((t==null?void 0:t.created_ts_ms)||"")}`,n=["focused","calm","energetic","cautious"];return n[W2e(r)%n.length]}function g5(t){return t==null?{label:"n/a",cls:"border-white/15 text-nofx-text-muted bg-black/20"}:t===!0?{label:"stale",cls:"border-nofx-red/35 text-nofx-red bg-nofx-red/10"}:{label:"fresh",cls:"border-nofx-green/35 text-nofx-green bg-nofx-green/10"}}function K2e(){const t=new URLSearchParams(window.location.search),e=String(t.get("dp")||"").trim().toLowerCase(),r=String(t.get("dp_video")||t.get("video")||"").trim();let n="canvas";return e==="video"&&(n="video"),e==="placeholder"&&(n="placeholder"),{renderMode:n,videoUrl:r}}function G2e({trader:t,state:e,videoUrl:r,language:n}){const i=_.useRef(null),s=_.useRef(null),a=_.useRef(null),o=_.useRef(typeof document<"u"?document.hidden:!1),l=_.useRef(0);return _.useEffect(()=>{const u=i.current;if(!u)return;const f=u.getContext("2d");if(!f)return;const p=y=>{if(!o.current){if(e.status!=="speaking"){a.current!=null&&window.clearTimeout(a.current),a.current=window.setTimeout(()=>{a.current=null,s.current=window.requestAnimationFrame(y)},120);return}s.current=window.requestAnimationFrame(y)}},m=y=>{if(o.current)return;const x=u.clientWidth,b=u.clientHeight;if(x<=0||b<=0){p(m);return}(u.width!==Math.floor(x*devicePixelRatio)||u.height!==Math.floor(b*devicePixelRatio))&&(u.width=Math.floor(x*devicePixelRatio),u.height=Math.floor(b*devicePixelRatio)),l.current=y;const S=y/1e3;f.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0),f.clearRect(0,0,x,b);const N=f.createLinearGradient(0,0,x,b);N.addColorStop(0,"rgba(240,185,11,0.14)"),N.addColorStop(.55,"rgba(0,0,0,0.0)"),N.addColorStop(1,"rgba(14,203,129,0.10)"),f.fillStyle=N,f.fillRect(0,0,x,b);const A=f.createRadialGradient(x*.5,b*.45,Math.min(x,b)*.08,x*.5,b*.45,Math.max(x,b)*.6);A.addColorStop(0,"rgba(0,0,0,0.0)"),A.addColorStop(1,"rgba(0,0,0,0.55)"),f.fillStyle=A,f.fillRect(0,0,x,b);const k=x*.5,E=b*.52,j=e.status==="speaking"?1+.03*Math.sin(S*10):1,T=Math.min(x,b)*.13*j,M=Math.min(x,b)*.22;if(f.save(),f.globalAlpha=.9,f.fillStyle="rgba(0,0,0,0.35)",f.beginPath(),f.arc(k,E-T*1.15,T,0,Math.PI*2),f.fill(),f.beginPath(),f.ellipse(k,E+M*.1,M*.9,M*.72,0,0,Math.PI*2),f.fill(),f.restore(),e.status==="speaking"){f.save(),f.globalAlpha=.9,f.strokeStyle="rgba(240,185,11,0.85)",f.lineWidth=2;const I=E+M*.55;f.beginPath();const q=6+3*Math.sin(S*8);for(let D=k-80;D<=k+80;D+=8){const L=I+Math.sin(D*.05+S*10)*q;D===k-80?f.moveTo(D,L):f.lineTo(D,L)}f.stroke(),f.restore()}p(m)},v=()=>{if(o.current=document.hidden,o.current){s.current!=null&&(window.cancelAnimationFrame(s.current),s.current=null),a.current!=null&&(window.clearTimeout(a.current),a.current=null);return}s.current==null&&a.current==null&&(s.current=window.requestAnimationFrame(m))};return document.addEventListener("visibilitychange",v),o.current=document.hidden,o.current||(s.current=window.requestAnimationFrame(m)),()=>{document.removeEventListener("visibilitychange",v),s.current!=null&&(window.cancelAnimationFrame(s.current),s.current=null),a.current!=null&&(window.clearTimeout(a.current),a.current=null)}},[e.status]),d.jsxs("div",{className:"absolute inset-0",children:[e.render_mode==="video"?d.jsx("video",{className:"absolute inset-0 w-full h-full object-cover",playsInline:!0,muted:!0,autoPlay:!0,loop:!0,src:r||void 0}):null,e.render_mode==="canvas"?d.jsx("canvas",{ref:i,className:"absolute inset-0 w-full h-full"}):null,e.render_mode==="placeholder"?d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/35 px-4 py-3",children:[d.jsx("div",{className:"text-sm font-bold text-nofx-text-main",children:t.trader_name}),d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:n==="zh"?"":"Digital person placeholder (disabled)"})]})}):null]})}function X2e({decision:t,streamPacket:e,language:r}){var x,b,S;const n=((x=t==null?void 0:t.decisions)==null?void 0:x[0])||null,i=Wq(n==null?void 0:n.action),s=String((n==null?void 0:n.symbol)||((S=(b=e==null?void 0:e.room_context)==null?void 0:b.symbol_brief)==null?void 0:S.symbol)||"--"),a=Number.isFinite(Number(n==null?void 0:n.quantity))?Number(n==null?void 0:n.quantity):null,o=Number.isFinite(Number(n==null?void 0:n.leverage))?Number(n==null?void 0:n.leverage):null,l=Number.isFinite(Number(n==null?void 0:n.price))?Number(n==null?void 0:n.price):null,u=Number.isFinite(Number(n==null?void 0:n.stop_loss))?Number(n==null?void 0:n.stop_loss):null,f=Number.isFinite(Number(n==null?void 0:n.take_profit))?Number(n==null?void 0:n.take_profit):null,p=Number.isFinite(Number(n==null?void 0:n.confidence))?Number(n==null?void 0:n.confidence):null,m=Ou((n==null?void 0:n.reasoning)||""),v=Array.isArray(t==null?void 0:t.reasoning_steps_cn)?t.reasoning_steps_cn.map(N=>Ou(N,140)).filter(Boolean):[],y=v.length?v.slice(0,3):m?[]:C7(t).split("/").map(N=>Ou(N,140)).filter(Boolean).slice(0,3);return d.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/35 p-5 sm:p-6 shadow-[0_30px_90px_rgba(0,0,0,0.35)]",children:d.jsx("div",{className:"flex items-start justify-between gap-4",children:d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-xs font-mono text-nofx-text-muted",children:t?`cycle ${t.cycle_number} | ${t.timestamp}`:r==="zh"?"":"Waiting for next decision"}),d.jsxs("div",{className:"mt-3 flex items-center gap-3 flex-wrap",children:[d.jsx("span",{className:`px-3 py-1 rounded-full border text-xs font-bold tracking-wide ${i.cls}`,children:i.label}),d.jsx("span",{className:"text-2xl sm:text-3xl font-black text-nofx-text-main",children:s}),p!=null&&d.jsxs("span",{className:"text-xs font-mono text-nofx-text-muted",children:["conf ",p.toFixed(2)]})]}),d.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-2",children:[d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:"qty"}),d.jsx("div",{className:"text-sm font-bold text-nofx-text-main",children:a!=null?md(a):"--"})]}),d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:"leverage"}),d.jsx("div",{className:"text-sm font-bold text-nofx-text-main",children:o!=null?`${o}x`:"--"})]}),d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:"price"}),d.jsx("div",{className:"text-sm font-bold text-nofx-text-main",children:l!=null?_n(l):"--"})]}),d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:"risk"}),d.jsxs("div",{className:"text-[11px] font-mono text-nofx-text-main",children:[u!=null?`SL ${_n(u)}`:"SL --",d.jsx("span",{className:"opacity-50",children:"  "}),f!=null?`TP ${_n(f)}`:"TP --"]})]})]}),d.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/25 px-4 py-3",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:"AI reasoning"}),m?d.jsx("div",{className:"mt-1 text-sm text-nofx-text-main leading-relaxed opacity-95",children:m}):null,y.length?d.jsx("div",{className:"mt-2 space-y-1 text-sm text-nofx-text-main",children:y.map((N,A)=>d.jsxs("div",{className:"opacity-95",children:[" ",N]},`${A}-${N}`))}):m?null:d.jsx("div",{className:"mt-1 text-sm text-nofx-text-muted opacity-70",children:r==="zh"?"":"No reasoning yet."})]})]})})})}function Y2e({reactions:t,onDone:e}){return d.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:d.jsx(da,{children:t.map(r=>d.jsx(Pr.div,{initial:{opacity:0,y:8,x:0,scale:r.source==="gift"?.65:.82,rotate:0},animate:{opacity:[0,1,1,0],y:r.source==="gift"?-310:-205,x:r.drift_px,scale:r.source==="gift"?1.35:1.08,rotate:r.rotate_deg},exit:{opacity:0,scale:.7},transition:{duration:r.duration_ms/1e3,ease:"easeOut",times:[0,.12,.75,1]},style:{left:`${r.left_pct}%`,bottom:r.source==="gift"?34:26,fontSize:`${r.size_px}px`,filter:r.source==="gift"?"drop-shadow(0 0 22px rgba(240,185,11,0.65)) drop-shadow(0 10px 28px rgba(0,0,0,0.45))":"drop-shadow(0 8px 20px rgba(0,0,0,0.35))"},className:"absolute select-none",onAnimationComplete:()=>e(r.id),children:r.emoji},r.id))})})}function J2e({bursts:t,reducedMotion:e,onDone:r}){return d.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-40",children:d.jsx(da,{children:t.map(n=>{const i=e?8:16,s=Array.from({length:i},(a,o)=>{const l=Math.PI*2*o/i,u=e?108:176;return{id:`${n.id}-p-${o}`,x:Math.cos(l)*u,y:Math.sin(l)*u,delay:o*.02}});return d.jsxs(Pr.div,{className:"absolute inset-0",initial:{opacity:0},animate:{opacity:[0,1,1,0]},exit:{opacity:0},transition:{duration:e?1.05:1.35,times:[0,.18,.72,1],ease:"easeOut"},onAnimationComplete:()=>r(n.id),children:[d.jsx(Pr.div,{className:"absolute rounded-full border-2 border-nofx-gold/75",style:{left:`calc(${n.origin_x_pct}% - 64px)`,top:`calc(${n.origin_y_pct}% - 64px)`,width:128,height:128},initial:{scale:.2,opacity:.9},animate:{scale:e?2.1:3.2,opacity:0},transition:{duration:e?.8:1.05,ease:"easeOut"}}),d.jsx(Pr.div,{className:"absolute rounded-full bg-[radial-gradient(circle,rgba(240,185,11,0.55)_0%,rgba(240,185,11,0.14)_48%,rgba(240,185,11,0)_78%)]",style:{left:`calc(${n.origin_x_pct}% - 104px)`,top:`calc(${n.origin_y_pct}% - 104px)`,width:208,height:208},initial:{scale:.25,opacity:.7},animate:{scale:e?1.55:2.35,opacity:0},transition:{duration:e?.9:1.2,ease:"easeOut"}}),s.map(a=>d.jsx(Pr.div,{className:"absolute rounded-full bg-nofx-gold",style:{left:`calc(${n.origin_x_pct}% - 4px)`,top:`calc(${n.origin_y_pct}% - 4px)`,width:e?6:8,height:e?6:8,boxShadow:"0 0 16px rgba(240,185,11,0.9)"},initial:{opacity:0,scale:.7,x:0,y:0},animate:{opacity:[0,1,0],scale:[.7,1.15,.6],x:a.x,y:a.y},transition:{duration:e?.75:.96,delay:a.delay,ease:"easeOut"}},a.id)),d.jsx(Pr.div,{className:"absolute select-none",style:{left:`calc(${n.origin_x_pct}% - 18px)`,top:`calc(${n.origin_y_pct}% - 18px)`,fontSize:e?"30px":"38px",filter:"drop-shadow(0 0 20px rgba(240,185,11,0.95)) drop-shadow(0 10px 26px rgba(0,0,0,0.55))"},initial:{opacity:0,scale:.3,rotate:-16},animate:{opacity:[0,1,0],scale:[.3,1.2,.85],rotate:[0,16,8]},transition:{duration:e?.9:1.15,ease:"easeOut"},children:""})]},n.id)})})})}function Q2e({decision:t,language:e}){var l;const r=((l=t==null?void 0:t.decisions)==null?void 0:l[0])||null,n=Wq(r==null?void 0:r.action),i=String((r==null?void 0:r.symbol)||"--"),s=Number.isFinite(Number(r==null?void 0:r.confidence))?Number(r==null?void 0:r.confidence):null,a=Ou((r==null?void 0:r.reasoning)||C7(t),110),o=`${(t==null?void 0:t.timestamp)||"--"}:${(t==null?void 0:t.cycle_number)||0}:${(r==null?void 0:r.action)||"--"}:${i}`;return d.jsx("div",{className:"pointer-events-none absolute left-3 right-3 z-20",style:{bottom:"calc(env(safe-area-inset-bottom, 0px) + 8px)"},children:d.jsx(da,{mode:"wait",children:d.jsxs(Pr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.24,ease:"easeOut"},className:"rounded-2xl border border-white/20 bg-black/60 backdrop-blur-sm px-3 py-2",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-wrap text-[11px] font-mono",children:[d.jsx("span",{className:`px-2 py-0.5 rounded-full border ${n.cls}`,children:n.label}),d.jsx("span",{className:"text-nofx-text-main font-bold",children:i}),s!=null&&d.jsx("span",{className:"text-nofx-text-muted",children:`conf ${s.toFixed(2)}`}),d.jsx("span",{className:"text-nofx-text-muted opacity-70",children:t?QS(new Date(t.timestamp).getTime()):"--"})]}),d.jsx("div",{className:"mt-1 text-xs text-nofx-text-main opacity-95 truncate",children:a||(e==="zh"?"...":"Waiting for next narration...")})]},o)})})}function Z2e({messages:t}){const i=_.useRef(null),[s,a]=_.useState([]),o=_.useRef(new Set),l=_.useRef([]),u=_.useRef([]),f=_.useRef(new Map),p=_.useRef(0),m=y=>{const x=i.current,b=(x==null?void 0:x.clientHeight)||320,S=14,A=Math.max(120,b-S-18),k=Math.max(6,Math.min(12,Math.floor(A/28))),E=A/k,j=Math.max(0,Math.min(y,k-1));return S+j*E},v=y=>{const x=i.current,b=(x==null?void 0:x.clientHeight)||320,S=Math.max(120,b-14-18),N=Math.max(6,Math.min(12,Math.floor(S/28))),A=u.current;for(;A.length<N;)A.push(0);A.length>N&&A.splice(N);let k=0,E=Number(A[0]||0);for(let j=1;j<N;j++){const T=Number(A[j]||0);if(T<=y)return j;T<E&&(E=T,k=j)}return k};return _.useEffect(()=>{const y=Date.now(),x=o.current,b=l.current,S=f.current,N=500,A=[];for(const k of t.slice(-20)){if(A.length>=2)break;const E=String((k==null?void 0:k.id)||"");if(!E||x.has(E))continue;const j=ZS(k),T=Ou((k==null?void 0:k.text)||"",120);if(!T)continue;const M=Number(p.current||0);if(y-M<420)continue;const I=Number(S.get(j)||0);if(y-I<1500)continue;const q=v(y),D=m(q),L=`${j}: ${T}`,V=(k==null?void 0:k.sender_type)==="agent"?"#F0B90B":q2e(j),K=Math.min(18e3,Math.max(11e3,12500+L.length*34)),Y=u.current;for(Y[q]=y+K*.92,x.add(E),b.push(E);b.length>N;){const J=b.shift();J&&x.delete(J)}S.set(j,y),p.current=y,A.push({id:E,text:L,topPx:D,createdMs:y,color:V,speedMs:K})}A.length&&a(k=>[...k,...A].slice(-14))},[t]),d.jsx("div",{ref:i,className:"absolute inset-0 pointer-events-none overflow-hidden",children:d.jsx(da,{children:s.map(y=>d.jsx(Pr.div,{initial:{x:"110%",opacity:0},animate:{x:"-120%",opacity:1},exit:{opacity:0},transition:{duration:y.speedMs/1e3,ease:"linear"},style:{top:y.topPx,color:y.color,borderColor:`${y.color}55`},className:"absolute left-0 whitespace-nowrap rounded-full px-3 py-1 text-sm bg-black/50 border shadow-[0_12px_38px_rgba(0,0,0,0.40)]",onAnimationComplete:()=>{a(x=>x.filter(b=>b.id!==y.id))},children:y.text},y.id))})})}function e4e({trader:t,mode:e,messages:r,language:n,digitalPerson:i,videoUrl:s,onAvatarTap:a}){return d.jsx("div",{className:"relative mx-auto w-full max-w-[440px] rounded-[30px] border border-white/12 bg-black/35 overflow-hidden shadow-[0_30px_100px_rgba(0,0,0,0.45)]",children:d.jsx("div",{className:"relative","aria-label":`${t.trader_name} streaming stage`,style:{background:"radial-gradient(1200px 500px at 20% 10%, rgba(240,185,11,0.10) 0%, rgba(0,0,0,0) 55%),radial-gradient(900px 420px at 85% 30%, rgba(14,203,129,0.08) 0%, rgba(0,0,0,0) 60%),linear-gradient(180deg, rgba(0,0,0,0.20) 0%, rgba(0,0,0,0.62) 100%)"},children:d.jsxs("div",{className:"aspect-[9/16]",children:[d.jsxs("div",{className:"absolute inset-0",children:[d.jsx(G2e,{trader:t,state:i,videoUrl:s,language:n}),i.render_mode!=="video"&&d.jsx("div",{className:"absolute inset-x-0 top-[20%] z-10 flex justify-center pointer-events-none",children:d.jsx("div",{className:"rounded-2xl border border-white/15 bg-black/45 px-4 py-3 backdrop-blur-sm shadow-[0_16px_36px_rgba(0,0,0,0.45)]",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"relative",children:d.jsxs("button",{type:"button",onClick:a,className:"relative pointer-events-auto rounded-full","aria-label":n==="zh"?"":"Open trader avatar preview",children:[d.jsx("div",{className:"absolute -inset-1 rounded-full border border-nofx-gold/45 animate-pulse"}),d.jsx(Ga,{traderId:t.trader_id,traderName:t.trader_name,avatarUrl:t.avatar_url,avatarHdUrl:t.avatar_hd_url,size:56,className:"rounded-full border border-white/20"})]})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-sm font-bold text-nofx-text-main truncate max-w-[180px]",children:t.trader_name}),d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:n==="zh"?"":"Digital human placeholder: trader avatar"})]})]})})}),d.jsx("div",{className:"absolute inset-0 opacity-22",style:{backgroundImage:"linear-gradient(90deg, rgba(255,255,255,0.035) 1px, transparent 1px),linear-gradient(180deg, rgba(255,255,255,0.035) 1px, transparent 1px)",backgroundSize:"30px 30px"}}),d.jsx("div",{className:"absolute inset-x-0 bottom-0 h-28 bg-gradient-to-t from-black/55 to-transparent"})]}),e==="danmu"&&d.jsx(Z2e,{messages:r})]})})})}function KR({selectedTrader:t,streamPacket:e,roomSseState:r,replayRuntimeStatus:n,language:i,immersive:s=!1}){var us,Vs,pl,ml,ga,mo,va,ds,gl,ya,Dt,go,vl,Pc,qd,Ud,Vd,Tc,yl,hs,fs,ps,vo,yo,ms,T0,Wd;const[a,o]=_.useState("danmu"),l=t.trader_id,[u,f]=_.useState([]),[p,m]=_.useState([]),[v,y]=_.useState(!1),x=_.useRef(""),b=_.useRef(0),[S,N]=_.useState(""),[A,k]=_.useState(""),[E,j]=_.useState(!1),[T,M]=_.useState(""),[I,q]=_.useState("100"),[D,L]=_.useState(""),[V,K]=_.useState(!1),[Y,J]=_.useState(""),[te,U]=_.useState(""),[X,ie]=_.useState(!1),[G,F]=_.useState(""),[Q,le]=_.useState(""),[xe,be]=_.useState(!0),[ae,we]=_.useState(""),[fe,Se]=_.useState(!1),Pe=_.useMemo(()=>K2e(),[]),[he,Be]=_.useState(()=>({render_mode:Pe.renderMode,status:"idle",last_speaking_ts_ms:null,last_source:null})),[Te,We]=_.useState(typeof document>"u"?!0:!document.hidden),[Me,ve]=_.useState(!1),[Ae,H]=_.useState(!1),[se,me]=_.useState(!1),re=_.useRef(null),je=_.useRef(null),Ve=_.useRef([]),Xe=_.useRef(new Set),vt=_.useRef([]),Ct=_.useRef(!1),pt=_.useRef(null),st=_.useRef(null);_.useEffect(()=>{const Ce=()=>{We(!document.hidden)};return document.addEventListener("visibilitychange",Ce),()=>{document.removeEventListener("visibilitychange",Ce)}},[]),_.useEffect(()=>{const Ce=window.matchMedia("(prefers-reduced-motion: reduce)"),Ge=()=>ve(!!Ce.matches);return Ge(),Ce.addEventListener("change",Ge),()=>{Ce.removeEventListener("change",Ge)}},[]);const mt=()=>{re.current!=null&&window.clearTimeout(re.current),H(!0),re.current=window.setTimeout(()=>{H(!1),re.current=null},1600)},Qt=()=>{je.current!=null&&window.clearTimeout(je.current),me(!0),je.current=window.setTimeout(()=>{me(!1),je.current=null},1800)};_.useEffect(()=>()=>{re.current!=null&&window.clearTimeout(re.current),je.current!=null&&window.clearTimeout(je.current),pt.current&&(pt.current.pause(),pt.current=null),st.current&&(URL.revokeObjectURL(st.current),st.current=null)},[]);const{data:Nr}=qr(l?["room-public-chat",l]:null,()=>It.getRoomPublicMessages(l,80),{refreshInterval:Te?45e3:9e4,revalidateOnFocus:!1}),Xt=_.useMemo(()=>[...Array.isArray(Nr)?Nr:[]].sort((Ge,wt)=>Number((Ge==null?void 0:Ge.created_ts_ms)||0)-Number((wt==null?void 0:wt.created_ts_ms)||0)).slice(-80),[Nr]),{data:lr}=qr(["chat-tts-config"],()=>It.getChatTtsConfig(),{refreshInterval:6e4,revalidateOnFocus:!1}),Wr=(lr==null?void 0:lr.enabled)===!0,Mr=String(((us=lr==null?void 0:lr.voice_map)==null?void 0:us[l])||"").trim(),{bgmAvailable:An,bgmEnabled:cr,setBgmEnabled:an,bgmVolume:Ar,setBgmVolume:En,bgmTrackTitle:Cn,bgmError:mn}=a0({roomId:l,ducking:fe}),{data:lt,error:ct,isLoading:Ot,mutate:$t}=qr(l&&S?["stream-bets-market",l,S]:null,()=>It.getBetsMarket({traderId:l,userSessionId:S}),{refreshInterval:Te?12e3:3e4,revalidateOnFocus:!1});_.useEffect(()=>{if(S)return;let Ce=!1;return j(!0),M(""),It.bootstrapChatSession().then(Ge=>{Ce||(N(String(Ge.user_session_id||"").trim()),k(String(Ge.user_nickname||"").trim()))}).catch(Ge=>{Ce||M(String(Ge instanceof Error?Ge.message:"session_init_failed"))}).finally(()=>{Ce||j(!1)}),()=>{Ce=!0}},[S]),_.useEffect(()=>{const Ce=Array.isArray(lt==null?void 0:lt.entries)?lt.entries.map(wt=>String(wt.trader_id||"").trim()).filter(Boolean):[];if(!Ce.length)return;const Ge=String(D||"").trim();(!Ge||!Ce.includes(Ge))&&L(Ce.includes(l)?l:Ce[0])},[lt==null?void 0:lt.entries,D,l]);const{data:qt,error:Hr}=qr(l?["bets-credits-stream",l]:null,()=>It.getBetsCredits({limit:8}),{refreshInterval:Te?2e4:45e3,revalidateOnFocus:!1}),Lr=Array.isArray(qt==null?void 0:qt.leaderboard)?qt.leaderboard.slice(0,6):[],gn=async()=>{if(!xe||!Wr||Ct.current)return;const Ce=vt.current.shift();if(!Ce)return;const wt=U2e(Ce.text,140)||V2e(Ce.agent_message_kind);if(wt){Ct.current=!0,Se(!0);try{const St=await It.synthesizeRoomSpeech({room_id:l,text:wt,tone:H2e(Ce),message_id:String(Ce.id||"")});if(!St||St.size<=0)throw new Error("tts_empty_audio");st.current&&URL.revokeObjectURL(st.current);const cn=URL.createObjectURL(St);st.current=cn;const ei=new Audio(cn);ei.preload="auto",pt.current=ei,await new Promise((qi,Si)=>{ei.onended=()=>qi(),ei.onerror=()=>Si(new Error("tts_audio_playback_failed")),ei.play().then(()=>{}).catch(ti=>{Si(ti)})}),we("")}catch(St){const cn=String(St instanceof Error?St.message:"tts_play_failed");we(cn),/NotAllowedError|play\(\) failed/i.test(cn)&&be(!1)}finally{Ct.current=!1,Se(!1),vt.current.length>0&&gn()}}};_.useEffect(()=>{Xe.current.clear(),vt.current=[],Ct.current=!1,Se(!1),we(""),pt.current&&(pt.current.pause(),pt.current=null),st.current&&(URL.revokeObjectURL(st.current),st.current=null)},[l]),_.useEffect(()=>{if(!xe||!Wr)return;const Ce=Xe.current,Ge=vt.current;let wt=0;for(const St of Xt.slice(-30)){if(St.sender_type!=="agent"||!(St.agent_message_kind==="reply"||St.agent_message_kind==="proactive"||St.agent_message_kind==="narration"))continue;const cn=String(St.id||"").trim();!cn||Ce.has(cn)||!String(St.text||"").trim()||(Ce.add(cn),Ge.push(St),wt+=1)}wt>0&&gn()},[Xt,xe,Wr]);const ur=(Ce,Ge)=>{const wt=Date.now(),St=Ve.current.filter(_i=>wt-_i<5e3),ei=Math.max(0,(Me?8:18)-St.length);if(ei<=0){Ve.current=St;return}const qi=Ge==="chat"?2:Ge==="gift"?8:3,Si=Ge==="gift"?30:Ge==="chat"?18:22,ti=Ge==="chat"?["","",""]:Ge==="gift"?["","","",""]:["","","",""],xa=Math.max(1,Math.min(Math.floor(Ce),qi,ei)),xl=[];for(let _i=0;_i<xa;_i++){const Hd=ti[Math.floor(Math.random()*ti.length)];xl.push({id:`${wt}-${Ge}-${_i}-${Math.random().toString(36).slice(2,7)}`,source:Ge,emoji:Hd,left_pct:Ge==="gift"?50+Math.random()*42:58+Math.random()*35,size_px:Si+Math.floor(Math.random()*(Ge==="gift"?10:6)),duration_ms:Ge==="gift"?2200+Math.floor(Math.random()*1100):Ge==="decision"?1600+Math.floor(Math.random()*700):1300+Math.floor(Math.random()*500),drift_px:(Math.random()-.5)*(Ge==="gift"?120:56),rotate_deg:(Math.random()-.5)*(Ge==="gift"?34:18)}),St.push(wt)}Ve.current=St,f(_i=>[..._i,...xl].slice(-22))},$n=()=>{const Ce=Date.now(),wt=Array.from({length:Me?1:2},(St,cn)=>({id:`rocket-burst-${Ce}-${cn}-${Math.random().toString(36).slice(2,7)}`,origin_x_pct:74+Math.random()*14,origin_y_pct:66+Math.random()*14}));m(St=>[...St,...wt].slice(-4))},Fs=async()=>{if(!S||!A){J(i==="zh"?"":"Session is not ready.");return}const Ce=String(D||l).trim(),Ge=Number(I);if(!Ce){J(i==="zh"?"":"Select a trader.");return}if(!Number.isFinite(Ge)||Ge<=0){J(i==="zh"?"":"Enter a valid stake.");return}K(!0),Qt(),J(""),U("");try{await It.placeViewerBet({user_session_id:S,user_nickname:A,trader_id:Ce,stake_amount:Math.round(Ge)}),await $t(),U(i==="zh"?`${Math.round(Ge)} `:`Bet placed: ${Math.round(Ge)} points.`),ur(2,"gift")}catch(wt){J(String(wt instanceof Error?wt.message:"bet_place_failed"))}finally{K(!1)}},Bi=async Ce=>{if(!S||!A){F(i==="zh"?"":"Session is not ready.");return}const Ge=Ce==="rocket"?` ${A} sent a rocket!`:` ${A} sent a gift!`;ie(!0),mt(),F(""),le(""),ur(Ce==="rocket"?8:5,"gift"),Ce==="rocket"&&$n();try{await It.postRoomMessage(l,{user_session_id:S,user_nickname:A,visibility:"public",message_type:"public_plain",text:Ge}),le(Ce==="rocket"?i==="zh"?"":"Rocket sent.":i==="zh"?"":"Gift sent.")}catch(wt){F(String(wt instanceof Error?wt.message:"gift_send_failed"))}finally{ie(!1)}};_.useEffect(()=>{const Ce=[...Xt].reverse().find(St=>(St==null?void 0:St.sender_type)==="agent"&&String((St==null?void 0:St.text)||"").trim()),Ge=Number((Ce==null?void 0:Ce.created_ts_ms)||0);if(!Number.isFinite(Ge)||Ge<=0)return;Be(St=>(St.last_speaking_ts_ms||0)>=Ge?St:{...St,status:"speaking",last_speaking_ts_ms:Ge,last_source:"agent_message"});const wt=window.setTimeout(()=>{Be(St=>St.status!=="speaking"?St:{...St,status:"idle"})},4200);return()=>{window.clearTimeout(wt)}},[Xt]),_.useEffect(()=>{const Ce=Xt.length,Ge=b.current;b.current=Ce;const wt=Math.max(0,Ce-Ge);if(wt<=0)return;const St=wt>=4?3:wt>=2?2:1;ur(St,"chat")},[Xt]),_.useEffect(()=>{const Ce=r==null?void 0:r.status;Ce&&Be(Ge=>Ce==="error"?{...Ge,status:"offline"}:Ge.status==="offline"&&(Ce==="connected"||Ce==="reconnecting"||Ce==="connecting")?{...Ge,status:"idle"}:Ge)},[r==null?void 0:r.status]);const Rt=_.useMemo(()=>{const Ce=(e==null?void 0:e.decision_latest)||null;return Ce||(Array.isArray(e==null?void 0:e.decisions_latest)?e.decisions_latest:[])[0]||null},[e]),$i=_.useMemo(()=>{var Ge;const Ce=(Ge=Rt==null?void 0:Rt.decisions)==null?void 0:Ge[0];return`${(Rt==null?void 0:Rt.timestamp)||""}:${(Rt==null?void 0:Rt.cycle_number)||0}:${(Ce==null?void 0:Ce.action)||""}:${(Ce==null?void 0:Ce.symbol)||""}`},[Rt]);_.useEffect(()=>{if($i){if(!x.current){x.current=$i;return}x.current!==$i&&(x.current=$i,ur(3,"decision"))}},[$i]);const fo=_.useMemo(()=>{var ei,qi,Si,ti,xa,xl;const Ce=((ei=e==null?void 0:e.room_context)==null?void 0:ei.data_readiness)||((qi=e==null?void 0:e.decision_meta)==null?void 0:qi.data_readiness)||null,Ge=String((Ce==null?void 0:Ce.level)||"").toUpperCase()||"OK",wt=Array.isArray(Ce==null?void 0:Ce.reasons)?Ce.reasons.map(_i=>String(_i||"")).filter(Boolean):[],St=String(((Si=e==null?void 0:e.market_overview)==null?void 0:Si.brief)||((ti=e==null?void 0:e.room_context)==null?void 0:ti.market_overview_brief)||"").trim(),cn=Array.isArray((xa=e==null?void 0:e.news_digest)==null?void 0:xa.titles)?e.news_digest.titles:Array.isArray((xl=e==null?void 0:e.room_context)==null?void 0:xl.news_digest_titles)?e.room_context.news_digest_titles:[];return{level:Ge,reasons:wt,overviewBrief:St,newsTitles:Array.isArray(cn)?cn.map(_i=>String(_i||"")):[]}},[e]),kn=(e==null?void 0:e.account)||null,po=Array.isArray(e==null?void 0:e.positions)?e.positions:[],Ee=_.useMemo(()=>z2e(po),[po]),at=_.useMemo(()=>B2e({streamPacket:e,decision:Rt,featuredPos:Ee}),[e,Rt,Ee]),Pt=at.source==="decision"?i==="zh"?": ":"source: latest decision":at.source==="thinking"?i==="zh"?": ":"source: current thinking":at.source==="position"?i==="zh"?": ":"source: featured position":i==="zh"?": ":"source: default symbol",Ut=(r==null?void 0:r.status)||"connecting",Zn=Ut==="connected"?"bg-nofx-green/10 text-nofx-green border-nofx-green/25":Ut==="reconnecting"?"bg-nofx-gold/10 text-nofx-gold border-nofx-gold/25":Ut==="error"?"bg-nofx-red/10 text-nofx-red border-nofx-red/25":"bg-white/5 text-nofx-text-muted border-white/10",vn=String((n==null?void 0:n.data_mode)||"").trim().toLowerCase(),on=vn==="live_file"?{label:"LIVE",cls:"bg-nofx-red text-white shadow-[0_10px_30px_rgba(246,70,93,0.35)]"}:vn==="replay"?{label:"REPLAY",cls:"bg-nofx-gold text-black shadow-[0_10px_30px_rgba(240,185,11,0.30)]"}:{label:"STREAM",cls:"bg-white/80 text-black"},ln=Number.isFinite(Number(n==null?void 0:n.day_bar_index))&&Number.isFinite(Number(n==null?void 0:n.day_bar_count))?`${Number(n==null?void 0:n.day_bar_index)}/${Number(n==null?void 0:n.day_bar_count)}`:"--/--",jn=g5(typeof((pl=(Vs=e==null?void 0:e.market_overview)==null?void 0:Vs.status)==null?void 0:pl.stale)=="boolean"?e.market_overview.status.stale:null),Pn=g5(typeof((ga=(ml=e==null?void 0:e.news_digest)==null?void 0:ml.status)==null?void 0:ga.stale)=="boolean"?e.news_digest.status.stale:null),Zt=g5(typeof((va=(mo=e==null?void 0:e.market_breadth)==null?void 0:mo.status)==null?void 0:va.stale)=="boolean"?!!e.market_breadth.status.stale:null),qn=((ds=e==null?void 0:e.market_breadth)==null?void 0:ds.breadth)||((gl=e==null?void 0:e.room_context)==null?void 0:gl.market_breadth)||null,Bs=String(((ya=e==null?void 0:e.market_breadth)==null?void 0:ya.summary)||((Dt=e==null?void 0:e.room_context)==null?void 0:Dt.market_breadth_summary)||"").trim(),Cc=_.useMemo(()=>{if(!Xt.length)return 0;const Ge=Math.max(...Xt.map(wt=>Number(wt.created_ts_ms||0)).filter(wt=>Number.isFinite(wt)))-6e4;return Xt.filter(wt=>Number(wt.created_ts_ms||0)>=Ge).length},[Xt]),cs=Math.max(0,Math.floor(Number(((go=lt==null?void 0:lt.my_credits)==null?void 0:go.credit_points)??((vl=qt==null?void 0:qt.my_credits)==null?void 0:vl.credit_points)??0))),kc=Math.max(0,Math.floor(Number(((Pc=lt==null?void 0:lt.my_credits)==null?void 0:Pc.settled_bets)??((qd=qt==null?void 0:qt.my_credits)==null?void 0:qd.settled_bets)??0))),$s=Math.max(0,Math.floor(Number(((Ud=lt==null?void 0:lt.my_credits)==null?void 0:Ud.win_count)??((Vd=qt==null?void 0:qt.my_credits)==null?void 0:Vd.win_count)??0))),zr=(lt==null?void 0:lt.my_bet)||null,pr=(lt==null?void 0:lt.settlement)||null,$d=!(lt!=null&&lt.betting_open)||V||!S||E||se,Kr=X||!S||E||Ae,jc=Ou(((yl=(Tc=Rt==null?void 0:Rt.decisions)==null?void 0:Tc[0])==null?void 0:yl.reasoning)||C7(Rt),110),hl=String(((hs=((lt==null?void 0:lt.entries)||[]).find(Ce=>Ce.trader_id===(zr==null?void 0:zr.trader_id)))==null?void 0:hs.trader_name)||(zr==null?void 0:zr.trader_id)||"--"),fl=Array.isArray(pr==null?void 0:pr.winning_trader_ids)&&pr.winning_trader_ids.length?pr.winning_trader_ids.map(Ce=>{const Ge=((lt==null?void 0:lt.entries)||[]).find(wt=>wt.trader_id===Ce);return(Ge==null?void 0:Ge.trader_name)||Ce}):[],qs=_.useMemo(()=>YJ(t.trader_id,t.avatar_url,t.avatar_hd_url),[t.trader_id,t.avatar_url,t.avatar_hd_url]),Us=qs.hdUrl||qs.photoUrl||"";return _.useEffect(()=>{if(!v)return;const Ce=Ge=>{Ge.key==="Escape"&&y(!1)};return window.addEventListener("keydown",Ce),()=>{window.removeEventListener("keydown",Ce)}},[v]),d.jsxs("div",{className:`relative ${s?"min-h-screen":"min-h-[calc(100vh-64px)]"}`,style:{paddingTop:"env(safe-area-inset-top, 0px)",paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 6px)"},children:[d.jsx("div",{className:"absolute inset-0 pointer-events-none","aria-hidden":"true",children:d.jsx(Wa,{})}),d.jsx("div",{className:"relative z-10 px-3 sm:px-4 pt-1",children:d.jsx("div",{className:"mx-auto max-w-[1700px]",children:d.jsxs("div",{className:"grid gap-3 xl:grid-cols-[minmax(0,1fr)_360px]",children:[d.jsxs("div",{className:"nofx-glass border border-white/10 rounded-2xl overflow-hidden",children:[d.jsx("div",{className:"relative px-2 pt-2 sm:px-4 sm:pt-4",children:d.jsxs("div",{className:"relative",children:[d.jsx(e4e,{trader:t,mode:a,messages:Xt,language:i,digitalPerson:he,videoUrl:Pe.videoUrl,onAvatarTap:()=>y(!0)}),d.jsxs("div",{className:"pointer-events-none absolute left-3 right-3 top-3 z-20 flex items-start justify-between gap-2",children:[d.jsx("div",{className:"flex items-center gap-1.5 flex-wrap",children:d.jsx("span",{className:`px-2.5 py-1 text-[10px] font-black rounded-full ${on.cls}`,children:on.label})}),d.jsxs("div",{className:"flex flex-col items-end gap-1 text-[10px] font-mono",children:[d.jsxs("span",{className:`px-2 py-0.5 rounded-full border ${Zn}`,children:["SSE ",Ut]}),d.jsxs("span",{className:"px-2 py-0.5 rounded-full border border-white/10 bg-black/40 text-nofx-text-muted",children:["bar ",ln]})]})]}),d.jsx("div",{className:"absolute left-3 top-12 z-30",children:d.jsxs("div",{className:"inline-flex w-[176px] rounded-full border border-white/12 bg-black/45 p-1 backdrop-blur-sm shadow-[0_10px_24px_rgba(0,0,0,0.35)]",children:[d.jsx("button",{type:"button",onClick:()=>o("danmu"),className:`flex-1 min-h-8 px-2.5 py-1 rounded-full text-[11px] font-semibold ${a==="danmu"?"bg-nofx-gold text-black":"text-nofx-text-muted hover:text-nofx-text-main"}`,children:"Danmu"}),d.jsx("button",{type:"button",onClick:()=>o("window"),className:`flex-1 min-h-8 px-2.5 py-1 rounded-full text-[11px] font-semibold ${a==="window"?"bg-nofx-gold text-black":"text-nofx-text-muted hover:text-nofx-text-main"}`,children:"Chat"})]})}),d.jsx("div",{className:"absolute right-3 top-12 z-30",children:d.jsx(Vq,{replayRuntimeStatus:n,language:i,showModePill:!1})}),d.jsxs("div",{className:"absolute right-3 z-30 flex flex-col gap-2 xl:hidden",style:{bottom:"calc(env(safe-area-inset-bottom, 0px) + 84px)"},children:[d.jsx("button",{type:"button",onClick:()=>Bi("gift"),disabled:Kr,className:"h-11 w-11 rounded-full border border-white/20 bg-black/45 text-base text-nofx-text-main disabled:opacity-45 disabled:cursor-not-allowed",title:i==="zh"?"":"Send gift",children:""}),d.jsx("button",{type:"button",onClick:()=>Bi("rocket"),disabled:Kr,className:"h-11 w-11 rounded-full border border-nofx-gold/45 bg-nofx-gold/18 text-base text-nofx-gold disabled:opacity-45 disabled:cursor-not-allowed",title:i==="zh"?"":"Send rocket",children:""})]}),d.jsx(Y2e,{reactions:u,onDone:Ce=>{f(Ge=>Ge.filter(wt=>wt.id!==Ce))}}),d.jsx(J2e,{bursts:p,reducedMotion:Me,onDone:Ce=>{m(Ge=>Ge.filter(wt=>wt.id!==Ce))}}),d.jsx(Q2e,{decision:Rt,language:i})]})}),d.jsxs("div",{className:"px-2 pb-3 pt-3 sm:px-4 sm:pb-4 space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:i==="zh"?"":"equity"}),d.jsx("div",{className:"text-sm font-bold text-nofx-text-main",children:kn?_n(kn.total_equity):"--"})]}),d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:i==="zh"?"":"unreal pnl"}),d.jsx("div",{className:`text-sm font-bold ${Number((kn==null?void 0:kn.unrealized_profit)||0)>=0?"text-nofx-green":"text-nofx-red"}`,children:kn?_n(kn.unrealized_profit):"--"})]}),d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:i==="zh"?"":"positions"}),d.jsx("div",{className:"text-sm font-bold text-nofx-text-main",children:String(kn?kn.position_count:po.length)})]}),d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:i==="zh"?"":"margin"}),d.jsx("div",{className:"text-sm font-bold text-nofx-text-main",children:kn?`${Number(kn.margin_used_pct||0).toFixed(1)}%`:"--"})]})]}),Ee&&d.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/25 px-4 py-3",children:d.jsxs("div",{className:"flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:i==="zh"?"":"Featured position (largest swing)"}),d.jsxs("div",{className:"text-sm font-bold text-nofx-text-main truncate",children:[Ee.symbol,"  ",String(Ee.side||"").toUpperCase()," "," ",md(Ee.quantity)]})]}),d.jsx("div",{className:`text-sm font-bold ${Number(Ee.unrealized_pnl||0)>=0?"text-nofx-green":"text-nofx-red"}`,children:_n(Ee.unrealized_pnl)})]})}),d.jsxs("div",{className:"md:hidden rounded-2xl border border-white/10 bg-black/25 px-4 py-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-mono",children:[d.jsx("span",{className:"text-nofx-gold font-bold uppercase",children:((ps=(fs=Rt==null?void 0:Rt.decisions)==null?void 0:fs[0])==null?void 0:ps.action)||"--"}),d.jsx("span",{className:"text-nofx-text-main font-semibold",children:((yo=(vo=Rt==null?void 0:Rt.decisions)==null?void 0:vo[0])==null?void 0:yo.symbol)||"--"}),((T0=(ms=Rt==null?void 0:Rt.decisions)==null?void 0:ms[0])==null?void 0:T0.confidence)!=null&&d.jsxs("span",{className:"text-nofx-text-muted",children:["conf ",Number(Rt.decisions[0].confidence).toFixed(2)]})]}),d.jsx("div",{className:"mt-1 text-xs text-nofx-text-main opacity-90",children:jc||(i==="zh"?"...":"Waiting for next decision narrative...")})]}),d.jsx("div",{className:"hidden md:block",children:d.jsx(X2e,{decision:Rt,streamPacket:e,language:i})}),d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/25 overflow-hidden",children:[d.jsxs("div",{className:"px-4 py-3 border-b border-white/5 flex items-center justify-between gap-3",children:[d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:i==="zh"?"K":"focus kline"}),d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:Pt})]}),d.jsx("div",{className:"h-[260px] sm:h-[320px]",children:d.jsx(l0,{symbol:at.symbol,interval:"1m",limit:240,refreshMs:12e3,height:"100%"})})]}),d.jsxs("div",{className:"hidden lg:grid gap-3 md:grid-cols-3",children:[d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/25 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:i==="zh"?"":"market overview"}),d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-mono border ${jn.cls}`,children:jn.label})]}),d.jsx("div",{className:"mt-2 text-sm text-nofx-text-main leading-relaxed opacity-95",children:fo.overviewBrief||(i==="zh"?"":"No overview yet.")})]}),d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/25 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:i==="zh"?"":"headlines"}),d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-mono border ${Pn.cls}`,children:Pn.label})]}),fo.newsTitles.length?d.jsx("div",{className:"mt-2 space-y-1 text-sm text-nofx-text-main",children:fo.newsTitles.slice(0,4).map((Ce,Ge)=>d.jsxs("div",{className:"opacity-95",children:[" ",String(Ce)]},`${Ge}-${String(Ce)}`))}):d.jsx("div",{className:"mt-2 text-sm text-nofx-text-muted opacity-70",children:i==="zh"?"":"No digest."})]}),d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/25 p-4",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:i==="zh"?"":"market breadth"}),d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-mono border ${Zt.cls}`,children:Zt.label})]}),Number.isFinite(Number(qn==null?void 0:qn.advancers))&&Number.isFinite(Number(qn==null?void 0:qn.decliners))?d.jsxs("div",{className:"mt-2 text-sm text-nofx-text-main leading-relaxed opacity-95",children:[d.jsxs("div",{className:"font-mono",children:["R ",Number(qn.advancers).toLocaleString()," / B ",Number(qn.decliners).toLocaleString()]}),d.jsx("div",{className:"text-xs text-nofx-text-muted mt-1",children:Bs||(i==="zh"?"/":"Advancers / decliners snapshot")})]}):d.jsx("div",{className:"mt-2 text-sm text-nofx-text-muted opacity-70",children:i==="zh"?"":"No breadth data yet."})]})]}),a==="window"&&d.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/25 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/5",children:[d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:i==="zh"?"":"public chat (display only, text input disabled)"}),d.jsx("div",{className:"text-[11px] text-nofx-text-muted",children:Xt.length})]}),d.jsx("div",{className:"max-h-[280px] overflow-y-auto px-4 py-3 space-y-2",children:Xt.slice(-30).map(Ce=>d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-[11px] font-semibold text-nofx-text-main opacity-95",children:ZS(Ce)}),d.jsx("div",{className:"text-sm text-nofx-text-main break-words opacity-95",children:Ce.text})]}),d.jsx("div",{className:"shrink-0 text-[11px] font-mono text-nofx-text-muted opacity-70",children:QS(Ce.created_ts_ms)})]},Ce.id))})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"nofx-glass border border-white/10 rounded-2xl overflow-hidden",children:[d.jsxs("div",{className:"px-4 py-3 border-b border-white/5 bg-black/25 flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("button",{type:"button",onClick:()=>y(!0),className:"rounded-xl","aria-label":i==="zh"?"":"Open trader avatar preview",children:d.jsx(Ga,{traderId:t.trader_id,traderName:t.trader_name,avatarUrl:t.avatar_url,avatarHdUrl:t.avatar_hd_url,size:34,className:"rounded-xl border border-white/12"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-sm font-bold text-nofx-text-main truncate",children:i==="zh"?"":"Interactive Support"}),d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:A?`${A}  ${S.slice(0,8)}`:i==="zh"?"":"session bootstrapping"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-[10px] font-mono text-nofx-text-muted",children:i==="zh"?"":"my points"}),d.jsxs("div",{className:"text-sm font-bold text-nofx-gold",children:[cs," pts"]})]})]}),d.jsxs("div",{className:"p-4 space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("button",{type:"button",onClick:()=>Bi("gift"),disabled:Kr,className:"px-3 py-2 rounded-xl text-sm font-semibold border border-white/15 bg-black/30 text-nofx-text-main disabled:opacity-45 disabled:cursor-not-allowed",children:X?i==="zh"?"...":"Sending...":i==="zh"?" ":"Gift "}),d.jsx("button",{type:"button",onClick:()=>Bi("rocket"),disabled:Kr,className:"px-3 py-2 rounded-xl text-sm font-semibold border border-nofx-gold/35 bg-nofx-gold/10 text-nofx-gold disabled:opacity-45 disabled:cursor-not-allowed",children:X?i==="zh"?"...":"Sending...":i==="zh"?" ":"Rocket "})]}),Ae&&!X&&d.jsx("div",{className:"text-[11px] text-nofx-text-muted",children:i==="zh"?"":"Gift actions cooling down to prevent multi-submit."}),Q&&d.jsx("div",{className:"text-xs text-nofx-green",children:Q}),G&&d.jsx("div",{className:"text-xs text-nofx-red",children:G}),d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("div",{className:"text-xs font-semibold text-nofx-text-main",children:i==="zh"?"TTS":"Agent Voice (TTS)"}),d.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded border font-mono ${Wr?"border-nofx-green/35 text-nofx-green bg-nofx-green/10":"border-white/20 text-nofx-text-muted bg-black/35"}`,children:Wr?i==="zh"?"":"READY":i==="zh"?"":"OFF"})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[d.jsx("button",{type:"button",onClick:()=>be(Ce=>!Ce),disabled:!Wr,className:`px-3 py-1.5 rounded-lg text-xs font-semibold border disabled:opacity-45 disabled:cursor-not-allowed ${xe?"border-nofx-gold/45 bg-nofx-gold/15 text-nofx-gold":"border-white/20 bg-black/40 text-nofx-text-muted"}`,children:xe?i==="zh"?"":"Voice: ON":i==="zh"?"":"Voice: OFF"}),d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted text-right",children:Mr?`voice=${Mr}`:""})]}),d.jsx("div",{className:"mt-2 text-[11px] text-nofx-text-muted",children:i==="zh"?" agent reply/proactive/narration":"Voices agent reply, proactive, and narration messages."}),ae?d.jsx("div",{className:"mt-1 text-[11px] text-nofx-red break-all",children:ae}):null]}),d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("div",{className:"text-xs font-semibold text-nofx-text-main",children:i==="zh"?"BGM":"Room Background Music"}),d.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded border font-mono ${An?"border-nofx-green/35 text-nofx-green bg-nofx-green/10":"border-white/20 text-nofx-text-muted bg-black/35"}`,children:An?i==="zh"?"":"READY":i==="zh"?"":"NO TRACK"})]}),d.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[d.jsx("button",{type:"button",onClick:()=>an(Ce=>!Ce),disabled:!An,className:`px-3 py-1.5 rounded-lg text-xs font-semibold border disabled:opacity-45 disabled:cursor-not-allowed ${cr?"border-nofx-gold/45 bg-nofx-gold/15 text-nofx-gold":"border-white/20 bg-black/40 text-nofx-text-muted"}`,children:cr?i==="zh"?"":"BGM: ON":i==="zh"?"":"BGM: OFF"}),d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted text-right",children:Cn?`track=${Cn}`:""})]}),d.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[d.jsx("span",{className:"text-[11px] text-nofx-text-muted",children:"vol"}),d.jsx("input",{type:"range",min:0,max:.35,step:.01,value:Ar,disabled:!An,onChange:Ce=>{En(Number(Ce.target.value||0))},className:"w-full accent-nofx-gold"}),d.jsxs("span",{className:"text-[11px] font-mono text-nofx-text-muted",children:[Math.round((Ar||0)*100),"%"]})]}),d.jsx("div",{className:"mt-2 text-[11px] text-nofx-text-muted",children:i==="zh"?"TTS ":"BGM is auto-ducked while TTS is speaking."}),mn?d.jsx("div",{className:"mt-1 text-[11px] text-nofx-red break-all",children:mn}):null]}),d.jsxs("div",{className:"pt-2 border-t border-white/10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"text-xs font-semibold text-nofx-text-main",children:i==="zh"?"":"In-stream betting"}),d.jsx("div",{className:`text-[11px] px-2 py-0.5 rounded border font-mono ${lt!=null&&lt.betting_open?"border-nofx-green/35 text-nofx-green bg-nofx-green/10":"border-nofx-red/35 text-nofx-red bg-nofx-red/10"}`,children:lt!=null&&lt.betting_open?i==="zh"?"":"OPEN":i==="zh"?"":"CLOSED"})]}),d.jsxs("div",{className:"text-[11px] font-mono text-nofx-text-muted mb-2 flex flex-wrap gap-x-2 gap-y-1",children:[d.jsx("span",{children:`day=${(lt==null?void 0:lt.day_key)||"--"}`}),d.jsx("span",{children:`cutoff=${L2e(lt==null?void 0:lt.cutoff_minute)}`}),d.jsx("span",{children:`pool=${_n(Number(((Wd=lt==null?void 0:lt.totals)==null?void 0:Wd.stake_amount)||0))}`}),d.jsx("span",{children:`my=${cs} pts`})]}),E&&d.jsx("div",{className:"text-xs text-nofx-text-muted mb-2",children:i==="zh"?"...":"Initializing session..."}),!E&&!T&&S&&d.jsx("div",{className:"text-xs text-nofx-green mb-2",children:i==="zh"?"":"Session ready."}),T&&d.jsx("div",{className:"text-xs text-nofx-red mb-2",children:T}),Ot&&d.jsx("div",{className:"text-xs text-nofx-text-muted mb-2",children:i==="zh"?"...":"Loading market..."}),(ct||Y)&&d.jsx("div",{className:"text-xs text-nofx-red mb-2",children:String(Y||(ct==null?void 0:ct.message)||"bet_market_error")}),te&&d.jsx("div",{className:"text-xs text-nofx-green mb-2",children:te}),d.jsxs("div",{className:"grid grid-cols-[1fr_92px] gap-2 mb-2",children:[d.jsx("select",{value:D,onChange:Ce=>L(String(Ce.target.value||"")),className:"px-3 py-2 rounded bg-black/35 border border-white/10 text-sm text-nofx-text-main",children:((lt==null?void 0:lt.entries)||[]).map(Ce=>d.jsx("option",{value:Ce.trader_id,children:Ce.trader_name},Ce.trader_id))}),d.jsx("input",{type:"number",min:1,max:1e5,step:1,value:I,onChange:Ce=>q(String(Ce.target.value||"")),className:"px-3 py-2 rounded bg-black/35 border border-white/10 text-sm text-nofx-text-main"})]}),d.jsx("button",{type:"button",onClick:Fs,disabled:$d,className:"w-full px-3 py-2 rounded-xl text-sm font-semibold bg-nofx-gold text-black disabled:opacity-45 disabled:cursor-not-allowed",children:V?i==="zh"?"...":"Placing...":i==="zh"?"":"Place Bet"}),se&&!V&&d.jsx("div",{className:"mt-2 text-[11px] text-nofx-text-muted",children:i==="zh"?"":"Bet action cooling down to avoid accidental multi-submit."}),zr&&d.jsxs("div",{className:"mt-2 text-[11px] text-nofx-text-muted",children:[i==="zh"?`${hl}  ${_n(Number(zr.stake_amount||0))}`:`Current bet: ${hl}  ${_n(Number(zr.stake_amount||0))}`,zr.settlement_status==="settled"&&d.jsx("span",{children:zr.settled_is_winner?i==="zh"?`   +${Math.max(0,Math.floor(Number(zr.settled_credit_points||0)))} pts`:`  settled +${Math.max(0,Math.floor(Number(zr.settled_credit_points||0)))} pts`:i==="zh"?"   ":"  settled lost"})]}),(pr==null?void 0:pr.settled_ts_ms)&&d.jsxs("div",{className:"mt-2 rounded-xl border border-white/10 bg-black/25 px-3 py-2 text-[11px] text-nofx-text-muted",children:[d.jsx("div",{className:"font-semibold text-nofx-text-main",children:i==="zh"?"":"Day settlement"}),d.jsx("div",{className:"mt-1",children:i==="zh"?`${fl.join(" / ")||"--"}`:`Winners: ${fl.join(" / ")||"--"}`}),pr.winning_return_pct!=null&&d.jsx("div",{children:i==="zh"?`${Number(pr.winning_return_pct).toFixed(2)}%`:`Winning return: ${Number(pr.winning_return_pct).toFixed(2)}%`})]})]}),d.jsx("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2 text-xs text-nofx-text-muted",children:i==="zh"?" + /":"Interactive betting + gifts (gift/rocket) are enabled; free-text public chat input is disabled (display only)."})]})]}),d.jsxs("div",{className:"nofx-glass border border-white/10 rounded-2xl overflow-hidden",children:[d.jsxs("div",{className:"px-4 py-3 border-b border-white/5 bg-black/25 flex items-center justify-between gap-2",children:[d.jsx("div",{className:"text-sm font-bold text-nofx-text-main",children:i==="zh"?"Top Supporters":"Top Supporters"}),d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:`chat/min ${Cc}`})]}),d.jsxs("div",{className:"p-4 space-y-2",children:[d.jsx("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2 text-[11px] font-mono text-nofx-text-muted",children:i==="zh"?`${cs} pts  ${$s}   ${kc} `:`me: ${cs} pts  ${$s} wins  ${kc} settled`}),Hr?d.jsx("div",{className:"text-xs text-nofx-red",children:i==="zh"?"":"credits unavailable"}):Lr.length===0?d.jsx("div",{className:"text-xs text-nofx-text-muted opacity-80",children:i==="zh"?"":"No supporter points yet"}):Lr.map((Ce,Ge)=>d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2 flex items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-sm text-nofx-text-main truncate",children:`${Ge+1}. ${Ce.user_nickname||Ce.user_session_id}`}),d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:i==="zh"?`${Ce.win_count}   ${Ce.settled_bets} `:`${Ce.win_count} wins  ${Ce.settled_bets} settled`})]}),d.jsx("div",{className:"text-sm font-bold text-nofx-gold",children:`${Math.max(0,Math.floor(Number(Ce.credit_points||0)))} pts`})]},Ce.user_session_id))]})]}),d.jsxs("div",{className:"nofx-glass border border-white/10 rounded-2xl overflow-hidden",children:[d.jsxs("div",{className:"px-4 py-3 border-b border-white/5 bg-black/25",children:[d.jsx("div",{className:"text-sm font-bold text-nofx-text-main",children:i==="zh"?"":"Public Chat (Display only)"}),d.jsx("div",{className:"text-[11px] font-mono text-nofx-text-muted",children:i==="zh"?"":"text input disabled"})]}),d.jsx("div",{className:"p-4 space-y-2 max-h-[520px] overflow-y-auto",children:Xt.slice(-40).map(Ce=>d.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/25 px-3 py-2",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 text-[11px]",children:[d.jsx("span",{className:`font-semibold ${Ce.sender_type==="agent"?"text-nofx-gold":"text-nofx-text-main"}`,children:ZS(Ce)}),d.jsx("span",{className:"font-mono text-nofx-text-muted opacity-70",children:QS(Ce.created_ts_ms)})]}),d.jsx("div",{className:"text-sm text-nofx-text-main mt-1 break-words opacity-95",children:Ce.text})]},Ce.id))})]})]})]})})}),d.jsx(da,{children:v&&d.jsxs(Pr.div,{className:"fixed inset-0 z-[120] flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeOut"},children:[d.jsx("button",{type:"button",className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>y(!1),"aria-label":i==="zh"?"":"Close avatar preview"}),d.jsxs(Pr.div,{className:"relative z-10 w-full max-w-[520px] rounded-2xl border border-white/20 bg-black/70 p-3 shadow-[0_32px_90px_rgba(0,0,0,0.55)]",initial:{scale:.92,y:12,opacity:0},animate:{scale:1,y:0,opacity:1},exit:{scale:.95,y:8,opacity:0},transition:{duration:.24,ease:"easeOut"},style:{marginTop:"env(safe-area-inset-top, 0px)",marginBottom:"env(safe-area-inset-bottom, 0px)"},children:[d.jsxs("div",{className:"flex items-center justify-between gap-2 px-1 pb-2",children:[d.jsx("div",{className:"text-xs font-mono text-nofx-text-muted",children:i==="zh"?"":"Trader Avatar (HD Preview)"}),d.jsx("button",{type:"button",onClick:()=>y(!1),className:"rounded-full border border-white/20 bg-black/40 px-2 py-0.5 text-xs text-nofx-text-main",children:""})]}),d.jsx("div",{className:"rounded-xl border border-white/15 bg-black/35 p-2",children:Us?d.jsx("img",{src:Us,alt:`${t.trader_name} HD avatar`,className:"block w-full max-h-[78vh] rounded-lg object-contain",loading:"lazy"}):d.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-8",children:[d.jsx(Ga,{traderId:t.trader_id,traderName:t.trader_name,avatarUrl:t.avatar_url,avatarHdUrl:t.avatar_hd_url,size:220,className:"rounded-2xl border border-white/20"}),d.jsx("div",{className:"text-xs text-nofx-text-muted",children:i==="zh"?"":"No dedicated HD photo available, showing enlarged avatar placeholder."})]})})]})]})})]})}function GR(t){const e=t.trader_id.slice(0,4);return`${t.trader_name}-${e}`}function XR(){const{language:t}=bi(),e=i=>{window.history.pushState({},"",i),window.dispatchEvent(new PopStateEvent("popstate"))},{data:r}=qr("competition",It.getCompetition,{refreshInterval:15e3,revalidateOnFocus:!1,dedupingInterval:1e4}),n=_.useMemo(()=>[...(r==null?void 0:r.traders)??[]].sort((s,a)=>(a.total_pnl_pct??0)-(s.total_pnl_pct??0)).slice(0,9),[r]);return d.jsx(Wa,{className:"py-10",disableAnimation:!0,children:d.jsxs("div",{className:"w-full px-4 md:px-8 space-y-8 animate-fade-in","data-testid":"page-lobby",children:[d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:d.jsx("div",{className:"lg:col-span-12",children:d.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-2xl p-7 backdrop-blur-md hover:border-white/20 transition-colors",children:[d.jsxs("div",{className:"flex items-start justify-between gap-6",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 text-xs px-2.5 py-1 rounded-full border border-nofx-gold/25 bg-nofx-gold/10 text-nofx-gold",children:[d.jsx(Dxe,{className:"w-3.5 h-3.5"}),t==="zh"?"  A":"Virtual Trading  A-Shares"]}),d.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold tracking-tight text-white",children:t==="zh"?"OpenTrade ":"OpenTrade Lobby"}),d.jsx("p",{className:"text-sm md:text-base text-zinc-300 leading-relaxed max-w-2xl",children:t==="zh"?" AI ":"Watch AI traders run virtual portfolios on real market data and narrate decisions live. No betting, no payouts, no profit promises."})]}),d.jsxs("div",{className:"hidden md:block text-right",children:[d.jsx("div",{className:"text-xs text-zinc-400",children:t==="zh"?" 15 ":"Refresh every 15s"}),d.jsx("div",{className:"text-sm font-semibold text-zinc-200",children:"HS300"})]})]}),d.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3",children:[d.jsxs("button",{"data-testid":"lobby-enter-room",className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm bg-nofx-gold text-black hover:opacity-90 transition-opacity",onClick:()=>{n[0]?e(`/room?trader=${encodeURIComponent(GR(n[0]))}`):e("/room")},children:[t==="zh"?"":"Enter Room",d.jsx(Xye,{className:"w-4 h-4"})]}),d.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg font-semibold text-sm border border-nofx-gold/25 bg-black/30 text-zinc-100 hover:bg-black/40 transition-colors","data-testid":"lobby-go-leaderboard",onClick:()=>e("/leaderboard"),children:[d.jsx(Lm,{className:"w-4 h-4 text-nofx-gold"}),t==="zh"?"":"Leaderboard"]}),d.jsx("div",{className:"text-xs text-zinc-400",children:t==="zh"?"":"Live mode: pages use realtime market data and runtime state."})]})]})})}),d.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-2xl p-7 backdrop-blur-md",children:[d.jsxs("div",{className:"flex items-center justify-between gap-4 mb-5",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-lg font-bold text-white",children:t==="zh"?"":"Popular Rooms"}),d.jsx("div",{className:"text-xs text-zinc-400",children:t==="zh"?" leaderboard ":"Click to enter a trader room (data currently sourced from leaderboard endpoint)."})]}),d.jsxs("div",{className:"text-xs px-2 py-1 rounded bg-nofx-gold/10 text-nofx-gold border border-nofx-gold/20",children:[(r==null?void 0:r.count)??0,t==="zh"?" ":" traders"]})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((i,s)=>{const a=$h(i.total_pnl_pct,0),o=a>=0,l=!!i.is_running;return d.jsx("button",{onClick:()=>{const u=GR(i);e(`/room?trader=${encodeURIComponent(u)}`)},className:"text-left bg-black/30 border border-white/10 rounded-xl p-4 hover:border-white/20 hover:bg-black/35 transition-colors",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ga,{traderId:i.trader_id,traderName:i.trader_name,avatarUrl:i.avatar_url,avatarHdUrl:i.avatar_hd_url,size:40,className:"rounded-lg"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-bold text-white line-clamp-1",children:i.trader_name}),d.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[d.jsxs("div",{className:"text-xs text-zinc-400",children:["#",s+1]}),d.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full border",style:{color:l?"#0ECB81":"#A1A1AA",borderColor:l?"rgba(14,203,129,0.35)":"rgba(161,161,170,0.35)",backgroundColor:l?"rgba(14,203,129,0.12)":"rgba(161,161,170,0.10)"},children:l?t==="zh"?"":"Running":t==="zh"?"":"Stopped"})]})]})]}),d.jsx("div",{className:"text-sm font-bold",style:{color:o?"#0ECB81":"#F6465D"},children:Bm(a,2,"+0.00%")})]})},i.trader_id)})}),!r&&d.jsx("div",{className:"mt-6 text-sm text-zinc-400",children:t==="zh"?"/ toast":"Loading rooms (if backend is not running you may see empty data/toast errors)"})]})]})})}function k7(t){return(t==null?void 0:t.registration_enabled)!==!1}let ym=null,v5=null;function j7(){return v5?Promise.resolve(v5):ym||(ym=fetch("/api/config").then(async t=>{if(!t.ok)throw new Error(`config http ${t.status}`);return await t.json()}).catch(()=>({beta_mode:!0,registration_enabled:!1})).then(t=>(v5=t,t)).finally(()=>{}),ym)}const Hq=_.createContext(void 0);function t4e({children:t}){const[e,r]=_.useState(null),[n,i]=_.useState(null),[s,a]=_.useState(!0);_.useEffect(()=>{Vp(),j7().then(()=>{const y=localStorage.getItem("auth_token"),x=localStorage.getItem("auth_user");y&&x&&(i(y),r(JSON.parse(x))),a(!1)}).catch(y=>{console.error("Failed to fetch system config:",y);const x=localStorage.getItem("auth_token"),b=localStorage.getItem("auth_user");x&&b&&(i(x),r(JSON.parse(b))),a(!1)})},[]),_.useEffect(()=>{const y=()=>{console.log("Unauthorized event received - clearing auth state"),r(null),i(null)};return window.addEventListener("unauthorized",y),()=>{window.removeEventListener("unauthorized",y)}},[]);const o=async(y,x)=>{try{const b=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:y,password:x})}),S=await b.json();return b.ok?S.requires_otp_setup?{success:!0,userID:S.user_id,requiresOTPSetup:!0,message:S.message,qrCodeURL:S.qr_code_url,otpSecret:S.otp_secret,email:S.email}:S.requires_otp?{success:!0,userID:S.user_id,requiresOTP:!0,message:S.message,qrCodeURL:S.qr_code_url,otpSecret:S.otp_secret}:{success:!1,message:""}:{success:!1,message:S.error,qrCodeURL:S.qr_code_url,otpSecret:S.otp_secret,userID:S.user_id}}catch{return{success:!1,message:""}}},l=async y=>{try{const x=await fetch("/api/admin-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:y})}),b=await x.json();if(x.ok){Vp();const S={id:b.user_id||"admin",email:b.email||"admin@localhost"};i(b.token),r(S),localStorage.setItem("auth_token",b.token),localStorage.setItem("auth_user",JSON.stringify(S));const N=sessionStorage.getItem("returnUrl");return N?(sessionStorage.removeItem("returnUrl"),window.history.pushState({},"",N),window.dispatchEvent(new PopStateEvent("popstate"))):(window.history.pushState({},"","/dashboard"),window.dispatchEvent(new PopStateEvent("popstate"))),{success:!0}}else return{success:!1,message:b.error||""}}catch{return{success:!1,message:""}}},u=async(y,x,b)=>{const S={email:y,password:x};b&&(S.beta_code=b);try{const N=await Ke.post("/api/register",S);return N.success&&N.data?{success:!0,userID:N.data.user_id,otpSecret:N.data.otp_secret,qrCodeURL:N.data.qr_code_url,message:N.message||N.data.message}:{success:!1,message:N.message||"Registration failed"}}catch(N){return console.error("Auth register error:",N),{success:!1,message:N instanceof Error?N.message:"Detailed server error"}}},f=async(y,x)=>{try{const b=await fetch("/api/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:y,otp_code:x})}),S=await b.json();if(b.ok){Vp();const N={id:S.user_id,email:S.email};i(S.token),r(N),localStorage.setItem("auth_token",S.token),localStorage.setItem("auth_user",JSON.stringify(N));const A=sessionStorage.getItem("returnUrl");return A?(sessionStorage.removeItem("returnUrl"),window.history.pushState({},"",A),window.dispatchEvent(new PopStateEvent("popstate"))):(window.history.pushState({},"","/traders"),window.dispatchEvent(new PopStateEvent("popstate"))),{success:!0,message:S.message}}else return{success:!1,message:S.error}}catch{return{success:!1,message:"OTP"}}},p=async(y,x)=>{try{const b=await fetch("/api/complete-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:y,otp_code:x})}),S=await b.json();if(b.ok){Vp();const N={id:S.user_id,email:S.email};i(S.token),r(N),localStorage.setItem("auth_token",S.token),localStorage.setItem("auth_user",JSON.stringify(N));const A=sessionStorage.getItem("returnUrl");return A?(sessionStorage.removeItem("returnUrl"),window.history.pushState({},"",A),window.dispatchEvent(new PopStateEvent("popstate"))):(window.history.pushState({},"","/traders"),window.dispatchEvent(new PopStateEvent("popstate"))),{success:!0,message:S.message}}else return{success:!1,message:S.error}}catch{return{success:!1,message:""}}},m=async(y,x,b)=>{try{const S=await fetch("/api/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:y,new_password:x,otp_code:b})}),N=await S.json();return S.ok?{success:!0,message:N.message}:{success:!1,message:N.error}}catch{return{success:!1,message:""}}},v=()=>{const y=localStorage.getItem("auth_token");y&&fetch("/api/logout",{method:"POST",headers:{Authorization:`Bearer ${y}`}}).catch(()=>{}),r(null),i(null),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")};return d.jsx(Hq.Provider,{value:{user:e,token:n,login:o,loginAdmin:l,register:u,verifyOTP:f,completeRegistration:p,resetPassword:m,logout:v,isLoading:s},children:t})}function x1(){const t=_.useContext(Hq);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function P7(){const[t,e]=_.useState(null),[r,n]=_.useState(!0),[i,s]=_.useState(null);return _.useEffect(()=>{let a=!0;return j7().then(o=>{a&&(e(o),n(!1))}).catch(o=>{a&&(console.error("Failed to fetch system config:",o),s(o.message),n(!1))}),()=>{a=!1}},[]),{config:t,loading:r,error:i}}function r4e(){const{language:t}=bi(),{login:e,loginAdmin:r,verifyOTP:n,completeRegistration:i}=x1(),[s,a]=_.useState("login"),[o,l]=_.useState(""),[u,f]=_.useState(""),[p,m]=_.useState(!1),[v,y]=_.useState(""),[x,b]=_.useState(""),[S,N]=_.useState(""),[A,k]=_.useState(""),[E,j]=_.useState(""),[T,M]=_.useState(!1),[I,q]=_.useState(""),{config:D}=P7(),L=k7(D),[V,K]=_.useState(null);_.useEffect(()=>{if(sessionStorage.getItem("from401")==="true"){const U=Wt.warning(de("sessionExpired",t),{duration:1/0});K(U),sessionStorage.removeItem("from401")}},[t]);const Y=async U=>{U.preventDefault(),j(""),M(!0);const X=await e(o,u);if(X.success)X.requiresOTPSetup&&X.userID?(b(X.userID),N(X.qrCodeURL||""),k(X.otpSecret||""),a("setup-otp"),Wt.info("Pending 2FA setup detected. Please complete configuration.")):X.requiresOTP&&X.userID?(b(X.userID),X.qrCodeURL?(N(X.qrCodeURL),k(X.otpSecret||""),a("setup-otp"),Wt.info("Pending 2FA setup detected. Please complete configuration.")):a("otp")):V&&Wt.dismiss(V);else if(X.qrCodeURL)b(X.userID||""),N(X.qrCodeURL),k(X.otpSecret||""),a("setup-otp"),Wt.warning(de("completeGapSetup",t)||"Incomplete setup detected. Please configure 2FA.");else{const ie=X.message||de("loginFailed",t);j(ie),Wt.error(ie)}M(!1)},J=async U=>{U.preventDefault(),j(""),M(!0);const X=S?await i(x,v):await n(x,v);if(X.success)V&&Wt.dismiss(V),N(""),k("");else{const ie=X.message||de("verificationFailed",t);j(ie),Wt.error(ie)}M(!1)},te=U=>{navigator.clipboard.writeText(U),Wt.success("Copied to clipboard")};return d.jsx(Wa,{className:"min-h-screen flex items-center justify-center py-12 font-mono",disableAnimation:!0,children:d.jsxs("div",{className:"w-full max-w-md relative z-10 px-6",children:[d.jsx("div",{className:"flex justify-between items-center mb-8",children:d.jsxs("button",{onClick:()=>window.location.href="/",className:"flex items-center gap-2 text-zinc-500 hover:text-white transition-colors group px-3 py-1.5 rounded border border-transparent hover:border-zinc-700 bg-black/20 backdrop-blur-sm",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 group-hover:animate-pulse"}),d.jsx("span",{className:"text-xs font-mono uppercase tracking-widest",children:"< CANCEL_LOGIN"})]})}),d.jsxs("div",{className:"mb-8 text-center",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute -inset-2 bg-nofx-gold/20 rounded-full blur-xl animate-pulse"}),d.jsx("img",{src:"/icons/nofx.svg",alt:"NoFx Logo",className:"w-16 h-16 object-contain relative z-10 opacity-90"})]})}),d.jsxs("h1",{className:"text-3xl font-bold tracking-tighter text-white uppercase mb-2",children:[d.jsx("span",{className:"text-nofx-gold",children:"SYSTEM"})," ACCESS"]}),d.jsx("p",{className:"text-zinc-500 text-xs tracking-[0.2em] uppercase",children:s==="login"?"Authentication Protocol v3.0":"Multi-Factor Verification"})]}),d.jsxs("div",{className:"bg-zinc-900/40 backdrop-blur-md border border-zinc-800 rounded-lg overflow-hidden shadow-2xl relative group",children:[d.jsx("div",{className:"absolute inset-0 bg-zinc-900/50 opacity-0 group-hover:opacity-100 transition duration-700 pointer-events-none"}),d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-zinc-900/80 border-b border-zinc-800",children:[d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/50 hover:bg-red-500 cursor-pointer transition-colors",onClick:()=>window.location.href="/",title:"Close / Return Home"}),d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/50"}),d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/50"})]}),d.jsxs("div",{className:"text-[10px] text-zinc-600 font-mono flex items-center gap-1",children:[d.jsx("span",{className:"text-emerald-500",children:""})," login.exe"]})]}),d.jsxs("div",{className:"p-6 md:p-8 relative",children:[d.jsxs("div",{className:"mb-6 font-mono text-xs space-y-1 text-zinc-500 border-b border-zinc-800/50 pb-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"text-emerald-500",children:""}),d.jsx("span",{children:"Initiating handshake..."})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"text-emerald-500",children:""}),d.jsx("span",{children:"Target: NOFX CORE HUB"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"text-emerald-500",children:""}),d.jsxs("span",{children:["Status:"," ",d.jsx("span",{className:"text-zinc-300",children:"AWAITING CREDENTIALS"})]})]})]}),s==="setup-otp"?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center bg-zinc-900/50 p-4 rounded border border-zinc-800",children:[d.jsx("div",{className:"text-xs font-mono text-zinc-400 mb-2",children:"COMPLETE 2FA CONFIGURATION"}),S?d.jsx("div",{className:"bg-white p-2 rounded inline-block shadow-[0_0_30px_rgba(255,255,255,0.1)]",children:d.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(`otpauth://totp/NoFX:${o}?secret=${A}&issuer=NoFX`)}`,alt:"QR Code",className:"w-32 h-32"})}):d.jsx("div",{className:"w-32 h-32 bg-zinc-800 animate-pulse rounded inline-block"}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-widest mb-1",children:"Backup Secret Key"}),d.jsxs("div",{className:"flex items-center gap-2 justify-center bg-black/50 p-2 rounded border border-zinc-700/50 max-w-[200px] mx-auto",children:[d.jsx("code",{className:"text-xs font-mono text-nofx-gold",children:A}),d.jsx("button",{onClick:()=>te(A),className:"text-zinc-500 hover:text-white transition-colors",children:d.jsx("span",{className:"text-[10px] uppercase border border-zinc-700 px-1 rounded",children:"Copy"})})]})]})]}),d.jsxs("div",{className:"space-y-4 font-mono text-xs text-zinc-400 bg-black/20 p-4 rounded border border-zinc-800/50",children:[d.jsxs("div",{className:"flex gap-3 items-start",children:[d.jsx("span",{className:"text-nofx-gold font-bold mt-0.5",children:"01"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-white mb-1",children:"Install Authenticator App"}),d.jsxs("p",{className:"mb-2",children:["Recommended:"," ",d.jsx("span",{className:"text-nofx-gold",children:"Google Authenticator"}),"."]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"px-1.5 py-0.5 bg-zinc-800 rounded text-[10px] text-zinc-300 border border-zinc-700",children:"iOS"}),d.jsx("span",{className:"px-1.5 py-0.5 bg-zinc-800 rounded text-[10px] text-zinc-300 border border-zinc-700",children:"Android"})]})]})]}),d.jsx("div",{className:"w-full h-px bg-zinc-800/50"}),d.jsxs("div",{className:"flex gap-3 items-start",children:[d.jsx("span",{className:"text-nofx-gold font-bold mt-0.5",children:"02"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-white mb-1",children:"Scan & Verify"}),d.jsx("p",{children:"Scan code above, then enter the 6-digit token below to activate your account."})]})]})]}),d.jsx("button",{onClick:()=>a("otp"),className:"w-full bg-nofx-gold text-black font-bold py-3 px-4 rounded text-sm tracking-wide uppercase hover:bg-yellow-400 transition-colors font-mono shadow-lg",children:"I HAVE SCANNED THE CODE "})]}):s==="login"?d.jsxs("form",{onSubmit:Y,className:"space-y-5",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs uppercase tracking-wider text-zinc-500 mb-1.5 ml-1 font-bold",children:de("email",t)}),d.jsx("input",{type:"email","data-testid":"login-email",value:o,onChange:U=>l(U.target.value),className:"w-full bg-black/50 border border-zinc-700 rounded px-4 py-3 text-sm focus:border-nofx-gold focus:ring-1 focus:ring-nofx-gold/50 outline-none transition-all placeholder-zinc-700 text-white font-mono",placeholder:"user@nofx.os",required:!0})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center justify-between mb-1.5 ml-1",children:d.jsx("label",{className:"block text-xs uppercase tracking-wider text-zinc-500 font-bold",children:de("password",t)})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:p?"text":"password","data-testid":"login-password",value:u,onChange:U=>f(U.target.value),className:"w-full bg-black/50 border border-zinc-700 rounded px-4 py-3 text-sm focus:border-nofx-gold focus:ring-1 focus:ring-nofx-gold/50 outline-none transition-all placeholder-zinc-700 text-white font-mono pr-10",placeholder:"",required:!0}),d.jsx("button",{type:"button",onClick:()=>m(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-600 hover:text-zinc-400 transition-colors",children:p?d.jsx(Qf,{size:16}):d.jsx(Zf,{size:16})})]}),d.jsx("div",{className:"text-right mt-2",children:d.jsxs("button",{type:"button",onClick:()=>window.location.href="/reset-password",className:"text-[10px] uppercase tracking-wide text-zinc-500 hover:text-nofx-gold transition-colors",children:["> ",de("forgotPassword",t)]})})]})]}),E&&d.jsxs("div",{className:"text-xs bg-red-500/10 border border-red-500/30 text-red-500 px-3 py-2 rounded font-mono flex gap-2 items-start",children:[d.jsx("span",{children:""})," ",d.jsx("span",{children:E})]}),d.jsx("button",{type:"submit","data-testid":"login-submit",disabled:T,className:"w-full bg-nofx-gold text-black font-bold py-3 px-4 rounded text-sm tracking-wide uppercase hover:bg-yellow-400 transition-all transform active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed font-mono shadow-[0_0_15px_rgba(255,215,0,0.1)] hover:shadow-[0_0_25px_rgba(255,215,0,0.25)] flex items-center justify-center gap-2 group",children:T?d.jsx("span",{className:"animate-pulse",children:"PROCESSING..."}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"AUTHENTICATE"}),d.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"->"})]})})]}):d.jsxs("form",{onSubmit:J,className:"space-y-6",children:[d.jsxs("div",{className:"text-center py-2",children:[d.jsx("div",{className:"w-12 h-12 bg-zinc-900 rounded-full flex items-center justify-center mx-auto mb-4 border border-zinc-700 text-2xl",children:""}),d.jsxs("p",{className:"text-xs text-zinc-400 font-mono leading-relaxed",children:[de("scanQRCodeInstructions",t),d.jsx("br",{}),de("enterOTPCode",t)]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs uppercase tracking-wider text-nofx-gold mb-2 text-center font-bold",children:de("otpCode",t)}),d.jsx("input",{type:"text","data-testid":"otp-code",value:v,onChange:U=>y(U.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full bg-black border border-zinc-700 rounded px-4 py-4 text-center text-2xl tracking-[0.5em] font-mono text-white focus:border-nofx-gold focus:ring-1 focus:ring-nofx-gold/50 outline-none transition-all placeholder-zinc-800",placeholder:"000000",maxLength:6,required:!0,autoFocus:!0})]}),E&&d.jsxs("div",{className:"text-xs bg-red-500/10 border border-red-500/30 text-red-500 px-3 py-2 rounded font-mono text-center",children:["[ACCESS DENIED]: ",E]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:()=>a("login"),className:"flex-1 bg-zinc-900 border border-zinc-700 text-zinc-400 py-3 rounded text-xs font-mono uppercase hover:bg-zinc-800 transition-colors",children:"< ABORT"}),d.jsx("button",{type:"submit","data-testid":"otp-submit",disabled:T||v.length!==6,className:"flex-1 bg-nofx-gold text-black font-bold py-3 rounded text-xs font-mono uppercase hover:bg-yellow-400 transition-colors disabled:opacity-50",children:T?"VERIFYING...":"CONFIRM IDENTITY"})]})]})]}),d.jsxs("div",{className:"bg-zinc-900/50 p-3 flex justify-between items-center text-[10px] font-mono text-zinc-600 border-t border-zinc-800",children:[d.jsx("div",{children:"SECURE_CONNECTION: ENCRYPTED"}),d.jsx("div",{children:new Date().toISOString().split("T")[0]})]})]}),L&&d.jsxs("div",{className:"text-center mt-8 space-y-4",children:[d.jsxs("p",{className:"text-xs font-mono text-zinc-500",children:["NEW_USER_DETECTED?"," ",d.jsx("button",{onClick:()=>window.location.href="/register",className:"text-nofx-gold hover:underline hover:text-yellow-300 transition-colors ml-1 uppercase",children:"INITIALIZE REGISTRATION"})]}),d.jsx("button",{onClick:()=>window.location.href="/",className:"text-[10px] text-zinc-600 hover:text-red-500 transition-colors uppercase tracking-widest hover:underline decoration-red-500/30 font-mono",children:"[ ABORT_SESSION_RETURN_HOME ]"})]})]})})}function n4e(t,e){return Wt(t,e)}function i4e(t,e){return Wt.success(t,e)}function s4e(t,e){return Wt.error(t,e)}function a4e(t,e){var r;return((r=Wt.info)==null?void 0:r.call(Wt,t,e))??Wt(t,e)}function o4e(t,e){var r;return((r=Wt.warning)==null?void 0:r.call(Wt,t,e))??Wt(t,e)}function l4e(t,e){return Wt.custom(t,e)}function c4e(t){return Wt.dismiss(t)}function u4e(t,e){return Wt.promise(t,e)}const YR={message:n4e,success:i4e,error:s4e,info:a4e,warning:o4e,custom:l4e,dismiss:c4e,promise:u4e};async function d4e(t,e=""){var r;try{if((r=navigator==null?void 0:navigator.clipboard)!=null&&r.writeText)await navigator.clipboard.writeText(t);else{const n=document.createElement("textarea");n.value=t,n.style.position="fixed",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}return YR.success(e),!0}catch(n){return console.error("Clipboard copy failed:",n),YR.error(""),!1}}var ov=function(){return ov=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ov.apply(this,arguments)},h4e=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},JR=function(t){var e=0;if(t.length===0)return!1;for(;e<t.length;){var r=t.charAt(e);if(r!=r.toLowerCase()){if(r==r.toUpperCase())return!0}e++}return!1},QR=function(t){var e=0;if(t.length===0)return!1;for(;e<t.length;){var r=t.charAt(e);if(r!=r.toUpperCase()){if(r==r.toLowerCase())return!0}e++}return!1},Kq=function(t){var e=t.className,r=t.style,n=t.rules,i=t.value,s=t.valueAgain,a=t.minLength,o=t.maxLength,l=t.rtl,u=t.onChange,f=t.specialCharsRegex,p=f===void 0?/[~`!#$%\^&*@+=\-\[\]\\';,/{}\(\)|\\":<>\?\.\_]/g:f,m=t.messages,v=m===void 0?{}:m,y=h4e(t,["className","style","rules","value","valueAgain","minLength","maxLength","rtl","onChange","specialCharsRegex","messages"]),x={minLength:{valid:i.length>=(a||100),message:v.minLength||"Password has at least ".concat(a," characters.")},specialChar:{valid:p.test(i),message:v.specialChar||"Password has special characters."},number:{valid:/\d/g.test(i),message:v.number||"Password has a number."},match:{valid:i.length>0&&i===s,message:v.match||"Passwords match."},capital:{valid:JR(i),message:v.capital||"Password has a capital letter."},lowercase:{valid:QR(i),message:v.lowercase||"Password has a lowercase letter."},capitalAndLowercase:{valid:JR(i)&&QR(i),message:v.capitalAndLowercase||"Password contains at least one uppercase and lowercase characters."},letter:{valid:/[a-zA-Z]/g.test(i),message:v.letter||"Password has a letter."},maxLength:{valid:i.length<=(o||16),message:v.maxLength||"Password has no more than ".concat(o," characters.")},notEmpty:{valid:!!(i.length>0&&s&&s.length>0),message:v.notEmpty||"Password fields are not empty."},noSpaces:{valid:i.length>0&&!/\s/.test(i),message:v.noSpaces||"Password contains no spaces."}},b=_.useMemo(function(){return n.filter(function(A){return!!x[A]})},[n]),S=b.every(function(A){return x[A].valid}),N=_.useMemo(function(){return b.filter(function(A){return!x[A].valid})},[i,s,b]);return _.useEffect(function(){typeof u=="function"&&u(S,N)},[S,N]),l&&(e=e?e+" rtl":"rtl"),W.createElement("ul",{className:e,style:ov({margin:0,padding:0},r)},b.map(function(A){var k=x[A],E=k.message,j=k.valid;return W.createElement(f4e,ov({key:A,valid:j,iconSize:18,validColor:"#4BCA81",invalidColor:"#FF0033",rtl:l},y),E)}))},f4e=function(t){var e=t.valid,r=t.iconSize,n=t.validColor,i=t.invalidColor,s=t.validTextColor,a=t.invalidTextColor,o=t.iconComponents,l=t.hideIcon,u=t.rtl,f=t.children,p=t.itemClassName;return W.createElement("li",{className:"".concat(p," ").concat(e?"valid":"invalid"),style:{listStyleType:"none",display:"flex",alignItems:"center",margin:"2px 0"}},l?null:o?e?o.ValidIcon:o.InvalidIcon:W.createElement("svg",{className:"checklist-icon",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 512 512",style:{marginRight:u?0:5,marginLeft:u?5:0}},W.createElement("path",{fill:e?n:i,d:e?"M432 64l-240 240-112-112-80 80 192 192 320-320z":"M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"})),W.createElement("span",{style:{paddingTop:2,opacity:e?1:a?void 0:.5,flex:1,color:e?s:a}},f))};function p4e(){const{language:t}=bi(),e=()=>{window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))};return d.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#0B0E11",color:"#EAECEF"},"data-testid":"page-registration-disabled",children:d.jsxs("div",{className:"text-center max-w-md px-6",children:[d.jsx("img",{src:"/icons/nofx.svg",alt:"NoFx Logo",className:"w-16 h-16 mx-auto mb-4"}),d.jsx("h1",{className:"text-2xl font-semibold mb-3",children:de("registrationClosed",t)}),d.jsx("p",{className:"text-sm text-gray-400",children:de("registrationClosedMessage",t)}),d.jsx("button",{className:"mt-6 px-4 py-2 rounded text-sm font-semibold transition-colors hover:opacity-90",style:{background:"#F0B90B",color:"#000"},onClick:e,children:de("backToLogin",t)})]})})}const r0={github:"https://github.com/charlieqf/onlytrade",twitter:"",telegram:""};function m4e({onBack:t}){const e=()=>{t?t():window.location.href="/login"};return d.jsxs("div",{className:"min-h-screen bg-nofx-bg-deeper text-white font-mono relative overflow-hidden flex items-center justify-center px-4",children:[d.jsx("div",{className:"fixed inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px] pointer-events-none"}),d.jsx("div",{className:"fixed inset-0 bg-gradient-to-t from-black via-transparent to-transparent pointer-events-none"}),d.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-[0.03] bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[length:100%_4px]"}),d.jsx(Pr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"max-w-lg w-full relative z-10",children:d.jsxs("div",{className:"bg-zinc-900/40 backdrop-blur-md border border-red-500/30 rounded-lg overflow-hidden relative group",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-red-900/20 border-b border-red-500/30",children:[d.jsxs("div",{className:"flex gap-1.5 opacity-50",children:[d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500"}),d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-zinc-600"}),d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-zinc-600"})]}),d.jsx("div",{className:"text-[10px] text-red-400 font-mono tracking-widest animate-pulse",children:"ACCESS_DENIED // ERROR_403"})]}),d.jsxs("div",{className:"p-8 text-center",children:[d.jsxs("div",{className:"relative mx-auto mb-8 w-20 h-20 flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-red-500/20 rounded-full animate-ping opacity-50"}),d.jsx("div",{className:"relative z-10 p-4 border-2 border-red-500/50 rounded-full bg-black/50",children:d.jsx(Rxe,{className:"w-8 h-8 text-red-500"})})]}),d.jsxs("h1",{className:"text-2xl font-bold mb-2 tracking-widest text-white uppercase glitch-text",children:[d.jsx("span",{className:"text-red-500",children:"RESTRICTED"})," ACCESS"]}),d.jsx("div",{className:"h-[1px] w-full bg-gradient-to-r from-transparent via-red-900/50 to-transparent my-4"}),d.jsxs("p",{className:"text-xs text-zinc-400 mb-8 leading-relaxed font-mono px-4",children:[d.jsx("span",{className:"text-red-400",children:"[SYSTEM_MESSAGE]:"})," YOUR IDENTIFIER IS NOT ON THE ACTIVE WHITELIST.",d.jsx("br",{}),d.jsx("br",{}),"Platform capacity limits have been reached for the current beta phase. Prioritized access is currently reserved for authorized operators only."]}),d.jsx("div",{className:"bg-red-950/20 border border-red-900/30 p-4 rounded mb-8 text-left",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(fxe,{className:"w-4 h-4 text-red-500 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-bold text-red-400 uppercase mb-1",children:"Authorization Protocol"}),d.jsx("p",{className:"text-[10px] text-zinc-500 leading-tight",children:"Access is rolled out in batches. If you believe this is an error, please verify your credentials or contact system administrators."})]})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 py-3 border border-zinc-700 bg-black hover:bg-zinc-900 hover:border-red-500 hover:text-red-500 text-zinc-400 transition-all text-xs font-bold tracking-widest uppercase group",children:[d.jsx(W$,{className:"w-3 h-3 group-hover:-translate-x-1 transition-transform"}),"RETURN TO LOGIN"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[d.jsxs("a",{href:r0.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 py-2 border border-zinc-800 bg-zinc-900/50 hover:bg-zinc-800 text-zinc-500 hover:text-white transition-colors text-[10px] uppercase",children:[d.jsx(Hxe,{className:"w-3 h-3"}),"Updates"]}),d.jsxs("a",{href:r0.telegram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 py-2 border border-zinc-800 bg-zinc-900/50 hover:bg-zinc-800 text-zinc-500 hover:text-white transition-colors text-[10px] uppercase",children:[d.jsx(Pxe,{className:"w-3 h-3"}),"Support"]})]})]})]}),d.jsx("div",{className:"bg-black/80 p-2 text-[9px] text-zinc-700 text-center border-t border-zinc-800 font-mono uppercase",children:"ERR_CODE: WLIST_0x403 // SECURITY_LAYER_ACTIVE"})]})})]})}function g4e(){const{language:t}=bi(),{register:e,completeRegistration:r}=x1(),[n,i]=_.useState("register"),[s,a]=_.useState(""),[o,l]=_.useState(""),[u,f]=_.useState(""),[p,m]=_.useState(""),[v,y]=_.useState(!1),[x,b]=_.useState(!0),[S,N]=_.useState(""),[A,k]=_.useState(""),[E,j]=_.useState(""),[T,M]=_.useState(""),[I,q]=_.useState(""),[D,L]=_.useState(!1),[V,K]=_.useState(!1),[Y,J]=_.useState(!1),[te,U]=_.useState(!1);if(_.useEffect(()=>{j7().then(Q=>{y(Q.beta_mode||!1),b(k7(Q))}).catch(Q=>{console.error("Failed to fetch system config:",Q)})},[]),!x)return d.jsx(p4e,{});if(n==="whitelist-full")return d.jsx(m4e,{onBack:()=>i("register")});const X=async Q=>{if(Q.preventDefault(),q(""),!V){q(de("passwordNotMeetRequirements",t));return}if(v&&!p.trim()){q("");return}L(!0);try{const le=await e(s,o,p.trim()||void 0),xe=be=>{const ae=be.toLowerCase();return ae.includes("whitelist")||ae.includes("capacity")||ae.includes("limit")||ae.includes("permission denied")||ae.includes("not on whitelist")};if(le.success&&le.userID)k(le.userID),j(le.otpSecret||""),M(le.qrCodeURL||""),i("setup-otp");else{const be=le.message||de("registrationFailed",t);if(xe(be)){i("whitelist-full");return}q(be),Wt.error(be)}}catch(le){console.error("Registration error:",le);const xe=le instanceof Error?le.message:"Registration failed due to server error",be=xe.toLowerCase();if(be.includes("whitelist")||be.includes("capacity")||be.includes("limit")||be.includes("permission denied")||be.includes("not on whitelist")){i("whitelist-full");return}q(xe),Wt.error(xe)}finally{L(!1)}},ie=()=>{i("verify-otp")},G=async Q=>{Q.preventDefault(),q(""),L(!0);const le=await r(A,S);if(!le.success){const xe=le.message||de("registrationFailed",t);q(xe),Wt.error(xe)}L(!1)},F=Q=>{d4e(Q)};return d.jsx(Wa,{className:"min-h-screen flex items-center justify-center py-12 font-mono",disableAnimation:!0,children:d.jsxs("div",{className:"w-full max-w-lg relative z-10 px-6","data-testid":"page-register",children:[d.jsx("div",{className:"flex justify-between items-center mb-8",children:d.jsxs("button",{onClick:()=>window.location.href="/",className:"flex items-center gap-2 text-zinc-500 hover:text-white transition-colors group px-3 py-1.5 rounded border border-transparent hover:border-zinc-700 bg-black/20 backdrop-blur-sm",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 group-hover:animate-pulse"}),d.jsx("span",{className:"text-xs font-mono uppercase tracking-widest",children:"< ABORT_REGISTRATION"})]})}),d.jsxs("div",{className:"mb-8 text-center",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute -inset-2 bg-nofx-gold/20 rounded-full blur-xl animate-pulse"}),d.jsx("img",{src:"/icons/nofx.svg",alt:"NoFx Logo",className:"w-16 h-16 object-contain relative z-10 opacity-90"})]})}),d.jsxs("h1",{className:"text-3xl font-bold tracking-tighter text-white uppercase mb-2",children:[d.jsx("span",{className:"text-nofx-gold",children:"NEW_USER"})," ONBOARDING"]}),d.jsxs("p",{className:"text-zinc-500 text-xs tracking-[0.2em] uppercase",children:[n==="register"&&"Initializing Registration Sequence...",n==="setup-otp"&&"Configuring Security Protocols...",n==="verify-otp"&&"Finalizing Authentication..."]})]}),d.jsxs("div",{className:"bg-zinc-900/40 backdrop-blur-md border border-zinc-800 rounded-lg overflow-hidden shadow-2xl relative group",children:[d.jsx("div",{className:"absolute inset-0 bg-zinc-900/50 opacity-0 group-hover:opacity-100 transition duration-700 pointer-events-none"}),d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-zinc-900/80 border-b border-zinc-800",children:[d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/50 hover:bg-red-500 cursor-pointer transition-colors",onClick:()=>window.location.href="/",title:"Close / Return Home"}),d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/50"}),d.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/50"})]}),d.jsxs("div",{className:"text-[10px] text-zinc-600 font-mono flex items-center gap-1",children:[d.jsx("span",{className:"text-emerald-500",children:""})," setup_account.sh"]})]}),d.jsxs("div",{className:"p-6 md:p-8 relative",children:[d.jsxs("div",{className:"mb-6 font-mono text-xs space-y-1 text-zinc-500 border-b border-zinc-800/50 pb-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"text-emerald-500",children:""}),d.jsxs("span",{children:["System Check: ",d.jsx("span",{className:"text-emerald-500",children:"READY"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"text-emerald-500",children:""}),d.jsxs("span",{children:["Mode: ",v?"CLOSED_BETA CA1":"PUBLIC"]})]})]}),n==="register"&&d.jsxs("form",{onSubmit:X,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs uppercase tracking-wider text-zinc-500 mb-1.5 ml-1 font-bold",children:de("email",t)}),d.jsx("input",{type:"email",value:s,onChange:Q=>a(Q.target.value),className:"w-full bg-black/50 border border-zinc-700 rounded px-4 py-3 text-sm focus:border-nofx-gold focus:ring-1 focus:ring-nofx-gold/50 outline-none transition-all placeholder-zinc-800 text-white font-mono",placeholder:"user@nofx.os",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs uppercase tracking-wider text-zinc-500 mb-1.5 ml-1 font-bold",children:de("password",t)}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:Y?"text":"password",value:o,onChange:Q=>l(Q.target.value),className:"w-full bg-black/50 border border-zinc-700 rounded px-4 py-3 text-sm focus:border-nofx-gold focus:ring-1 focus:ring-nofx-gold/50 outline-none transition-all placeholder-zinc-800 text-white font-mono pr-10",placeholder:"",required:!0}),d.jsx("button",{type:"button",onClick:()=>J(!Y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-600 hover:text-zinc-400 transition-colors",children:Y?d.jsx(Qf,{size:16}):d.jsx(Zf,{size:16})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs uppercase tracking-wider text-zinc-500 mb-1.5 ml-1 font-bold",children:de("confirmPassword",t)}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:te?"text":"password",value:u,onChange:Q=>f(Q.target.value),className:"w-full bg-black/50 border border-zinc-700 rounded px-4 py-3 text-sm focus:border-nofx-gold focus:ring-1 focus:ring-nofx-gold/50 outline-none transition-all placeholder-zinc-800 text-white font-mono pr-10",placeholder:"",required:!0}),d.jsx("button",{type:"button",onClick:()=>U(!te),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-600 hover:text-zinc-400 transition-colors",children:te?d.jsx(Qf,{size:16}):d.jsx(Zf,{size:16})})]})]})]}),d.jsxs("div",{className:"bg-zinc-900/50 p-3 rounded border border-zinc-800/50",children:[d.jsxs("div",{className:"text-[10px] uppercase tracking-wider text-zinc-500 mb-2 font-bold flex items-center gap-2",children:[d.jsx("div",{className:"w-1 h-1 rounded-full bg-zinc-500"}),"Password Strength Protocol"]}),d.jsx("div",{className:"text-xs font-mono text-zinc-400",children:d.jsx(Kq,{rules:["minLength","capital","lowercase","number","specialChar","match"],minLength:8,value:o,valueAgain:u,messages:{minLength:de("passwordRuleMinLength",t),capital:de("passwordRuleUppercase",t),lowercase:de("passwordRuleLowercase",t),number:de("passwordRuleNumber",t),specialChar:de("passwordRuleSpecial",t),match:de("passwordRuleMatch",t)},className:"grid grid-cols-2 gap-x-4 gap-y-1",onChange:Q=>K(Q),iconSize:10})})]}),v&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs uppercase tracking-wider text-nofx-gold mb-1.5 ml-1 font-bold",children:"Priority Access Code"}),d.jsx("input",{type:"text",value:p,onChange:Q=>m(Q.target.value.replace(/[^a-z0-9]/gi,"").toLowerCase()),className:"w-full bg-black/50 border border-zinc-700 rounded px-4 py-3 text-sm focus:border-nofx-gold focus:ring-1 focus:ring-nofx-gold/50 outline-none transition-all placeholder-zinc-800 text-white font-mono tracking-widest",placeholder:"XXXXXX",maxLength:6,required:v}),d.jsx("p",{className:"text-[10px] text-zinc-600 font-mono mt-1 ml-1",children:"* CASE SENSITIVE ALPHANUMERIC"})]}),I&&d.jsxs("div",{className:"text-xs bg-red-500/10 border border-red-500/30 text-red-500 px-3 py-2 rounded font-mono",children:["[REGISTRATION_ERROR]: ",I]}),d.jsx("button",{type:"submit",disabled:D||v&&!p.trim()||!V,className:"w-full bg-nofx-gold text-black font-bold py-3 px-4 rounded text-sm tracking-wide uppercase hover:bg-yellow-400 transition-all transform active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed font-mono shadow-[0_0_15px_rgba(255,215,0,0.1)] hover:shadow-[0_0_25px_rgba(255,215,0,0.25)] flex items-center justify-center gap-2 group mt-4",children:D?d.jsx("span",{className:"animate-pulse",children:"INITIALIZING..."}):d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"CREATE_ACCOUNT"}),d.jsx("span",{className:"group-hover:translate-x-1 transition-transform",children:"->"})]})})]}),n==="setup-otp"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center bg-zinc-900/50 p-4 rounded border border-zinc-800",children:[d.jsx("div",{className:"text-xs font-mono text-zinc-400 mb-2",children:"SCAN_QR_CODE_SEQUENCE"}),T?d.jsx("div",{className:"bg-white p-2 rounded inline-block shadow-[0_0_30px_rgba(255,255,255,0.1)]",children:d.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(`otpauth://totp/NoFX:${s}?secret=${E}&issuer=NoFX`)}`,alt:"QR Code",className:"w-32 h-32"})}):d.jsx("div",{className:"w-32 h-32 bg-zinc-800 animate-pulse rounded inline-block"}),d.jsxs("div",{className:"mt-4",children:[d.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-widest mb-1",children:"Backup Secret Key"}),d.jsxs("div",{className:"flex items-center gap-2 justify-center bg-black/50 p-2 rounded border border-zinc-700/50 max-w-[200px] mx-auto",children:[d.jsx("code",{className:"text-xs font-mono text-nofx-gold",children:E}),d.jsx("button",{onClick:()=>F(E),className:"text-zinc-500 hover:text-white transition-colors",children:d.jsx("span",{className:"text-[10px] uppercase border border-zinc-700 px-1 rounded",children:"Copy"})})]})]})]}),d.jsxs("div",{className:"space-y-4 font-mono text-xs text-zinc-400 bg-black/20 p-4 rounded border border-zinc-800/50",children:[d.jsxs("div",{className:"flex gap-3 items-start",children:[d.jsx("span",{className:"text-nofx-gold font-bold mt-0.5",children:"01"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-white mb-1",children:"Install Authenticator App"}),d.jsxs("p",{className:"mb-2",children:["We highly recommend"," ",d.jsx("span",{className:"text-nofx-gold",children:"Google Authenticator"})," ","for compatibility."]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"px-1.5 py-0.5 bg-zinc-800 rounded text-[10px] text-zinc-300 border border-zinc-700",children:"iOS"}),d.jsx("span",{className:"px-1.5 py-0.5 bg-zinc-800 rounded text-[10px] text-zinc-300 border border-zinc-700",children:"Android"})]})]})]}),d.jsx("div",{className:"w-full h-px bg-zinc-800/50"}),d.jsxs("div",{className:"flex gap-3 items-start",children:[d.jsx("span",{className:"text-nofx-gold font-bold mt-0.5",children:"02"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-white mb-1",children:"Scan QR Code"}),d.jsxs("p",{children:["Open Google Authenticator, tap the"," ",d.jsx("span",{className:"text-white",children:"+"})," button, and scan the code above."]}),d.jsx("p",{className:"text-[10px] text-zinc-500 mt-1 italic",children:"Protocol: Time-Based OTP (TOTP)"})]})]}),d.jsx("div",{className:"w-full h-px bg-zinc-800/50"}),d.jsxs("div",{className:"flex gap-3 items-start",children:[d.jsx("span",{className:"text-nofx-gold font-bold mt-0.5",children:"03"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-white mb-1",children:"Verify Token"}),d.jsx("p",{children:"Enter the 6-digit code generated by the app."}),d.jsxs("div",{className:"mt-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded text-[10px] text-yellow-500/80 flex gap-2 items-start",children:[d.jsx("span",{className:"mt-px",children:""}),d.jsx("span",{children:`Stuck? Ensure your phone's time is set to "Automatic". Time drift causes codes to fail.`})]})]})]})]}),d.jsx("button",{onClick:ie,className:"w-full bg-nofx-gold text-black font-bold py-3 px-4 rounded text-sm tracking-wide uppercase hover:bg-yellow-400 transition-colors font-mono shadow-lg",children:"PROCEED TO VERIFICATION"})]}),n==="verify-otp"&&d.jsxs("form",{onSubmit:G,className:"space-y-6",children:[d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-zinc-400 font-mono mb-6",children:"ENTER 6-DIGIT SECURITY TOKEN TO FINALIZE ONBOARDING"})}),d.jsx("div",{children:d.jsx("input",{type:"text",value:S,onChange:Q=>N(Q.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full bg-black border border-zinc-700 rounded px-4 py-4 text-center text-3xl tracking-[0.5em] font-mono text-white focus:border-nofx-gold focus:ring-1 focus:ring-nofx-gold/50 outline-none transition-all placeholder-zinc-800",placeholder:"000000",maxLength:6,required:!0,autoFocus:!0})}),I&&d.jsxs("div",{className:"text-xs bg-red-500/10 border border-red-500/30 text-red-500 px-3 py-2 rounded font-mono text-center",children:["[VERIFICATION_FAILED]: ",I]}),d.jsx("button",{type:"submit",disabled:D||S.length!==6,className:"w-full bg-nofx-gold text-black font-bold py-3 px-4 rounded text-sm tracking-wide uppercase hover:bg-yellow-400 transition-colors font-mono shadow-lg disabled:opacity-50",children:D?"VALIDATING...":"ACTIVATE ACCOUNT"})]})]}),d.jsxs("div",{className:"bg-zinc-900/50 p-3 flex justify-between items-center text-[10px] font-mono text-zinc-600 border-t border-zinc-800",children:[d.jsx("div",{children:"ENCRYPTION: AES-256"}),d.jsx("div",{children:"SECURE_REGISTRY"})]})]}),n==="register"&&d.jsxs("div",{className:"text-center mt-8 space-y-4",children:[d.jsxs("p",{className:"text-xs font-mono text-zinc-500",children:["EXISTING_OPERATOR?"," ",d.jsx("button",{onClick:()=>window.location.href="/login",className:"text-nofx-gold hover:underline hover:text-yellow-300 transition-colors ml-1 uppercase",children:"ACCESS TERMINAL"})]}),d.jsx("button",{onClick:()=>window.location.href="/",className:"text-[10px] text-zinc-600 hover:text-red-500 transition-colors uppercase tracking-widest hover:underline decoration-red-500/30 font-mono",children:"[ ABORT_REGISTRATION_RETURN_HOME ]"})]})]})})}function v4e({children:t,className:e="",as:r="div",style:n,fluid:i=!1,noPadding:s=!1,maxWidthClass:a="max-w-[1920px]"}){const o=i?"w-full":a,l=s?"px-0":"px-6 sm:px-8 lg:px-12";return d.jsx(r,{className:`${o} mx-auto ${l} ${e}`,style:n,children:t})}function y4e({simple:t=!1}){const{language:e,setLanguage:r}=bi();return d.jsx("header",{className:"glass sticky top-0 z-50 backdrop-blur-xl",children:d.jsx(v4e,{className:"py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-center justify-center",children:d.jsx("img",{src:"/icons/nofx.svg",alt:"NoFx Logo",className:"w-8 h-8"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold",style:{color:"#EAECEF"},children:de("appTitle",e)}),!t&&d.jsx("p",{className:"text-xs mono",style:{color:"#848E9C"},children:de("subtitle",e)})]})]}),d.jsxs("div",{className:"flex gap-1 rounded p-1",style:{background:"#1E2329"},children:[d.jsx("button",{onClick:()=>r("zh"),className:"px-3 py-1.5 rounded text-xs font-semibold transition-all",style:e==="zh"?{background:"#F0B90B",color:"#000"}:{background:"transparent",color:"#848E9C"},children:""}),d.jsx("button",{onClick:()=>r("en"),className:"px-3 py-1.5 rounded text-xs font-semibold transition-all",style:e==="en"?{background:"#F0B90B",color:"#000"}:{background:"transparent",color:"#848E9C"},children:"EN"})]})]})})})}const x4e=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},b4e=(t,e)=>({classGroupId:t,validator:e}),Gq=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),lv="-",ZR=[],w4e="arbitrary..",S4e=t=>{const e=N4e(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return _4e(a);const o=a.split(lv),l=o[0]===""&&o.length>1?1:0;return Xq(o,l,e)},getConflictingClassGroupIds:(a,o)=>{if(o){const l=n[a],u=r[a];return l?u?x4e(u,l):l:u||ZR}return r[a]||ZR}}},Xq=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const i=t[e],s=r.nextPart.get(i);if(s){const u=Xq(t,e+1,s);if(u)return u}const a=r.validators;if(a===null)return;const o=e===0?t.join(lv):t.slice(e).join(lv),l=a.length;for(let u=0;u<l;u++){const f=a[u];if(f.validator(o))return f.classGroupId}},_4e=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?w4e+n:void 0})(),N4e=t=>{const{theme:e,classGroups:r}=t;return A4e(r,e)},A4e=(t,e)=>{const r=Gq();for(const n in t){const i=t[n];T7(i,r,n,e)}return r},T7=(t,e,r,n)=>{const i=t.length;for(let s=0;s<i;s++){const a=t[s];E4e(a,e,r,n)}},E4e=(t,e,r,n)=>{if(typeof t=="string"){C4e(t,e,r);return}if(typeof t=="function"){k4e(t,e,r,n);return}j4e(t,e,r,n)},C4e=(t,e,r)=>{const n=t===""?e:Yq(e,t);n.classGroupId=r},k4e=(t,e,r,n)=>{if(P4e(t)){T7(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(b4e(r,t))},j4e=(t,e,r,n)=>{const i=Object.entries(t),s=i.length;for(let a=0;a<s;a++){const[o,l]=i[a];T7(l,Yq(e,o),r,n)}},Yq=(t,e)=>{let r=t;const n=e.split(lv),i=n.length;for(let s=0;s<i;s++){const a=n[s];let o=r.nextPart.get(a);o||(o=Gq(),r.nextPart.set(a,o)),r=o}return r},P4e=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,T4e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const i=(s,a)=>{r[s]=a,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(s){let a=r[s];if(a!==void 0)return a;if((a=n[s])!==void 0)return i(s,a),a},set(s,a){s in r?r[s]=a:i(s,a)}}},e6="!",eI=":",M4e=[],tI=(t,e,r,n,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:i}),O4e=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const s=[];let a=0,o=0,l=0,u;const f=i.length;for(let x=0;x<f;x++){const b=i[x];if(a===0&&o===0){if(b===eI){s.push(i.slice(l,x)),l=x+1;continue}if(b==="/"){u=x;continue}}b==="["?a++:b==="]"?a--:b==="("?o++:b===")"&&o--}const p=s.length===0?i:i.slice(l);let m=p,v=!1;p.endsWith(e6)?(m=p.slice(0,-1),v=!0):p.startsWith(e6)&&(m=p.slice(1),v=!0);const y=u&&u>l?u-l:void 0;return tI(s,v,m,y)};if(e){const i=e+eI,s=n;n=a=>a.startsWith(i)?s(a.slice(i.length)):tI(M4e,!1,a,void 0,!0)}if(r){const i=n;n=s=>r({className:s,parseClassName:i})}return n},R4e=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let i=[];for(let s=0;s<r.length;s++){const a=r[s],o=a[0]==="[",l=e.has(a);o||l?(i.length>0&&(i.sort(),n.push(...i),i=[]),n.push(a)):i.push(a)}return i.length>0&&(i.sort(),n.push(...i)),n}},I4e=t=>({cache:T4e(t.cacheSize),parseClassName:O4e(t),sortModifiers:R4e(t),...S4e(t)}),D4e=/\s+/,L4e=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=t.trim().split(D4e);let l="";for(let u=o.length-1;u>=0;u-=1){const f=o[u],{isExternal:p,modifiers:m,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}=r(f);if(p){l=f+(l.length>0?" "+l:l);continue}let b=!!x,S=n(b?y.substring(0,x):y);if(!S){if(!b){l=f+(l.length>0?" "+l:l);continue}if(S=n(y),!S){l=f+(l.length>0?" "+l:l);continue}b=!1}const N=m.length===0?"":m.length===1?m[0]:s(m).join(":"),A=v?N+e6:N,k=A+S;if(a.indexOf(k)>-1)continue;a.push(k);const E=i(S,b);for(let j=0;j<E.length;++j){const T=E[j];a.push(A+T)}l=f+(l.length>0?" "+l:l)}return l},z4e=(...t)=>{let e=0,r,n,i="";for(;e<t.length;)(r=t[e++])&&(n=Jq(r))&&(i&&(i+=" "),i+=n);return i},Jq=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Jq(t[n]))&&(r&&(r+=" "),r+=e);return r},F4e=(t,...e)=>{let r,n,i,s;const a=l=>{const u=e.reduce((f,p)=>p(f),t());return r=I4e(u),n=r.cache.get,i=r.cache.set,s=o,o(l)},o=l=>{const u=n(l);if(u)return u;const f=L4e(l,r);return i(l,f),f};return s=a,(...l)=>s(z4e(...l))},B4e=[],Jr=t=>{const e=r=>r[t]||B4e;return e.isThemeGetter=!0,e},Qq=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Zq=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$4e=/^\d+\/\d+$/,q4e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U4e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,V4e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,W4e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H4e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cu=t=>$4e.test(t),jt=t=>!!t&&!Number.isNaN(Number(t)),Lo=t=>!!t&&Number.isInteger(Number(t)),y5=t=>t.endsWith("%")&&jt(t.slice(0,-1)),Pa=t=>q4e.test(t),K4e=()=>!0,G4e=t=>U4e.test(t)&&!V4e.test(t),eU=()=>!1,X4e=t=>W4e.test(t),Y4e=t=>H4e.test(t),J4e=t=>!rt(t)&&!nt(t),Q4e=t=>zd(t,nU,eU),rt=t=>Qq.test(t),Fl=t=>zd(t,iU,G4e),x5=t=>zd(t,n5e,jt),rI=t=>zd(t,tU,eU),Z4e=t=>zd(t,rU,Y4e),xm=t=>zd(t,sU,X4e),nt=t=>Zq.test(t),Rh=t=>Fd(t,iU),e5e=t=>Fd(t,i5e),nI=t=>Fd(t,tU),t5e=t=>Fd(t,nU),r5e=t=>Fd(t,rU),bm=t=>Fd(t,sU,!0),zd=(t,e,r)=>{const n=Qq.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},Fd=(t,e,r=!1)=>{const n=Zq.exec(t);return n?n[1]?e(n[1]):r:!1},tU=t=>t==="position"||t==="percentage",rU=t=>t==="image"||t==="url",nU=t=>t==="length"||t==="size"||t==="bg-size",iU=t=>t==="length",n5e=t=>t==="number",i5e=t=>t==="family-name",sU=t=>t==="shadow",s5e=()=>{const t=Jr("color"),e=Jr("font"),r=Jr("text"),n=Jr("font-weight"),i=Jr("tracking"),s=Jr("leading"),a=Jr("breakpoint"),o=Jr("container"),l=Jr("spacing"),u=Jr("radius"),f=Jr("shadow"),p=Jr("inset-shadow"),m=Jr("text-shadow"),v=Jr("drop-shadow"),y=Jr("blur"),x=Jr("perspective"),b=Jr("aspect"),S=Jr("ease"),N=Jr("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...k(),nt,rt],j=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],M=()=>[nt,rt,l],I=()=>[cu,"full","auto",...M()],q=()=>[Lo,"none","subgrid",nt,rt],D=()=>["auto",{span:["full",Lo,nt,rt]},Lo,nt,rt],L=()=>[Lo,"auto",nt,rt],V=()=>["auto","min","max","fr",nt,rt],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...M()],te=()=>[cu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],U=()=>[t,nt,rt],X=()=>[...k(),nI,rI,{position:[nt,rt]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",t5e,Q4e,{size:[nt,rt]}],F=()=>[y5,Rh,Fl],Q=()=>["","none","full",u,nt,rt],le=()=>["",jt,Rh,Fl],xe=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[jt,y5,nI,rI],we=()=>["","none",y,nt,rt],fe=()=>["none",jt,nt,rt],Se=()=>["none",jt,nt,rt],Pe=()=>[jt,nt,rt],he=()=>[cu,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pa],breakpoint:[Pa],color:[K4e],container:[Pa],"drop-shadow":[Pa],ease:["in","out","in-out"],font:[J4e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pa],shadow:[Pa],spacing:["px",jt],text:[Pa],"text-shadow":[Pa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",cu,rt,nt,b]}],container:["container"],columns:[{columns:[jt,rt,nt,o]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Lo,"auto",nt,rt]}],basis:[{basis:[cu,"full","auto",o,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[jt,cu,"auto","initial","none",rt]}],grow:[{grow:["",jt,nt,rt]}],shrink:[{shrink:["",jt,nt,rt]}],order:[{order:[Lo,"first","last","none",nt,rt]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[o,"screen",...te()]}],"min-w":[{"min-w":[o,"screen","none",...te()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",r,Rh,Fl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,nt,x5]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",y5,rt]}],"font-family":[{font:[e5e,rt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,nt,rt]}],"line-clamp":[{"line-clamp":[jt,"none",nt,x5]}],leading:[{leading:[s,...M()]}],"list-image":[{"list-image":["none",nt,rt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",nt,rt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[jt,"from-font","auto",nt,Fl]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[jt,"auto",nt,rt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt,rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt,rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Lo,nt,rt],radial:["",nt,rt],conic:[Lo,nt,rt]},r5e,Z4e]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[jt,nt,rt]}],"outline-w":[{outline:["",jt,Rh,Fl]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",f,bm,xm]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",p,bm,xm]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[jt,Fl]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",m,bm,xm]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[jt,nt,rt]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[jt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[nt,rt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[jt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",nt,rt]}],filter:[{filter:["","none",nt,rt]}],blur:[{blur:we()}],brightness:[{brightness:[jt,nt,rt]}],contrast:[{contrast:[jt,nt,rt]}],"drop-shadow":[{"drop-shadow":["","none",v,bm,xm]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",jt,nt,rt]}],"hue-rotate":[{"hue-rotate":[jt,nt,rt]}],invert:[{invert:["",jt,nt,rt]}],saturate:[{saturate:[jt,nt,rt]}],sepia:[{sepia:["",jt,nt,rt]}],"backdrop-filter":[{"backdrop-filter":["","none",nt,rt]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[jt,nt,rt]}],"backdrop-contrast":[{"backdrop-contrast":[jt,nt,rt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",jt,nt,rt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[jt,nt,rt]}],"backdrop-invert":[{"backdrop-invert":["",jt,nt,rt]}],"backdrop-opacity":[{"backdrop-opacity":[jt,nt,rt]}],"backdrop-saturate":[{"backdrop-saturate":[jt,nt,rt]}],"backdrop-sepia":[{"backdrop-sepia":["",jt,nt,rt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",nt,rt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[jt,"initial",nt,rt]}],ease:[{ease:["linear","initial",S,nt,rt]}],delay:[{delay:[jt,nt,rt]}],animate:[{animate:["none",N,nt,rt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,nt,rt]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[nt,rt,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:he()}],"translate-x":[{"translate-x":he()}],"translate-y":[{"translate-y":he()}],"translate-z":[{"translate-z":he()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt,rt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt,rt]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[jt,Rh,Fl,x5]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},a5e=F4e(s5e);function dl(...t){return a5e(Mt(t))}const $m=_.forwardRef(({className:t,type:e="text",...r},n)=>d.jsx("input",{ref:n,type:e,className:dl("flex h-10 w-full rounded px-3 py-2 text-sm","bg-[var(--brand-black)] border border-[var(--panel-border)]","text-[var(--brand-light-gray)] focus:outline-none",t),...r}));$m.displayName="Input";function o5e(){const{language:t}=bi(),{resetPassword:e}=x1(),[r,n]=_.useState(""),[i,s]=_.useState(""),[a,o]=_.useState(""),[l,u]=_.useState(""),[f,p]=_.useState(""),[m,v]=_.useState(!1),[y,x]=_.useState(!1),[b,S]=_.useState(!1),[N,A]=_.useState(!1),[k,E]=_.useState(!1),j=async T=>{if(T.preventDefault(),p(""),v(!1),i!==a){p(de("passwordMismatch",t));return}x(!0);const M=await e(r,i,l);if(M.success)v(!0),Wt.success(de("resetPasswordSuccess",t)||""),setTimeout(()=>{window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))},3e3);else{const I=M.message||de("resetPasswordFailed",t);p(I),Wt.error(I)}x(!1)};return d.jsxs("div",{className:"min-h-screen",style:{background:"#0B0E11"},children:[d.jsx(y4e,{simple:!0}),d.jsx("div",{className:"flex items-center justify-center",style:{minHeight:"calc(100vh - 80px)"},children:d.jsxs("div",{className:"w-full max-w-md",children:[d.jsxs("button",{onClick:()=>{window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))},className:"flex items-center gap-2 mb-6 text-sm hover:text-[#F0B90B] transition-colors",style:{color:"#848E9C"},children:[d.jsx(W$,{className:"w-4 h-4"}),de("backToLogin",t)]}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full",style:{background:"rgba(240, 185, 11, 0.1)"},children:d.jsx(dxe,{className:"w-8 h-8",style:{color:"#F0B90B"}})}),d.jsx("h1",{className:"text-2xl font-bold",style:{color:"#EAECEF"},children:de("resetPasswordTitle",t)}),d.jsx("p",{className:"text-sm mt-2",style:{color:"#848E9C"},children:" Google Authenticator "})]}),d.jsx("div",{className:"rounded-lg p-6",style:{background:"#1E2329",border:"1px solid #2B3139"},children:m?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("div",{className:"text-5xl mb-4",children:""}),d.jsx("p",{className:"text-lg font-semibold mb-2",style:{color:"#EAECEF"},children:de("resetPasswordSuccess",t)}),d.jsx("p",{className:"text-sm",style:{color:"#848E9C"},children:"3..."})]}):d.jsxs("form",{onSubmit:j,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"#EAECEF"},children:de("email",t)}),d.jsx($m,{type:"email",value:r,onChange:T=>n(T.target.value),placeholder:de("emailPlaceholder",t),required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"#EAECEF"},children:de("newPassword",t)}),d.jsxs("div",{className:"relative",children:[d.jsx($m,{type:b?"text":"password",value:i,onChange:T=>s(T.target.value),className:"pr-10",placeholder:de("newPasswordPlaceholder",t),required:!0}),d.jsx("button",{type:"button",onMouseDown:T=>T.preventDefault(),onClick:()=>S(!b),className:"absolute inset-y-0 right-2 w-8 h-10 flex items-center justify-center btn-icon",style:{color:"var(--text-secondary)"},children:b?d.jsx(Qf,{className:"w-5 h-5"}):d.jsx(Zf,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"#EAECEF"},children:de("confirmPassword",t)}),d.jsxs("div",{className:"relative",children:[d.jsx($m,{type:N?"text":"password",value:a,onChange:T=>o(T.target.value),className:"pr-10",placeholder:de("confirmPasswordPlaceholder",t),required:!0}),d.jsx("button",{type:"button",onMouseDown:T=>T.preventDefault(),onClick:()=>A(!N),className:"absolute inset-y-0 right-2 w-8 h-10 flex items-center justify-center btn-icon",style:{color:"var(--text-secondary)"},children:N?d.jsx(Qf,{className:"w-5 h-5"}):d.jsx(Zf,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"mt-1 text-xs",style:{color:"var(--text-secondary)"},children:[d.jsx("div",{className:"mb-1",style:{color:"var(--brand-light-gray)"},children:de("passwordRequirements",t)}),d.jsx(Kq,{rules:["minLength","capital","lowercase","number","specialChar","match"],minLength:8,value:i,valueAgain:a,messages:{minLength:de("passwordRuleMinLength",t),capital:de("passwordRuleUppercase",t),lowercase:de("passwordRuleLowercase",t),number:de("passwordRuleNumber",t),specialChar:de("passwordRuleSpecial",t),match:de("passwordRuleMatch",t)},className:"space-y-1",onChange:T=>E(T)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"#EAECEF"},children:de("otpCode",t)}),d.jsxs("div",{className:"text-center mb-3",children:[d.jsx("div",{className:"text-3xl",children:""}),d.jsx("p",{className:"text-xs mt-1",style:{color:"#848E9C"},children:" Google Authenticator 6"})]}),d.jsx("input",{type:"text",value:l,onChange:T=>u(T.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-3 py-2 rounded text-center text-2xl font-mono",style:{background:"#0B0E11",border:"1px solid #2B3139",color:"#EAECEF"},placeholder:de("otpPlaceholder",t),maxLength:6,required:!0})]}),f&&d.jsx("div",{className:"text-sm px-3 py-2 rounded",style:{background:"rgba(246, 70, 93, 0.1)",color:"#F6465D"},children:f}),d.jsx("button",{type:"submit",disabled:y||l.length!==6||!k,className:"w-full px-4 py-2 rounded text-sm font-semibold transition-all hover:scale-105 disabled:opacity-50",style:{background:"#F0B90B",color:"#000"},children:de(y?"loading":"resetPasswordButton",t)})]})})]})})]})}const b5=["#60a5fa","#c084fc","#34d399","#fb923c","#f472b6","#fbbf24","#38bdf8","#a78bfa","#4ade80","#fb7185"];function t6(t,e){const r=t.findIndex(n=>n.trader_id===e);return r===-1?b5[0]:b5[r%b5.length]}const iI=[{key:"1d",hours:24,label:{en:"1D",zh:"1"}},{key:"3d",hours:72,label:{en:"3D",zh:"3"}},{key:"7d",hours:168,label:{en:"7D",zh:"7"}},{key:"30d",hours:720,label:{en:"30D",zh:"30"}},{key:"all",hours:0,label:{en:"All",zh:""}}];function l5e({traders:t}){var N;const{language:e}=bi(),[r,n]=_.useState("7d"),i=((N=iI.find(A=>A.key===r))==null?void 0:N.hours)||0,s=t.map(A=>A.trader_id).sort().join(","),{data:a,isLoading:o}=qr(t.length>0?`equity-histories-${s}-${i}`:null,async()=>{const A=t.map(E=>E.trader_id),k=await It.getEquityHistoryBatch(A,i);return t.map(E=>{var T;const j=((T=k.histories)==null?void 0:T[E.trader_id])||[];if(j.length>0&&j[0].total_pnl_pct===void 0){const M=j[0].total_equity;j.forEach(I=>{I.total_pnl_pct=M>0?(I.total_equity-M)/M*100:0})}return j})},{refreshInterval:3e4,revalidateOnFocus:!1,dedupingInterval:0,keepPreviousData:!1}),l=_.useMemo(()=>a?a.map(A=>({data:A})):t.map(()=>({data:void 0})),[a,t.length]),u=_.useMemo(()=>{if(!l.every(I=>I.data))return[];const k=new Map,E=I=>{const q=new Date(I);return q.setSeconds(0,0),q.toISOString()};l.forEach((I,q)=>{const D=t[q];I.data&&I.data.forEach(L=>{const V=E(L.timestamp);if(!k.has(V)){const Y=new Date(V);let J;i<=24?J=Y.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):i<=72?J=`${Y.getMonth()+1}/${Y.getDate()} ${Y.getHours().toString().padStart(2,"0")}:${Y.getMinutes().toString().padStart(2,"0")}`:J=`${Y.getMonth()+1}/${Y.getDate()}`,k.set(V,{timestamp:V,time:J,traders:new Map})}const K=k.get(V).traders.get(D.trader_id);(!K||new Date(L.timestamp)>new Date(K.originalTs||""))&&k.get(V).traders.set(D.trader_id,{pnl_pct:L.total_pnl_pct||0,equity:L.total_equity,originalTs:L.timestamp})})});const j=Array.from(k.entries()).sort(([I],[q])=>new Date(I).getTime()-new Date(q).getTime()),T=new Map;return j.map(([I,q],D)=>{const L={index:D+1,time:q.time,timestamp:I};return t.forEach(V=>{const K=q.traders.get(V.trader_id);if(K)T.set(V.trader_id,{pnl_pct:K.pnl_pct,equity:K.equity}),L[`${V.trader_id}_pnl_pct`]=K.pnl_pct,L[`${V.trader_id}_equity`]=K.equity;else{const Y=T.get(V.trader_id);Y&&(L[`${V.trader_id}_pnl_pct`]=Y.pnl_pct,L[`${V.trader_id}_equity`]=Y.equity)}}),L})},[a,t,i]),f=A=>t6(t,A);if(o)return d.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin",style:{borderColor:"#F0B90B",borderTopColor:"transparent"}}),d.jsx(qS,{className:"w-6 h-6 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",style:{color:"#F0B90B"}})]}),d.jsx("div",{className:"text-sm mt-4 font-medium",style:{color:"#848E9C"},children:de("loadingChartData",e)||"Loading chart data..."})]});if(u.length===0)return d.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[d.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center mb-4",style:{background:"rgba(240, 185, 11, 0.1)"},children:d.jsx(s7,{className:"w-10 h-10",style:{color:"#F0B90B",opacity:.6}})}),d.jsx("div",{className:"text-lg font-bold mb-2",style:{color:"#EAECEF"},children:de("noHistoricalData",e)}),d.jsx("div",{className:"text-sm text-center max-w-xs",style:{color:"#848E9C"},children:de("dataWillAppear",e)})]});const p=500,m=u.length>p?u.slice(-p):u,v=()=>{const A=[];if(m.forEach(M=>{t.forEach(I=>{const q=M[`${I.trader_id}_pnl_pct`];q!==void 0&&!isNaN(q)&&A.push(q)})}),A.length===0)return[-2,2];const k=Math.min(...A),E=Math.max(...A),j=E-k,T=Math.max(j*.2,2);return[Math.floor((k-T)*10)/10,Math.ceil((E+T)*10)/10]},y=({active:A,payload:k})=>{if(A&&k&&k.length){const E=k[0].payload,T=new Date(E.timestamp).toLocaleDateString("zh-CN",{month:"short",day:"numeric"});return d.jsxs("div",{className:"rounded-xl p-4 shadow-2xl backdrop-blur-sm",style:{background:"rgba(30, 35, 41, 0.95)",border:"1px solid rgba(240, 185, 11, 0.2)",minWidth:"200px"},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2",style:{borderBottom:"1px solid #2B3139"},children:[d.jsx(Jxe,{className:"w-3.5 h-3.5",style:{color:"#F0B90B"}}),d.jsxs("span",{className:"text-xs font-medium",style:{color:"#F0B90B"},children:[T," ",E.time]})]}),d.jsx("div",{className:"space-y-2.5",children:t.map(M=>{const I=E[`${M.trader_id}_pnl_pct`],q=E[`${M.trader_id}_equity`];if(I===void 0)return null;const D=I>=0;return d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{background:f(M.trader_id)}}),d.jsx("span",{className:"text-xs font-medium truncate max-w-[100px]",style:{color:"#EAECEF"},children:M.trader_name})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-sm font-bold mono flex items-center gap-1",style:{color:D?"#0ECB81":"#F6465D"},children:[D?d.jsx(qS,{className:"w-3 h-3"}):d.jsx(H$,{className:"w-3 h-3"}),D?"+":"",I.toFixed(2),"%"]}),d.jsxs("div",{className:"text-[10px] mono",style:{color:"#5E6673"},children:["$",q==null?void 0:q.toFixed(2)]})]})]},M.trader_id)})})]})}return null},x=t.map(A=>{var j,T;let k=0,E=0;for(let M=m.length-1;M>=0;M--){const I=(j=m[M])==null?void 0:j[`${A.trader_id}_pnl_pct`];if(I!==void 0){k=I,E=((T=m[M])==null?void 0:T[`${A.trader_id}_equity`])||0;break}}return{...A,currentPnl:k,currentEquity:E}}).sort((A,k)=>k.currentPnl-A.currentPnl),b=x[0],S=x.length>1?Math.abs(x[0].currentPnl-x[1].currentPnl).toFixed(2):"0.00";return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[d.jsx("div",{className:"flex items-center gap-1",children:iI.map(A=>d.jsx("button",{onClick:()=>n(A.key),className:"px-3 py-1.5 text-xs font-medium rounded-lg transition-all",style:{background:r===A.key?"rgba(240, 185, 11, 0.2)":"rgba(43, 49, 57, 0.5)",color:r===A.key?"#F0B90B":"#848E9C",border:`1px solid ${r===A.key?"rgba(240, 185, 11, 0.4)":"#2B3139"}`},children:e==="zh"?A.label.zh:A.label.en},A.key))}),d.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:x.slice(0,3).map((A,k)=>d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full transition-all hover:scale-105",style:{background:k===0?"rgba(240, 185, 11, 0.15)":"rgba(43, 49, 57, 0.5)",border:`1px solid ${k===0?"rgba(240, 185, 11, 0.3)":"#2B3139"}`},children:[d.jsx("div",{className:"w-2 h-2 rounded-full",style:{background:f(A.trader_id)}}),d.jsx("span",{className:"text-xs font-medium truncate max-w-[80px]",style:{color:"#EAECEF"},children:A.trader_name}),d.jsxs("span",{className:"text-xs font-bold mono",style:{color:A.currentPnl>=0?"#0ECB81":"#F6465D"},children:[A.currentPnl>=0?"+":"",A.currentPnl.toFixed(2),"%"]})]},A.trader_id))})]}),d.jsxs("div",{className:"relative rounded-xl overflow-hidden",style:{background:"linear-gradient(180deg, rgba(11, 14, 17, 0.8) 0%, rgba(11, 14, 17, 1) 100%)"},children:[d.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"80px",fontWeight:"bold",color:"rgba(240, 185, 11, 0.03)",zIndex:1,pointerEvents:"none",fontFamily:"monospace",letterSpacing:"0.1em"},children:"NOFX"}),d.jsx(EF,{width:"100%",height:420,children:d.jsxs(Fye,{data:m,margin:{top:20,right:20,left:10,bottom:20},children:[d.jsxs("defs",{children:[t.map(A=>d.jsxs("linearGradient",{id:`area-gradient-${A.trader_id}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:f(A.trader_id),stopOpacity:.3}),d.jsx("stop",{offset:"100%",stopColor:f(A.trader_id),stopOpacity:0})]},`area-gradient-${A.trader_id}`)),d.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[d.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),d.jsx(i7,{strokeDasharray:"3 3",stroke:"#1E2329",vertical:!1}),d.jsx(Rd,{dataKey:"time",stroke:"#2B3139",tick:{fill:"#5E6673",fontSize:10},tickLine:!1,axisLine:{stroke:"#2B3139"},interval:Math.max(Math.floor(m.length/8),1)}),d.jsx(Id,{stroke:"#2B3139",tick:{fill:"#5E6673",fontSize:10},tickLine:!1,axisLine:!1,domain:v(),tickFormatter:A=>`${A.toFixed(1)}%`,width:50}),d.jsx(Cs,{content:d.jsx(y,{})}),d.jsx(N0,{y:0,stroke:"#474D57",strokeDasharray:"8 4",strokeWidth:1}),t.slice(0,2).map(A=>d.jsx(cl,{type:"monotone",dataKey:`${A.trader_id}_pnl_pct`,fill:`url(#area-gradient-${A.trader_id})`,stroke:"none",connectNulls:!0},`area-${A.trader_id}`)),t.map((A,k)=>d.jsx(Nc,{type:"monotone",dataKey:`${A.trader_id}_pnl_pct`,stroke:f(A.trader_id),strokeWidth:k===0?3:2,dot:!1,activeDot:{r:6,fill:f(A.trader_id),stroke:"#0B0E11",strokeWidth:2,filter:"url(#glow)"},name:A.trader_name,connectNulls:!0,style:{filter:k===0?"url(#glow)":void 0}},A.trader_id)),d.jsx(rc,{wrapperStyle:{paddingTop:"16px"},content:({payload:A})=>{const k=(A==null?void 0:A.filter(E=>E.value&&!E.value.includes("_pnl_pct")))||[];return d.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"20px",flexWrap:"wrap"},children:k.map((E,j)=>{const T=t.find(q=>q.trader_name===E.value),M=x.find(q=>q.trader_id===(T==null?void 0:T.trader_id)),I=(M==null?void 0:M.currentPnl)||0;return d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[d.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:E.color}}),d.jsxs("span",{style:{color:"#EAECEF",fontSize:"12px",fontWeight:500},children:[E.value,d.jsxs("span",{style:{color:I>=0?"#0ECB81":"#F6465D",marginLeft:"6px",fontFamily:"monospace"},children:["(",I>=0?"+":"",I.toFixed(2),"%)"]})]})]},`legend-${j}`)})})}})]})})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[d.jsxs("div",{className:"p-3 rounded-lg text-center",style:{background:"rgba(240, 185, 11, 0.05)",border:"1px solid rgba(240, 185, 11, 0.1)"},children:[d.jsx("div",{className:"text-[10px] uppercase tracking-wider mb-1",style:{color:"#848E9C"},children:de("leader",e)}),d.jsx("div",{className:"text-sm font-bold truncate",style:{color:"#F0B90B"},children:(b==null?void 0:b.trader_name)||"-"})]}),d.jsxs("div",{className:"p-3 rounded-lg text-center",style:{background:"rgba(14, 203, 129, 0.05)"},children:[d.jsx("div",{className:"text-[10px] uppercase tracking-wider mb-1",style:{color:"#848E9C"},children:de("leadPnL",e)||"Lead PnL"}),d.jsxs("div",{className:"text-sm font-bold mono",style:{color:((b==null?void 0:b.currentPnl)||0)>=0?"#0ECB81":"#F6465D"},children:[((b==null?void 0:b.currentPnl)||0)>=0?"+":"",((b==null?void 0:b.currentPnl)||0).toFixed(2),"%"]})]}),d.jsxs("div",{className:"p-3 rounded-lg text-center",style:{background:"rgba(96, 165, 250, 0.05)"},children:[d.jsx("div",{className:"text-[10px] uppercase tracking-wider mb-1",style:{color:"#848E9C"},children:de("currentGap",e)}),d.jsxs("div",{className:"text-sm font-bold mono",style:{color:"#60a5fa"},children:[S,"%"]})]}),d.jsxs("div",{className:"p-3 rounded-lg text-center",style:{background:"rgba(139, 92, 246, 0.05)"},children:[d.jsx("div",{className:"text-[10px] uppercase tracking-wider mb-1",style:{color:"#848E9C"},children:de("dataPoints",e)}),d.jsx("div",{className:"text-sm font-bold mono",style:{color:"#8b5cf6"},children:m.length})]})]})]})}function c5e(){var s,a,o,l,u,f;const{language:t}=bi(),{data:e}=qr("competition",It.getCompetition,{refreshInterval:15e3,revalidateOnFocus:!1,dedupingInterval:1e4});if(!e)return d.jsx(Wa,{className:"py-8",disableAnimation:!0,children:d.jsx("div",{className:"container mx-auto max-w-7xl px-4 md:px-8","data-testid":"page-leaderboard",children:d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"animate-pulse bg-black/40 border border-white/10 rounded-xl p-8 backdrop-blur-md",children:d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"space-y-3 flex-1",children:[d.jsx("div",{className:"h-8 w-64 bg-white/5 rounded"}),d.jsx("div",{className:"h-4 w-48 bg-white/5 rounded"})]}),d.jsx("div",{className:"h-12 w-32 bg-white/5 rounded"})]})}),d.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-6 backdrop-blur-md",children:[d.jsx("div",{className:"h-6 w-40 mb-4 bg-white/5 rounded"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"h-20 w-full bg-white/5 rounded"}),d.jsx("div",{className:"h-20 w-full bg-white/5 rounded"})]})]})]})})});if(!e.traders||e.traders.length===0)return d.jsx(Wa,{className:"py-8",disableAnimation:!0,children:d.jsxs("div",{className:"container mx-auto max-w-7xl px-4 md:px-8 space-y-8 animate-fade-in","data-testid":"page-leaderboard",children:[d.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-0",children:d.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[d.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl flex items-center justify-center bg-black/60 border border-nofx-gold/30 shadow-[0_0_15px_rgba(240,185,11,0.2)]",children:d.jsx(Lm,{className:"w-6 h-6 md:w-7 md:h-7 text-nofx-gold"})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[t==="zh"?"":"Room Leaderboard",d.jsxs("span",{className:"text-xs font-normal px-2 py-1 rounded bg-nofx-gold/10 text-nofx-gold border border-nofx-gold/20",children:["0 ",t==="zh"?"":"traders"]})]}),d.jsx("p",{className:"text-xs text-zinc-400",children:t==="zh"?"":"Realtime trading performance comparison"})]})]})}),d.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-16 text-center backdrop-blur-md",children:[d.jsx(Lm,{className:"w-16 h-16 mx-auto mb-4 text-zinc-700"}),d.jsx("h3",{className:"text-lg font-bold mb-2 text-white",children:de("noTraders",t)}),d.jsx("p",{className:"text-sm text-zinc-400",children:de("createFirstTrader",t)})]})]})});const r=[...e.traders].sort((p,m)=>$h(m.total_pnl_pct,Number.NEGATIVE_INFINITY)-$h(p.total_pnl_pct,Number.NEGATIVE_INFINITY)),n=r[0],i=(s=e.replay)!=null&&s.day_bar_count?Math.max(0,Math.min(100,Number(((e.replay.day_bar_index||0)/e.replay.day_bar_count*100).toFixed(1)))):null;return d.jsx(Wa,{className:"py-8",disableAnimation:!0,children:d.jsxs("div",{className:"w-full px-4 md:px-8 space-y-8 animate-fade-in","data-testid":"page-leaderboard",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3 md:gap-0",children:[d.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[d.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl flex items-center justify-center bg-black/60 border border-nofx-gold/30 shadow-[0_0_15px_rgba(240,185,11,0.2)]",children:d.jsx(Lm,{className:"w-6 h-6 md:w-7 md:h-7 text-nofx-gold"})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-white",children:[t==="zh"?"":"Room Leaderboard",d.jsxs("span",{className:"text-xs font-normal px-2 py-1 rounded bg-nofx-gold/10 text-nofx-gold border border-nofx-gold/20",children:[e.count," ",t==="zh"?"":"traders"]})]}),d.jsx("p",{className:"text-xs text-zinc-400",children:t==="zh"?"":"Sorted by virtual returns, refreshed live."})]})]}),d.jsxs("div",{className:"text-left md:text-right w-full md:w-auto",children:[d.jsx("div",{className:"text-xs mb-1 text-zinc-400",children:t==="zh"?"":"Current Leader"}),d.jsx("div",{className:"text-base md:text-lg font-bold text-nofx-gold",children:n==null?void 0:n.trader_name}),d.jsx("div",{className:"text-sm font-semibold","data-testid":"competition-leader-pnl-pct",style:{color:((n==null?void 0:n.total_pnl)??0)>=0?"#0ECB81":"#F6465D"},children:Bm(n==null?void 0:n.total_pnl_pct,2,"")}),d.jsxs("div",{className:"text-[11px] text-zinc-400 mt-2 space-y-0.5",children:[d.jsxs("div",{children:[t==="zh"?"":"Replay Day",":",d.jsx("span",{className:"text-zinc-200 ml-1",children:((a=e.replay)==null?void 0:a.trading_day)||"--"})]}),d.jsxs("div",{children:[t==="zh"?"":"Day",":",d.jsx("span",{className:"text-zinc-200 ml-1",children:((o=e.replay)==null?void 0:o.day_index)??"--"}),d.jsxs("span",{className:"ml-1",children:["/ ",((l=e.replay)==null?void 0:l.day_count)??"--"]})]}),d.jsxs("div",{children:[t==="zh"?"":"In-day",":",d.jsxs("span",{className:"text-zinc-200 ml-1",children:[((u=e.replay)==null?void 0:u.day_bar_index)??"--"," /"," ",((f=e.replay)==null?void 0:f.day_bar_count)??"--"]}),d.jsxs("span",{className:"ml-1",children:["(",i!=null?`${i}%`:"--",")"]})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-6 backdrop-blur-md animate-slide-in hover:border-white/20 transition-colors",style:{animationDelay:"0.1s"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-lg font-bold flex items-center gap-2 text-white",children:t==="zh"?"":"Performance Curves"}),d.jsx("div",{className:"text-xs text-zinc-400",children:t==="zh"?"":"Dynamic refresh"})]}),d.jsx(l5e,{traders:r.slice(0,10)})]}),d.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-6 backdrop-blur-md animate-slide-in hover:border-white/20 transition-colors",style:{animationDelay:"0.1s"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-lg font-bold flex items-center gap-2 text-white",children:t==="zh"?"":"Leaderboard Details"}),d.jsx("div",{className:"text-xs px-2 py-1 rounded bg-nofx-gold/10 text-nofx-gold border border-nofx-gold/20 shadow-[0_0_8px_rgba(240,185,11,0.1)]",children:"Demo Live"})]}),d.jsx("div",{className:"space-y-2",children:r.map((p,m)=>{const v=m===0,y=t6(r,p.trader_id),x=$h(p.total_equity,0),b=$h(p.total_pnl,0);return d.jsx("div",{className:"rounded p-3 transition-all duration-300 hover:translate-y-[-1px] hover:shadow-lg",style:{background:v?"linear-gradient(135deg, rgba(240, 185, 11, 0.08) 0%, #0B0E11 100%)":"#0B0E11",border:`1px solid ${v?"rgba(240, 185, 11, 0.4)":"#2B3139"}`,boxShadow:v?"0 3px 15px rgba(240, 185, 11, 0.12), 0 0 0 1px rgba(240, 185, 11, 0.15)":"0 1px 4px rgba(0, 0, 0, 0.3)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",style:{background:m===0?"linear-gradient(135deg, #F0B90B 0%, #FCD535 100%)":m===1?"linear-gradient(135deg, #C0C0C0 0%, #E8E8E8 100%)":m===2?"linear-gradient(135deg, #CD7F32 0%, #E8A64C 100%)":"#2B3139",color:m<3?"#000":"#848E9C"},children:m+1}),d.jsx(Ga,{traderId:p.trader_id,traderName:p.trader_name,avatarUrl:p.avatar_url,avatarHdUrl:p.avatar_hd_url,size:36,className:"rounded-lg"}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-sm",style:{color:"#EAECEF"},children:p.trader_name}),d.jsxs("div",{className:"text-xs mono font-semibold",style:{color:y},children:[p.ai_model.toUpperCase(),"  CN-SIM"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-wrap md:flex-nowrap",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-xs",style:{color:"#848E9C"},children:de("equity",t)}),d.jsx("div",{className:"text-xs md:text-sm font-bold mono",style:{color:"#EAECEF"},children:x.toFixed(2)})]}),d.jsxs("div",{className:"text-right min-w-[70px] md:min-w-[90px]",children:[d.jsx("div",{className:"text-xs",style:{color:"#848E9C"},children:de("pnl",t)}),d.jsx("div",{className:"text-base md:text-lg font-bold mono",style:{color:b>=0?"#0ECB81":"#F6465D"},children:Bm(p.total_pnl_pct,2,"")}),d.jsxs("div",{className:"text-xs mono",style:{color:"#848E9C"},children:[b>=0?"+":"",b.toFixed(2)]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-xs",style:{color:"#848E9C"},children:de("pos",t)}),d.jsx("div",{className:"text-xs md:text-sm font-bold mono",style:{color:"#EAECEF"},children:p.position_count}),d.jsx("div",{className:"text-xs",style:{color:"#848E9C"},children:t==="zh"?` ${p.margin_used_pct.toFixed(1)}%`:`Use ${p.margin_used_pct.toFixed(1)}%`})]}),d.jsx("div",{children:d.jsx("div",{className:"px-2 py-1 rounded text-xs font-bold",style:p.is_running?{background:"rgba(14, 203, 129, 0.1)",color:"#0ECB81"}:{background:"rgba(246, 70, 93, 0.1)",color:"#F6465D"},children:p.is_running?"":""})})]})]})},p.trader_id)})})]})]}),d.jsxs("div",{className:"bg-black/40 border border-nofx-gold/20 rounded-xl p-4 backdrop-blur-md",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-nofx-gold mb-2",children:[d.jsx(cxe,{className:"w-4 h-4"}),t==="zh"?"":"Simulation Rules"]}),d.jsxs("ul",{className:"text-xs text-zinc-300 space-y-1",children:[d.jsx("li",{children:t==="zh"?"":"Returns and ranking come from virtual accounts (no real funds)."}),d.jsx("li",{children:t==="zh"?"K + ":"Trade logic uses fixed rules: next-bar-open fills + fixed slippage."}),d.jsx("li",{children:t==="zh"?"A100T+1":"A-share constraints: 100-share lots and T+1."})]})]}),e.traders.length===2&&d.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl p-6 backdrop-blur-md animate-slide-in",style:{animationDelay:"0.3s"},children:[d.jsx("h2",{className:"text-lg font-bold mb-6 flex items-center gap-2 text-white",children:de("headToHead",t)}),d.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.map((p,m)=>{const v=m===0,y=r[1-m],x=av(p.total_pnl_pct)&&av(y.total_pnl_pct),b=x?p.total_pnl_pct-y.total_pnl_pct:NaN;return d.jsx("div",{className:"p-4 rounded transition-all duration-300 hover:scale-[1.02]",style:v?{background:"linear-gradient(135deg, rgba(14, 203, 129, 0.08) 0%, rgba(14, 203, 129, 0.02) 100%)",border:"2px solid rgba(14, 203, 129, 0.3)",boxShadow:"0 3px 15px rgba(14, 203, 129, 0.12)"}:{background:"#0B0E11",border:"1px solid #2B3139",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.3)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-3",children:d.jsx(Ga,{traderId:p.trader_id,traderName:p.trader_name,avatarUrl:p.avatar_url,avatarHdUrl:p.avatar_hd_url,size:56,className:"rounded-xl"})}),d.jsx("div",{className:"text-sm md:text-base font-bold mb-2",style:{color:t6(r,p.trader_id)},children:p.trader_name}),d.jsx("div",{className:"text-lg md:text-2xl font-bold mono mb-1",style:{color:(p.total_pnl??0)>=0?"#0ECB81":"#F6465D"},children:Bm(p.total_pnl_pct,2,"")}),x&&v&&b>0&&d.jsx("div",{className:"text-xs font-semibold",style:{color:"#0ECB81"},children:de("leadingBy",t,{gap:b.toFixed(2)})}),x&&!v&&b<0&&d.jsx("div",{className:"text-xs font-semibold",style:{color:"#F6465D"},children:de("behindBy",t,{gap:Math.abs(b).toFixed(2)})}),!x&&d.jsx("div",{className:"text-xs font-semibold",style:{color:"#848E9C"},children:""})]})},p.trader_id)})})]})]})})}function u5e({isOpen:t,onClose:e,featureName:r}){const{language:n}=bi(),s={zh:{title:"",subtitle:r?`${r}`:"",description:"AI ",benefits:["AI ","","",""],login:"",register:" ID",later:""},en:{title:"SYSTEM ACCESS DENIED",subtitle:r?`Module "${r}" requires elevated privileges`:"Authorization required for this module",description:"Initialize authentication protocol to unlock full system capabilities: AI Trader configuration, Strategy Market data streams, and Backtest Simulation core.",benefits:["AI Trader Control","HFT Strategy Market","Historical Backtest Engine","Full System Visualization"],login:"EXECUTE LOGIN",register:"REGISTER NEW ID",later:"ABORT"}}[n];return d.jsx(da,{children:t&&d.jsx(Pr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50",children:d.jsx(Wa,{className:"w-full h-full bg-nofx-bg/95 backdrop-blur-md flex items-center justify-center p-4 text-nofx-text",disableAnimation:!0,onClick:e,children:d.jsxs(Pr.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{type:"spring",damping:20,stiffness:300},className:"relative max-w-md w-full overflow-hidden bg-nofx-bg border border-nofx-gold/30 shadow-neon rounded-sm group font-mono",onClick:a=>a.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-nofx-bg-lighter border-b border-nofx-gold/20",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Bxe,{size:12,className:"text-nofx-gold"}),d.jsx("span",{className:"text-[10px] text-nofx-text-muted uppercase tracking-wider",children:"auth_protocol.exe"})]}),d.jsx("button",{onClick:e,className:"text-nofx-text-muted hover:text-nofx-danger transition-colors",children:d.jsx(a7,{size:14})})]}),d.jsxs("div",{className:"p-8 relative",children:[d.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808008_1px,transparent_1px),linear-gradient(to_bottom,#80808008_1px,transparent_1px)] bg-[size:14px_14px] pointer-events-none"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 bg-red-500/20 blur-xl animate-pulse"}),d.jsxs("div",{className:"bg-nofx-bg border border-red-500/50 text-red-500 px-4 py-2 flex items-center gap-3 shadow-[0_0_15px_rgba(239,68,68,0.2)]",children:[d.jsx(K$,{size:18,className:"animate-pulse"}),d.jsx("span",{className:"font-bold tracking-widest text-sm uppercase",children:n==="zh"?"":"ACCESS DENIED"})]})]})}),d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-bold text-white uppercase tracking-wider mb-2",children:s.title}),d.jsx("p",{className:"text-nofx-gold text-xs uppercase tracking-widest border-b border-nofx-gold/20 pb-4 inline-block",children:s.subtitle})]}),d.jsx("div",{className:"bg-nofx-bg-lighter border-l-2 border-nofx-gold/20 p-3 my-4",children:d.jsxs("p",{className:"text-xs text-nofx-text-muted leading-relaxed font-mono",children:[d.jsx("span",{className:"text-green-500 mr-2",children:"$"}),s.description]})}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.benefits.map((a,o)=>d.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-nofx-text-muted uppercase tracking-wide",children:[d.jsx("span",{className:"text-nofx-gold",children:""})," ",a]},o))})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("a",{href:"/login",className:"flex items-center justify-center gap-2 w-full py-3 bg-nofx-gold text-black font-bold text-xs uppercase tracking-widest hover:bg-yellow-400 transition-all shadow-neon hover:shadow-[0_0_25px_rgba(240,185,11,0.4)] group",children:[d.jsx(mxe,{size:14}),d.jsx("span",{children:s.login}),d.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity -ml-2 group-hover:ml-0",children:"->"})]}),d.jsxs("a",{href:"/register",className:"flex items-center justify-center gap-2 w-full py-3 bg-transparent border border-nofx-gold/20 text-nofx-text-muted hover:text-white hover:border-nofx-gold font-bold text-xs uppercase tracking-widest transition-all hover:bg-nofx-gold/10",children:[d.jsx(Gxe,{size:14}),d.jsx("span",{children:s.register})]})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("button",{onClick:e,className:"text-[10px] text-nofx-text-muted hover:text-nofx-danger uppercase tracking-widest hover:underline decoration-red-500/30",children:["[ ",s.later," ]"]})})]})]}),d.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r border-nofx-gold"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l border-nofx-gold"})]})})})})}function d5e({open:t,onClose:e,language:r,runtimeStatus:n,replayRuntimeStatus:i,onRuntimeControl:s,onFactoryReset:a,onKillSwitch:o}){var S,N,A;const[l,u]=_.useState("10"),[f,p]=_.useState(!1),[m,v]=_.useState("");if(_.useEffect(()=>{n!=null&&n.decision_every_bars&&u(String(n.decision_every_bars))},[n==null?void 0:n.decision_every_bars]),!t)return null;const y=async(k,E)=>{p(!0),v("");try{await k(),v(E)}catch(j){const T=r==="zh"?"":"Operation failed. Please retry.",M=j instanceof Error&&j.message?j.message:T;v(M)}finally{p(!1)}},x=()=>{const k=Number(l);if(!Number.isFinite(k)||k<=0){v(r==="zh"?"":"Please enter a valid cadence value.");return}y(async()=>s("set_decision_every_bars",k),r==="zh"?` ${k} K`:`Cadence updated to every ${k} bars`)},b=!!((S=n==null?void 0:n.kill_switch)!=null&&S.active);return d.jsxs("div",{className:"fixed inset-0 z-[140] flex items-center justify-center p-4",children:[d.jsx("button",{type:"button","aria-label":"overlay",className:"absolute inset-0 bg-black/70",onClick:e}),d.jsxs("div",{className:"relative w-[min(980px,96vw)] max-h-[90vh] overflow-y-auto nofx-glass p-4 border border-white/15 rounded-lg",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3 mb-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold text-nofx-text-main",children:r==="zh"?"":"System Runtime Console"}),d.jsx("div",{className:"text-[11px] text-nofx-text-muted mt-1",children:r==="zh"?" Agent":"Global controls affect all agents, not just one room trader."})]}),d.jsx("button",{onClick:e,className:"inline-flex items-center justify-center w-8 h-8 rounded border border-white/15 text-nofx-text-main hover:bg-white/10 transition-colors",children:d.jsx(a7,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] gap-2 mb-3",children:[d.jsx("input",{value:l,onChange:k=>u(k.target.value),placeholder:r==="zh"?" K ":"bars per decision",className:"px-3 py-2 rounded bg-black/40 border border-white/10 text-sm text-nofx-text-main focus:outline-none focus:border-nofx-gold/50",disabled:f}),d.jsx("button",{onClick:x,disabled:f,className:"px-3 py-2 rounded text-sm font-semibold border border-white/15 text-nofx-text-main hover:bg-white/10 transition-colors disabled:opacity-50",children:r==="zh"?"":"Apply Cadence"})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[d.jsxs("button",{onClick:()=>void y(async()=>s("pause"),r==="zh"?"":"Paused"),disabled:f,className:"inline-flex items-center justify-center gap-1 px-3 py-2 rounded text-sm font-semibold border border-white/15 text-nofx-text-main hover:bg-white/10 transition-colors disabled:opacity-50",children:[d.jsx(wxe,{className:"w-3.5 h-3.5"})," ",r==="zh"?"":"Pause"]}),d.jsxs("button",{onClick:()=>void y(async()=>s("resume"),r==="zh"?"":"Resumed"),disabled:f||b,className:"inline-flex items-center justify-center gap-1 px-3 py-2 rounded text-sm font-semibold bg-nofx-green/20 border border-nofx-green/30 text-nofx-green hover:bg-nofx-green/30 transition-colors disabled:opacity-50",children:[d.jsx(Axe,{className:"w-3.5 h-3.5"})," ",r==="zh"?"":"Resume"]}),d.jsxs("button",{onClick:()=>void y(async()=>s("step"),r==="zh"?"":"Stepped once"),disabled:f||b,className:"inline-flex items-center justify-center gap-1 px-3 py-2 rounded text-sm font-semibold bg-nofx-gold/15 border border-nofx-gold/35 text-nofx-gold hover:bg-nofx-gold/25 transition-colors disabled:opacity-50",children:[d.jsx(zxe,{className:"w-3.5 h-3.5"})," ",r==="zh"?"":"Step"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[d.jsxs("button",{onClick:()=>void y(async()=>a(!1),r==="zh"?"K":"Reset to first bar"),disabled:f,className:"inline-flex items-center justify-center gap-1 px-3 py-2 rounded text-sm font-semibold border border-red-500/35 text-red-300 bg-red-500/10 hover:bg-red-500/20 transition-colors disabled:opacity-50",children:[d.jsx(oR,{className:"w-3.5 h-3.5"})," ",r==="zh"?"K":"Reset (First Bar)"]}),d.jsxs("button",{onClick:()=>void y(async()=>a(!0),r==="zh"?"warmup":"Reset to warmup"),disabled:f,className:"inline-flex items-center justify-center gap-1 px-3 py-2 rounded text-sm font-semibold border border-red-500/30 text-red-200 bg-red-500/5 hover:bg-red-500/15 transition-colors disabled:opacity-50",children:[d.jsx(oR,{className:"w-3.5 h-3.5"})," ",r==="zh"?"Warmup":"Reset (Warmup)"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-3",children:[d.jsx("button",{onClick:()=>void y(async()=>o("activate","manual_emergency_stop_from_system_popup"),r==="zh"?"Kill Switch ":"Kill switch activated"),disabled:f||b,className:"inline-flex items-center justify-center gap-1 px-3 py-2 rounded text-sm font-semibold border border-red-500/50 text-red-200 bg-red-500/15 hover:bg-red-500/25 transition-colors disabled:opacity-50",children:r==="zh"?" Agent":"Emergency Stop All Agents"}),d.jsx("button",{onClick:()=>void y(async()=>o("deactivate","manual_reactivate_from_system_popup"),r==="zh"?"Kill Switch ":"Kill switch deactivated"),disabled:f||!b,className:"inline-flex items-center justify-center gap-1 px-3 py-2 rounded text-sm font-semibold border border-emerald-500/40 text-emerald-200 bg-emerald-500/10 hover:bg-emerald-500/20 transition-colors disabled:opacity-50",children:r==="zh"?"":"Deactivate Kill Switch"})]}),d.jsxs("div",{className:"text-[11px] text-nofx-text-muted space-y-1",children:[d.jsxs("div",{children:[r==="zh"?"":"Runtime",":"," ",d.jsx("span",{className:"text-nofx-text-main ml-1",children:n!=null&&n.running?"Running":"Paused"}),d.jsx("span",{className:"mx-2",children:"|"}),r==="zh"?"":"Cycle",":"," ",d.jsxs("span",{className:"text-nofx-text-main ml-1",children:[(n==null?void 0:n.cycle_ms)??"--"," ms"]})]}),d.jsxs("div",{children:[r==="zh"?"":"Cadence",":"," ",d.jsxs("span",{className:"text-nofx-text-main ml-1",children:[(n==null?void 0:n.decision_every_bars)??"--"," bars"]}),d.jsx("span",{className:"mx-2",children:"|"}),"LLM:"," ",d.jsx("span",{className:"text-nofx-text-main ml-1",children:(N=n==null?void 0:n.llm)!=null&&N.enabled?((A=n==null?void 0:n.llm)==null?void 0:A.model)||"enabled":"disabled"})]}),d.jsxs("div",{children:["Kill Switch:"," ",d.jsx("span",{className:`ml-1 ${b?"text-red-300":"text-nofx-green"}`,children:b?"ACTIVE":"inactive"})]}),d.jsxs("div",{children:[r==="zh"?"":"Replay day",":"," ",d.jsx("span",{className:"text-nofx-text-main ml-1",children:(i==null?void 0:i.trading_day)??"--"}),d.jsx("span",{className:"mx-2",children:"|"}),r==="zh"?"":"Day"," ",d.jsx("span",{className:"text-nofx-text-main ml-1",children:(i==null?void 0:i.day_index)??"--"}),"/",(i==null?void 0:i.day_count)??"--"]}),d.jsxs("div",{children:[r==="zh"?"":"Replay mode",":"," ",d.jsx("span",{className:"text-nofx-text-main ml-1",children:i!=null&&i.loop?r==="zh"?"":"Loop":r==="zh"?"":"Single-run"}),d.jsx("span",{className:"mx-2",children:"|"}),r==="zh"?"":"Completion",":"," ",d.jsx("span",{className:`ml-1 ${i!=null&&i.completed?"text-nofx-green":"text-nofx-text-main"}`,children:i!=null&&i.completed?r==="zh"?"":"Completed":r==="zh"?"":"In progress"})]}),m&&d.jsx("div",{className:"text-nofx-text-main",children:m})]})]})]})}/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sI="popstate";function h5e(t={}){function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return r6("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:n0(i)}return p5e(e,r,null,t)}function rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f5e(){return Math.random().toString(36).substring(2,10)}function aI(t,e){return{usr:t.state,key:t.key,idx:e}}function r6(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?k0(e):e,state:r,key:e&&e.key||n||f5e()}}function n0({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function k0(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function p5e(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,u=f();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function f(){return(a.state||{idx:null}).idx}function p(){o="POP";let b=f(),S=b==null?null:b-u;u=b,l&&l({action:o,location:x.location,delta:S})}function m(b,S){o="PUSH";let N=r6(x.location,b,S);u=f()+1;let A=aI(N,u),k=x.createHref(N);try{a.pushState(A,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(k)}s&&l&&l({action:o,location:x.location,delta:1})}function v(b,S){o="REPLACE";let N=r6(x.location,b,S);u=f();let A=aI(N,u),k=x.createHref(N);a.replaceState(A,"",k),s&&l&&l({action:o,location:x.location,delta:0})}function y(b){return m5e(b)}let x={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sI,p),l=b,()=>{i.removeEventListener(sI,p),l=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let S=y(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:v,go(b){return a.go(b)}};return x}function m5e(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),rn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:n0(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function aU(t,e,r="/"){return g5e(t,e,r,!1)}function g5e(t,e,r,n){let i=typeof e=="string"?k0(e):e,s=no(i.pathname||"/",r);if(s==null)return null;let a=oU(t);v5e(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=k5e(s);o=E5e(a[l],u,n)}return o}function oU(t,e=[],r=[],n="",i=!1){let s=(a,o,l=i,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&l)return;rn(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Ha([n,f.relativePath]),m=r.concat(f);a.children&&a.children.length>0&&(rn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),oU(a.children,e,m,p,l)),!(a.path==null&&!a.index)&&e.push({path:p,score:N5e(p,a.index),routesMeta:m})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of lU(a.path))s(a,o,!0,u)}),e}function lU(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=lU(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function v5e(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:A5e(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var y5e=/^:[\w-]+$/,x5e=3,b5e=2,w5e=1,S5e=10,_5e=-2,oI=t=>t==="*";function N5e(t,e){let r=t.split("/"),n=r.length;return r.some(oI)&&(n+=_5e),e&&(n+=b5e),r.filter(i=>!oI(i)).reduce((i,s)=>i+(y5e.test(s)?x5e:s===""?w5e:S5e),n)}function A5e(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function E5e(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=cv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),m=l.route;if(!p&&u&&r&&!n[n.length-1].route.index&&(p=cv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Ha([s,p.pathname]),pathnameBase:O5e(Ha([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Ha([s,p.pathnameBase]))}return a}function cv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=C5e(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:p},m)=>{if(f==="*"){let y=o[m]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[m];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function C5e(t,e=!1,r=!0){Rs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function k5e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function no(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var j5e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P5e=t=>j5e.test(t);function T5e(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?k0(t):t,s;if(r)if(P5e(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Rs(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?s=lI(r.substring(1),"/"):s=lI(r,e)}else s=e;return{pathname:s,search:R5e(n),hash:I5e(i)}}function lI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function w5(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M5e(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function cU(t){let e=M5e(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function uU(t,e,r,n=!1){let i;typeof t=="string"?i=k0(t):(i={...t},rn(!i.pathname||!i.pathname.includes("?"),w5("?","pathname","search",i)),rn(!i.pathname||!i.pathname.includes("#"),w5("#","pathname","hash",i)),rn(!i.search||!i.search.includes("#"),w5("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}o=p>=0?e[p]:"/"}let l=T5e(i,o),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var Ha=t=>t.join("/").replace(/\/\/+/g,"/"),O5e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),R5e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I5e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function D5e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function L5e(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dU=["POST","PUT","PATCH","DELETE"];new Set(dU);var z5e=["GET",...dU];new Set(z5e);var Bd=_.createContext(null);Bd.displayName="DataRouter";var b1=_.createContext(null);b1.displayName="DataRouterState";_.createContext(!1);var hU=_.createContext({isTransitioning:!1});hU.displayName="ViewTransition";var F5e=_.createContext(new Map);F5e.displayName="Fetchers";var B5e=_.createContext(null);B5e.displayName="Await";var Ls=_.createContext(null);Ls.displayName="Navigation";var w1=_.createContext(null);w1.displayName="Location";var lo=_.createContext({outlet:null,matches:[],isDataRoute:!1});lo.displayName="Route";var M7=_.createContext(null);M7.displayName="RouteError";function $5e(t,{relative:e}={}){rn(j0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(Ls),{hash:i,pathname:s,search:a}=P0(t,{relative:e}),o=s;return r!=="/"&&(o=s==="/"?r:Ha([r,s])),n.createHref({pathname:o,search:a,hash:i})}function j0(){return _.useContext(w1)!=null}function Ec(){return rn(j0(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(w1).location}var fU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pU(t){_.useContext(Ls).static||_.useLayoutEffect(t)}function mU(){let{isDataRoute:t}=_.useContext(lo);return t?e3e():q5e()}function q5e(){rn(j0(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(Bd),{basename:e,navigator:r}=_.useContext(Ls),{matches:n}=_.useContext(lo),{pathname:i}=Ec(),s=JSON.stringify(cU(n)),a=_.useRef(!1);return pU(()=>{a.current=!0}),_.useCallback((l,u={})=>{if(Rs(a.current,fU),!a.current)return;if(typeof l=="number"){r.go(l);return}let f=uU(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ha([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,i,t])}_.createContext(null);function P0(t,{relative:e}={}){let{matches:r}=_.useContext(lo),{pathname:n}=Ec(),i=JSON.stringify(cU(r));return _.useMemo(()=>uU(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function U5e(t,e,r,n,i){rn(j0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=_.useContext(Ls),{matches:a}=_.useContext(lo),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",f=o?o.pathnameBase:"/",p=o&&o.route;{let N=p&&p.path||"";gU(u,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let m=Ec(),v;v=m;let y=v.pathname||"/",x=y;if(f!=="/"){let N=f.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=aU(t,{pathname:x});return Rs(p||b!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Rs(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),G5e(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Ha([f,s.encodeLocation?s.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Ha([f,s.encodeLocation?s.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),a,r,n,i)}function V5e(){let t=Z5e(),e=D5e(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:i},r):null,a)}var W5e=_.createElement(V5e,null),H5e=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(lo.Provider,{value:this.props.routeContext},_.createElement(M7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function K5e({routeContext:t,match:e,children:r}){let n=_.useContext(Bd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(lo.Provider,{value:t},r)}function G5e(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,a=r==null?void 0:r.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);rn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let o=!1,l=-1;if(r)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=f),p.route.id){let{loaderData:m,errors:v}=r,y=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||y){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=r&&n?(f,p)=>{var m,v;n(f,{location:r.location,params:((v=(m=r.matches)==null?void 0:m[0])==null?void 0:v.params)??{},unstable_pattern:L5e(r.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,m)=>{let v,y=!1,x=null,b=null;r&&(v=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||W5e,o&&(l<0&&m===0?(gU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):l===m&&(y=!0,b=p.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,m+1)),N=()=>{let A;return v?A=x:y?A=b:p.route.Component?A=_.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=f,_.createElement(K5e,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:r!=null},children:A})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?_.createElement(H5e,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:u}):N()},null)}function O7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X5e(t){let e=_.useContext(Bd);return rn(e,O7(t)),e}function Y5e(t){let e=_.useContext(b1);return rn(e,O7(t)),e}function J5e(t){let e=_.useContext(lo);return rn(e,O7(t)),e}function R7(t){let e=J5e(t),r=e.matches[e.matches.length-1];return rn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Q5e(){return R7("useRouteId")}function Z5e(){var n;let t=_.useContext(M7),e=Y5e("useRouteError"),r=R7("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function e3e(){let{router:t}=X5e("useNavigate"),e=R7("useNavigate"),r=_.useRef(!1);return pU(()=>{r.current=!0}),_.useCallback(async(i,s={})=>{Rs(r.current,fU),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var cI={};function gU(t,e,r){!e&&!cI[t]&&(cI[t]=!0,Rs(!1,r))}_.memo(t3e);function t3e({routes:t,future:e,state:r,unstable_onError:n}){return U5e(t,void 0,r,n,e)}function r3e({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){rn(!j0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:o,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[o,i,s,a]);typeof r=="string"&&(r=k0(r));let{pathname:u="/",search:f="",hash:p="",state:m=null,key:v="default"}=r,y=_.useMemo(()=>{let x=no(u,o);return x==null?null:{location:{pathname:x,search:f,hash:p,state:m,key:v},navigationType:n}},[o,u,f,p,m,v,n]);return Rs(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:_.createElement(Ls.Provider,{value:l},_.createElement(w1.Provider,{children:e,value:y}))}var qm="get",Um="application/x-www-form-urlencoded";function S1(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function n3e(t){return S1(t)&&t.tagName.toLowerCase()==="button"}function i3e(t){return S1(t)&&t.tagName.toLowerCase()==="form"}function s3e(t){return S1(t)&&t.tagName.toLowerCase()==="input"}function a3e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o3e(t,e){return t.button===0&&(!e||e==="_self")&&!a3e(t)}var wm=null;function l3e(){if(wm===null)try{new FormData(document.createElement("form"),0),wm=!1}catch{wm=!0}return wm}var c3e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function S5(t){return t!=null&&!c3e.has(t)?(Rs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Um}"`),null):t}function u3e(t,e){let r,n,i,s,a;if(i3e(t)){let o=t.getAttribute("action");n=o?no(o,e):null,r=t.getAttribute("method")||qm,i=S5(t.getAttribute("enctype"))||Um,s=new FormData(t)}else if(n3e(t)||s3e(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?no(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||qm,i=S5(t.getAttribute("formenctype"))||S5(o.getAttribute("enctype"))||Um,s=new FormData(o,t),!l3e()){let{name:u,type:f,value:p}=t;if(f==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,p)}}else{if(S1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=qm,n=null,i=Um,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function I7(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function d3e(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&no(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function h3e(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f3e(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function p3e(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await h3e(s,r);return a.links?a.links():[]}return[]}));return y3e(n.flat(1).filter(f3e).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function uI(t,e,r,n,i,s){let a=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>{var f;return r[u].pathname!==l.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var p;let f=n.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=r[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function m3e(t,e,{includeHydrateFallback:r}={}){return g3e(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function g3e(t){return[...new Set(t)]}function v3e(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function y3e(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(v3e(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function vU(){let t=_.useContext(Bd);return I7(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function x3e(){let t=_.useContext(b1);return I7(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var D7=_.createContext(void 0);D7.displayName="FrameworkContext";function yU(){let t=_.useContext(D7);return I7(t,"You must render this element inside a <HydratedRouter> element"),t}function b3e(t,e){let r=_.useContext(D7),[n,i]=_.useState(!1),[s,a]=_.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:p}=e,m=_.useRef(null);_.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let x=S=>{S.forEach(N=>{a(N.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[t]),_.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let v=()=>{i(!0)},y=()=>{i(!1),a(!1)};return r?t!=="intent"?[s,m,{}]:[s,m,{onFocus:Ih(o,v),onBlur:Ih(l,y),onMouseEnter:Ih(u,v),onMouseLeave:Ih(f,y),onTouchStart:Ih(p,v)}]:[!1,m,{}]}function Ih(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function w3e({page:t,...e}){let{router:r}=vU(),n=_.useMemo(()=>aU(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?_.createElement(_3e,{page:t,matches:n,...e}):null}function S3e(t){let{manifest:e,routeModules:r}=yU(),[n,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return p3e(t,e,r).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,r]),n}function _3e({page:t,matches:e,...r}){let n=Ec(),{manifest:i,routeModules:s}=yU(),{basename:a}=vU(),{loaderData:o,matches:l}=x3e(),u=_.useMemo(()=>uI(t,e,l,i,n,"data"),[t,e,l,i,n]),f=_.useMemo(()=>uI(t,e,l,i,n,"assets"),[t,e,l,i,n]),p=_.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,x=!1;if(e.forEach(S=>{var A;let N=i.routes[S.route.id];!N||!N.hasLoader||(!u.some(k=>k.route.id===S.route.id)&&S.route.id in o&&((A=s[S.route.id])!=null&&A.shouldRevalidate)||N.hasClientLoader?x=!0:y.add(S.route.id))}),y.size===0)return[];let b=d3e(t,a,"data");return x&&y.size>0&&b.searchParams.set("_routes",e.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[b.pathname+b.search]},[a,o,n,i,u,e,t,s]),m=_.useMemo(()=>m3e(f,i),[f,i]),v=S3e(f);return _.createElement(_.Fragment,null,p.map(y=>_.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),m.map(y=>_.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:x})=>_.createElement("link",{key:y,nonce:r.nonce,...x})))}function N3e(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var xU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xU&&(window.__reactRouterVersion="7.10.1")}catch{}function A3e({basename:t,children:e,unstable_useTransitions:r,window:n}){let i=_.useRef();i.current==null&&(i.current=h5e({window:n,v5Compat:!0}));let s=i.current,[a,o]=_.useState({action:s.action,location:s.location}),l=_.useCallback(u=>{r===!1?o(u):_.startTransition(()=>o(u))},[r]);return _.useLayoutEffect(()=>s.listen(l),[s,l]),_.createElement(r3e,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:r===!0})}var bU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wU=_.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:f,viewTransition:p,...m},v){let{basename:y,unstable_useTransitions:x}=_.useContext(Ls),b=typeof u=="string"&&bU.test(u),S,N=!1;if(typeof u=="string"&&b&&(S=u,xU))try{let q=new URL(window.location.href),D=u.startsWith("//")?new URL(q.protocol+u):new URL(u),L=no(D.pathname,y);D.origin===q.origin&&L!=null?u=L+D.search+D.hash:N=!0}catch{Rs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=$5e(u,{relative:i}),[k,E,j]=b3e(n,m),T=j3e(u,{replace:a,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:p,unstable_useTransitions:x});function M(q){e&&e(q),q.defaultPrevented||T(q)}let I=_.createElement("a",{...m,...j,href:S||A,onClick:N||s?e:M,ref:N3e(v,E),target:l,"data-discover":!b&&r==="render"?"true":void 0});return k&&!b?_.createElement(_.Fragment,null,I,_.createElement(w3e,{page:A})):I});wU.displayName="Link";var E3e=_.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...u},f){let p=P0(a,{relative:u.relative}),m=Ec(),v=_.useContext(b1),{navigator:y,basename:x}=_.useContext(Ls),b=v!=null&&R3e(p)&&o===!0,S=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,N=m.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(N=N.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&x&&(A=no(A,x)||A);const k=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let E=N===S||!i&&N.startsWith(S)&&N.charAt(k)==="/",j=A!=null&&(A===S||!i&&A.startsWith(S)&&A.charAt(S.length)==="/"),T={isActive:E,isPending:j,isTransitioning:b},M=E?e:void 0,I;typeof n=="function"?I=n(T):I=[n,E?"active":null,j?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(T):s;return _.createElement(wU,{...u,"aria-current":M,className:I,ref:f,style:q,to:a,viewTransition:o},typeof l=="function"?l(T):l)});E3e.displayName="NavLink";var C3e=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:a=qm,action:o,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:p,...m},v)=>{let{unstable_useTransitions:y}=_.useContext(Ls),x=M3e(),b=O3e(o,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",N=typeof o=="string"&&bU.test(o),A=k=>{if(l&&l(k),k.defaultPrevented)return;k.preventDefault();let E=k.nativeEvent.submitter,j=(E==null?void 0:E.getAttribute("formmethod"))||a,T=()=>x(E||k.currentTarget,{fetcherKey:e,method:j,navigate:r,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:p});y&&r!==!1?_.startTransition(()=>T()):T()};return _.createElement("form",{ref:v,method:S,action:b,onSubmit:n?l:A,...m,"data-discover":!N&&t==="render"?"true":void 0})});C3e.displayName="Form";function k3e(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SU(t){let e=_.useContext(Bd);return rn(e,k3e(t)),e}function j3e(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:a,unstable_useTransitions:o}={}){let l=mU(),u=Ec(),f=P0(t,{relative:s});return _.useCallback(p=>{if(o3e(p,e)){p.preventDefault();let m=r!==void 0?r:n0(u)===n0(f),v=()=>l(t,{replace:m,state:n,preventScrollReset:i,relative:s,viewTransition:a});o?_.startTransition(()=>v()):v()}},[u,l,f,r,n,e,t,i,s,a,o])}var P3e=0,T3e=()=>`__${String(++P3e)}__`;function M3e(){let{router:t}=SU("useSubmit"),{basename:e}=_.useContext(Ls),r=Q5e(),n=t.fetch,i=t.navigate;return _.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:f,body:p}=u3e(s,e);if(a.navigate===!1){let m=a.fetcherKey||T3e();await n(m,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await i(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,i,e,r])}function O3e(t,{relative:e}={}){let{basename:r}=_.useContext(Ls),n=_.useContext(lo);rn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...P0(t||".",{relative:e})},a=Ec();if(t==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(f=>f==="")){o.delete("index"),l.filter(p=>p).forEach(p=>o.append("index",p));let f=o.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Ha([r,s.pathname])),n0(s)}function R3e(t,{relative:e}={}){let r=_.useContext(hU);rn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=SU("useViewTransitionState"),i=P0(t,{relative:e});if(!r.isTransitioning)return!1;let s=no(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=no(r.nextLocation.pathname,n)||r.nextLocation.pathname;return cv(i.pathname,a)!=null||cv(i.pathname,s)!=null}function I3e({isLoggedIn:t=!1,currentPage:e,language:r="zh",onLanguageChange:n,user:i,onLogout:s,onPageChange:a,onLoginRequired:o}){const l=mU(),[u,f]=_.useState(!1),[p,m]=_.useState(!1),[v,y]=_.useState(!1),x=_.useRef(null),b=_.useRef(null),{config:S}=P7(),N=k7(S),A=_v(),E=x6()==="mock-live"?"Mock Live":"Static";return _.useEffect(()=>{function j(T){x.current&&!x.current.contains(T.target)&&m(!1),b.current&&!b.current.contains(T.target)&&y(!1)}return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]),d.jsxs("nav",{className:"fixed top-0 w-full z-50 header-bar",children:[d.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 max-w-[1920px] mx-auto",children:[d.jsxs("div",{onClick:()=>{window.location.href="/"},className:"flex items-center gap-2 hover:opacity-80 transition-opacity cursor-pointer",children:[d.jsx("img",{src:"/icons/onlytrade.svg",alt:"OpenTrade Logo",className:"w-7 h-7"}),d.jsx("span",{className:"text-lg font-bold text-nofx-gold",children:"OpenTrade"}),A&&d.jsx("span",{className:"text-[10px] px-2 py-1 rounded border border-yellow-500/40 bg-yellow-500/10 text-yellow-300 font-semibold uppercase tracking-wide",children:E})]}),d.jsxs("div",{className:"hidden md:flex items-center justify-between flex-1 ml-8",children:[d.jsx("div",{className:"flex items-center gap-2",children:(()=>{const j=[{page:"lobby",path:"/lobby",label:r==="zh"?"":"Lobby",requiresAuth:!1},{page:"room",path:"/room",label:r==="zh"?"":"Room",requiresAuth:!1},{page:"stream",path:"/stream",label:r==="zh"?"":"Stream",requiresAuth:!1},{page:"leaderboard",path:"/leaderboard",label:de("realtimeNav",r),requiresAuth:!1}],T=M=>{if(M.requiresAuth&&!t){o==null||o(M.label);return}a&&a(M.page),l(M.path)};return j.map(M=>d.jsxs("button",{onClick:()=>T(M),className:`text-sm font-bold transition-all duration-300 relative focus:outline-2 focus:outline-yellow-500 px-3 py-2 rounded-lg
                    ${e===M.page?"text-nofx-gold":"text-nofx-text-muted hover:text-nofx-gold"}`,children:[e===M.page&&d.jsx("span",{className:"absolute inset-0 rounded-lg bg-nofx-gold/15 -z-10"}),M.label]},M.page))})()}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"flex items-center gap-1",children:d.jsx("a",{href:r0.github,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg transition-all hover:scale-110 text-nofx-text-muted hover:text-white hover:bg-white/5",title:"GitHub",children:d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})})})}),d.jsx("div",{className:"h-5 w-px",style:{background:"#2B3139"}}),t&&i?d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("div",{className:"relative",ref:b,children:[d.jsxs("button",{onClick:()=>y(!v),className:"flex items-center gap-2 px-3 py-2 rounded transition-colors bg-nofx-bg-lighter border border-nofx-gold/20 hover:bg-white/5",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold bg-nofx-gold text-black",children:i.email[0].toUpperCase()}),d.jsx("span",{className:"text-sm text-nofx-text-muted",children:i.email}),d.jsx($S,{className:"w-4 h-4 text-nofx-text-muted"})]}),v&&d.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 rounded-lg shadow-lg overflow-hidden z-50 bg-nofx-bg-lighter border border-nofx-gold/20",children:[d.jsxs("div",{className:"px-3 py-2 border-b border-nofx-gold/20",children:[d.jsx("div",{className:"text-xs text-nofx-text-muted",children:de("loggedInAs",r)}),d.jsx("div",{className:"text-sm font-medium text-nofx-text-muted",children:i.email})]}),s&&d.jsx("button",{onClick:()=>{s(),y(!1)},className:"w-full px-3 py-2 text-sm font-semibold transition-colors hover:opacity-80 text-center bg-nofx-danger/20 text-nofx-danger",children:de("exitLogin",r)})]})]})}):e!=="login"&&e!=="register"&&d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("a",{href:"/login",className:"px-3 py-2 text-sm font-medium transition-colors rounded text-nofx-text-muted hover:text-white",children:de("signIn",r)}),N&&d.jsx("a",{href:"/register",className:"px-4 py-2 rounded font-semibold text-sm transition-colors hover:opacity-90 bg-nofx-gold text-black",children:de("signUp",r)})]}),d.jsxs("div",{className:"relative",ref:x,children:[d.jsxs("button",{onClick:()=>m(!p),className:"flex items-center gap-2 px-3 py-2 rounded transition-colors text-nofx-text-muted hover:bg-white/5",children:[d.jsx("span",{className:"text-lg",children:r==="zh"?"":""}),d.jsx($S,{className:"w-4 h-4"})]}),p&&d.jsxs("div",{className:"absolute right-0 top-full mt-2 w-32 rounded-lg shadow-lg overflow-hidden z-50 bg-nofx-bg-lighter border border-nofx-gold/20",children:[d.jsxs("button",{onClick:()=>{n==null||n("zh"),m(!1)},className:`w-full flex items-center gap-2 px-3 py-2 transition-colors text-nofx-text-muted hover:text-white
                      ${r==="zh"?"bg-nofx-gold/10":"hover:bg-white/5"}`,children:[d.jsx("span",{className:"text-base",children:""}),d.jsx("span",{className:"text-sm",children:""})]}),d.jsxs("button",{onClick:()=>{n==null||n("en"),m(!1)},className:`w-full flex items-center gap-2 px-3 py-2 transition-colors text-nofx-text-muted hover:text-white
                      ${r==="en"?"bg-nofx-gold/10":"hover:bg-white/5"}`,children:[d.jsx("span",{className:"text-base",children:""}),d.jsx("span",{className:"text-sm",children:"English"})]})]})]})]})]}),d.jsx(Pr.button,{onClick:()=>f(!u),className:"md:hidden text-nofx-text-muted hover:text-white",whileTap:{scale:.9},children:u?d.jsx(a7,{className:"w-6 h-6"}):d.jsx(vxe,{className:"w-6 h-6"})})]}),d.jsx(da,{children:u&&d.jsx(Pr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-40 md:hidden bg-black/90 backdrop-blur-xl",style:{top:"64px"},children:d.jsxs(Pr.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1,duration:.3},className:"flex flex-col h-[calc(100vh-64px)] overflow-y-auto px-6 py-8",children:[d.jsx("div",{className:"flex flex-col gap-6 mb-12",children:(()=>{const j=[{page:"lobby",path:"/lobby",label:r==="zh"?"":"Lobby",requiresAuth:!1},{page:"room",path:"/room",label:r==="zh"?"":"Room",requiresAuth:!1},{page:"leaderboard",path:"/leaderboard",label:de("realtimeNav",r),requiresAuth:!1}],T=M=>{if(M.requiresAuth&&!t){o==null||o(M.label),f(!1);return}a&&a(M.page),l(M.path),f(!1)};return j.map((M,I)=>d.jsxs(Pr.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1+I*.05},onClick:()=>T(M),className:`text-2xl font-black tracking-tight text-left flex items-center gap-3
                        ${e===M.page?"text-nofx-gold":"text-zinc-500"}`,children:[e===M.page&&d.jsx(Pr.div,{layoutId:"active-indicator",className:"w-1.5 h-1.5 rounded-full bg-nofx-gold"}),M.label,M.requiresAuth&&!t&&d.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-zinc-800 text-zinc-500 font-normal tracking-wide uppercase align-middle relative -top-1",children:"LOGIN_REQ"})]},M.page))})()}),d.jsxs("div",{className:"mt-auto space-y-8",children:[d.jsx("div",{className:"flex items-center gap-4",children:[{href:r0.github,icon:d.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}].map((j,T)=>d.jsx("a",{href:j.href,target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-zinc-900 border border-zinc-800 flex items-center justify-center text-zinc-500 hover:text-nofx-gold hover:border-nofx-gold transition-colors",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"currentColor",children:j.icon})},T))}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx("div",{className:"flex bg-zinc-900 rounded-lg p-1 border border-zinc-800",children:["zh","en"].map(j=>d.jsx("button",{onClick:()=>{n==null||n(j),f(!1)},className:`flex-1 py-3 text-sm font-bold rounded-md transition-colors ${r===j?"bg-zinc-800 text-white shadow-sm":"text-zinc-500"}`,children:j==="zh"?"CN":"EN"},j))}),t&&i?d.jsx("button",{onClick:()=>{s==null||s(),f(!1)},className:"bg-red-500/10 border border-red-500/20 text-red-500 rounded-lg font-bold text-sm hover:bg-red-500/20 transition-colors",children:de("exitLogin",r)}):e!=="login"&&e!=="register"&&d.jsx("a",{href:"/login",className:"flex items-center justify-center bg-nofx-gold text-black rounded-lg font-bold text-sm hover:bg-yellow-400 transition-colors",children:de("signIn",r)})]})]})]})})})]})}function D3e(t,e){const r=_.createContext(e),n=s=>{const{children:a,...o}=s,l=_.useMemo(()=>o,Object.values(o));return d.jsx(r.Provider,{value:l,children:a})};n.displayName=t+"Provider";function i(s){const a=_.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function _U(t,e=[]){let r=[];function n(s,a){const o=_.createContext(a),l=r.length;r=[...r,a];const u=p=>{var S;const{scope:m,children:v,...y}=p,x=((S=m==null?void 0:m[t])==null?void 0:S[l])||o,b=_.useMemo(()=>y,Object.values(y));return d.jsx(x.Provider,{value:b,children:v})};u.displayName=s+"Provider";function f(p,m){var x;const v=((x=m==null?void 0:m[t])==null?void 0:x[l])||o,y=_.useContext(v);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=r.map(a=>_.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,L3e(i,...e)]}function L3e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:u})=>{const p=l(s)[`__scope${u}`];return{...o,...p}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function dI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function L7(...t){return e=>{let r=!1;const n=t.map(i=>{const s=dI(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():dI(t[i],null)}}}}function co(...t){return _.useCallback(L7(...t),t)}function Ka(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var i0=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},z3e=CI[" useId ".trim().toString()]||(()=>{}),F3e=0;function _5(t){const[e,r]=_.useState(z3e());return i0(()=>{r(n=>n??String(F3e++))},[t]),t||(e?`radix-${e}`:"")}var B3e=CI[" useInsertionEffect ".trim().toString()]||i0;function $3e({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,a]=q3e({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{const f=_.useRef(t!==void 0);_.useEffect(()=>{const p=f.current;p!==o&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=o},[o,n])}const u=_.useCallback(f=>{var p;if(o){const m=U3e(f)?f(t):f;m!==t&&((p=a.current)==null||p.call(a,m))}else s(f)},[o,t,s,a]);return[l,u]}function q3e({defaultProp:t,onChange:e}){const[r,n]=_.useState(t),i=_.useRef(r),s=_.useRef(e);return B3e(()=>{s.current=e},[e]),_.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function U3e(t){return typeof t=="function"}function V3e(t){const e=W3e(t),r=_.forwardRef((n,i)=>{const{children:s,...a}=n,o=_.Children.toArray(s),l=o.find(K3e);if(l){const u=l.props.children,f=o.map(p=>p===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:p);return d.jsx(e,{...a,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,f):null})}return d.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function W3e(t){const e=_.forwardRef((r,n)=>{const{children:i,...s}=r;if(_.isValidElement(i)){const a=X3e(i),o=G3e(s,i.props);return i.type!==_.Fragment&&(o.ref=n?L7(n,a):a),_.cloneElement(i,o)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var H3e=Symbol("radix.slottable");function K3e(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===H3e}function G3e(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function X3e(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Y3e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uo=Y3e.reduce((t,e)=>{const r=V3e(`Primitive.${e}`),n=_.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function J3e(t,e){t&&y6.flushSync(()=>t.dispatchEvent(e))}function s0(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Q3e(t,e=globalThis==null?void 0:globalThis.document){const r=s0(t);_.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Z3e="DismissableLayer",n6="dismissableLayer.update",eSe="dismissableLayer.pointerDownOutside",tSe="dismissableLayer.focusOutside",hI,NU=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),AU=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,u=_.useContext(NU),[f,p]=_.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=_.useState({}),y=co(e,T=>p(T)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(b),N=f?x.indexOf(f):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,k=N>=S,E=iSe(T=>{const M=T.target,I=[...u.branches].some(q=>q.contains(M));!k||I||(i==null||i(T),a==null||a(T),T.defaultPrevented||o==null||o())},m),j=sSe(T=>{const M=T.target;[...u.branches].some(q=>q.contains(M))||(s==null||s(T),a==null||a(T),T.defaultPrevented||o==null||o())},m);return Q3e(T=>{N===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},m),_.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(hI=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),fI(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=hI)}},[f,m,r,u]),_.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),fI())},[f,u]),_.useEffect(()=>{const T=()=>v({});return document.addEventListener(n6,T),()=>document.removeEventListener(n6,T)},[]),d.jsx(uo.div,{...l,ref:y,style:{pointerEvents:A?k?"auto":"none":void 0,...t.style},onFocusCapture:Ka(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Ka(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Ka(t.onPointerDownCapture,E.onPointerDownCapture)})});AU.displayName=Z3e;var rSe="DismissableLayerBranch",nSe=_.forwardRef((t,e)=>{const r=_.useContext(NU),n=_.useRef(null),i=co(e,n);return _.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),d.jsx(uo.div,{...t,ref:i})});nSe.displayName=rSe;function iSe(t,e=globalThis==null?void 0:globalThis.document){const r=s0(t),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){EU(eSe,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function sSe(t,e=globalThis==null?void 0:globalThis.document){const r=s0(t),n=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!n.current&&EU(tSe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function fI(){const t=new CustomEvent(n6);document.dispatchEvent(t)}function EU(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?J3e(i,s):i.dispatchEvent(s)}var N5="focusScope.autoFocusOnMount",A5="focusScope.autoFocusOnUnmount",pI={bubbles:!1,cancelable:!0},aSe="FocusScope",CU=_.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=_.useState(null),u=s0(i),f=s0(s),p=_.useRef(null),m=co(e,x=>l(x)),v=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let x=function(A){if(v.paused||!o)return;const k=A.target;o.contains(k)?p.current=k:Bo(p.current,{select:!0})},b=function(A){if(v.paused||!o)return;const k=A.relatedTarget;k!==null&&(o.contains(k)||Bo(p.current,{select:!0}))},S=function(A){if(document.activeElement===document.body)for(const E of A)E.removedNodes.length>0&&Bo(o)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const N=new MutationObserver(S);return o&&N.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),N.disconnect()}}},[n,o,v.paused]),_.useEffect(()=>{if(o){gI.add(v);const x=document.activeElement;if(!o.contains(x)){const S=new CustomEvent(N5,pI);o.addEventListener(N5,u),o.dispatchEvent(S),S.defaultPrevented||(oSe(hSe(kU(o)),{select:!0}),document.activeElement===x&&Bo(o))}return()=>{o.removeEventListener(N5,u),setTimeout(()=>{const S=new CustomEvent(A5,pI);o.addEventListener(A5,f),o.dispatchEvent(S),S.defaultPrevented||Bo(x??document.body,{select:!0}),o.removeEventListener(A5,f),gI.remove(v)},0)}}},[o,u,f,v]);const y=_.useCallback(x=>{if(!r&&!n||v.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(b&&S){const N=x.currentTarget,[A,k]=lSe(N);A&&k?!x.shiftKey&&S===k?(x.preventDefault(),r&&Bo(A,{select:!0})):x.shiftKey&&S===A&&(x.preventDefault(),r&&Bo(k,{select:!0})):S===N&&x.preventDefault()}},[r,n,v.paused]);return d.jsx(uo.div,{tabIndex:-1,...a,ref:m,onKeyDown:y})});CU.displayName=aSe;function oSe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Bo(n,{select:e}),document.activeElement!==r)return}function lSe(t){const e=kU(t),r=mI(e,t),n=mI(e.reverse(),t);return[r,n]}function kU(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function mI(t,e){for(const r of t)if(!cSe(r,{upTo:e}))return r}function cSe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function uSe(t){return t instanceof HTMLInputElement&&"select"in t}function Bo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&uSe(t)&&e&&t.select()}}var gI=dSe();function dSe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=vI(t,e),t.unshift(e)},remove(e){var r;t=vI(t,e),(r=t[0])==null||r.resume()}}}function vI(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function hSe(t){return t.filter(e=>e.tagName!=="A")}var fSe="Portal",jU=_.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,s]=_.useState(!1);i0(()=>s(!0),[]);const a=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?DD.createPortal(d.jsx(uo.div,{...n,ref:e}),a):null});jU.displayName=fSe;function pSe(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var _1=t=>{const{present:e,children:r}=t,n=mSe(e),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),s=co(n.ref,gSe(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:s}):null};_1.displayName="Presence";function mSe(t){const[e,r]=_.useState(),n=_.useRef(null),i=_.useRef(t),s=_.useRef("none"),a=t?"mounted":"unmounted",[o,l]=pSe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Sm(n.current);s.current=o==="mounted"?u:"none"},[o]),i0(()=>{const u=n.current,f=i.current;if(f!==t){const m=s.current,v=Sm(u);t?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&m!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),i0(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,p=v=>{const x=Sm(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&x&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=v=>{v.target===e&&(s.current=Sm(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:_.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Sm(t){return(t==null?void 0:t.animationName)||"none"}function gSe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var E5=0;function vSe(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??yI()),document.body.insertAdjacentElement("beforeend",t[1]??yI()),E5++,()=>{E5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),E5--}},[])}function yI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ea=function(){return ea=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ea.apply(this,arguments)};function PU(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function ySe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Vm="right-scroll-bar-position",Wm="width-before-scroll-bar",xSe="with-scroll-bars-hidden",bSe="--removed-body-scroll-bar-size";function C5(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function wSe(t,e){var r=_.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var SSe=typeof window<"u"?_.useLayoutEffect:_.useEffect,xI=new WeakMap;function _Se(t,e){var r=wSe(null,function(n){return t.forEach(function(i){return C5(i,n)})});return SSe(function(){var n=xI.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(o){s.has(o)||C5(o,null)}),s.forEach(function(o){i.has(o)||C5(o,a)})}xI.set(r,t)},[t]),r}function NSe(t){return t}function ASe(t,e){e===void 0&&(e=NSe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(s),a=r}var l=function(){var f=a;a=[],f.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),r}}}};return i}function ESe(t){t===void 0&&(t={});var e=ASe(null);return e.options=ea({async:!0,ssr:!1},t),e}var TU=function(t){var e=t.sideCar,r=PU(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,ea({},r))};TU.isSideCarExport=!0;function CSe(t,e){return t.useMedium(e),TU}var MU=ESe(),k5=function(){},N1=_.forwardRef(function(t,e){var r=_.useRef(null),n=_.useState({onScrollCapture:k5,onWheelCapture:k5,onTouchMoveCapture:k5}),i=n[0],s=n[1],a=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,f=t.enabled,p=t.shards,m=t.sideCar,v=t.noRelative,y=t.noIsolation,x=t.inert,b=t.allowPinchZoom,S=t.as,N=S===void 0?"div":S,A=t.gapMode,k=PU(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=m,j=_Se([r,e]),T=ea(ea({},k),i);return _.createElement(_.Fragment,null,f&&_.createElement(E,{sideCar:MU,removeScrollBar:u,shards:p,noRelative:v,noIsolation:y,inert:x,setCallbacks:s,allowPinchZoom:!!b,lockRef:r,gapMode:A}),a?_.cloneElement(_.Children.only(o),ea(ea({},T),{ref:j})):_.createElement(N,ea({},T,{className:l,ref:j}),o))});N1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};N1.classNames={fullWidth:Wm,zeroRight:Vm};var kSe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jSe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=kSe();return e&&t.setAttribute("nonce",e),t}function PSe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function TSe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var MSe=function(){var t=0,e=null;return{add:function(r){t==0&&(e=jSe())&&(PSe(e,r),TSe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},OSe=function(){var t=MSe();return function(e,r){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},OU=function(){var t=OSe(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},RSe={left:0,top:0,right:0,gap:0},j5=function(t){return parseInt(t||"",10)||0},ISe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[j5(r),j5(n),j5(i)]},DSe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return RSe;var e=ISe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},LSe=OU(),Ru="data-scroll-locked",zSe=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(xSe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Ru,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vm,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Wm,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Vm," .").concat(Vm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Wm," .").concat(Wm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ru,`] {
    `).concat(bSe,": ").concat(o,`px;
  }
`)},bI=function(){var t=parseInt(document.body.getAttribute(Ru)||"0",10);return isFinite(t)?t:0},FSe=function(){_.useEffect(function(){return document.body.setAttribute(Ru,(bI()+1).toString()),function(){var t=bI()-1;t<=0?document.body.removeAttribute(Ru):document.body.setAttribute(Ru,t.toString())}},[])},BSe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;FSe();var s=_.useMemo(function(){return DSe(i)},[i]);return _.createElement(LSe,{styles:zSe(s,!e,i,r?"":"!important")})},i6=!1;if(typeof window<"u")try{var _m=Object.defineProperty({},"passive",{get:function(){return i6=!0,!0}});window.addEventListener("test",_m,_m),window.removeEventListener("test",_m,_m)}catch{i6=!1}var uu=i6?{passive:!1}:!1,$Se=function(t){return t.tagName==="TEXTAREA"},RU=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!$Se(t)&&r[e]==="visible")},qSe=function(t){return RU(t,"overflowY")},USe=function(t){return RU(t,"overflowX")},wI=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=IU(t,n);if(i){var s=DU(t,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},VSe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},WSe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},IU=function(t,e){return t==="v"?qSe(e):USe(e)},DU=function(t,e){return t==="v"?VSe(e):WSe(e)},HSe=function(t,e){return t==="h"&&e==="rtl"?-1:1},KSe=function(t,e,r,n,i){var s=HSe(t,window.getComputedStyle(e).direction),a=s*n,o=r.target,l=e.contains(o),u=!1,f=a>0,p=0,m=0;do{if(!o)break;var v=DU(t,o),y=v[0],x=v[1],b=v[2],S=x-b-s*y;(y||S)&&IU(t,o)&&(p+=S,m+=y);var N=o.parentNode;o=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(f&&Math.abs(p)<1||!f&&Math.abs(m)<1)&&(u=!0),u},Nm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},SI=function(t){return[t.deltaX,t.deltaY]},_I=function(t){return t&&"current"in t?t.current:t},GSe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},XSe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},YSe=0,du=[];function JSe(t){var e=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),i=_.useState(YSe++)[0],s=_.useState(OU)[0],a=_.useRef(t);_.useEffect(function(){a.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=ySe([t.lockRef.current],(t.shards||[]).map(_I),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=_.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var S=Nm(x),N=r.current,A="deltaX"in x?x.deltaX:N[0]-S[0],k="deltaY"in x?x.deltaY:N[1]-S[1],E,j=x.target,T=Math.abs(A)>Math.abs(k)?"h":"v";if("touches"in x&&T==="h"&&j.type==="range")return!1;var M=window.getSelection(),I=M&&M.anchorNode,q=I?I===j||I.contains(j):!1;if(q)return!1;var D=wI(T,j);if(!D)return!0;if(D?E=T:(E=T==="v"?"h":"v",D=wI(T,j)),!D)return!1;if(!n.current&&"changedTouches"in x&&(A||k)&&(n.current=E),!E)return!0;var L=n.current||E;return KSe(L,b,x,L==="h"?A:k)},[]),l=_.useCallback(function(x){var b=x;if(!(!du.length||du[du.length-1]!==s)){var S="deltaY"in b?SI(b):Nm(b),N=e.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&GSe(E.delta,S)})[0];if(N&&N.should){b.cancelable&&b.preventDefault();return}if(!N){var A=(a.current.shards||[]).map(_I).filter(Boolean).filter(function(E){return E.contains(b.target)}),k=A.length>0?o(b,A[0]):!a.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),u=_.useCallback(function(x,b,S,N){var A={name:x,delta:b,target:S,should:N,shadowParent:QSe(S)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(k){return k!==A})},1)},[]),f=_.useCallback(function(x){r.current=Nm(x),n.current=void 0},[]),p=_.useCallback(function(x){u(x.type,SI(x),x.target,o(x,t.lockRef.current))},[]),m=_.useCallback(function(x){u(x.type,Nm(x),x.target,o(x,t.lockRef.current))},[]);_.useEffect(function(){return du.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,uu),document.addEventListener("touchmove",l,uu),document.addEventListener("touchstart",f,uu),function(){du=du.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,uu),document.removeEventListener("touchmove",l,uu),document.removeEventListener("touchstart",f,uu)}},[]);var v=t.removeScrollBar,y=t.inert;return _.createElement(_.Fragment,null,y?_.createElement(s,{styles:XSe(i)}):null,v?_.createElement(BSe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function QSe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ZSe=CSe(MU,JSe);var LU=_.forwardRef(function(t,e){return _.createElement(N1,ea({},t,{ref:e,sideCar:ZSe}))});LU.classNames=N1.classNames;var e6e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hu=new WeakMap,Am=new WeakMap,Em={},P5=0,zU=function(t){return t&&(t.host||zU(t.parentNode))},t6e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=zU(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},r6e=function(t,e,r,n){var i=t6e(e,Array.isArray(t)?t:[t]);Em[r]||(Em[r]=new WeakMap);var s=Em[r],a=[],o=new Set,l=new Set(i),u=function(p){!p||o.has(p)||(o.add(p),u(p.parentNode))};i.forEach(u);var f=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(m){if(o.has(m))f(m);else try{var v=m.getAttribute(n),y=v!==null&&v!=="false",x=(hu.get(m)||0)+1,b=(s.get(m)||0)+1;hu.set(m,x),s.set(m,b),a.push(m),x===1&&y&&Am.set(m,!0),b===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",m,S)}})};return f(e),o.clear(),P5++,function(){a.forEach(function(p){var m=hu.get(p)-1,v=s.get(p)-1;hu.set(p,m),s.set(p,v),m||(Am.has(p)||p.removeAttribute(n),Am.delete(p)),v||p.removeAttribute(r)}),P5--,P5||(hu=new WeakMap,hu=new WeakMap,Am=new WeakMap,Em={})}},n6e=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=e6e(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),r6e(n,i,r,"aria-hidden")):function(){return null}};function i6e(t){const e=s6e(t),r=_.forwardRef((n,i)=>{const{children:s,...a}=n,o=_.Children.toArray(s),l=o.find(o6e);if(l){const u=l.props.children,f=o.map(p=>p===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:p);return d.jsx(e,{...a,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,f):null})}return d.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function s6e(t){const e=_.forwardRef((r,n)=>{const{children:i,...s}=r;if(_.isValidElement(i)){const a=c6e(i),o=l6e(s,i.props);return i.type!==_.Fragment&&(o.ref=n?L7(n,a):a),_.cloneElement(i,o)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var a6e=Symbol("radix.slottable");function o6e(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===a6e}function l6e(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function c6e(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var A1="Dialog",[FU,BU]=_U(A1),[u6e,zs]=FU(A1),$U=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=_.useRef(null),l=_.useRef(null),[u,f]=$3e({prop:n,defaultProp:i??!1,onChange:s,caller:A1});return d.jsx(u6e,{scope:e,triggerRef:o,contentRef:l,contentId:_5(),titleId:_5(),descriptionId:_5(),open:u,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(p=>!p),[f]),modal:a,children:r})};$U.displayName=A1;var qU="DialogTrigger",UU=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=zs(qU,r),s=co(e,i.triggerRef);return d.jsx(uo.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":B7(i.open),...n,ref:s,onClick:Ka(t.onClick,i.onOpenToggle)})});UU.displayName=qU;var z7="DialogPortal",[d6e,VU]=FU(z7,{forceMount:void 0}),WU=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=zs(z7,e);return d.jsx(d6e,{scope:e,forceMount:r,children:_.Children.map(n,a=>d.jsx(_1,{present:r||s.open,children:d.jsx(jU,{asChild:!0,container:i,children:a})}))})};WU.displayName=z7;var uv="DialogOverlay",HU=_.forwardRef((t,e)=>{const r=VU(uv,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=zs(uv,t.__scopeDialog);return s.modal?d.jsx(_1,{present:n||s.open,children:d.jsx(f6e,{...i,ref:e})}):null});HU.displayName=uv;var h6e=i6e("DialogOverlay.RemoveScroll"),f6e=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=zs(uv,r);return d.jsx(LU,{as:h6e,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(uo.div,{"data-state":B7(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),yc="DialogContent",KU=_.forwardRef((t,e)=>{const r=VU(yc,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=zs(yc,t.__scopeDialog);return d.jsx(_1,{present:n||s.open,children:s.modal?d.jsx(p6e,{...i,ref:e}):d.jsx(m6e,{...i,ref:e})})});KU.displayName=yc;var p6e=_.forwardRef((t,e)=>{const r=zs(yc,t.__scopeDialog),n=_.useRef(null),i=co(e,r.contentRef,n);return _.useEffect(()=>{const s=n.current;if(s)return n6e(s)},[]),d.jsx(GU,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ka(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ka(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Ka(t.onFocusOutside,s=>s.preventDefault())})}),m6e=_.forwardRef((t,e)=>{const r=zs(yc,t.__scopeDialog),n=_.useRef(!1),i=_.useRef(!1);return d.jsx(GU,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),GU=_.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=zs(yc,r),l=_.useRef(null),u=co(e,l);return vSe(),d.jsxs(d.Fragment,{children:[d.jsx(CU,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:d.jsx(AU,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":B7(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(v6e,{titleId:o.titleId}),d.jsx(x6e,{contentRef:l,descriptionId:o.descriptionId})]})]})}),F7="DialogTitle",XU=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=zs(F7,r);return d.jsx(uo.h2,{id:i.titleId,...n,ref:e})});XU.displayName=F7;var YU="DialogDescription",JU=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=zs(YU,r);return d.jsx(uo.p,{id:i.descriptionId,...n,ref:e})});JU.displayName=YU;var QU="DialogClose",ZU=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=zs(QU,r);return d.jsx(uo.button,{type:"button",...n,ref:e,onClick:Ka(t.onClick,()=>i.onOpenChange(!1))})});ZU.displayName=QU;function B7(t){return t?"open":"closed"}var eV="DialogTitleWarning",[g6e,tV]=D3e(eV,{contentName:yc,titleName:F7,docsSlug:"dialog"}),v6e=({titleId:t})=>{const e=tV(eV),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},y6e="DialogDescriptionWarning",x6e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tV(y6e).contentName}}.`;return _.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},b6e=$U,w6e=UU,S6e=WU,_6e=HU,N6e=KU,A6e=XU,E6e=JU,rV=ZU,C6e=Symbol("radix.slottable");function k6e(t){const e=({children:r})=>d.jsx(d.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=C6e,e}var nV="AlertDialog",[j6e]=_U(nV,[BU]),ho=BU(),iV=t=>{const{__scopeAlertDialog:e,...r}=t,n=ho(e);return d.jsx(b6e,{...n,...r,modal:!0})};iV.displayName=nV;var P6e="AlertDialogTrigger",T6e=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ho(r);return d.jsx(w6e,{...i,...n,ref:e})});T6e.displayName=P6e;var M6e="AlertDialogPortal",sV=t=>{const{__scopeAlertDialog:e,...r}=t,n=ho(e);return d.jsx(S6e,{...n,...r})};sV.displayName=M6e;var O6e="AlertDialogOverlay",aV=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ho(r);return d.jsx(_6e,{...i,...n,ref:e})});aV.displayName=O6e;var Iu="AlertDialogContent",[R6e,I6e]=j6e(Iu),D6e=k6e("AlertDialogContent"),oV=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=ho(r),a=_.useRef(null),o=co(e,a),l=_.useRef(null);return d.jsx(g6e,{contentName:Iu,titleName:lV,docsSlug:"alert-dialog",children:d.jsx(R6e,{scope:r,cancelRef:l,children:d.jsxs(N6e,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:Ka(i.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=l.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[d.jsx(D6e,{children:n}),d.jsx(z6e,{contentRef:a})]})})})});oV.displayName=Iu;var lV="AlertDialogTitle",cV=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ho(r);return d.jsx(A6e,{...i,...n,ref:e})});cV.displayName=lV;var uV="AlertDialogDescription",dV=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ho(r);return d.jsx(E6e,{...i,...n,ref:e})});dV.displayName=uV;var L6e="AlertDialogAction",hV=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ho(r);return d.jsx(rV,{...i,...n,ref:e})});hV.displayName=L6e;var fV="AlertDialogCancel",pV=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=I6e(fV,r),s=ho(r),a=co(e,i);return d.jsx(rV,{...s,...n,ref:a})});pV.displayName=fV;var z6e=({contentRef:t})=>{const e=`\`${Iu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Iu}\` by passing a \`${uV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Iu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},F6e=iV,B6e=sV,mV=aV,gV=oV,vV=hV,yV=pV,xV=cV,bV=dV;const $6e=F6e,q6e=B6e,wV=_.forwardRef(({className:t,...e},r)=>d.jsx(mV,{className:dl("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));wV.displayName=mV.displayName;const SV=_.forwardRef(({className:t,...e},r)=>d.jsxs(q6e,{children:[d.jsx(wV,{}),d.jsx(gV,{ref:r,className:dl("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-[var(--panel-border)] bg-[var(--panel-bg)] p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-2xl",t),...e})]}));SV.displayName=gV.displayName;const _V=({className:t,...e})=>d.jsx("div",{className:dl("flex flex-col-reverse sm:flex-row sm:justify-center sm:space-x-2 gap-3",t),...e});_V.displayName="AlertDialogFooter";const NV=_.forwardRef(({className:t,...e},r)=>d.jsx(xV,{ref:r,className:dl("text-lg font-semibold text-[var(--text-primary)]",t),...e}));NV.displayName=xV.displayName;const AV=_.forwardRef(({className:t,...e},r)=>d.jsx(bV,{ref:r,className:dl("text-sm text-[var(--text-secondary)]",t),...e}));AV.displayName=bV.displayName;const EV=_.forwardRef(({className:t,...e},r)=>d.jsx(vV,{ref:r,className:dl("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-semibold transition-all focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[var(--binance-yellow)] disabled:pointer-events-none disabled:opacity-50 bg-[var(--binance-yellow)] text-black hover:brightness-95 h-10 px-8 min-w-[140px] shadow-[0_10px_30px_rgba(240,185,11,0.35)]",t),...e}));EV.displayName=vV.displayName;const CV=_.forwardRef(({className:t,...e},r)=>d.jsx(yV,{ref:r,className:dl("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-semibold transition-all focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[var(--panel-border)] disabled:pointer-events-none disabled:opacity-50 border border-[var(--panel-border)] bg-transparent text-[var(--text-secondary)] hover:bg-white/5 h-10 px-8 min-w-[140px]",t),...e}));CV.displayName=yV.displayName;const U6e=_.createContext(void 0);function V6e({children:t}){const[e,r]=_.useState({isOpen:!1,message:"",okText:"",cancelText:""}),n=_.useCallback(s=>new Promise(a=>{r({isOpen:!0,title:s.title,message:s.message,okText:s.okText||"",cancelText:s.cancelText||"",resolve:a})}),[]);_.useEffect(()=>{},[n]);const i=_.useCallback(s=>{r(a=>{var o;return(o=a.resolve)==null||o.call(a,s),{...a,isOpen:!1}})},[]);return d.jsxs(U6e.Provider,{value:{confirm:n},children:[t,d.jsx($6e,{open:e.isOpen,onOpenChange:s=>!s&&i(!1),children:d.jsxs(SV,{children:[d.jsxs("div",{className:"flex flex-col gap-5 text-center",children:[e.title&&d.jsx(NV,{className:"text-xl",children:e.title}),d.jsx(AV,{className:"text-[var(--text-primary)] text-base font-medium",children:e.message})]}),d.jsxs(_V,{children:[d.jsx(CV,{onClick:()=>i(!1),children:e.cancelText}),d.jsx(EV,{onClick:()=>i(!0),children:e.okText})]})]})})]})}const Cm={status:"connecting",last_open_ts_ms:null,last_error_ts_ms:null,last_event_ts_ms:null};function W6e(){if(typeof window>"u")return"";const t=String(window.location.pathname||"");return t==="/onlytrade"||t.startsWith("/onlytrade/")?"/onlytrade":""}function $7(t){return!!t&&typeof t=="object"}function NI(t){if(!$7(t)||typeof t.id!="string"||typeof t.room_id!="string"||typeof t.user_session_id!="string"||t.sender_type!=="user"&&t.sender_type!=="agent"||typeof t.sender_name!="string"||t.visibility!=="public"&&t.visibility!=="private"||t.message_type!=="public_plain"&&t.message_type!=="public_mention_agent"&&t.message_type!=="private_agent_dm")return null;const e=Number(t.created_ts_ms);return Number.isFinite(e)?{id:t.id,room_id:t.room_id,user_session_id:t.user_session_id,sender_type:t.sender_type,sender_name:t.sender_name,visibility:t.visibility,message_type:t.message_type,agent_message_kind:t.agent_message_kind==="reply"||t.agent_message_kind==="proactive"||t.agent_message_kind==="narration"?t.agent_message_kind:void 0,text:String(t.text||""),created_ts_ms:e}:null}function H6e(t){return $7(t)?typeof t.schema_version=="string"&&typeof t.room_id=="string"&&Number.isFinite(Number(t.ts_ms)):!1}function K6e({roomId:t,decisionsLimit:e=5,enabled:r=!0,onStreamPacket:n,onDecision:i,onChatPublicAppend:s}){const[a,o]=_.useState(Cm);return _.useEffect(()=>{const l=String(t||"").trim();if(!r||!l){o(Cm);return}const u=Math.max(1,Math.min(Number(e)||5,20)),p=`${W6e()}/api/rooms/${encodeURIComponent(l)}/events?decision_limit=${encodeURIComponent(String(u))}`;o(Cm);const m=new EventSource(p),v=()=>{const S=Date.now();o(N=>({...N,last_event_ts_ms:S}))};m.onopen=()=>{const S=Date.now();o(N=>({...N,status:"connected",last_open_ts_ms:S}))},m.onerror=()=>{const S=Date.now();o(N=>{const A=m.readyState===2?"error":N.status==="connecting"?"connecting":"reconnecting";return{...N,status:A,last_error_ts_ms:S}})};const y=S=>{try{const N=JSON.parse(String(S.data||"null"));if(!H6e(N))return;v(),n==null||n(N)}catch{}},x=()=>{v(),i==null||i()},b=S=>{try{const N=JSON.parse(String(S.data||"null"));if(!$7(N))return;v();const A=[],k=NI(N.message);k&&A.push(k);const E=NI(N.agent_reply);E&&A.push(E),A.length>0&&(s==null||s(A))}catch{}};return m.addEventListener("stream_packet",y),m.addEventListener("decision",x),m.addEventListener("chat_public_append",b),()=>{m.removeEventListener("stream_packet",y),m.removeEventListener("decision",x),m.removeEventListener("chat_public_append",b),m.close(),o(Cm)}},[r,t,e,n,i,s]),a}const sf=window.location.pathname==="/onlytrade"||window.location.pathname.startsWith("/onlytrade/")?"/onlytrade":"";function T5(t){const e=String(t||"");if(!sf||!e.startsWith(sf))return e||"/";const r=e.slice(sf.length);return r?r.startsWith("/")?r:`/${r}`:"/"}function AI(t){const e=t.startsWith("/")?t:`/${t}`;return sf?`${sf}${e}`:e}function G6e(){const{language:t,setLanguage:e}=bi(),{user:r,logout:n,isLoading:i}=x1(),{loading:s}=P7(),{mutate:a}=dD(),l=!("false".toLowerCase()==="true")||!!r,[u,f]=_.useState(T5(window.location.pathname)),p=()=>{const H=T5(window.location.pathname);return H==="/"||H===""||H==="/lobby"?"lobby":H==="/leaderboard"||H==="/competition"?"leaderboard":H==="/room"||H==="/dashboard"?"room":H==="/stream"||H==="/streaming-room"?"stream":H==="/stream-only"||H==="/stream-standalone"?"streamOnly":H==="/stream/command-deck-new"?"commandDeckNew":H==="/design/expert-1"||H==="/stream/command-deck"?"expert1":H==="/design/expert-2"||H==="/stream/mobile-broadcast"?"expert2":H==="/design/expert-3"||H==="/stream/studio-timeline"?"expert3":H==="/design/story-broadcast"||H==="/stream/story-broadcast"?"story":H==="/design/multi-broadcast"||H==="/stream/multi-broadcast"?"multiBroadcast":"lobby"},[m,v]=_.useState(!1),[y,x]=_.useState(""),b=H=>{x(H),v(!0)},S=H=>{const me={lobby:"/lobby",room:"/room",stream:"/stream",streamOnly:"/stream-only",leaderboard:"/leaderboard",login:"/login",register:"/register",commandDeckNew:"/stream/command-deck-new",expert1:"/stream/command-deck",expert2:"/stream/mobile-broadcast",expert3:"/stream/studio-timeline",story:"/stream/story-broadcast",multiBroadcast:"/stream/multi-broadcast"}[H];me&&(window.history.pushState({},"",AI(me)),f(me),A(H))},[N,A]=_.useState(p()),[k,E]=_.useState(()=>new URLSearchParams(window.location.search).get("trader")||void 0),[j,T]=_.useState(),M=H=>{const se=H.trader_id.slice(0,4);return`${H.trader_name}-${se}`},I=(H,se)=>{const me=se.find(Xe=>Xe.trader_id===H);if(me)return me;const re=H.lastIndexOf("-");if(re===-1)return se.find(Xe=>Xe.trader_name===H);const je=H.slice(0,re),Ve=H.slice(re+1);return se.find(Xe=>Xe.trader_name===je&&Xe.trader_id.startsWith(Ve))},[q,D]=_.useState("--:--:--"),[L,V]=_.useState(5),K=!_v(),[Y,J]=_.useState(!1);_.useEffect(()=>{const H=()=>{const se=T5(window.location.pathname),re=new URLSearchParams(window.location.search).get("trader");se==="/lobby"||se==="/"?A("lobby"):se==="/leaderboard"||se==="/competition"?A("leaderboard"):se==="/room"||se==="/dashboard"?(A("room"),re&&E(re)):se==="/stream"||se==="/streaming-room"?(A("stream"),re&&E(re)):se==="/stream-only"||se==="/stream-standalone"?(A("streamOnly"),re&&E(re)):se==="/stream/command-deck-new"?(A("commandDeckNew"),re&&E(re)):se==="/design/expert-1"||se==="/stream/command-deck"?(A("expert1"),re&&E(re)):se==="/design/expert-2"||se==="/stream/mobile-broadcast"?(A("expert2"),re&&E(re)):se==="/design/expert-3"||se==="/stream/studio-timeline"?(A("expert3"),re&&E(re)):se==="/design/story-broadcast"||se==="/stream/story-broadcast"?(A("story"),re&&E(re)):(se==="/design/multi-broadcast"||se==="/stream/multi-broadcast")&&(A("multiBroadcast"),re&&E(re)),f(se)};return window.addEventListener("popstate",H),()=>{window.removeEventListener("popstate",H)}},[]);const{data:te,error:U}=qr("public-traders",It.getPublicTraders,{refreshInterval:3e4,shouldRetryOnError:!1});_.useEffect(()=>{if(!te||te.length===0)return;if(k){const se=I(k,te);if(se){j!==se.trader_id&&T(se.trader_id);return}}!!j&&te.some(se=>se.trader_id===j)||T(te[0].trader_id)},[te,j,k]);const{data:X,mutate:ie}=qr((N==="room"||N==="stream"||N==="streamOnly"||N==="commandDeckNew"||N==="expert1"||N==="expert2"||N==="expert3"||N==="story"||N==="multiBroadcast")&&j?`room-stream-packet-${j}-${L}`:null,()=>It.getRoomStreamPacket(j,L),{refreshInterval:3e4,revalidateOnFocus:!1,dedupingInterval:1500}),G=(N==="room"||N==="stream"||N==="streamOnly"||N==="commandDeckNew"||N==="expert1"||N==="expert2"||N==="expert3"||N==="story"||N==="multiBroadcast")&&!!j,F=_.useRef(0),Q=_.useCallback(H=>{F.current=Date.now();const se=Math.max(1,Math.min(Number(L)||5,20)),me={...H,decisions_latest:Array.isArray(H==null?void 0:H.decisions_latest)?H.decisions_latest.slice(0,se):[]};ie(me,!1)},[L,ie]),le=_.useCallback(()=>{Date.now()-Number(F.current||0)<5e3||ie()},[ie]),xe=_.useCallback(H=>{const se=String(j||"").trim();!se||!H.length||a(["room-public-chat",se],me=>{const re=Array.isArray(me)?me:void 0;return zD(re,H)},!1)},[j,a]),be=K6e({roomId:j,decisionsLimit:L,enabled:G,onStreamPacket:Q,onDecision:le,onChatPublicAppend:xe}),ae=X==null?void 0:X.status,we=X==null?void 0:X.account,fe=X==null?void 0:X.positions,Se=X==null?void 0:X.decisions_latest,{data:Pe,mutate:he}=qr(K&&l?"agent-runtime-status":null,It.getAgentRuntimeStatus,{refreshInterval:5e3,revalidateOnFocus:!1,dedupingInterval:2e3}),{data:Be,mutate:Te}=qr(K&&l||N==="room"||N==="stream"||N==="streamOnly"||N==="commandDeckNew"||N==="expert1"||N==="expert2"||N==="expert3"||N==="story"||N==="multiBroadcast"?"replay-runtime-status":null,It.getReplayRuntimeStatus,{refreshInterval:5e3,revalidateOnFocus:!1,dedupingInterval:2e3}),We=_.useCallback(async(H,se)=>{if(!K)return;const me=[];if(H==="step")me.push(It.controlReplayRuntime("step"));else if(me.push(It.controlAgentRuntime(H,se)),H==="pause"||H==="resume"){const re=H==="pause"?"pause":"resume";me.push(It.controlReplayRuntime(re))}await Promise.all(me),await Promise.all([he(),Te(),ie()])},[K,he,Te,ie]),Me=_.useCallback(async(H=!1)=>{K&&(await It.factoryResetRuntime({useWarmup:H}),await Promise.all([he(),Te(),ie()]))},[K,he,Te,ie]),ve=_.useCallback(async(H,se)=>{K&&(await It.setAgentKillSwitch(H,se),await Promise.all([he(),Te(),ie()]))},[K,he,Te,ie]);_.useEffect(()=>{if(we){const H=new Date().toLocaleTimeString();D(H)}},[we]);const Ae=te==null?void 0:te.find(H=>H.trader_id===j);return _.useEffect(()=>{u==="/leaderboard"||u==="/competition"?A("leaderboard"):u==="/lobby"||u==="/"||u===""?A("lobby"):u==="/room"||u==="/dashboard"?A("room"):u==="/stream"||u==="/streaming-room"?A("stream"):u==="/stream-only"||u==="/stream-standalone"?A("streamOnly"):u==="/stream/command-deck-new"?A("commandDeckNew"):u==="/design/expert-1"||u==="/stream/command-deck"?A("expert1"):u==="/design/expert-2"||u==="/stream/mobile-broadcast"?A("expert2"):u==="/design/expert-3"||u==="/stream/studio-timeline"?A("expert3"):u==="/design/story-broadcast"||u==="/stream/story-broadcast"?A("story"):(u==="/design/multi-broadcast"||u==="/stream/multi-broadcast")&&A("multiBroadcast")},[u]),i||s?d.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"#0B0E11"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("img",{src:"/icons/onlytrade.svg",alt:"OpenTrade Logo",className:"w-16 h-16 mx-auto mb-4 animate-pulse"}),d.jsx("p",{style:{color:"#EAECEF"},children:de("loading",t)})]})}):u==="/login"?d.jsx(r4e,{}):u==="/register"?d.jsx(g4e,{}):u==="/reset-password"?d.jsx(o5e,{}):N==="expert1"?Ae?d.jsx(aQ,{selectedTrader:Ae,streamPacket:X,roomSseState:be,replayRuntimeStatus:Be,language:t}):d.jsx("div",{className:"min-h-screen px-6 py-10 text-sm text-zinc-300",style:{background:"#0B0E11"},children:t==="zh"?" URL  ?trader=...":"No trader selected. Add ?trader=... in URL."}):N==="commandDeckNew"?Ae?d.jsx(vQ,{selectedTrader:Ae,streamPacket:X,roomSseState:be,replayRuntimeStatus:Be,language:t}):d.jsx("div",{className:"min-h-screen px-6 py-10 text-sm text-zinc-300",style:{background:"#0B0E11"},children:t==="zh"?" URL  ?trader=...":"No trader selected. Add ?trader=... in URL."}):N==="expert2"?Ae?d.jsx(Qre,{selectedTrader:Ae,streamPacket:X,roomSseState:be,replayRuntimeStatus:Be,language:t}):d.jsx("div",{className:"min-h-screen px-6 py-10 text-sm text-zinc-300",style:{background:"#0B0E11"},children:t==="zh"?" URL  ?trader=...":"No trader selected. Add ?trader=... in URL."}):N==="expert3"?Ae?d.jsx(Zre,{selectedTrader:Ae,streamPacket:X,roomSseState:be,replayRuntimeStatus:Be,language:t}):d.jsx("div",{className:"min-h-screen px-6 py-10 text-sm text-zinc-300",style:{background:"#0B0E11"},children:t==="zh"?" URL  ?trader=...":"No trader selected. Add ?trader=... in URL."}):N==="story"?Ae?d.jsx(one,{selectedTrader:Ae,streamPacket:X,roomSseState:be,replayRuntimeStatus:Be,language:t}):d.jsx("div",{className:"min-h-screen px-6 py-10 text-sm text-zinc-300",style:{background:"#0B0E11"},children:t==="zh"?" URL  ?trader=...":"No trader selected. Add ?trader=... in URL."}):N==="multiBroadcast"?Ae?d.jsx(vne,{selectedTrader:Ae,streamPacket:X,roomSseState:be,replayRuntimeStatus:Be,language:t}):d.jsx("div",{className:"min-h-screen px-6 py-10 text-sm text-zinc-300",style:{background:"#0B0E11"},children:t==="zh"?" URL  ?trader=...":"No trader selected. Add ?trader=... in URL."}):N==="streamOnly"?Ae?d.jsx(KR,{selectedTrader:Ae,streamPacket:X,roomSseState:be,replayRuntimeStatus:Be,language:t,immersive:!0}):d.jsx("div",{className:"min-h-screen px-6 py-10 text-sm text-zinc-300",style:{background:"#0B0E11"},"data-testid":"stream-only-empty-state",children:t==="zh"?" URL  ?trader=...":"No trader selected. Add ?trader=... in URL."}):d.jsxs("div",{className:"min-h-screen",style:{background:"#0B0E11",color:"#EAECEF"},children:[d.jsx(I3e,{isLoggedIn:!!r,currentPage:N,language:t,onLanguageChange:e,user:r,onLogout:n,onLoginRequired:b,onPageChange:S}),d.jsx("main",{className:"min-h-screen pt-16",children:d.jsx(da,{mode:"wait",children:d.jsx(Pr.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.15,ease:"easeOut"},"data-testid":`app-page-${N}`,children:N==="lobby"?d.jsx(XR,{}):N==="leaderboard"?d.jsx(c5e,{}):N==="room"?Ae?d.jsx(D2e,{selectedTrader:Ae,status:ae,account:we,positions:fe,decisions:Se,streamPacket:X,roomSseState:be,replayRuntimeStatus:Be,decisionsLimit:L,onDecisionsLimitChange:V,lastUpdate:q,language:t,traders:te,tradersError:U,selectedTraderId:j,onTraderSelect:H=>{T(H);const se=te==null?void 0:te.find(me=>me.trader_id===H);if(se){const me=M(se);E(me);const re=new URL(window.location.href);re.searchParams.set("trader",me),window.history.replaceState({},"",re.toString())}},onNavigateToLobby:()=>{window.history.pushState({},"",AI("/lobby")),f("/lobby"),A("lobby")}}):d.jsx("div",{className:"px-6 py-10 text-sm text-zinc-300","data-testid":"room-empty-state",children:t==="zh"?"":"No trader selected. Enter a room from the lobby."}):N==="stream"?Ae?d.jsx(KR,{selectedTrader:Ae,streamPacket:X,roomSseState:be,replayRuntimeStatus:Be,language:t}):d.jsx("div",{className:"px-6 py-10 text-sm text-zinc-300","data-testid":"stream-empty-state",children:t==="zh"?" URL  ?trader=... ":"No trader selected. Add ?trader=... in URL or open from lobby first."}):d.jsx(XR,{})},N)})}),K&&l&&d.jsx("button",{onClick:()=>J(!0),className:"fixed right-4 bottom-6 z-[110] px-4 py-2 rounded-lg border border-white/20 bg-black/70 text-sm font-semibold text-nofx-text-main hover:bg-black/85 transition-colors",children:t==="zh"?"":"System Console"}),K&&l&&d.jsx(d5e,{open:Y,onClose:()=>J(!1),language:t,runtimeStatus:Pe,replayRuntimeStatus:Be,onRuntimeControl:We,onFactoryReset:Me,onKillSwitch:ve}),d.jsx("footer",{className:"mt-16",style:{borderTop:"1px solid #2B3139",background:"#181A20"},children:d.jsxs("div",{className:"max-w-[1920px] mx-auto px-6 py-6 text-center text-sm",style:{color:"#5E6673"},children:[d.jsx("p",{children:de("footerTitle",t)}),d.jsx("p",{className:"mt-1",children:de("footerWarning",t)}),d.jsx("div",{className:"mt-4 flex items-center justify-center gap-3 flex-wrap",children:d.jsxs("a",{href:r0.github,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded text-sm font-semibold transition-all hover:scale-105",style:{background:"#1E2329",color:"#848E9C",border:"1px solid #2B3139"},onMouseEnter:H=>{H.currentTarget.style.background="#2B3139",H.currentTarget.style.color="#EAECEF",H.currentTarget.style.borderColor="#F0B90B"},onMouseLeave:H=>{H.currentTarget.style.background="#1E2329",H.currentTarget.style.color="#848E9C",H.currentTarget.style.borderColor="#2B3139"},children:[d.jsx("svg",{width:"18",height:"18",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})}),"Source"]})})]})}),d.jsx(u5e,{isOpen:m,onClose:()=>v(!1),featureName:y})]})}function X6e(){return d.jsx(Bye,{children:d.jsx(t4e,{children:d.jsx(V6e,{children:d.jsx(G6e,{})})})})}hH.createRoot(document.getElementById("root")).render(d.jsx(W.StrictMode,{children:d.jsxs(A3e,{children:[d.jsx(AJ,{theme:"dark",richColors:!0,closeButton:!0,position:"top-center",duration:2200,toastOptions:{className:"nofx-toast",style:{background:"#0b0e11",border:"1px solid var(--panel-border)",color:"var(--text-primary)"}}}),d.jsx(X6e,{})]})}));
